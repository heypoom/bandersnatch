v7AA.J9W=function (){return typeof v7AA.m9W.r9c==='function'?v7AA.m9W.r9c.apply(v7AA.m9W,arguments):v7AA.m9W.r9c;};v7AA.f3g=function (){return typeof v7AA.l3g.T9c==='function'?v7AA.l3g.T9c.apply(v7AA.l3g,arguments):v7AA.l3g.T9c;};v7AA.a9c=function (){return typeof v7AA.v9c.r9c==='function'?v7AA.v9c.r9c.apply(v7AA.v9c,arguments):v7AA.v9c.r9c;};v7AA.K52=function (){return typeof v7AA.G52.T9c==='function'?v7AA.G52.T9c.apply(v7AA.G52,arguments):v7AA.G52.T9c;};function v7AA(){}v7AA.E3u=function(b3u){return{r9c:function(){var S3u,j3u=arguments;switch(b3u){case 2:S3u=j3u[0]>=j3u[1];break;case 1:S3u=j3u[1]+j3u[0];break;case 3:S3u=j3u[1]<j3u[0];break;case 0:S3u=j3u[2]-j3u[1]+j3u[0];break;}return S3u;},T9c:function(t3u){b3u=t3u;}};}();v7AA.c2S=function(t2S){return{r9c:function(){var A2S,d2S=arguments;switch(t2S){case 0:A2S=d2S[1]-d2S[2]+d2S[0];break;}return A2S;},T9c:function(i2S){t2S=i2S;}};}();v7AA.G47=function (){return typeof v7AA.b47.r9c==='function'?v7AA.b47.r9c.apply(v7AA.b47,arguments):v7AA.b47.r9c;};v7AA.s91=function (){return typeof v7AA.O91.r9c==='function'?v7AA.O91.r9c.apply(v7AA.O91,arguments):v7AA.O91.r9c;};v7AA.b47=function(U47){return{r9c:function(){var y47,x47=arguments;switch(U47){case 3:y47=x47[1]/x47[0];break;case 2:y47=x47[0]*x47[2]/x47[1];break;case 8:y47=(x47[4]+x47[3])/x47[1]-x47[2]+x47[0];break;case 0:y47=x47[0]-x47[1];break;case 6:y47=x47[0]+x47[1];break;case 1:y47=x47[2]*x47[1]-x47[0];break;case 7:y47=x47[0]/x47[3]-x47[2]+x47[1]+x47[4];break;case 10:y47=(x47[1]-x47[0])*-x47[2]/x47[3];break;case 5:y47=void x47[1]!==x47[0];break;case 9:y47=-x47[0];break;case 4:y47=+x47[1]==x47[0];break;}return y47;},T9c:function(u47){U47=u47;}};}();v7AA.n22=function (){return typeof v7AA.A22.r9c==='function'?v7AA.A22.r9c.apply(v7AA.A22,arguments):v7AA.A22.r9c;};v7AA.l3g=function(s3g){return{r9c:function(){var C3g,t3g=arguments;switch(s3g){case 0:C3g=t3g[1]-t3g[0]+t3g[2];break;case 1:C3g=t3g[4]-t3g[2]+-t3g[3]+-t3g[1]+-t3g[0];break;case 2:C3g=(t3g[2]+t3g[1])/t3g[0];break;}return C3g;},T9c:function(d3g){s3g=d3g;}};}();v7AA.h52=function (){return typeof v7AA.G52.T9c==='function'?v7AA.G52.T9c.apply(v7AA.G52,arguments):v7AA.G52.T9c;};v7AA.g4Q=function(W3Q){return{r9c:function(){var m3Q,A3Q=arguments;switch(W3Q){case 0:m3Q=A3Q[1]*A3Q[0];break;}return m3Q;},T9c:function(L4Q){W3Q=L4Q;}};}();v7AA.t9W=function (){return typeof v7AA.m9W.T9c==='function'?v7AA.m9W.T9c.apply(v7AA.m9W,arguments):v7AA.m9W.T9c;};v7AA.v5M=function (){return typeof v7AA.w5M.T9c==='function'?v7AA.w5M.T9c.apply(v7AA.w5M,arguments):v7AA.w5M.T9c;};v7AA.x3u=function (){return typeof v7AA.E3u.r9c==='function'?v7AA.E3u.r9c.apply(v7AA.E3u,arguments):v7AA.E3u.r9c;};v7AA.z4Q=function (){return typeof v7AA.g4Q.r9c==='function'?v7AA.g4Q.r9c.apply(v7AA.g4Q,arguments):v7AA.g4Q.r9c;};v7AA.f91=function (){return typeof v7AA.O91.r9c==='function'?v7AA.O91.r9c.apply(v7AA.O91,arguments):v7AA.O91.r9c;};v7AA.w3u=function (){return typeof v7AA.E3u.T9c==='function'?v7AA.E3u.T9c.apply(v7AA.E3u,arguments):v7AA.E3u.T9c;};v7AA.W91=function (){return typeof v7AA.O91.T9c==='function'?v7AA.O91.T9c.apply(v7AA.O91,arguments):v7AA.O91.T9c;};v7AA.U5B=function (){return typeof v7AA.I5B.r9c==='function'?v7AA.I5B.r9c.apply(v7AA.I5B,arguments):v7AA.I5B.r9c;};v7AA.y4Q=function (){return typeof v7AA.g4Q.r9c==='function'?v7AA.g4Q.r9c.apply(v7AA.g4Q,arguments):v7AA.g4Q.r9c;};v7AA.g5M=function (){return typeof v7AA.w5M.r9c==='function'?v7AA.w5M.r9c.apply(v7AA.w5M,arguments):v7AA.w5M.r9c;};v7AA.A22=function(I22){return{r9c:function(){var j22,S22=arguments;switch(I22){case 3:j22=S22[0]+S22[1];break;case 1:j22=S22[1]*S22[3]/S22[2]*S22[0];break;case 0:j22=S22[1]/S22[0];break;case 2:j22=(S22[0]+S22[3])*S22[2]-S22[1];break;}return j22;},T9c:function(W22){I22=W22;}};}();v7AA.q8P=function (){return typeof v7AA.y8P.T9c==='function'?v7AA.y8P.T9c.apply(v7AA.y8P,arguments):v7AA.y8P.T9c;};v7AA.t47=function (){return typeof v7AA.b47.T9c==='function'?v7AA.b47.T9c.apply(v7AA.b47,arguments):v7AA.b47.T9c;};v7AA.H3g=function (){return typeof v7AA.l3g.r9c==='function'?v7AA.l3g.r9c.apply(v7AA.l3g,arguments):v7AA.l3g.r9c;};v7AA.C4Q=function (){return typeof v7AA.g4Q.T9c==='function'?v7AA.g4Q.T9c.apply(v7AA.g4Q,arguments):v7AA.g4Q.T9c;};v7AA.H9c=function (){return typeof v7AA.v9c.r9c==='function'?v7AA.v9c.r9c.apply(v7AA.v9c,arguments):v7AA.v9c.r9c;};v7AA.u91=function (){return typeof v7AA.O91.T9c==='function'?v7AA.O91.T9c.apply(v7AA.O91,arguments):v7AA.O91.T9c;};v7AA.y8P=function(C8P){return{r9c:function(){var R8P,s8P=arguments;switch(C8P){case 1:R8P=s8P[0]+s8P[1];break;case 0:R8P=s8P[2]+s8P[1]+s8P[0];break;}return R8P;},T9c:function(T8P){C8P=T8P;}};}();v7AA.O5B=function (){return typeof v7AA.I5B.T9c==='function'?v7AA.I5B.T9c.apply(v7AA.I5B,arguments):v7AA.I5B.T9c;};v7AA.O52=function (){return typeof v7AA.G52.r9c==='function'?v7AA.G52.r9c.apply(v7AA.G52,arguments):v7AA.G52.r9c;};v7AA.J47=function (){return typeof v7AA.b47.r9c==='function'?v7AA.b47.r9c.apply(v7AA.b47,arguments):v7AA.b47.r9c;};v7AA.U2S=function (){return typeof v7AA.c2S.r9c==='function'?v7AA.c2S.r9c.apply(v7AA.c2S,arguments):v7AA.c2S.r9c;};v7AA.l9W=function (){return typeof v7AA.m9W.T9c==='function'?v7AA.m9W.T9c.apply(v7AA.m9W,arguments):v7AA.m9W.T9c;};v7AA.m9W=function(K9W){return{r9c:function(){var Q9W,O9W=arguments;switch(K9W){case 0:Q9W=(O9W[1]-O9W[2])*O9W[0];break;}return Q9W;},T9c:function(W9W){K9W=W9W;}};}();v7AA.s5M=function (){return typeof v7AA.w5M.r9c==='function'?v7AA.w5M.r9c.apply(v7AA.w5M,arguments):v7AA.w5M.r9c;};v7AA.p8P=function (){return typeof v7AA.y8P.r9c==='function'?v7AA.y8P.r9c.apply(v7AA.y8P,arguments):v7AA.y8P.r9c;};v7AA.I9c=function (){return typeof v7AA.v9c.T9c==='function'?v7AA.v9c.T9c.apply(v7AA.v9c,arguments):v7AA.v9c.T9c;};v7AA.O4Q=function (){return typeof v7AA.g4Q.T9c==='function'?v7AA.g4Q.T9c.apply(v7AA.g4Q,arguments):v7AA.g4Q.T9c;};v7AA.f2S=function (){return typeof v7AA.c2S.T9c==='function'?v7AA.c2S.T9c.apply(v7AA.c2S,arguments):v7AA.c2S.T9c;};v7AA.F3u=function (){return typeof v7AA.E3u.T9c==='function'?v7AA.E3u.T9c.apply(v7AA.E3u,arguments):v7AA.E3u.T9c;};v7AA.X8P=function (){return typeof v7AA.y8P.r9c==='function'?v7AA.y8P.r9c.apply(v7AA.y8P,arguments):v7AA.y8P.r9c;};v7AA.O91=function(x91){return{r9c:function(){var y91,P91=arguments;switch(x91){case 0:y91=P91[0]+P91[1];break;case 6:y91=P91[0]+P91[3]+P91[1]+P91[2];break;case 4:y91=-((P91[0]+P91[2])/P91[1]);break;case 3:y91=P91[1]-P91[0];break;case 2:y91=P91[1]/P91[0];break;case 5:y91=(P91[3]+P91[0])*P91[1]/P91[2];break;case 1:y91=-(P91[0]*(P91[1]/P91[3]-P91[2]));break;}return y91;},T9c:function(F91){x91=F91;}};}();v7AA.w5M=function(B5M){return{r9c:function(){var h5M,S5M=arguments;switch(B5M){case 1:h5M=S5M[1]-S5M[0];break;case 0:h5M=S5M[0]+S5M[1];break;}return h5M;},T9c:function(d5M){B5M=d5M;}};}();v7AA.G52=function(U52){return{r9c:function(){var i52,m52=arguments;switch(U52){case 0:i52=m52[0]*m52[1];break;}return i52;},T9c:function(N52){U52=N52;}};}();v7AA.s2S=function (){return typeof v7AA.c2S.r9c==='function'?v7AA.c2S.r9c.apply(v7AA.c2S,arguments):v7AA.c2S.r9c;};v7AA.r5M=function (){return typeof v7AA.w5M.T9c==='function'?v7AA.w5M.T9c.apply(v7AA.w5M,arguments):v7AA.w5M.T9c;};v7AA.o52=function (){return typeof v7AA.G52.r9c==='function'?v7AA.G52.r9c.apply(v7AA.G52,arguments):v7AA.G52.r9c;};v7AA.R5B=function (){return typeof v7AA.I5B.T9c==='function'?v7AA.I5B.T9c.apply(v7AA.I5B,arguments):v7AA.I5B.T9c;};v7AA.C2S=function (){return typeof v7AA.c2S.T9c==='function'?v7AA.c2S.T9c.apply(v7AA.c2S,arguments):v7AA.c2S.T9c;};v7AA.D9W=function (){return typeof v7AA.m9W.r9c==='function'?v7AA.m9W.r9c.apply(v7AA.m9W,arguments):v7AA.m9W.r9c;};v7AA.I5B=function(b5B){return{r9c:function(){var z5B,g5B=arguments;switch(b5B){case 2:z5B=g5B[0]-g5B[1];break;case 1:z5B=g5B[0]/(g5B[2]+g5B[1]);break;case 0:z5B=g5B[2]%(g5B[1]*g5B[0]);break;}return z5B;},T9c:function(t5B){b5B=t5B;}};}();v7AA.c47=function (){return typeof v7AA.b47.T9c==='function'?v7AA.b47.T9c.apply(v7AA.b47,arguments):v7AA.b47.T9c;};v7AA.a22=function (){return typeof v7AA.A22.T9c==='function'?v7AA.A22.T9c.apply(v7AA.A22,arguments):v7AA.A22.T9c;};v7AA.X22=function (){return typeof v7AA.A22.T9c==='function'?v7AA.A22.T9c.apply(v7AA.A22,arguments):v7AA.A22.T9c;};v7AA.B3g=function (){return typeof v7AA.l3g.T9c==='function'?v7AA.l3g.T9c.apply(v7AA.l3g,arguments):v7AA.l3g.T9c;};v7AA.s3u=function (){return typeof v7AA.E3u.r9c==='function'?v7AA.E3u.r9c.apply(v7AA.E3u,arguments):v7AA.E3u.r9c;};v7AA.x8P=function (){return typeof v7AA.y8P.T9c==='function'?v7AA.y8P.T9c.apply(v7AA.y8P,arguments):v7AA.y8P.T9c;};v7AA.h5B=function (){return typeof v7AA.I5B.r9c==='function'?v7AA.I5B.r9c.apply(v7AA.I5B,arguments):v7AA.I5B.r9c;};v7AA.X3g=function (){return typeof v7AA.l3g.r9c==='function'?v7AA.l3g.r9c.apply(v7AA.l3g,arguments):v7AA.l3g.r9c;};v7AA.v9c=function(b9c){return{r9c:function(){var d9c,C9c=arguments;switch(b9c){case 2:d9c=C9c[3]*C9c[0]/C9c[2]|C9c[1];break;case 5:d9c=C9c[2]*C9c[3]-C9c[1]+-C9c[0];break;case 3:d9c=C9c[0]/C9c[2]|C9c[1];break;case 1:d9c=C9c[1]-C9c[0];break;case 0:d9c=C9c[0]+C9c[1];break;case 4:d9c=C9c[0]===C9c[1];break;}return d9c;},T9c:function(g9c){b9c=g9c;}};}();v7AA.o9c=function (){return typeof v7AA.v9c.T9c==='function'?v7AA.v9c.T9c.apply(v7AA.v9c,arguments):v7AA.v9c.T9c;};v7AA.H22=function (){return typeof v7AA.A22.r9c==='function'?v7AA.A22.r9c.apply(v7AA.A22,arguments):v7AA.A22.r9c;};(function(t,ga){var rb,Fb,Da,vc,ma,ra,Qa,Nd,Od,Ca,Aa,Nb,Pd,wc,Qd,Rd,Zc,q,fa,jc,Sd,$c,A,P,aa,bb,fb,Oa,Y,Xa,Ga,Pb,xa,sa,ya,cb,xc,yb,jb,sb,yc,ad,Td,Hb,Ib,Qb,bd,Zb,ob,zc,Mb,cd,Ud,$b,dd,ed,fd,gd,pb,hd,id,jd,bc,Ab,Bb,cc,Ac,Bc,Cc,$a,Ye,Fa,Ob,Vd,Dc,lb,Wd,Ze,tb,Xd,Yd,Ec,Zd,$e,ic,$d,Ve,af,kd,Fc,bf,cf,Gd,df,Hd,ae,kb,kc,be,lc,ce,qb,de,ld,ee,md,Gc,fe,ff,Id,Hc,Vc,ge,ef,he,nd,ie,je,ke,od,Lb,me,le,gf,mc,ne,qd,nc,oe,pd,pe,qe,rd,se,te,Kc,Tb,dc,Ub,ue,ve,we,xe,ye,ze,Lc,hf,Ae,Be,td,Ce,eb,Rb,ac,Sb,Jb,Cb,Ic,ab,Gb,re,oc,Vb,De,jf,pc,Ee,kf,ec,Fe,Mc,ud,qc,vd,Ge,rc,He,Ie,Je,lf,sc,Ke,mf,nf,Le,sd,Jc,Me,Ue,Ne,of,qf,pf,fc,uc,rf,Fd,sf,Oe,Wc,pa,Xe;function Ia(k,q){if(!q||"utf-8"===q)return Pc(k);throw Error("unsupported encoding");}function Ma(k,q){if(!q||"utf-8"===q)return Qc(k);throw Error("unsupported encoding");}function Pc(k){for(var q=0,n,Ja=k.length,t="";q<Ja;){n=k[q++];if(n&128)if(192===(n&224))n=((n&31)<<6)+(k[q++]&63);else if(224===(n&240))n=((n&15)<<12)+((k[q++]&63)<<6)+(k[q++]&63);else throw Error("unsupported character");t+=String.fromCharCode(n);}return t;}function Qc(k){var q,n,Ja,t,A;q=k.length;n=0;t=0;for(Ja=q;Ja--;)A=k.charCodeAt(Ja),128>A?n++:n=2048>A?n+2:n+3;n=new Uint8Array(n);for(Ja=0;Ja<q;Ja++)A=k.charCodeAt(Ja),128>A?n[t++]=A:(2048>A?n[t++]=192|A>>>6:(n[t++]=224|A>>>12,n[t++]=128|A>>>6&63),n[t++]=128|A&63);return n;}function Wa(k,n){if(k===n)return!0;if(!k||!n||k.length!=n.length)return!1;for(var q=0;q<k.length;++q)if(k[q]!=n[q])return!1;return!0;}function ib(k){var Ja;if(!(k&&k.constructor==Uint8Array||Array.isArray(k)))throw new TypeError("Cannot compute the hash code of "+k);for(var n=1,q=0;q<k.length;++q){Ja=k[q];if("number"!==typeof Ja)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+Ja);n=31*n+Ja&4294967295;}return n;}function Ad(k,n){var H;if(k===n)return!0;if(!k||!n)return!1;n instanceof Array||(n=[n]);for(var q=0;q<n.length;++q){for(var Ja=n[q],A=!1,t=0;t<k.length;++t){H=k[t];if(Ja.equals&&"function"===typeof Ja.equals&&Ja.equals(H)||Ja==H){A=!0;break;}}if(!A)return!1;}return!0;}function Bd(k,n){return Ad(k,n)&&(k.length==n.length||Ad(n,k));}function n(k,n,q){var Ja,A;q&&(Ja=q);if("object"!==typeof k||"function"!==typeof k.result||"function"!==typeof k.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{A=n.call(Ja,k);A!==ga&&k.result(A);}catch(Rc){try{k.error(Rc);}catch(Ea){}}}function H(k,q,A){if("object"!==typeof k||"function"!==typeof k.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(k,q,A);}function k(k,n,q){1E5>k&&(k=1E5+k);Object.defineProperties(this,{internalCode:{value:k,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:q,writable:!1,configurable:!1}});}function Sc(k){switch(k){case Fa.PSK:case Fa.MGK:return!0;default:return!1;}}function Cd(k){switch(k){case Fa.PSK:case Fa.MGK:case Fa.X509:case Fa.RSA:case Fa.NPTICKET:case Fa.ECC:return!0;default:return!1;}}function Re(k){return k.toJSON();}function Dd(n,q){uc?q.result(uc):Promise.resolve().then(function(){return ya.getKeyByName(n);})["catch"](function(){return ya.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(k){uc=k;q.result(uc);})["catch"](function(n){q.error(new A(k.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Ed(k,n){var q,A,t;q=n.masterToken;A=n.userIdToken;t=n.serviceTokens;return{NccpMethod:k.method,UserId:k.userId,UT:A&&A.serialNumber,MT:q&&q.serialNumber+":"+q.sequenceNumber,STCount:t&&t.length};}function Se(k){return k.uniqueKey();}function Te(t,H,Xb,nb,Yb){var za;function Ja(k,M){k.errorCode===q.ENTITY_REAUTH||k.errorCode===q.ENTITYDATA_REAUTH?(nb.clearCryptoContexts(),Ta()):k.errorCode!==q.USER_REAUTH&&k.errorCode!==q.USERDATA_REAUTH||Ea(M);}function Ea(k){if(k=nb.getUserIdToken(k))nb.removeUserIdToken(k),Ta();}function W(k,M,R){var I;I=[];(function Q(){k.read(-1,M,{result:function(k){n(R,function(){var E,K,L,R,M;if(k)I.push(k),Q();else switch(I.length){case 0:return new Uint8Array(0);case 1:return I[0];default:R=I.length,M=0;for(K=E=0;K<R;K++)E+=I[K].length;E=new Uint8Array(E);for(K=0;K<R;K++)L=I[K],E.set(L,M),M+=L.length;return E;}});},timeout:function(){R.timeout();},error:function(k){R.error(k);}});}());}function Ta(){nb.getStoreState({result:function(k){for(var M=za.slice(),R=0;R<M.length;R++)M[R]({storeState:k});},timeout:function(){t.error("Timeout getting store state",""+e);},error:function(k){t.error("Error getting store state",""+k);}});}za=[];this.addEventHandler=function(k,M){switch(k){case"shouldpersist":za.push(M);}};this.send=function(n){return new Promise(function(M,R){var I,J,Q;I=n.timeout;J=new Fd(t,Xb,n,nb.getKeyRequestData());Q=new Gd(n.url);t.trace("Sending MSL request");H.request(Xb,J,Q,I,{result:function(J){var E;J&&J.getMessageHeader();t.trace("Received MSL response",{Method:n.method});if(J){n.allowTokenRefresh&&Ta();E=J.getErrorHeader();E?(Ja(E,n.userId),R({success:!1,error:E})):W(J,I,{result:function(k){M({success:!0,body:Ia(k)});},timeout:function(){R({success:!1,subCode:Yb.MSL_READ_TIMEOUT});},error:function(k){R({success:!1,error:k});}});}else R({success:!1,error:new A(k.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){R({success:!1,subCode:Yb.MSL_REQUEST_TIMEOUT});},error:function(k){R({success:!1,error:k});}});});};this.hasUserIdToken=function(k){return!!nb.getUserIdToken(k);};this.getUserIdTokenKeys=function(){return nb.getUserIdTokenKeys();};this.removeUserIdToken=Ea;this.clearUserIdTokens=function(){nb.clearUserIdTokens();Ta();};this.isErrorReauth=function(k){return k&&k.errorCode==q.USERDATA_REAUTH;};this.isErrorHeader=function(k){return k instanceof Lb;};this.getErrorCode=function(k){return k&&k.errorCode;};this.getStateForMdx=function(k){var M,R;M=nb.getMasterToken();k=nb.getUserIdToken(k);R=nb.getCryptoContext(M);return{masterToken:M,userIdToken:k,cryptoContext:R};};this.buildPlayDataRequest=function(k,M){var R;R=new Hd();H.request(Xb,new Fd(t,Xb,k),R,k.timeout,{result:function(){M.result(R.getRequest());},error:function(){M.result(R.getRequest());},timeout:function(){M.timeout();}});};this.rekeyUserIdToken=function(k,M){nb.rekeyUserIdToken(k,M);Ta();};}function Tc(n,q,t,H,Yb,P){function Ja(q){var W;return Promise.resolve().then(function(){W=n.authenticationKeyNames[q];if(!W)throw new A(k.KEY_IMPORT_ERROR,"Invalid config keyName "+q);return ya.getKeyByName(W);}).then(function(n){return new Promise(function(q,M){Zb(n,{result:q,error:function(){M(new A(k.KEY_IMPORT_ERROR,"Unable to create "+W+" CipherKey"));}});});})["catch"](function(n){throw new A(k.KEY_IMPORT_ERROR,"Unable to import "+W,n);});}return Promise.resolve().then(function(){if(!ya.getKeyByName)throw new A(k.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ja("e"),Ja("h"),Ja("w")]);}).then(function(k){var W,za,Ka;W={};W[q]=new t(n.esn,k[0],k[1],k[2]);k=new H(n.esn);za=new Ue();za=[new Yb(za)];Ka=new P(q);return{entityAuthFactories:W,entityAuthData:k,keyExchangeFactories:za,keyRequestData:Ka};});}function Uc(n,q,t){var hc;function H(){return Promise.resolve().then(function(){return ya.generateKey(q,!1,["wrapKey","unwrapKey"]);}).then(function(k){return Ja(k.publicKey,k.privateKey);});}function Ja(n,q){return Promise.all([new Promise(function(q,W){Mb(n,{result:q,error:function(n){W(new A(k.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,W){$b(q,{result:n,error:function(n){W(new A(k.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(k){k=new Vc("rsaKeypairId",t,k[0],k[1]);hc&&(k.storeData={keyxPublicKey:n,keyxPrivateKey:q});return k;});}hc=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var k,q;k=n.storeState;q=k&&k.keyxPublicKey;k=k&&k.keyxPrivateKey;return hc&&q&&k?Ja(q,k):H();}).then(function(k){var q,Ta,za;q={};q[Fa.NONE]=new Ve();Ta=new ic(n.esn);za=[new Id()];return{entityAuthFactories:q,entityAuthData:Ta,keyExchangeFactories:za,keyRequestData:k,createKeyRequestData:hc?H:ga};});}function Ua(){Ua=function(){};pa.Symbol||(pa.Symbol=We);}function We(k){return"jscomp_symbol_"+(k||"")+Xe++;}function Za(){var k;Ua();k=pa.Symbol.iterator;k||(k=pa.Symbol.iterator=pa.Symbol("iterator"));"function"!=typeof Array.prototype[k]&&Wc(Array.prototype,k,{configurable:!0,writable:!0,value:function(){return Jd(this);}});Za=function(){};}function Jd(k){var n;n=0;return Kd(function(){return n<k.length?{done:!1,value:k[n++]}:{done:!0};});}function Kd(k){Za();k={next:k};k[pa.Symbol.iterator]=function(){return this;};return k;}function Na(k){var n;Za();Ua();Za();n=k[Symbol.iterator];return n?n.call(k):Jd(k);}function oa(k,n){var A;function q(){}q.prototype=n.prototype;k.prototype=new q();k.prototype.constructor=k;for(var t in n)if(Object.defineProperties){A=Object.getOwnPropertyDescriptor(n,t);A&&Object.defineProperty(k,t,A);}else k[t]=n[t];}function Xc(k){if(!(k instanceof Array)){k=Na(k);for(var n,q=[];!(n=k.next()).done;)q.push(n.value);k=q;}return k;}function Va(k,n){var q,A;if(n){q=pa;k=k.split(".");for(var t=0;t<k.length-1;t++){A=k[t];A in q||(q[A]={});q=q[A];}k=k[k.length-1];t=q[k];n=n(t);n!=t&&null!=n&&Wc(q,k,{configurable:!0,writable:!0,value:n});}}function xb(k,n){return Object.prototype.hasOwnProperty.call(k,n);}function Yc(k,n){var q,t;Za();k instanceof String&&(k+="");q=0;t={next:function(){var A;if(q<k.length){A=q++;return{value:n(A,k[A]),done:!1};}t.next=function(){return{done:!0,value:void 0};};return t.next();}};t[Symbol.iterator]=function(){return t;};return t;}function Ld(k,n,q){var H;k instanceof String&&(k=String(k));for(var t=k.length,A=0;A<t;A++){H=k[A];if(n.call(q,H,A,k))return{Mh:A,RR:H};}return{Mh:-1,RR:void 0};}function Md(k,n,q){if(null==k)throw new TypeError("The 'this' value for String.prototype."+q+" must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype."+q+" must not be a regular expression");return k+"";}Fb=t.nfCrypto||t.msCrypto||t.webkitCrypto||t.crypto;Da=Fb&&(Fb.webkitSubtle||Fb.subtle);vc=t.nfCryptokeys||t.msCryptokeys||t.webkitCryptokeys||t.cryptokeys;(function(k){var n,q;n=function(){function k(k,q){k instanceof n?(this.abv=k.abv,this.position=k.position):(this.abv=k,this.position=q||0);}k.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(k){this.abv[this.position++]=k;},peekByte:function(k){return this.abv[k];},copyBytes:function(k,n,q){var W;W=new Uint8Array(this.abv.buffer,this.position,q);k=new Uint8Array(k.buffer,n,q);W.set(k);this.position+=q;},seek:function(k){this.position=k;},skip:function(k){this.position+=k;},getPosition:function(){return this.position;},setPosition:function(k){this.position=k;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return k;}();q={};(function(){var L,E,K,La,qa,Ha,va,f,c;function k(a,b){var c;b.writeByte(a.tagClass<<6|a.constructed<<5|a.tag);c=a.payloadLen;if(128>c)b.writeByte(c);else{for(var h=c,l=0;h;)++l,h>>=8;b.writeByte(128|l);for(h=0;h<l;++h)b.writeByte(c>>8*(l-h-1)&255);}if(a.child)for(a.tag==L.BIT_STRING&&b.writeByte(0),c=a._child;c;){if(!k(c,b))return!1;c=c.next;}else switch(a.tag){case L.INTEGER:a.backingStore[a.dataIdx]>>7&&b.writeByte(0);b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.BIT_STRING:b.writeByte(0);b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.OCTET_STRING:b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.OBJECT_IDENTIFIER:b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);}return!0;}function t(a){var b,c;b=a.readByte();c=b&127;if(c==b)return c;if(3<c||0===c)return-1;for(var h=b=0;h<c;++h)b=b<<8|a.readByte();return b;}function A(a,b,c){var d,l,g,m,p,r,u;d=a.backingStore;l=new n(d,b);b+=c;c=a;if(8<qa++)return ga;for(;l.getPosition()<b;){l.getPosition();p=l.readByte();if(31==(p&31)){for(m=0;p&128;)m<<=8,m|=p&127;p=m;}g=p;m=g&31;if(0>m||30<m)return ga;p=t(l);if(0>p||p>l.getRemaining())return ga;c.constructed=g&32;c.tagClass=(g&192)>>6;c.tag=m;c.dataLen=p;c.dataIdx=l.getPosition();m=l;r=g;g=p;if(r&32)m=!0;else if(r<L.BIT_STRING||r>L.OCTET_STRING)m=!1;else{u=new n(m);r==L.BIT_STRING&&u.skip(1);u.readByte()>>6&1?m=!1:(r=t(u),m=u.getPosition()-m.getPosition()+r==g);}m&&(m=l.getPosition(),g=p,c.tag==L.BIT_STRING&&(c.dataIdx++,c.dataLen--,m++,g--),c.child=new E(d,c),A(c.child,m,g));c.tag==L.INTEGER&&(m=l.getPosition(),0==l.peekByte(m)&&l.peekByte(m+1)>>7&&(c.dataIdx++,c.dataLen--));l.skip(p);l.getPosition()<b&&(c.next=new E(d,c.parent),c=c.next);}qa--;return a;}function H(a,b,c){if(9!=c)return!1;for(c=0;9>c;++c)if(a[b++]!=Ha[c])return!1;return!0;}function W(a){var b;if(!(a&&a.child&&a.child.next&&a.child.child&&a.child.next.child))return!1;b=a.child.child;return H(b.backingStore,b.dataIdx,b.dataLen)&&2==a.nChildren&&2==a.child.nChildren&&2==a.child.next.child.nChildren?!0:!1;}function Ta(a){var b;if(!(a&&a.child&&a.child.next&&a.child.next.child&&a.child.next.next&&a.child.next.next.child))return!1;b=a.child.next.child;return H(b.backingStore,b.dataIdx,b.dataLen)&&3==a.nChildren&&2==a.child.next.nChildren&&9==a.child.next.next.child.nChildren?!0:!1;}function za(a){var b,c;b=K.createSequenceNode();c=new La(b);c.addChild(K.createSequenceNode());c.addChild(K.createOidNode(Ha));c.addSibling(K.createNullNode());c.addToParent(b,K.createBitStringNode(null));c.addChild(K.createSequenceNode());c.addChild(K.createIntegerNode(a.n));c.addSibling(K.createIntegerNode(a.e));return b;}function Ka(a){var b;a=a.child.next.child.child;b=a.data;a=a.next;return new va(b,a.data,null,null);}function M(a){var b,c;b=K.createSequenceNode();c=new La(b);c.addChild(K.createIntegerNode(new Uint8Array([0])));c.addSibling(K.createSequenceNode());c.addChild(K.createOidNode(Ha));c.addSibling(K.createNullNode());c.addToParent(b,K.createOctetStringNode(null));c.addChild(K.createSequenceNode());c.addChild(K.createIntegerNode(new Uint8Array([0])));c.addSibling(K.createIntegerNode(a.n));c.addSibling(K.createIntegerNode(a.e));c.addSibling(K.createIntegerNode(a.d));c.addSibling(K.createIntegerNode(a.p));c.addSibling(K.createIntegerNode(a.q));c.addSibling(K.createIntegerNode(a.dp));c.addSibling(K.createIntegerNode(a.dq));c.addSibling(K.createIntegerNode(a.qi));return b;}function R(a){var b;b=[];a=a.child.next.next.child.child.next;for(var c=0;8>c;c++)b.push(a.data),a=a.next;return new f(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);}function I(a,b,d,h){if(!(a instanceof va||a instanceof f))return ga;if(d)for(var l=0;l<d.length;++l)if(-1==c.indexOf(d[l]))return ga;b={kty:"RSA",alg:b,key_ops:d||[],ext:h==ga?!1:h,n:ma(a.n,!0),e:ma(a.e,!0)};a instanceof f&&(b.d=ma(a.d,!0),b.p=ma(a.p,!0),b.q=ma(a.q,!0),b.dp=ma(a.dp,!0),b.dq=ma(a.dq,!0),b.qi=ma(a.qi,!0));return b;}function J(a){var b,c,h,l,g,m,p,r,u,v;if(!a.kty||"RSA"!=a.kty||!a.n||!a.e)return ga;b="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(a.alg&&-1==b.indexOf(a.alg))return ga;b=[];a.use?"enc"==a.use?b=["encrypt","decrypt","wrap","unwrap"]:"sig"==a.use&&(b=["sign","verify"]):b=a.key_ops;c=a.ext;h=ra(a.n,!0);l=ra(a.e,!0);if(a.d){g=ra(a.d,!0);m=ra(a.p,!0);p=ra(a.q,!0);r=ra(a.dp,!0);u=ra(a.dq,!0);v=ra(a.qi,!0);return new f(h,l,g,m,p,r,u,v,a.alg,b,c);}return new va(h,l,c,b);}function Q(a,b,c,h){this.der=a;this.type=b;this.keyOps=c;this.extractable=h;}L={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};E=function(a,b,c,h,l,g){this._data=a;this._parent=b||ga;this._constructed=c||!1;this._tagClass=0;this._tag=h||0;this._dataIdx=l||0;this._dataLen=g||0;};E.prototype={_child:ga,_next:ga,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(a){this._constructed=0!=a?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(a){this._tagClass=a;},get tag(){return this._tag;},set tag(a){this._tag=a;},get dataIdx(){return this._dataIdx;},set dataIdx(a){this._dataIdx=a;},get dataLen(){return this._dataLen;},set dataLen(a){this._dataLen=a;},get child(){return this._child;},set child(a){this._child=a;this._child.parent=this;},get next(){return this._next;},set next(a){this._next=a;},get parent(){return this._parent;},set parent(a){this._parent=a;},get payloadLen(){var a;a=0;if(this._child){for(var b=this._child;b;)a+=b.length,b=b.next;this._tag==L.BIT_STRING&&a++;}else switch(this._tag){case L.INTEGER:a=this._dataLen;this._data[this._dataIdx]>>7&&a++;break;case L.BIT_STRING:a=this._dataLen+1;break;case L.OCTET_STRING:a=this._dataLen;break;case L.NULL:a=0;break;case L.OBJECT_IDENTIFIER:H(this._data,this._dataIdx,this._dataLen)&&(a=9);}return a;},get length(){var a,b;a=this.payloadLen;if(127<a)for(b=a;b;)b>>=8,++a;return a+2;},get der(){var a,b;a=this.length;if(!a)return ga;a=new Uint8Array(a);b=new n(a);return k(this,b)?a:ga;},get nChildren(){for(var a=0,b=this._child;b;)a++,b=b.next;return a;}};K={createSequenceNode:function(){return new E(null,null,!0,L.SEQUENCE,null,null);},createOidNode:function(a){return new E(a,null,!1,L.OBJECT_IDENTIFIER,0,a?a.length:0);},createNullNode:function(){return new E(null,null,!1,L.NULL,null,null);},createBitStringNode:function(a){return new E(a,null,!1,L.BIT_STRING,0,a?a.length:0);},createIntegerNode:function(a){return new E(a,null,!1,L.INTEGER,0,a?a.length:0);},createOctetStringNode:function(a){return new E(a,null,!1,L.OCTET_STRING,0,a?a.length:0);}};La=function(a){this._currentNode=this._rootNode=a;};La.prototype={addChild:function(a){this.addTo(this._currentNode,a);},addSibling:function(a){this.addTo(this._currentNode.parent,a);},addTo:function(a,b){this._currentNode=b;this._currentNode.parent=a;if(a.child){for(var c=a.child;c.next;)c=c.next;c.next=b;}else a.child=b;},addToParent:function(a,b){this.findNode(a)&&this.addTo(a,b);},findNode:function(a){for(var b=this._currentNode;b;){if(a==b)return!0;b=b.parent;}return!1;}};qa=0;Ha=new Uint8Array([42,134,72,134,247,13,1,1,1]);va=function(a,b,c,h){this.n=a;this.e=b;this.ext=c;this.keyOps=h;};f=function(a,b,c,h,l,g,m,p,r,u,v){this.n=a;this.e=b;this.d=c;this.p=h;this.q=l;this.dp=g;this.dq=m;this.qi=p;this.alg=r;this.keyOps=u;this.ext=v;};c="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");Q.prototype.getDer=function(){return this.der;};Q.prototype.getType=function(){return this.type;};Q.prototype.getKeyOps=function(){return this.keyOps;};Q.prototype.getExtractable=function(){return this.extractable;};q.parse=function(a){qa=0;return A(new E(a),0,a.length);};q.show=function(a,b){};q.isRsaSpki=W;q.isRsaPkcs8=Ta;q.NodeFactory=K;q.Builder=La;q.tagVal=L;q.RsaPublicKey=va;q.RsaPrivateKey=f;q.buildRsaSpki=za;q.parseRsaSpki=function(a){a=q.parse(a);return W?Ka(a):ga;};q.buildRsaPkcs8=M;q.parseRsaPkcs8=function(a){a=q.parse(a);return Ta(a)?R(a):ga;};q.buildRsaJwk=I;q.parseRsaJwk=J;q.RsaDer=Q;q.rsaDerToJwk=function(a,b,c,h){a=q.parse(a);if(!a)return ga;if(W(a))a=Ka(a);else if(Ta(a))a=R(a);else return ga;return I(a,b,c,h);};q.jwkToRsaDer=function(a){var b,c;a=J(a);if(!a)return ga;if(a instanceof va)b="spki",c=za(a).der;else if(a instanceof f)b="pkcs8",c=M(a).der;else return ga;return new Q(c,b,a.keyOps,a.ext);};q.webCryptoAlgorithmToJwkAlg=function(a){return"RSAES-PKCS1-v1_5"==a.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==a.name?"SHA-256"==a.hash.name?"RS256":"SHA-384"==a.hash.name?"RS384":"SHA-512"==a.hash.name?"RS512":ga:ga;};q.webCryptoUsageToJwkKeyOps=function(a){return a.map(function(a){return"wrapKey"==a?"wrap":"unwrapKey"==a?"unwrap":a;});};}());k.ASN1=q;}(t));(function(){for(var k={},n={},q={"=":0,".":0},t={"=":0,".":0},A=/\s+/g,H=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ea=64;Ea--;)k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]]=262144*Ea,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]]=4096*Ea,q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]]=64*Ea,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]]=Ea;for(Ea=64;Ea--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea];)k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea]]=262144*Ea,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea]]=4096*Ea,q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea]]=64*Ea,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea]]=Ea;ma=function(k,n){for(var q="",W=0,M=k.length,R=M-2,I,J=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=n?"":"=";W<R;)I=65536*k[W++]+256*k[W++]+k[W++],q+=J[I>>>18]+J[I>>>12&63]+J[I>>>6&63]+J[I&63];W==R?(I=65536*k[W++]+256*k[W++],q+=J[I>>>18]+J[I>>>12&63]+J[I>>>6&63]+Q):W==M-1&&(I=65536*k[W++],q+=J[I>>>18]+J[I>>>12&63]+Q+Q);return q;};ra=function(W,Ta){var za;W=W.replace(A,"");if(Ta){za=W.length%4;if(za)for(var za=4-za,Ka=0;Ka<za;++Ka)W+="=";}za=W.length;if(0!=za%4||!H.test(W))throw Error("bad base64: "+W);for(var M=za/4*3-("="==W[za-1]?1:0)-("="==W[za-2]?1:0),R=new Uint8Array(M),I=0,J=0;I<za;)Ka=k[W[I++]]+n[W[I++]]+q[W[I++]]+t[W[I++]],R[J++]=Ka>>>16,J<M&&(R[J++]=Ka>>>8&255,J<M&&(R[J++]=Ka&255));return R;};}());Qa={};(function(){var H,Ea,W,za;function k(q){if(!(this instanceof k))return new k(q);for(var M=0,R=Ea.length;M<R;M++)this[Ea[M]]="";this.bufferCheckPosition=Qa.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=q||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=W.BEGIN;this.stack=new H();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(k,n,R){if(k[n])k[n](R);}function q(k,q){var R,I;R=k.opt;I=k.textNode;R.trim&&(I=I.trim());R.normalize&&(I=I.replace(/\s+/g," "));k.textNode=I;k.textNode&&n(k,q?q:"onvalue",k.textNode);k.textNode="";}function t(k,M){q(k);M+="\nLine: "+k.line+"\nColumn: "+k.column+"\nChar: "+k.c;M=Error(M);k.error=M;n(k,"onerror",M);return k;}function A(Ka){Ka.state!==W.VALUE&&t(Ka,"Unexpected end");q(Ka);Ka.c="";Ka.closed=!0;n(Ka,"onend");k.call(Ka,Ka.opt);return Ka;}H=Array;Qa.parser=function(n){return new k(n);};Qa.CParser=k;Qa.MAX_BUFFER_LENGTH=65536;Qa.DEBUG=!1;Qa.INFO=!1;Qa.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ea=["textNode","numberNode"];Qa.EVENTS.filter(function(k){return"error"!==k&&"end"!==k;});W=0;Qa.STATE={BEGIN:W++,VALUE:W++,OPEN_OBJECT:W++,CLOSE_OBJECT:W++,OPEN_ARRAY:W++,CLOSE_ARRAY:W++,TEXT_ESCAPE:W++,STRING:W++,BACKSLASH:W++,END:W++,OPEN_KEY:W++,CLOSE_KEY:W++,TRUE:W++,TRUE2:W++,TRUE3:W++,FALSE:W++,FALSE2:W++,FALSE3:W++,FALSE4:W++,NULL:W++,NULL2:W++,NULL3:W++,NUMBER_DECIMAL_POINT:W++,NUMBER_DIGIT:W++};for(var Ta in Qa.STATE)Qa.STATE[Qa.STATE[Ta]]=Ta;W=Qa.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(k){return k.__proto__;});za=/[\\"\n]/g;k.prototype={end:function(){A(this);},write:function(k){var I,J,Q;if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null===k)return A(this);for(var M=k[0],R;M;){R=M;this.c=M=k.charAt(this.index++);R!==M?this.p=R:R=this.p;if(!M)break;this.position++;"\n"===M?(this.line++,this.column=0):this.column++;switch(this.state){case W.BEGIN:"{"===M?this.state=W.OPEN_OBJECT:"["===M?this.state=W.OPEN_ARRAY:"\r"!==M&&"\n"!==M&&" "!==M&&"\t"!==M&&t(this,"Non-whitespace before {[.");continue;case W.OPEN_KEY:case W.OPEN_OBJECT:if("\r"===M||"\n"===M||" "===M||"\t"===M)continue;if(this.state===W.OPEN_KEY)this.stack.push(W.CLOSE_KEY);else if("}"===M){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||W.VALUE;continue;}else this.stack.push(W.CLOSE_OBJECT);'"'===M?this.state=W.STRING:t(this,'Malformed object key should start with "');continue;case W.CLOSE_KEY:case W.CLOSE_OBJECT:if("\r"===M||"\n"===M||" "===M||"\t"===M)continue;":"===M?(this.state===W.CLOSE_OBJECT?(this.stack.push(W.CLOSE_OBJECT),q(this,"onopenobject")):q(this,"onkey"),this.state=W.VALUE):"}"===M?(q(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||W.VALUE):","===M?(this.state===W.CLOSE_OBJECT&&this.stack.push(W.CLOSE_OBJECT),q(this),this.state=W.OPEN_KEY):t(this,"Bad object");continue;case W.OPEN_ARRAY:case W.VALUE:if("\r"===M||"\n"===M||" "===M||"\t"===M)continue;if(this.state===W.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=W.VALUE,"]"===M){n(this,"onclosearray");this.state=this.stack.pop()||W.VALUE;continue;}else this.stack.push(W.CLOSE_ARRAY);'"'===M?this.state=W.STRING:"{"===M?this.state=W.OPEN_OBJECT:"["===M?this.state=W.OPEN_ARRAY:"t"===M?this.state=W.TRUE:"f"===M?this.state=W.FALSE:"n"===M?this.state=W.NULL:"-"===M?this.numberNode+=M:"0"===M?(this.numberNode+=M,this.state=W.NUMBER_DIGIT):-1!=="123456789".indexOf(M)?(this.numberNode+=M,this.state=W.NUMBER_DIGIT):t(this,"Bad value");continue;case W.CLOSE_ARRAY:if(","===M)this.stack.push(W.CLOSE_ARRAY),q(this,"onvalue"),this.state=W.VALUE;else if("]"===M)q(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||W.VALUE;else if("\r"===M||"\n"===M||" "===M||"\t"===M)continue;else t(this,"Bad array");continue;case W.STRING:R=this.index-1;I=this.slashed,J=this.unicodeI;a:for(;;){if(Qa.DEBUG)for(;0<J;)if(this.unicodeS+=M,M=k.charAt(this.index++),4===J?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),J=0,R=this.index-1):J++,!M)break a;if('"'===M&&!I){this.state=this.stack.pop()||W.VALUE;(this.textNode+=k.substring(R,this.index-1))||n(this,"onvalue","");break;}if("\\"===M&&!I&&(I=!0,this.textNode+=k.substring(R,this.index-1),M=k.charAt(this.index++),!M))break;if(I)if(I=!1,"n"===M?this.textNode+="\n":"r"===M?this.textNode+="\r":"t"===M?this.textNode+="\t":"f"===M?this.textNode+="\f":"b"===M?this.textNode+="\b":"u"===M?(J=1,this.unicodeS=""):this.textNode+=M,M=k.charAt(this.index++),R=this.index-1,M)continue;else break;za.lastIndex=this.index;Q=za.exec(k);if(null===Q){this.index=k.length+1;this.textNode+=k.substring(R,this.index-1);break;}this.index=Q.index+1;M=k.charAt(Q.index);if(!M){this.textNode+=k.substring(R,this.index-1);break;}}this.slashed=I;this.unicodeI=J;continue;case W.TRUE:if(""===M)continue;"r"===M?this.state=W.TRUE2:t(this,"Invalid true started with t"+M);continue;case W.TRUE2:if(""===M)continue;"u"===M?this.state=W.TRUE3:t(this,"Invalid true started with tr"+M);continue;case W.TRUE3:if(""===M)continue;"e"===M?(n(this,"onvalue",!0),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid true started with tru"+M);continue;case W.FALSE:if(""===M)continue;"a"===M?this.state=W.FALSE2:t(this,"Invalid false started with f"+M);continue;case W.FALSE2:if(""===M)continue;"l"===M?this.state=W.FALSE3:t(this,"Invalid false started with fa"+M);continue;case W.FALSE3:if(""===M)continue;"s"===M?this.state=W.FALSE4:t(this,"Invalid false started with fal"+M);continue;case W.FALSE4:if(""===M)continue;"e"===M?(n(this,"onvalue",!1),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid false started with fals"+M);continue;case W.NULL:if(""===M)continue;"u"===M?this.state=W.NULL2:t(this,"Invalid null started with n"+M);continue;case W.NULL2:if(""===M)continue;"l"===M?this.state=W.NULL3:t(this,"Invalid null started with nu"+M);continue;case W.NULL3:if(""===M)continue;"l"===M?(n(this,"onvalue",null),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid null started with nul"+M);continue;case W.NUMBER_DECIMAL_POINT:"."===M?(this.numberNode+=M,this.state=W.NUMBER_DIGIT):t(this,"Leading zero not followed by .");continue;case W.NUMBER_DIGIT:-1!=="0123456789".indexOf(M)?this.numberNode+=M:"."===M?(-1!==this.numberNode.indexOf(".")&&t(this,"Invalid number has two dots"),this.numberNode+=M):"e"===M||"E"===M?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||t(this,"Invalid number has two exponential"),this.numberNode+=M):"+"===M||"-"===M?("e"!==R&&"E"!==R&&t(this,"Invalid symbol in number"),this.numberNode+=M):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||W.VALUE);continue;default:t(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){k=Math.max(Qa.MAX_BUFFER_LENGTH,10);R=M=0;for(I=Ea.length;R<I;R++){J=this[Ea[R]].length;if(J>k)switch(Ea[R]){case"text":break;default:t(this,"Max buffer length exceeded: "+Ea[R]);}M=Math.max(M,J);}this.bufferCheckPosition=Qa.MAX_BUFFER_LENGTH-M+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var t;function k(k,n){n||(n=k.length);return k.reduce(function(k,q,W){return W<n?k+String.fromCharCode(q):k;},"");}for(var n={},q=0;256>q;++q){t=k([q]);n[t]=q;}for(var A=Object.keys(n).length,H=[],q=0;256>q;++q)H[q]=[q];Nd=function(q,W){var E,K;function t(k,E){var K;for(;0<E;){if(J>=I.length)return!1;if(E>Q){K=k;K=K>>>E-Q;I[J]|=K&255;E-=Q;Q=8;++J;}else E<=Q&&(K=k,K<<=Q-E,K&=255,K>>>=8-Q,I[J]|=K&255,Q-=E,E=0,0==Q&&(Q=8,++J));}return!0;}for(var za in n)W[za]=n[za];for(var Ka=A,M=[],R=8,I=new Uint8Array(q.length),J=0,Q=8,L=0;L<q.length;++L){E=q[L];M.push(E);za=k(M);K=W[za];if(!K){M=k(M,M.length-1);if(!t(W[M],R))return null;0!=Ka>>R&&++R;W[za]=Ka++;M=[E];}}return 0<M.length&&(za=k(M),K=W[za],!t(K,R))?null:I.subarray(0,8>Q?J+1:J);};Od=function(k){var L,E,Q,t;for(var q=H.slice(),n=0,t=0,A=8,M=new Uint8Array(Math.ceil(1.5*k.length)),R=0,I,J=[];n<k.length&&!(8*(k.length-n)-t<A);){for(var Q=I=0;Q<A;){L=Math.min(A-Q,8-t);E=k[n];E=E<<t;E=E&255;E=E>>>8-L;Q=Q+L;t=t+L;8==t&&(t=0,++n);I|=(E&255)<<A-Q;}Q=q[I];0==J.length?++A:(Q?J.push(Q[0]):J.push(J[0]),q[q.length]=J,J=[],q.length==1<<A&&++A,Q||(Q=q[I]));I=R+Q.length;I>=M.length&&(L=new Uint8Array(Math.ceil(1.5*I)),L.set(M),M=L);M.set(Q,R);R=I;J=J.concat(Q);}return M.subarray(0,R);};}());(function(){var k,n,t;Ca="utf-8";Aa=9007199254740992;k=Nb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Nb);Pd=function(n){for(var q=[k.GZIP,k.LZW],t=0;t<q.length&&0<n.length;++t)for(var A=q[t],W=0;W<n.length;++W)if(n[W]==A)return A;return null;};n=wc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(wc);Qd=function(k){return n.AES_CBC_PKCS5Padding==k?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==k?n.RSA_ECB_PKCS1Padding:n[k];};t=Rd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Rd);Zc=function(k){return t[k];};q={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(q);}());fa={isObjectLiteral:function(k){return null!==k&&"object"===typeof k&&k.constructor===Object;},extendDeep:function(){var k,n,q,t,A,H,P,W;k=arguments[0];n=1;q=arguments.length;t=!1;"boolean"===typeof k&&(t=k,k=arguments[1],n=2);for(;n<q;n++)if(null!=(A=arguments[n]))for(H in A)t&&H in k||(W=A[H],k!==W&&W!==ga&&(P=k[H],k[H]=null!==P&&null!==W&&"object"===typeof P&&"object"===typeof W?fa.extendDeep(t,{},P,W):W));return k;}};(function(){var P,W;function k(k,n){return function(){var q,M;q=k.base;k.base=n;M=k.apply(this,arguments);k.base=q;return M;};}function n(n,q,t){var M,R,I,J;t=t||W;J=!!t.extendAll;for(M in q)R=q.__lookupGetter__(M),I=q.__lookupSetter__(M),R||I?(R&&n.__defineGetter__(M,R),I&&n.__defineSetter__(M,I)):(R=q[M],I=n[M],"function"===typeof R&&"function"===typeof I&&R!==I?(R.base!==Function.prototype.base&&(R=k(R,I)),R.base=I):(J||t[M])&&fa.isObjectLiteral(R)&&fa.isObjectLiteral(I)&&(R=fa.extendDeep({},I,R)),n[M]=R);}function q(){var k,n;k=Array.prototype.slice;n=k.call(arguments,1);return this.extend({init:function M(){var R;R=k.call(arguments,0);M.base.apply(this,n.concat(R));}});}function t(k,q){var W;W=new this(P);n(W,k,q);return H(W);}function A(k,q){n(this.prototype,k,q);return this;}function H(k){var n;n=function(){var k;k=this.init;k&&arguments[0]!==P&&k.apply(this,arguments);};k&&(n.prototype=k);n.prototype.constructor=n;n.extend=t;n.bind=q;n.mixin=A;return n;}P={};W={actions:!0};Function.prototype.base=function(){};fa.Class={create:H,mixin:n,extend:function(k,n){var q;q=H();q.prototype=new k();return q.extend(n);}};fa.mixin=function(){fa.log&&fa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var P,W,Ta;function k(k,n){return function(){var q,R;q=k.base;k.base=n;R=k.apply(this,arguments);k.base=q;return R;};}function n(n,q,M){var R,I,J,Q;M=M||W;Q=!!M.extendAll;for(R in q)I=q.__lookupGetter__(R),J=q.__lookupSetter__(R),I||J?(I&&n.__defineGetter__(R,I),J&&n.__defineSetter__(R,J)):(I=q[R],J=n[R],"function"===typeof I&&"function"===typeof J&&I!==J?(I.base!==Ta&&(I=k(I,J)),I.base=J):(Q||M[R])&&fa.isObjectLiteral(I)&&fa.isObjectLiteral(J)&&(I=fa.extendDeep({},J,I)),n[R]=I);}function q(){var k,n;k=Array.prototype.slice;n=k.call(arguments,1);return this.extend({init:function R(){var I;I=k.call(arguments,0);R.base.apply(this,n.concat(I));}});}function t(k,q){var M;M=new this(P);n(M,k,q);return H(M);}function A(k,q){n(this.prototype,k,q);return this;}function H(k){var n;n=function(){var k;k=this.init;k&&arguments[0]!==P&&k.apply(this,arguments);};k&&(n.prototype=k);n.prototype.constructor=n;n.extend=t;n.bind=q;n.mixin=A;return n;}P={};W={actions:!0};Ta=function(){};Function.prototype.base=Ta;fa.Class={create:H,mixin:n,extend:function(k,n){var q;q=H();q.prototype=new k();return q.extend(n);}};fa.mixin=function(){fa.log&&fa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function k(k){return k==Aa?1:k+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var q=k(n._nextWaiter);!n._waiters[q];)q=k(q);return q;}jc=fa.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(k){var q;if(this._waiters[k]){q=this._waiters[k];delete this._waiters[k];k==this._nextWaiter&&(this._nextWaiter=n(this));q.call(this,ga);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(q,t){var A,P;A=this;P=k(this._lastWaiter);this._lastWaiter=P;H(t,function(){var k,W;if(0<this._queue.length){k=this._queue.shift();setTimeout(function(){t.result(k);},0);}else{-1!=q&&(W=setTimeout(function(){delete A._waiters[P];P==A._nextWaiter&&(A._nextWaiter=n(A));t.timeout();},q));this._waiters[P]=function(k){clearTimeout(W);setTimeout(function(){t.result(k);},0);};this._nextWaiter||(this._nextWaiter=P);}},A);return P;},add:function(k){var q;if(this._nextWaiter){q=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);q.call(this,k);}else this._queue.push(k);}});}());(function(){var k;k=0-Aa;Sd=fa.Class.create({nextBoolean:function(){var k;k=new Uint8Array(1);Fb.getRandomValues(k);return k[0]&1?!0:!1;},nextInt:function(k){var n;if(null!==k&&k!==ga){if("number"!==typeof k)throw new TypeError("n must be of type number");if(1>k)throw new RangeError("n must be greater than zero");--k;n=new Uint8Array(4);Fb.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(k-0+1)+0);}k=new Uint8Array(4);Fb.getRandomValues(k);n=(k[3]&127)<<24|k[2]<<16|k[1]<<8|k[0];return k[3]&128?-n:n;},nextLong:function(){var q,n;for(var n=k;n==k;){n=new Uint8Array(7);Fb.getRandomValues(n);q=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-q-1:q;}return n;},nextBytes:function(k){Fb.getRandomValues(k);}});}());(function(){function k(k){return k==Aa?1:k+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var q=k(n._nextReader);!n._waitingReaders[q];)q=k(q);return q;}function q(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var q=k(n._nextWriter);!n._waitingWriters[q];)q=k(q);return q;}$c=fa.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(k){var t;if(this._waitingReaders[k]){t=this._waitingReaders[k];delete this._waitingReaders[k];k==this._nextReader&&(this._nextReader=n(this));t.call(this,!0);}this._waitingWriters[k]&&(t=this._waitingWriters[k],delete this._waitingWriters[k],k==this._nextWriter&&(this._nextWriter=q(this)),t.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(q,t){var A,P;A=this;P=k(this._lastNumber);this._lastNumber=P;H(t,function(){var k;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[P]=!0,P;-1!=q&&(k=setTimeout(function(){delete A._waitingReaders[P];P==A._nextReader&&(A._nextReader=n(A));t.timeout();},q));this._waitingReaders[P]=function(n){clearTimeout(k);n?setTimeout(function(){t.result(ga);},0):(A._readers[P]=!0,setTimeout(function(){t.result(P);},0));};this._nextReader||(this._nextReader=P);},A);return P;},writeLock:function(n,t){var A,P;A=this;P=k(this._lastNumber);this._lastNumber=P;H(t,function(){var k;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=P;-1!=n&&(k=setTimeout(function(){delete A._waitingWriters[P];P==A._nextWriter&&(A._nextWriter=q(A));t.timeout();},n));this._waitingWriters[P]=function(n){clearTimeout(k);n?setTimeout(function(){t.result(ga);},0):(A._writer=P,setTimeout(function(){t.result(P);},0));};this._nextWriter||(this._nextWriter=P);},A);return P;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new Y("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=q(this),n.call(this,!1));else{for(var t=this._nextReader;0<Object.keys(this._waitingReaders).length;t=k(t))this._waitingReaders[t]&&(n=this._waitingReaders[t],delete this._waitingReaders[t],n.call(this,!1));this._nextReader=0;}}});}());fa.Class.mixin(k,{JSON_PARSE_ERROR:new k(0,q.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new k(1,q.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new k(2,q.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new k(3,q.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new k(4,q.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new k(5,q.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new k(6,q.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new k(7,q.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new k(8,q.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new k(9,q.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new k(10,q.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new k(11,q.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new k(12,q.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new k(13,q.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new k(14,q.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new k(15,q.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new k(16,q.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new k(17,q.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new k(18,q.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new k(19,q.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new k(20,q.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new k(21,q.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new k(22,q.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new k(23,q.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new k(24,q.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new k(25,q.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new k(26,q.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new k(27,q.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new k(28,q.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new k(29,q.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new k(30,q.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new k(31,q.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new k(32,q.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new k(33,q.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new k(34,q.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new k(35,q.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new k(36,q.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new k(37,q.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new k(38,q.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new k(39,q.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new k(40,q.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new k(41,q.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new k(42,q.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new k(43,q.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new k(44,q.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new k(45,q.FAIL,"Error exporting key."),DIGEST_ERROR:new k(46,q.FAIL,"Error in digest."),UNSUPPORTED_KEY:new k(47,q.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new k(48,q.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new k(49,q.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new k(50,q.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new k(51,q.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new k(52,q.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new k(53,q.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new k(54,q.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new k(55,q.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new k(56,q.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new k(57,q.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new k(58,q.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new k(59,q.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new k(60,q.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new k(61,q.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new k(62,q.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new k(1E3,q.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new k(1001,q.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new k(1002,q.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new k(1003,q.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new k(1004,q.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(1005,q.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new k(1006,q.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new k(1007,q.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new k(1008,q.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new k(1009,q.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new k(1010,q.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new k(1011,q.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new k(1012,q.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new k(1013,q.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new k(1014,q.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new k(2E3,q.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new k(2001,q.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new k(2002,q.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new k(2003,q.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new k(2004,q.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new k(2005,q.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(2006,q.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(2007,q.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new k(2008,q.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new k(2009,q.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new k(2010,q.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new k(2011,q.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new k(2012,q.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new k(2013,q.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new k(2014,q.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new k(2015,q.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new k(2016,q.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new k(2017,q.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new k(2018,q.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new k(2019,q.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new k(2020,q.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new k(3E3,q.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new k(3001,q.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new k(3002,q.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new k(3003,q.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new k(3004,q.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(3005,q.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(3006,q.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new k(3007,q.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new k(3008,q.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new k(3009,q.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new k(4E3,q.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new k(4001,q.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new k(4002,q.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new k(4003,q.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new k(4004,q.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new k(4005,q.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new k(4006,q.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new k(4007,q.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new k(4008,q.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new k(4009,q.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new k(4010,q.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new k(4011,q.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new k(4012,q.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new k(4013,q.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new k(4014,q.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new k(4015,q.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new k(4016,q.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new k(4017,q.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new k(4018,q.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new k(4019,q.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new k(4020,q.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new k(4021,q.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new k(4022,q.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new k(4023,q.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new k(4024,q.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new k(4025,q.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new k(4026,q.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new k(5E3,q.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new k(5001,q.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new k(5002,q.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new k(5003,q.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new k(5004,q.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new k(5005,q.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new k(5006,q.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new k(5007,q.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new k(5008,q.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new k(5009,q.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new k(5010,q.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new k(5011,q.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new k(5012,q.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new k(5013,q.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new k(5014,q.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new k(5015,q.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new k(5016,q.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new k(5017,q.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new k(5018,q.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new k(5019,q.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new k(5020,q.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new k(5021,q.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new k(5022,q.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new k(5023,q.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new k(5024,q.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new k(5025,q.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new k(5026,q.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new k(5027,q.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new k(5028,q.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new k(5029,q.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new k(5030,q.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new k(5031,q.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new k(5032,q.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new k(5033,q.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new k(5034,q.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new k(5035,q.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new k(5036,q.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new k(5037,q.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new k(5038,q.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new k(5039,q.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new k(5040,q.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new k(6E3,q.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new k(6001,q.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new k(6002,q.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new k(6003,q.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new k(6004,q.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new k(6005,q.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new k(6006,q.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new k(6007,q.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new k(6008,q.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new k(6009,q.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new k(6010,q.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new k(6011,q.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new k(6012,q.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new k(6013,q.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new k(6014,q.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new k(6015,q.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new k(6016,q.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new k(6017,q.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new k(6018,q.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new k(6019,q.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new k(6020,q.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new k(6021,q.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new k(6022,q.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new k(6023,q.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new k(6024,q.FAIL,"Invalid header data."),PAYLOAD_INVALID:new k(6025,q.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new k(6026,q.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new k(6027,q.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new k(6028,q.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new k(6029,q.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new k(6030,q.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new k(6031,q.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new k(6032,q.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new k(6033,q.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new k(6034,q.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new k(6035,q.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new k(6036,q.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new k(6037,q.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new k(7E3,q.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new k(7001,q.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new k(7002,q.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new k(7003,q.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new k(7004,q.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new k(7005,q.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new k(7006,q.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new k(7007,q.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new k(7008,q.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new k(7009,q.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new k(7010,q.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new k(7011,q.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new k(7012,q.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new k(7013,q.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new k(7014,q.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new k(7015,q.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new k(7016,q.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new k(8E3,q.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new k(8001,q.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new k(8002,q.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new k(8003,q.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new k(8004,q.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new k(8005,q.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new k(8006,q.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new k(8007,q.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new k(8008,q.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new k(8009,q.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new k(8010,q.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new k(8011,q.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new k(8012,q.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new k(9E3,q.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new k(9001,q.FAIL,"Error communicating with MSL entity."),NONE:new k(9999,q.FAIL,"Special unit test error.")});Object.freeze(k);(function(){A=fa.Class.create(Error());A.mixin({init:function(k,n,q){var H,P,Y;function t(){return P?P:this.cause&&this.cause instanceof A?this.cause.messageId:ga;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);H=k.message;n&&(H+=" ["+n+"]");Y=this.stack;Object.defineProperties(this,{message:{value:H,writable:!1,configurable:!0},error:{value:k,writable:!1,configurable:!0},cause:{value:q,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:t,set:function(k){if(0>k||k>Aa)throw new RangeError("Message ID "+k+" is outside the valid range.");t()||(P=k);},configurable:!0},stack:{get:function(){var k;k=this.toString();Y&&(k+="\n"+Y);q&&q.stack&&(k+="\nCaused by "+q.stack);return k;},configurable:!0}});},setEntity:function(k){!k||this.masterToken||this.entityAuthenticationData||(k instanceof eb?this.masterToken=k:k instanceof Ob&&(this.entityAuthenticationData=k));return this;},setUser:function(k){!k||this.userIdToken||this.userAuthenticationData||(k instanceof ac?this.userIdToken=k:k instanceof Gb&&(this.userAuthenticationData=k));return this;},setMessageId:function(k){this.messageId=k;return this;},toString:function(){return this.name+": "+this.message;}});}());P=A.extend({init:function hc(k,n,q){hc.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});aa=A.extend({init:function Xb(k,n,q){Xb.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});bb=A.extend({init:function nb(k,n,q){nb.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){fb=fa.Class.create(Error());fb.mixin({init:function(k,n,q){var t;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);t=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:q,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();t&&(k+="\n"+t);n&&n.stack&&(k+="\nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Oa=fa.Class.create(Error());Oa.mixin({init:function(k,n){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();q&&(k+="\n"+q);n&&n.stack&&(k+="\nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Y=fa.Class.create(Error());Y.mixin({init:function(k,n){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();q&&(k+="\n"+q);n&&n.stack&&(k+="\nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Xa=fa.Class.create(Error());Xa.mixin({init:function(k,n){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();q&&(k+="\n"+q);n&&n.stack&&(k+="\nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Ga=A.extend({init:function Yb(k,n,q){Yb.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Pb=A.extend({init:function Rc(k,n){Rc.base.call(this,k);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});xa=A.extend({init:function Ea(k,n,q){Ea.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});sa=A.extend({init:function W(k,n,q){W.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var M;function k(k){return"undefined"===typeof k?!1:k;}function n(k){return k&&k.length?(cb===M.V2014_02&&(k=k.map(function(k){return"wrap"==k?"wrapKey":"unwrap"==k?"unwrapKey":k;})),k):cb===M.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function q(k,n,q,Q,L){return Promise.resolve().then(function(){return Da.importKey(k,n,q,Q,L);})["catch"](function(E){var I;if("spki"!==k&&"pkcs8"!==k)throw E;E=ASN1.webCryptoAlgorithmToJwkAlg(q);I=ASN1.webCryptoUsageToJwkKeyOps(L);E=ASN1.rsaDerToJwk(n,E,I,Q);if(!E)throw Error("Could not make valid JWK from DER input");E=JSON.stringify(E);return Da.importKey("jwk",Qc(E),q,Q,L);});}function A(k,n){return Promise.resolve().then(function(){return Da.exportKey(k,n);})["catch"](function(I){if("spki"!==k&&"pkcs8"!==k)throw I;return Da.exportKey("jwk",n).then(function(k){k=JSON.parse(Pc(new Uint8Array(k)));k=ASN1.jwkToRsaDer(k);if(!k)throw Error("Could not make valid DER from JWK input");return k.getDer().buffer;});});}M=xc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(xc);cb=M.LATEST;ya={encrypt:function(k,n,q){switch(cb){case M.LEGACY:return new Promise(function(I,J){var E;E=Da.encrypt(k,n,q);E.oncomplete=function(k){I(k.target.result);};E.onerror=function(k){J(k);};});case M.V2014_01:case M.V2014_02:return Da.encrypt(k,n,q).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(k,n,q){switch(cb){case M.LEGACY:return new Promise(function(I,J){var E;E=Da.decrypt(k,n,q);E.oncomplete=function(k){I(k.target.result);};E.onerror=function(k){J(k);};});case M.V2014_01:case M.V2014_02:return Da.decrypt(k,n,q).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(k,n,q){switch(cb){case M.LEGACY:return new Promise(function(I,J){var E;E=Da.sign(k,n,q);E.oncomplete=function(k){I(k.target.result);};E.onerror=function(k){J(k);};});case M.V2014_01:case M.V2014_02:return Da.sign(k,n,q).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(k,n,q,Q){switch(cb){case M.LEGACY:return new Promise(function(I,E){var K;K=Da.verify(k,n,q,Q);K.oncomplete=function(k){I(k.target.result);};K.onerror=function(k){E(k);};});case M.V2014_01:case M.V2014_02:return Da.verify(k,n,q,Q);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(k,n){switch(cb){case M.LEGACY:return new Promise(function(q,I){var J;J=Da.digest(k,n);J.oncomplete=function(k){q(k.target.result);};J.onerror=function(k){I(k);};});case M.V2014_01:case M.V2014_02:return Da.digest(k,n).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(q,I,J){var R,L;R=k(I);L=n(J);switch(cb){case M.LEGACY:return new Promise(function(k,n){var E;E=Da.generateKey(q,R,L);E.oncomplete=function(n){k(n.target.result);};E.onerror=function(k){n(k);};});case M.V2014_01:case M.V2014_02:return Da.generateKey(q,R,L);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(q,I,J,Q,L){var E,K;E=k(Q);K=n(L);switch(cb){case M.LEGACY:return new Promise(function(k,n){var L;L=Da.deriveKey(q,I,J,E,K);L.oncomplete=function(n){k(n.target.result);};L.onerror=function(k){n(k);};});case M.V2014_01:case M.V2014_02:return Da.deriveKey(q,I,J,E,K);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(R,I,J,Q,L){var E,K;E=k(Q);K=n(L);switch(cb){case M.LEGACY:return new Promise(function(k,n){var q;q=Da.importKey(R,I,J,E,K);q.oncomplete=function(n){k(n.target.result);};q.onerror=function(k){n(k);};});case M.V2014_01:case M.V2014_02:return q(R,I,J,E,K);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(k,n){switch(cb){case M.LEGACY:return new Promise(function(q,I){var J;J=Da.exportKey(k,n);J.oncomplete=function(k){q(k.target.result);};J.onerror=function(k){I(k);};});case M.V2014_01:case M.V2014_02:return A(k,n).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(k,n,q,Q){switch(cb){case M.LEGACY:return new Promise(function(k,E){var I;I=Da.wrapKey(n,q,Q);I.oncomplete=function(n){k(n.target.result);};I.onerror=function(k){E(k);};});case M.V2014_01:case M.V2014_02:return Da.wrapKey(k,n,q,Q).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(q,I,J,Q,L,E,K){switch(cb){case M.LEGACY:return new Promise(function(k,n){var E;E=Da.unwrapKey(I,L,J);E.oncomplete=function(n){k(n.target.result);};E.onerror=function(k){n(k);};});case M.V2014_01:case M.V2014_02:return Da.unwrapKey(q,I,J,Q,L,k(E),n(K));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};vc&&vc.getKeyByName&&(ya.getKeyByName=function(k){switch(cb){case M.LEGACY:return new Promise(function(n,q){var I;I=vc.getKeyByName(k);I.oncomplete=function(k){n(k.target.result);};I.onerror=function(k){q(k);};});case M.V2014_01:case M.V2014_02:return vc.getKeyByName(k);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});t.netflix=t.netflix||{};t.netflix.crypto=ya;}());yb={name:"AES-KW"};jb={name:"AES-CBC"};sb={name:"HMAC",hash:{name:"SHA-256"}};yc={name:"RSA-OAEP",hash:{name:"SHA-1"}};ad={name:"RSAES-PKCS1-v1_5"};Td={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hb=["encrypt","decrypt"];Ib=["wrap","unwrap"];Qb=["sign","verify"];(function(){bd=fa.Class.create({init:function(q,t,A){var M;function W(k){n(t,function(){var n;n=k?ma(k):ga;Object.defineProperties(M,{rawKey:{value:q,writable:!1,configurable:!1},keyData:{value:k,writable:!1,configurable:!1},keyDataB64:{value:n,writable:!1,configurable:!1}});return this;},M);}M=this;n(t,function(){if(!q||"object"!=typeof q)throw new P(k.INVALID_SYMMETRIC_KEY);!A&&q.extractable?ya.exportKey("raw",q).then(function(k){W(new Uint8Array(k));},function(n){t.error(new P(k.KEY_EXPORT_ERROR,"raw"));}):W(A);},M);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zb=function(k,n){new bd(k,n);};ob=function(q,t,A,H){n(H,function(){try{q="string"==typeof q?ra(q):q;}catch(M){throw new P(k.INVALID_SYMMETRIC_KEY,"keydata "+q,M);}ya.importKey("raw",q,t,!0,A).then(function(k){new bd(k,H,q);},function(n){H.error(new P(k.INVALID_SYMMETRIC_KEY));});});};}());(function(){zc=fa.Class.create({init:function(q,t,A){var M;function W(k){n(t,function(){Object.defineProperties(M,{rawKey:{value:q,writable:!1,configurable:!1},encoded:{value:k,writable:!1,configurable:!1}});return this;},M);}M=this;n(t,function(){if(!q||"object"!=typeof q||"public"!=q.type)throw new TypeError("Only original public crypto keys are supported.");!A&&q.extractable?ya.exportKey("spki",q).then(function(k){W(new Uint8Array(k));},function(n){t.error(new P(k.KEY_EXPORT_ERROR,"spki"));}):W(A);});},getEncoded:function(){return this.encoded;}});Mb=function(k,n){new zc(k,n);};cd=function(q,t,A,H){n(H,function(){try{q="string"==typeof q?ra(q):q;}catch(M){throw new P(k.INVALID_PUBLIC_KEY,"spki "+q,M);}ya.importKey("spki",q,t,!0,A).then(function(k){new zc(k,H,q);},function(n){H.error(new P(k.INVALID_PUBLIC_KEY));});});};}());(function(){Ud=fa.Class.create({init:function(q,t,A){var M;function W(k){n(t,function(){Object.defineProperties(M,{rawKey:{value:q,writable:!1,configurable:!1},encoded:{value:k,writable:!1,configurable:!1}});return this;},M);}M=this;n(t,function(){if(!q||"object"!=typeof q||"private"!=q.type)throw new TypeError("Only original private crypto keys are supported.");!A&&q.extractable?ya.exportKey("pkcs8",q).then(function(k){W(new Uint8Array(k));},function(n){t.error(new P(k.KEY_EXPORT_ERROR,"pkcs8"));}):W(A);});},getEncoded:function(){return this.encoded;}});$b=function(k,n){new Ud(k,n);};}());(function(){var q;q=gd={V1:1,V2:2};dd=fa.Class.create({init:function(k,t,A,M){n(M,function(){var n,I,J,Q;n=q.V1;I=k;J=null;for(Q in wc)if(wc[Q]==k){n=q.V2;I=null;J=k;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:I,writable:!1,configurable:!1},cipherSpec:{value:J,writable:!1,configurable:!1},iv:{value:t,writable:!1,configurable:!1},ciphertext:{value:A,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var k;k={};switch(this.version){case q.V1:k.keyid=this.keyId;this.iv&&(k.iv=ma(this.iv));k.ciphertext=ma(this.ciphertext);k.sha256="AA==";break;case q.V2:k.version=this.version;k.cipherspec=this.cipherSpec;this.iv&&(k.iv=ma(this.iv));k.ciphertext=ma(this.ciphertext);break;default:throw new Y("Ciphertext envelope version "+this.version+" encoding unsupported.");}return k;}});ed=function(k,n,q,M){new dd(k,n,q,M);};fd=function(t,A,W){n(W,function(){var n,R,I,J,Q,L,E;n=t.keyid;R=t.cipherspec;I=t.iv;J=t.ciphertext;Q=t.sha256;if(!A)if((A=t.version)&&"number"===typeof A&&A===A){L=!1;for(E in q)if(q[E]==A){L=!0;break;}if(!L)throw new P(k.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}else A=q.V1;switch(A){case q.V1:if("string"!==typeof n||I&&"string"!==typeof I||"string"!==typeof J||"string"!==typeof Q)throw new aa(k.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));break;case q.V2:E=t.version;if(E!=q.V2)throw new P(k.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));if("string"!==typeof R||I&&"string"!==typeof I||"string"!==typeof J)throw new aa(k.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));R=Qd(R);if(!R)throw new P(k.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(t));n=R;break;default:throw new P(k.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}try{I&&(I=ra(I));J=ra(J);}catch(K){throw new P(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(t),K);}new dd(n,I,J,W);});};}());(function(){var q;q=jd={V1:1,V2:2};pb=fa.Class.create({init:function(k,n,t){var M;switch(k){case q.V1:M=t;break;case q.V2:M={};M.version=k;M.algorithm=n;M.signature=ma(t);M=Ma(JSON.stringify(M),Ca);break;default:throw new Y("Signature envelope version "+k+" encoding unsupported.");}Object.defineProperties(this,{version:{value:k,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:t,writable:!1,configurable:!1},bytes:{value:M,writable:!1,configurable:!1}});}});hd=function(){var k,t,A,M;2==arguments.length?(k=q.V1,t=arguments[0],A=null,M=arguments[1]):3==arguments.length&&(k=q.V2,A=arguments[0],t=arguments[1],M=arguments[2]);n(M,function(){return new pb(k,A,t);});};id=function(t,A,H){n(H,function(){var n,R,I,J,Q,L,E;if(A)switch(A){case q.V1:return new pb(q.V1,null,t);case q.V2:try{n=Ia(t,Ca);R=JSON.parse(n);I=parseInt(R.version);J=R.algorithm;Q=R.signature;if(!I||"number"!==typeof I||I!=I||"string"!==typeof J||"string"!==typeof Q)throw new aa(k.JSON_PARSE_ERROR,"signature envelope "+ma(t));if(q.V2!=I)throw new P(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ma(t));L=Zc(J);if(!L)throw new P(k.UNIDENTIFIED_ALGORITHM,"signature envelope "+ma(t));E=ra(Q);if(!E)throw new P(k.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(t));return new pb(q.V2,L,E);}catch(K){if(K instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"signature envelope "+ma(t),K);throw K;}default:throw new P(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ma(t));}try{n=Ia(t,Ca);R=JSON.parse(n);}catch(K){R=null;}if(R&&R.version){if(n=R.version,"number"!==typeof n||n!==n)n=q.V1;}else n=q.V1;switch(n){case q.V1:return new pb(n,null,t);case q.V2:L=R.algorithm;Q=R.signature;if("string"!==typeof L||"string"!==typeof Q)return new pb(q.V1,null,t);L=Zc(L);if(!L)return new pb(q.V1,null,t);try{E=ra(Q);}catch(K){return new pb(q.V1,null,t);}return new pb(n,L,E);default:throw new P(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+t);}});};}());bc=fa.Class.create({encrypt:function(k,n){},decrypt:function(k,n){},wrap:function(k,n){},unwrap:function(k,n,q,t){},sign:function(k,n){},verify:function(k,n,q){}});(function(){var q;q=Bb={RSA_OAEP:yc.name,A128KW:yb.name};rb="A128GCM";Ab=fa.Class.create({init:function(k,n,t,M,R){switch(n){case q.RSA_OAEP:R=R&&(R.rawKey||R);M=M&&(M.rawKey||M);break;case q.A128KW:R=M=M&&(M.rawKey||M);break;default:throw new Y("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:t,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:R,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:M,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,q){q.error(new P(k.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,q){q.error(new P(k.DECRYPT_NOT_SUPPORTED));},wrap:function(q,t){n(t,function(){ya.wrapKey("jwe+jwk",q.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(k){t.result(k);},function(n){t.error(new P(k.WRAP_ERROR));});},this);},unwrap:function(q,t,A,M){function R(q){n(M,function(){switch(q.type){case"secret":Zb(q,M);break;case"public":Mb(q,M);break;case"private":$b(q,M);break;default:throw new P(k.UNSUPPORTED_KEY,"type: "+q.type);}});}n(M,function(){ya.unwrapKey("jwe+jwk",q,this._unwrapKey,this._unwrapKey.algorithm,t,!1,A).then(function(k){R(k);},function(){M.error(new P(k.UNWRAP_ERROR));});},this);},sign:function(n,q){q.error(new P(k.SIGN_NOT_SUPPORTED));},verify:function(n,q,t){t.error(new P(k.VERIFY_NOT_SUPPORTED));}});}());cc=bc.extend({encrypt:function(k,n){n.result(k);},decrypt:function(k,n){n.result(k);},wrap:function(k,n){n.result(k);},unwrap:function(k,n,q,t){t.result(k);},sign:function(k,n){n.result(new Uint8Array(0));},verify:function(k,n,q){q.result(!0);}});(function(){var q;q=Bc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Ac=bc.extend({init:function za(k,n,R,I,J){za.base.call(this);R&&(R=R.rawKey);I&&(I=I.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:R,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:I,writable:!1,enumerable:!1,configurable:!1},transform:{value:J==q.ENCRYPT_DECRYPT_PKCS1?ad:J==q.ENCRYPT_DECRYPT_OAEP?yc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:J==q.WRAP_UNWRAP_PKCS1?ad:J==q.WRAP_UNWRAP_OAEP?yc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:J==q.SIGN_VERIFY?Td:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,t){var M;M=this;n(t,function(){if("nullOp"==this.transform)return q;if(!this.publicKey)throw new P(k.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==q.length)return q;ya.encrypt(M.transform,M.publicKey,q).then(function(n){ed(M.id,null,n,{result:function(n){var q;try{q=JSON.stringify(n);t.result(Ma(q,Ca));}catch(Q){t.error(new P(k.ENCRYPT_ERROR,null,Q));}},error:function(n){n instanceof A||(n=new P(k.ENCRYPT_ERROR,null,n));t.error(n);}});},function(n){t.error(new P(k.ENCRYPT_ERROR));});},this);},decrypt:function(q,t){var M;M=this;n(t,function(){var n,I;if("nullOp"==this.transform)return q;if(!this.privateKey)throw new P(k.DECRYPT_NOT_SUPPORTED,"no private key");if(0==q.length)return q;try{I=Ia(q,Ca);n=JSON.parse(I);}catch(J){if(J instanceof SyntaxError)throw new P(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,J);throw new P(k.DECRYPT_ERROR,null,J);}fd(n,gd.V1,{result:function(n){var q;try{if(n.keyId!=M.id)throw new P(k.ENVELOPE_KEY_ID_MISMATCH);q=t.result;ya.decrypt(M.transform,M.privateKey,n.ciphertext).then(q,function(n){t.error(new P(k.DECRYPT_ERROR));});}catch(L){L instanceof A?t.error(L):t.error(new P(k.DECRYPT_ERROR,null,L));}},error:function(n){n instanceof aa&&(n=new P(k.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof A||(n=new P(k.DECRYPT_ERROR,null,n));t.error(n);}});},this);},wrap:function(q,t){n(t,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new P(k.WRAP_NOT_SUPPORTED,"no public key");n=t.result;ya.wrapKey("jwk",q.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){t.error(new P(k.WRAP_ERROR));});},this);},unwrap:function(q,t,M,R){function I(q){n(R,function(){switch(q.type){case"secret":Zb(q,R);break;case"public":Mb(q,R);break;case"private":$b(q,R);break;default:throw new P(k.UNSUPPORTED_KEY,"type: "+q.type);}});}n(R,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new P(k.UNWRAP_NOT_SUPPORTED,"no private key");ya.unwrapKey("jwk",q,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},t,!1,M).then(I,function(n){R.error(new P(k.UNWRAP_ERROR));});},this);},sign:function(q,t){n(t,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new P(k.SIGN_NOT_SUPPORTED,"no private key");ya.sign(this.algo,this.privateKey,q).then(function(k){hd(k,{result:function(k){t.result(k.bytes);},error:t.error});},function(n){t.error(new P(k.SIGNATURE_ERROR));});},this);},verify:function(q,t,M){var R;R=this;n(M,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new P(k.VERIFY_NOT_SUPPORTED,"no public key");id(t,jd.V1,{result:function(I){n(M,function(){var n;n=M.result;ya.verify(this.algo,this.publicKey,I.signature,q).then(n,function(n){M.error(new P(k.SIGNATURE_ERROR));});},R);},error:M.error});},this);}});}());(function(){Cc=bc.extend({init:function Ta(k,n,q,R,I){Ta.base.call(this);q=q&&q.rawKey;R=R&&R.rawKey;I=I&&I.rawKey;Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:q,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:R,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:I,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,t){var H;H=this;n(t,function(){var n;if(!this.encryptionKey)throw new P(k.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==q.length)return q;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);ya.encrypt({name:jb.name,iv:n},H.encryptionKey,q).then(function(q){q=new Uint8Array(q);ed(H.id,n,q,{result:function(n){var q;try{q=JSON.stringify(n);t.result(Ma(q,Ca));}catch(Q){t.error(new P(k.ENCRYPT_ERROR,null,Q));}},error:function(n){n instanceof A||(n=new P(k.ENCRYPT_ERROR,null,n));t.error(n);}});},function(n){t.error(new P(k.ENCRYPT_ERROR));});},this);},decrypt:function(q,t){var H;H=this;n(t,function(){var n,R;if(!this.encryptionKey)throw new P(k.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==q.length)return q;try{R=Ia(q,Ca);n=JSON.parse(R);}catch(I){if(I instanceof SyntaxError)throw new P(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,I);throw new P(k.DECRYPT_ERROR,null,I);}fd(n,gd.V1,{result:function(n){try{if(n.keyId!=H.id)throw new P(k.ENVELOPE_KEY_ID_MISMATCH);ya.decrypt({name:jb.name,iv:n.iv},H.encryptionKey,n.ciphertext).then(function(k){k=new Uint8Array(k);t.result(k);},function(){t.error(new P(k.DECRYPT_ERROR));});}catch(J){J instanceof A?t.error(J):t.error(new P(k.DECRYPT_ERROR,null,J));}},error:function(n){n instanceof aa&&(n=new P(k.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof A||(n=new P(k.DECRYPT_ERROR,null,n));t.error(n);}});},this);},wrap:function(q,t){n(t,function(){if(!this.wrapKey)throw new P(k.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");ya.wrapKey("raw",q.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(k){t.result(k);},function(n){t.error(new P(k.WRAP_ERROR));});},this);},unwrap:function(q,t,A,M){function R(q){n(M,function(){switch(q.type){case"secret":Zb(q,M);break;case"public":Mb(q,M);break;case"private":$b(q,M);break;default:throw new P(k.UNSUPPORTED_KEY,"type: "+q.type);}});}n(M,function(){if(!this.wrapKey)throw new P(k.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");ya.unwrapKey("raw",q,this.wrapKey,this.wrapKey.algorithm,t,!1,A).then(function(k){R(k);},function(n){M.error(new P(k.UNWRAP_ERROR));});},this);},sign:function(q,t){var A;A=this;n(t,function(){if(!this.hmacKey)throw new P(k.SIGN_NOT_SUPPORTED,"no HMAC key.");ya.sign(sb,this.hmacKey,q).then(function(k){n(t,function(){var n;n=new Uint8Array(k);hd(n,{result:function(k){t.result(k.bytes);},error:t.error});},A);},function(){t.error(new P(k.HMAC_ERROR));});},this);},verify:function(q,t,A){var M;M=this;n(A,function(){if(!this.hmacKey)throw new P(k.VERIFY_NOT_SUPPORTED,"no HMAC key.");id(t,jd.V1,{result:function(t){n(A,function(){ya.verify(sb,this.hmacKey,t.signature,q).then(function(k){A.result(k);},function(n){A.error(new P(k.HMAC_ERROR));});},M);},error:A.error});},this);}});}());$a=Cc.extend({init:function Ta(n,q,t,R,I){if(t||R||I)Ta.base.call(this,n,t+"_"+q.sequenceNumber,R,I,null);else{if(!q.isDecrypted())throw new Pb(k.MASTERTOKEN_UNTRUSTED,q);Ta.base.call(this,n,q.identity+"_"+q.sequenceNumber,q.encryptionKey,q.hmacKey,null);}}});Ye=bc.extend({encrypt:function(k,n){n.result(k);},decrypt:function(k,n){n.result(k);},wrap:function(k,n){n.error(new Y("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(k,n,q,t){t.error(new Y("Unwrap is unsupported by the MSL token crypto context."));},sign:function(k,n){n.result(new Uint8Array(0));},verify:function(k,n,q){q.result(!1);}});Fa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Fa);(function(){Ob=fa.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(k){return this===k?!0:k instanceof Ob?this.scheme==k.scheme:!1;},toJSON:function(){var k;k={};k.scheme=this.scheme;k.authdata=this.getAuthData();return k;}});Vd=function(n,q){var t,M,R;t=q.scheme;M=q.authdata;if(!t||!M)throw new aa(k.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(q));if(!Fa[t])throw new bb(k.UNIDENTIFIED_ENTITYAUTH_SCHEME,t);R=n.getEntityAuthenticationFactory(t);if(!R)throw new bb(k.ENTITYAUTH_FACTORY_NOT_FOUND,t);return R.createData(n,M);};}());Dc=fa.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createData:function(k,n){},getCryptoContext:function(k,n){}});(function(){lb=Ob.extend({init:function za(k){za.base.call(this,Fa.MGK);Object.defineProperties(this,{identity:{value:k,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function Ka(k){return this===k?!0:k instanceof lb?Ka.base.call(this,this,k)&&this.identity==k.identity:!1;}});Wd=function(n){var q;q=n.identity;if(!q)throw new aa(k.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new lb(q);};}());Ze=Dc.extend({init:function za(k){za.base.call(this,Fa.MGK);Object.defineProperties(this,{localIdentity:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Wd(n);},getCryptoContext:function(n,q){if(!(q instanceof lb))throw new Y("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new bb(k.ENTITY_NOT_FOUND,"mgk "+q.identity).setEntity(q);return new cc();}});(function(){tb=Ob.extend({init:function Ka(k){Ka.base.call(this,Fa.PSK);Object.defineProperties(this,{identity:{value:k,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function M(k){return this===k?!0:k instanceof tb?M.base.call(this,this,k)&&this.identity==k.identity:!1;}});Xd=function(n){var q;q=n.identity;if(!q)throw new aa(k.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new tb(q);};}());Yd=Dc.extend({init:function Ka(k){Ka.base.call(this,Fa.PSK);Object.defineProperties(this,{localIdentity:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Xd(n);},getCryptoContext:function(n,q){if(!(q instanceof tb))throw new Y("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.getIdentity()!=this.localIdentity)throw new bb(k.ENTITY_NOT_FOUND,"psk "+q.identity).setEntity(q);return new cc();}});(function(){Ec=Ob.extend({init:function M(k,n){M.base.call(this,Fa.RSA);Object.defineProperties(this,{identity:{value:k,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;k.pubkeyid=this.publicKeyId;return k;},equals:function R(k){return this===k?!0:k instanceof Ec?R.base.call(this,this,k)&&this.identity==k.identity&&this.publicKeyId==k.publicKeyId:!1;}});Zd=function(n){var q,J;q=n.identity;J=n.pubkeyid;if(!q||"string"!==typeof q||!J||"string"!==typeof J)throw new aa(k.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Ec(q,J);};}());$e=Dc.extend({init:function M(k){M.base.call(this,Fa.RSA);Object.defineProperties(this,{store:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Zd(n);},getCryptoContext:function(n,q){var I,J,t;if(!(q instanceof Ec))throw new Y("Incorrect authentication data type "+q+".");I=q.identity;J=q.publicKeyId;t=this.store.getPublicKey(J);if(!t)throw new bb(k.RSA_PUBLICKEY_NOT_FOUND,J).setEntity(q);return new Ac(n,I,null,t,Bc.SIGN_VERIFY);}});(function(){ic=Ob.extend({init:function R(k){R.base.call(this,Fa.NONE);Object.defineProperties(this,{identity:{value:k,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function I(k){return this===k?!0:k instanceof ic?I.base.call(this,this,k)&&this.identity==k.identity:!1;}});$d=function(n){var q;q=n.identity;if(!q)throw new aa(k.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new ic(q);};}());Ve=Dc.extend({init:function R(){R.base.call(this,Fa.NONE);},createData:function(k,n){return $d(n);},getCryptoContext:function(k,n){if(!(n instanceof ic))throw new Y("Incorrect authentication data type "+JSON.stringify(n)+".");return new cc();}});af=fa.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(k,n){if(!(n instanceof zc))throw new Y("Incorrect key data type "+n+".");this.rsaKeys[k]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(k){delete this.rsaKeys[k];},getPublicKey:function(k){return this.rsaKeys[k];}});kd=fa.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(k,n,q){}});Fc=fa.Class.create({abort:function(){},close:function(k,n){},write:function(k,n,q,t,L){},flush:function(k,n){}});bf=fa.Class.create({init:function(k){Object.defineProperties(this,{_data:{value:k,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Oa("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(k,n,q){H(q,function(){var n;if(this._closed)throw new Oa("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==k&&(k=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+k);this._currentPosition+=n.length;return n;},this);}});cf=fa.Class.create({init:function(){var k;k={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},abort:function(){},close:function(k,n){this._closed=!0;n.result(!0);},write:function(k,n,q,t,L){H(L,function(){var E;if(this._closed)throw new Oa("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(n+q>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");E=k.subarray(n,q);this._buffered.push(E);return E.length;},this);},flush:function(k,n){var q,I;for(;0<this._buffered.length;){q=this._buffered.shift();if(this._result){I=new Uint8Array(this._result.length+q.length);I.set(this._result);I.set(q,this._result.length);this._result=I;}else this._result=new Uint8Array(q);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});df=fa.Class.create({getResponse:function(k,n,q){}});(function(){var k,n;k=Fc.extend({init:function(k,n){var q;q={_httpLocation:{value:k,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new cf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ga,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ga,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new jc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,q);},setTimeout:function(k){this._timeout=k;},getResponse:function(k,n){var q;q=this;this._responseQueue.poll(k,{result:function(k){H(n,function(){k&&this._responseQueue.add(k);return k;},q);},timeout:function(){H(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},q);},error:function(k){H(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw k;},q);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(k,n){var q;q=this;H(n,function(){var k;if(this._response)return!0;k=this._buffer.toByteArray();0<k.length&&(this._abortToken=this._httpLocation.getResponse({body:k},this._timeout,{result:function(k){q._response={response:k};q._responseQueue.add(q._response);},timeout:function(){q._response={isTimeout:!0};q._responseQueue.add(q._response);},error:function(k){q._response={isError:!0,error:k};q._responseQueue.add(q._response);}}));return!0;},this);},write:function(k,n,q,E,K){H(K,function(){if(this._response)throw new Oa("HttpOutputStream already closed.");this._buffer.write(k,n,q,E,K);},this);},flush:function(k,n){H(n,function(){if(this._response)return!0;this._buffer.flush(k,n);},this);}});n=kd.extend({init:function(k){Object.defineProperties(this,{_out:{value:k,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ga,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ga,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(k,n,q){var K;function E(E){H(q,function(){if(!E)return new Uint8Array(0);this._out.getResponse(n,{result:function(E){H(q,function(){var I;if(E.isTimeout)this._timedout=!0,q.timeout();else{if(E.isError)throw this._exception=E.error||new Oa("Unknown HTTP exception."),this._exception;if(!E.response)throw this._exception=new Oa("Missing HTTP response."),this._exception;E.response.json!==ga&&(this._json=E.response.json,this.getJSON=function(){return K._json;});I=E.response.content||Qc("string"===typeof E.response.body?E.response.body:JSON.stringify(this._json));this._buffer=new bf(I);this._buffer.read(k,n,q);}},K);},timeout:function(){q.timeout();},error:function(k){q.error(k);}});},K);}K=this;H(q,function(){if(this._exception)throw this._exception;if(this._timedout)q.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(k,n,q):this._out.close(n,{result:function(k){E(k);},timeout:function(){q.timeout();},error:function(k){q.error(k);}});}},K);}});Gd=fa.Class.create({init:function(k,n){Object.defineProperties(this,{_httpLocation:{value:k,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(k){this._timeout=k;},openConnection:function(){var q;q=new k(this._httpLocation,this._timeout);return{input:new n(q),output:q};}});}());(function(){var k,n;k=Fc.extend({init:function(){var k;k={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},setTimeout:function(){},getResponse:function(k,n){n.result({success:!1,content:null,errorHttpCode:ga,errorSubCode:ga});},abort:function(){},close:function(k,n){n.result(!0);},write:function(k,n,q,E,K){var I,t;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(n+q>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");I=k.subarray(n,q);t=new Uint8Array(this._buffer.length+I.length);t.set(this._buffer);t.set(I,this._buffer.length);this._buffer=t;K.result(I.length);}catch(Ha){K.error(Ha);}},flush:function(k,n){n.result(!0);},request:function(){return this._buffer;}});n=kd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(k,n,q){q.result(new Uint8Array(16));}});Hd=fa.Class.create({init:function(){var q;q={output:{value:new k(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,q);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Pc(this.output.request());}});}());ae=function(k,n,q){function I(k){var n,q;k=new ef(Ia(k,"utf-8"));n=[];for(q=k.nextValue();q!==ga;)n.push(q),q=k.nextValue();return n;}(function(k,n,K){k.read(-1,n,{result:function(k){k&&k.length?K(null,k):K(null,null);},timeout:function(){q.timeout();},error:function(k){K(k,null);}});}(k,n,function(n,E){n?q.error(n):E?k.getJSON!==ga&&"function"===typeof k.getJSON?q.result(k.getJSON()):q.result(I(E)):q.result(null);}));};kb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kb);(function(){kc=fa.Class.create({init:function(k){Object.defineProperties(this,{keyExchangeScheme:{value:k,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var k;k={};k.scheme=this.keyExchangeScheme;k.keydata=this.getKeydata();return k;},equals:function(k){return this===k?!0:k instanceof kc?this.keyExchangeScheme==k.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});be=function(q,I,t){n(t,function(){var n,J,E;n=I.scheme;J=I.keydata;if(!n||!J||"object"!==typeof J)throw new aa(k.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(I));if(!kb[n])throw new Ga(k.UNIDENTIFIED_KEYX_SCHEME,n);E=q.getKeyExchangeFactory(n);if(!E)throw new Ga(k.KEYX_FACTORY_NOT_FOUND,n);E.createRequestData(q,J,t);});};}());(function(){lc=fa.Class.create({init:function(k,n){Object.defineProperties(this,{masterToken:{value:k,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var k;k={};k.mastertoken=this.masterToken;k.scheme=this.keyExchangeScheme;k.keydata=this.getKeydata();return k;},equals:function(k){return this===k?!0:k instanceof lc?this.masterToken.equals(k.masterToken)&&this.keyExchangeScheme==k.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});ce=function(q,I,t){n(t,function(){var J,L,E;J=I.mastertoken;L=I.scheme;E=I.keydata;if(!L||!J||"object"!==typeof J||!E||"object"!==typeof E)throw new aa(k.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(I));if(!kb[L])throw new Ga(k.UNIDENTIFIED_KEYX_SCHEME,L);Rb(q,J,{result:function(K){n(t,function(){var n;n=q.getKeyExchangeFactory(L);if(!n)throw new Ga(k.KEYX_FACTORY_NOT_FOUND,L);return n.createResponseData(q,K,E);});},error:function(k){t.error(k);}});});};}());(function(){var q;q=fa.Class.create({init:function(k,n){Object.defineProperties(this,{keyResponseData:{value:k,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});qb=fa.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createRequestData:function(k,n,q){},createResponseData:function(k,n,q){},generateResponse:function(k,n,q,t){},getCryptoContext:function(k,n,q,t,E){},generateSessionKeys:function(q,t){n(t,function(){var n,I;n=new Uint8Array(16);I=new Uint8Array(32);q.getRandom().nextBytes(n);q.getRandom().nextBytes(I);ob(n,jb,Hb,{result:function(n){ob(I,sb,Qb,{result:function(k){t.result({encryptionKey:n,hmacKey:k});},error:function(n){t.error(new P(k.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){t.error(new P(k.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(k,n,q){ob(k,jb,Hb,{result:function(k){ob(n,sb,Qb,{result:function(n){q.result({encryptionKey:k,hmacKey:n});},error:function(k){q.error(k);}});},error:function(k){q.error(k);}});}});qb.KeyExchangeData=q;}());(function(){var t,J,Q;function q(q,E,K,I,J){n(J,function(){var qa,L;switch(E){case t.PSK:qa=new tb(I),L=q.getEntityAuthenticationFactory(Fa.PSK);if(!L)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,E);qa=L.getCryptoContext(q,qa);return new Ab(q,Bb.A128KW,rb,ga);case t.MGK:qa=new lb(I);L=q.getEntityAuthenticationFactory(Fa.MGK);if(!L)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,E);qa=L.getCryptoContext(q,qa);return new Ab(q,Bb.A128KW,rb,ga);case t.WRAP:qa=q.getMslCryptoContext();qa.unwrap(K,yb,Ib,{result:function(f){n(J,function(){return new Ab(q,Bb.A128KW,rb,f);});},error:J.error});break;default:throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,E);}});}t={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};J=ld=kc.extend({init:function E(k,n){E.base.call(this,kb.JWE_LADDER);switch(k){case t.WRAP:if(!n)throw new Y("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.mechanism=this.mechanism;this.wrapdata&&(k.wrapdata=ma(this.wrapdata));return k;},equals:function K(k){return k===this?!0:k instanceof ld?K.base.call(this,k)&&this.mechanism==k.mechanism&&Wa(this.wrapdata,k.wrapdata):!1;},uniqueKey:function La(){var k;k=La.base.call(this)+":"+this.mechanism;this.wrapdata&&(k+=":"+ib(this.wrapdata));return k;}});Q=ee=lc.extend({init:function qa(k,n,f,c,a){qa.base.call(this,k,kb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:f,writable:!1,configurable:!1},encryptionKey:{value:c,writable:!1,configurable:!1},hmacKey:{value:a,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.wrapkey=ma(this.wrapKey);k.wrapdata=ma(this.wrapdata);k.encryptionkey=ma(this.encryptionKey);k.hmackey=ma(this.hmacKey);return k;},equals:function Ha(k){return this===k?!0:k instanceof ee?Ha.base.call(this,k)&&Wa(this.wrapKey,k.wrapKey)&&Wa(this.wrapdata,k.wrapdata)&&Wa(this.encryptionKey,k.encryptionKey)&&Wa(this.hmacKey,k.hmacKey):!1;},uniqueKey:function va(){return va.base.call(this)+":"+ib(this.wrapKey)+":"+ib(this.wrapdata)+":"+ib(this.encryptionKey)+":"+ib(this.hmacKey);}});de=qb.extend({init:function f(c){f.base.call(this,kb.JWE_LADDER);Object.defineProperties(this,{repository:{value:c,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(f,c,a){n(a,function(){var a,d,h;a=c.mechanism;d=c.wrapdata;if(!a||a==t.WRAP&&(!d||"string"!==typeof d))throw new aa(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(c));if(!t[a])throw new Ga(k.UNIDENTIFIED_KEYX_MECHANISM,a);switch(a){case t.WRAP:try{h=ra(d);}catch(l){throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+c.toString());}if(null==h||0==h.length)throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+c.toString());break;default:h=null;}return new J(a,h);});},createResponseData:function(f,c,a){var b,d,h,l,g,m,p;f=a.wrapkey;b=a.wrapdata;d=a.encryptionkey;h=a.hmackey;if(!(f&&"string"===typeof f&&b&&"string"===typeof b&&d&&"string"===typeof d&&h)||"string"!==typeof h)throw new aa(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(a));try{l=ra(f);g=ra(b);}catch(r){throw new P(k.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(a),r);}try{m=ra(d);}catch(r){throw new P(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(a),r);}try{p=ra(h);}catch(r){throw new P(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(a),r);}return new Q(c,l,g,m,p);},generateResponse:function(f,c,a,b){var m,p;function d(a,c,g){m.generateSessionKeys(f,{result:function(p){n(b,function(){h(a,c,g,p.encryptionKey,p.hmacKey);},m);},error:function(a){n(b,function(){a instanceof A&&a.setEntity(p);throw a;});}});}function h(a,g,d,h,w){n(b,function(){q(f,c.mechanism,c.wrapdata,a,{result:function(a){a.wrap(g,{result:function(a){l(g,d,h,w,a);},error:function(a){n(b,function(){a instanceof A&&a.setEntity(p);throw a;});}});},error:function(a){n(b,function(){a instanceof A&&a.setEntity(p);throw a;});}});},m);}function l(a,c,d,h,l){n(b,function(){var m;m=new Ab(f,Bb.A128KW,rb,a);m.wrap(d,{result:function(a){m.wrap(h,{result:function(b){g(c,l,d,a,h,b);},error:function(a){n(b,function(){a instanceof A&&a.setEntity(p);throw a;});}});},error:function(a){n(b,function(){a instanceof A&&a.setEntity(p);throw a;});}});},m);}function g(c,g,d,h,l,G){n(b,function(){var r;r=f.getTokenFactory();p?r.renewMasterToken(f,p,d,l,{result:function(a){n(b,function(){var p,d;p=new $a(f,a);d=new Q(a,g,c,h,G);return new qb.KeyExchangeData(d,p,b);},m);},error:function(a){n(b,function(){a instanceof A&&a.setEntity(p);throw a;});}}):r.createMasterToken(f,a,d,l,{result:function(a){n(b,function(){var p,d;p=new $a(f,a);d=new Q(a,g,c,h,G);return new qb.KeyExchangeData(d,p,b);},m);},error:b.error});},m);}m=this;n(b,function(){var g,h;if(!(c instanceof J))throw new Y("Key request data "+JSON.stringify(c)+" was not created by this factory.");g=a;if(a instanceof eb){if(!a.isVerified())throw new Pb(k.MASTERTOKEN_UNTRUSTED,a);p=a;g=a.identity;}h=new Uint8Array(16);f.getRandom().nextBytes(h);ob(h,yb,Ib,{result:function(a){n(b,function(){f.getMslCryptoContext().wrap(a,{result:function(b){d(g,a,b);},error:function(a){n(b,function(){a instanceof A&&a.setEntity(p);throw a;},m);}});},m);},error:function(a){n(b,function(){throw new P(k.WRAP_KEY_CREATION_FAILURE,null,a).setEntity(p);},m);}});},m);},getCryptoContext:function(f,c,a,b,d){var l;function h(a,b,c,r,h){n(d,function(){var g;g=new Ab(f,Bb.A128KW,rb,h);g.unwrap(b.encryptionKey,jb,Hb,{result:function(p){g.unwrap(b.hmacKey,sb,Qb,{result:function(a){n(d,function(){this.repository.addCryptoContext(b.wrapdata,g);this.repository.removeCryptoContext(c);return new $a(f,b.masterToken,r,p,a);},l);},error:function(b){n(d,function(){b instanceof A&&b.setEntity(a);throw b;});}});},error:function(b){n(d,function(){b instanceof A&&b.setEntity(a);throw b;});}});},l);}l=this;n(d,function(){var b,m;if(!(c instanceof J))throw new Y("Key request data "+JSON.stringify(c)+" was not created by this factory.");if(!(a instanceof Q))throw new Y("Key response data "+JSON.stringify(a)+" was not created by this factory.");b=c.mechanism;m=c.wrapdata;f.getEntityAuthenticationData(null,{result:function(c){n(d,function(){var g,p,l;g=c.getIdentity();switch(b){case t.PSK:p=new tb(g);l=f.getEntityAuthenticationFactory(Fa.PSK);if(!l)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,b).setEntity(c);p=l.getCryptoContext(f,p);p=new Ab(f,Bb.A128KW,rb,ga);break;case t.MGK:p=new lb(g);l=f.getEntityAuthenticationFactory(Fa.MGK);if(!l)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,b).setEntity(c);p=l.getCryptoContext(f,p);p=new Ab(f,Bb.A128KW,rb,p.wrapKey);break;case t.WRAP:p=this.repository.getCryptoContext(m);if(!p)throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,ma(m)).setEntity(c);break;default:throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,b).setEntity(c);}p.unwrap(a.wrapKey,yb,Ib,{result:function(b){h(c,a,m,g,b);},error:function(a){n(d,function(){a instanceof A&&a.setEntity(c);throw a;});}});},l);},error:d.error});},l);}});}());(function(){var t,J,Q,L;function q(q,K,I,J,Q){n(Q,function(){var E,f;switch(K){case t.PSK:E=new tb(J),f=q.getEntityAuthenticationFactory(Fa.PSK);if(!f)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,K);E=f.getCryptoContext(q,E);return new L(ga);case t.MGK:E=new lb(J);f=q.getEntityAuthenticationFactory(Fa.MGK);if(!f)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,K);E=f.getCryptoContext(q,E);return new L(ga);case t.WRAP:E=q.getMslCryptoContext();E.unwrap(I,yb,Ib,{result:function(c){n(Q,function(){return new L(c);});},error:Q.error});break;default:throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,K);}});}t={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};J=Gc=kc.extend({init:function K(k,n){K.base.call(this,kb.JWK_LADDER);switch(k){case t.WRAP:if(!n)throw new Y("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.mechanism=this.mechanism;this.wrapdata&&(k.wrapdata=ma(this.wrapdata));return k;},equals:function La(k){return k===this?!0:k instanceof Gc?La.base.call(this,k)&&this.mechanism==k.mechanism&&Wa(this.wrapdata,k.wrapdata):!1;},uniqueKey:function qa(){var k;k=qa.base.call(this)+":"+this.mechanism;this.wrapdata&&(k+=":"+ib(this.wrapdata));return k;}});Q=fe=lc.extend({init:function Ha(k,f,c,a,b){Ha.base.call(this,k,kb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:f,writable:!1,configurable:!1},wrapdata:{value:c,writable:!1,configurable:!1},encryptionKey:{value:a,writable:!1,configurable:!1},hmacKey:{value:b,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.wrapkey=ma(this.wrapKey);k.wrapdata=ma(this.wrapdata);k.encryptionkey=ma(this.encryptionKey);k.hmackey=ma(this.hmacKey);return k;},equals:function va(f){return this===f?!0:f instanceof fe?va.base.call(this,f)&&Wa(this.wrapKey,f.wrapKey)&&Wa(this.wrapdata,f.wrapdata)&&Wa(this.encryptionKey,f.encryptionKey)&&Wa(this.hmacKey,f.hmacKey):!1;},uniqueKey:function f(){return f.base.call(this)+":"+ib(this.wrapKey)+":"+ib(this.wrapdata)+":"+ib(this.encryptionKey)+":"+ib(this.hmacKey);}});L=bc.extend({init:function(f){f&&f.rawKey&&(f=f.rawKey);Object.defineProperties(this,{_wrapKey:{value:f,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(f,c){c.error(new P(k.ENCRYPT_NOT_SUPPORTED));},decrypt:function(f,c){c.error(new P(k.DECRYPT_NOT_SUPPORTED));},wrap:function(f,c){n(c,function(){ya.wrapKey("jwk",f.rawKey,this._wrapKey,yb).then(function(a){c.result(a);},function(a){c.error(new P(k.WRAP_ERROR));});},this);},unwrap:function(f,c,a,b){function d(a){n(b,function(){switch(a.type){case"secret":Zb(a,b);break;case"public":Mb(a,b);break;case"private":$b(a,b);break;default:throw new P(k.UNSUPPORTED_KEY,"type: "+a.type);}});}n(b,function(){ya.unwrapKey("jwk",f,this._wrapKey,yb,c,!1,a).then(function(a){d(a);},function(a){b.error(new P(k.UNWRAP_ERROR));});},this);},sign:function(f,c){c.error(new P(k.SIGN_NOT_SUPPORTED));},verify:function(f,c,a){a.error(new P(k.VERIFY_NOT_SUPPORTED));}});md=qb.extend({init:function c(a){c.base.call(this,kb.JWK_LADDER);Object.defineProperties(this,{repository:{value:a,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(c,a,b){n(b,function(){var b,c,l;b=a.mechanism;c=a.wrapdata;if(!b||b==t.WRAP&&(!c||"string"!==typeof c))throw new aa(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(a));if(!t[b])throw new Ga(k.UNIDENTIFIED_KEYX_MECHANISM,b);switch(b){case t.WRAP:try{l=ra(c);}catch(g){throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+a.toString());}if(null==l||0==l.length)throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+a.toString());break;default:l=null;}return new J(b,l);});},createResponseData:function(c,a,b){var d,h,l,g,m,p,r;c=b.wrapkey;d=b.wrapdata;h=b.encryptionkey;l=b.hmackey;if(!(c&&"string"===typeof c&&d&&"string"===typeof d&&h&&"string"===typeof h&&l)||"string"!==typeof l)throw new aa(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(b));try{g=ra(c);m=ra(d);}catch(u){throw new P(k.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(b),u);}try{p=ra(h);}catch(u){throw new P(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(b),u);}try{r=ra(l);}catch(u){throw new P(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(b),u);}return new Q(a,g,m,p,r);},generateResponse:function(c,a,b,d){var p,r;function h(a,b,g){p.generateSessionKeys(c,{result:function(c){n(d,function(){l(a,b,g,c.encryptionKey,c.hmacKey);},p);},error:function(a){n(d,function(){a instanceof A&&a.setEntity(r);throw a;});}});}function l(b,m,h,l,G){n(d,function(){q(c,a.mechanism,a.wrapdata,b,{result:function(a){a.wrap(m,{result:function(a){g(m,h,l,G,a);},error:function(a){n(d,function(){a instanceof A&&a.setEntity(r);throw a;});}});},error:function(a){n(d,function(){a instanceof A&&a.setEntity(r);throw a;});}});},p);}function g(a,b,c,g,h){n(d,function(){var p;p=new L(a);p.wrap(c,{result:function(a){p.wrap(g,{result:function(p){m(b,h,c,a,g,p);},error:function(a){n(d,function(){a instanceof A&&a.setEntity(r);throw a;});}});},error:function(a){n(d,function(){a instanceof A&&a.setEntity(r);throw a;});}});},p);}function m(a,g,m,h,l,x){n(d,function(){var u;u=c.getTokenFactory();r?u.renewMasterToken(c,r,m,l,{result:function(b){n(d,function(){var p,m;p=new $a(c,b);m=new Q(b,g,a,h,x);return new qb.KeyExchangeData(m,p,d);},p);},error:function(a){n(d,function(){a instanceof A&&a.setEntity(r);throw a;});}}):u.createMasterToken(c,b,m,l,{result:function(b){n(d,function(){var p,m;p=new $a(c,b);m=new Q(b,g,a,h,x);return new qb.KeyExchangeData(m,p,d);},p);},error:d.error});},p);}p=this;n(d,function(){var g,m;if(!(a instanceof J))throw new Y("Key request data "+JSON.stringify(a)+" was not created by this factory.");g=b;if(b instanceof eb){if(!b.isVerified())throw new Pb(k.MASTERTOKEN_UNTRUSTED,b);r=b;g=b.identity;}m=new Uint8Array(16);c.getRandom().nextBytes(m);ob(m,yb,Ib,{result:function(a){n(d,function(){c.getMslCryptoContext().wrap(a,{result:function(b){h(g,a,b);},error:function(a){n(d,function(){a instanceof A&&a.setEntity(r);throw a;},p);}});},p);},error:function(a){n(d,function(){throw new P(k.WRAP_KEY_CREATION_FAILURE,null,a).setEntity(r);},p);}});},p);},getCryptoContext:function(c,a,b,d,h){var g;function l(a,b,d,u,l){n(h,function(){var p;p=new L(l);p.unwrap(b.encryptionKey,jb,Hb,{result:function(m){p.unwrap(b.hmacKey,sb,Qb,{result:function(a){n(h,function(){this.repository.addCryptoContext(b.wrapdata,p);this.repository.removeCryptoContext(d);return new $a(c,b.masterToken,u,m,a);},g);},error:function(b){n(h,function(){b instanceof A&&b.setEntity(a);throw b;});}});},error:function(b){n(h,function(){b instanceof A&&b.setEntity(a);throw b;});}});},g);}g=this;n(h,function(){var d,p;if(!(a instanceof J))throw new Y("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(b instanceof Q))throw new Y("Key response data "+JSON.stringify(b)+" was not created by this factory.");d=a.mechanism;p=a.wrapdata;c.getEntityAuthenticationData(null,{result:function(a){n(h,function(){var g,m,r;g=a.getIdentity();switch(d){case t.PSK:m=new tb(g);r=c.getEntityAuthenticationFactory(Fa.PSK);if(!r)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,d).setEntity(a);m=r.getCryptoContext(c,m);m=new L(m.wrapKey);break;case t.MGK:m=new lb(g);r=c.getEntityAuthenticationFactory(Fa.MGK);if(!r)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,d).setEntity(a);m=r.getCryptoContext(c,m);m=new L(m.wrapKey);break;case t.WRAP:m=this.repository.getCryptoContext(p);if(!m)throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,ma(p)).setEntity(a);break;default:throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,d).setEntity(a);}m.unwrap(b.wrapKey,yb,Ib,{result:function(c){l(a,b,p,g,c);},error:function(b){n(h,function(){b instanceof A&&b.setEntity(a);throw b;});}});},g);},error:h.error});},g);}});}());ff=fa.Class.create({addCryptoContext:function(k,n){},getCryptoContext:function(k){},removeCryptoContext:function(k){}});(function(){var t,J,Q,L;function q(n,q,I,J,L){switch(I){case t.JWE_RSA:case t.JWEJS_RSA:return new Ab(n,Bb.RSA_OAEP,rb,J,L);case t.JWK_RSA:return new Ac(n,q,J,L,Bc.WRAP_UNWRAP_OAEP);case t.JWK_RSAES:return new Ac(n,q,J,L,Bc.WRAP_UNWRAP_PKCS1);default:throw new P(k.UNSUPPORTED_KEYX_MECHANISM,I);}}t=Hc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};J=Vc=kc.extend({init:function K(k,n,q,t){K.base.call(this,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:k,writable:!1,configurable:!1},mechanism:{value:n,writable:!1,configurable:!1},publicKey:{value:q,writable:!1,configurable:!1},privateKey:{value:t,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.keypairid=this.keyPairId;k.mechanism=this.mechanism;k.publickey=ma(this.publicKey.getEncoded());return k;},equals:function La(k){var n;if(k===this)return!0;if(!(k instanceof Vc))return!1;n=this.privateKey===k.privateKey||this.privateKey&&k.privateKey&&Wa(this.privateKey.getEncoded(),k.privateKey.getEncoded());return La.base.call(this,k)&&this.keyPairId==k.keyPairId&&this.mechanism==k.mechanism&&Wa(this.publicKey.getEncoded(),k.publicKey.getEncoded())&&n;},uniqueKey:function qa(){var k,n;k=this.publicKey.getEncoded();n=this.privateKey&&this.privateKey.getEncoded();k=qa.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+ib(k);n&&(k+=":"+ib(n));return k;}});Q=function(q,I){n(I,function(){var n,f,c,a;n=q.keypairid;f=q.mechanism;c=q.publickey;if(!n||"string"!==typeof n||!f||!c||"string"!==typeof c)throw new aa(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(q));if(!t[f])throw new Ga(k.UNIDENTIFIED_KEYX_MECHANISM,f);try{a=ra(c);switch(f){case t.JWE_RSA:case t.JWEJS_RSA:case t.JWK_RSA:cd(a,yc,Ib,{result:function(a){I.result(new J(n,f,a,null));},error:function(a){I.error(a);}});break;case t.JWK_RSAES:cd(a,ad,Ib,{result:function(a){I.result(new J(n,f,a,null));},error:function(a){I.error(a);}});break;default:throw new P(k.UNSUPPORTED_KEYX_MECHANISM,f);}}catch(b){if(!(b instanceof A))throw new P(k.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(q),b);throw b;}});};L=ge=lc.extend({init:function Ha(k,f,c,a){Ha.base.call(this,k,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:f,writable:!1,configurable:!1},encryptionKey:{value:c,writable:!1,configurable:!1},hmacKey:{value:a,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.keypairid=this.keyPairId;k.encryptionkey=ma(this.encryptionKey);k.hmackey=ma(this.hmacKey);return k;},equals:function va(f){return this===f?!0:f instanceof ge?va.base.call(this,f)&&this.keyPairId==f.keyPairId&&Wa(this.encryptionKey,f.encryptionKey)&&Wa(this.hmacKey,f.hmacKey):!1;},uniqueKey:function f(){return f.base.call(this)+":"+this.keyPairId+":"+ib(this.encryptionKey)+":"+ib(this.hmacKey);}});Id=qb.extend({init:function c(){c.base.call(this,kb.ASYMMETRIC_WRAPPED);},createRequestData:function(c,a,b){Q(a,b);},createResponseData:function(c,a,b){var d,h,l,g;c=b.keypairid;d=b.encryptionkey;h=b.hmackey;if(!c||"string"!==typeof c||!d||"string"!==typeof d||!h||"string"!==typeof h)throw new aa(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(b));try{l=ra(d);}catch(m){throw new P(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(b),m);}try{g=ra(h);}catch(m){throw new P(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(b),m);}return new L(a,c,l,g);},generateResponse:function(c,a,b,d){var g;function h(m,p){n(d,function(){var r;r=q(c,a.keyPairId,a.mechanism,null,a.publicKey);r.wrap(m,{result:function(a){n(d,function(){r.wrap(p,{result:function(b){l(m,a,p,b);},error:function(a){n(d,function(){a instanceof A&&b instanceof eb&&a.setEntity(b);throw a;},g);}});},g);},error:function(a){n(d,function(){a instanceof A&&b instanceof eb&&a.setEntity(b);throw a;},g);}});},g);}function l(m,p,r,h){n(d,function(){var u;u=c.getTokenFactory();b instanceof eb?u.renewMasterToken(c,b,m,r,{result:function(b){n(d,function(){var g,m;g=new $a(c,b);m=new L(b,a.keyPairId,p,h);return new qb.KeyExchangeData(m,g,d);},g);},error:function(a){n(d,function(){a instanceof A&&a.setEntity(b);throw a;},g);}}):u.createMasterToken(c,b,m,r,{result:function(b){n(d,function(){var g,m;g=new $a(c,b);m=new L(b,a.keyPairId,p,h);return new qb.KeyExchangeData(m,g,d);},g);},error:d.error});},g);}g=this;n(d,function(){if(!(a instanceof J))throw new Y("Key request data "+JSON.stringify(a)+" was not created by this factory.");this.generateSessionKeys(c,{result:function(a){h(a.encryptionKey,a.hmacKey);},error:function(a){n(d,function(){a instanceof A&&b instanceof eb&&a.setEntity(b);throw a;},g);}});},g);},getCryptoContext:function(c,a,b,d,h){var l;l=this;n(h,function(){var g,m,p;if(!(a instanceof J))throw new Y("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(b instanceof L))throw new Y("Key response data "+JSON.stringify(b)+" was not created by this factory.");g=a.keyPairId;m=b.keyPairId;if(g!=m)throw new Ga(k.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+g+"; response "+m).setEntity(d);m=a.privateKey;if(!m)throw new Ga(k.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(d);p=q(c,g,a.mechanism,m,null);p.unwrap(b.encryptionKey,jb,Hb,{result:function(a){p.unwrap(b.hmacKey,sb,Qb,{result:function(g){c.getEntityAuthenticationData(null,{result:function(p){n(h,function(){var d;d=p.getIdentity();return new $a(c,b.masterToken,d,a,g);},l);},error:function(a){n(h,function(){a instanceof A&&a.setEntity(d);throw a;},l);}});},error:function(a){n(h,function(){a instanceof A&&a.setEntity(d);throw a;},l);}});},error:function(a){n(h,function(){a instanceof A&&a.setEntity(d);throw a;},l);}});},l);}});}());ef=fa.Class.create({init:function(k){var n,q,t,L,E,K,A,qa;n=Qa.parser();q=[];t=[];A=0;qa=!1;n.onerror=function(k){qa||(qa=!0,n.end());};n.onopenobject=function(k){var n;if(L)L[K]={},t.push(L),L=L[K];else if(E){n={};t.push(E);E.push(n);L=n;E=ga;}else L={};K=k;};n.oncloseobject=function(){var k;k=t.pop();k?"object"===typeof k?L=k:(L=ga,E=k):(q.push(L),A=n.index,L=ga);};n.onopenarray=function(){var k;if(L)L[K]=[],t.push(L),E=L[K],L=ga;else if(E){k=[];t.push(E);E.push(k);E=k;}else E=[];};n.onclosearray=function(){var k;k=t.pop();k?"object"===typeof k?(L=k,E=ga):E=k:(q.push(E),A=n.index,E=ga);};n.onkey=function(k){K=k;};n.onvalue=function(k){L?L[K]=k:E?E.push(k):(q.push(k),A=n.index);};n.write(k).close();Object.defineProperties(this,{_values:{value:q,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:A,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?ga:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var q,t,J,Q,L;q=nd="entityauthdata";t=ie="mastertoken";J=je="headerdata";Q=ke="errordata";L=od="signature";he=function(E,K,I,qa){n(qa,function(){var n,A,f,c,a,b;n=K[q];A=K[t];f=K[L];if(n&&"object"!==typeof n||A&&"object"!==typeof A||"string"!==typeof f)throw new aa(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(K));try{c=ra(f);}catch(d){throw new xa(k.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(K),d);}a=null;n&&(a=Vd(E,n));b=K[J];if(b!=ga&&null!=b){if("string"!==typeof b)throw new aa(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(K));A?Rb(E,A,{result:function(d){pd(E,b,a,d,c,I,qa);},error:function(a){qa.error(a);}}):pd(E,b,a,null,c,I,qa);}else if(n=K[Q],n!=ga&&null!=n){if("string"!==typeof n)throw new aa(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(K));le(E,n,a,c,qa);}else throw new aa(k.JSON_PARSE_ERROR,JSON.stringify(K));});};}());(function(){function t(k,n){this.errordata=k;this.signature=n;}Lb=fa.Class.create({init:function(q,t,Q,L,E,K,R,qa,Ha,va){var f;f=this;n(va,function(){var c,a;0>K&&(K=-1);if(0>L||L>Aa)throw new Y("Message ID "+L+" is out of range.");if(!t)throw new xa(k.MESSAGE_ENTITY_NOT_FOUND);if(Ha)return Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:Q,writable:!1,configurable:!1},messageId:{value:L,writable:!1,configurable:!1},errorCode:{value:E,writable:!1,configurable:!1},internalCode:{value:K,writable:!1,configurable:!1},errorMessage:{value:R,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:Ha.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ha.signature,writable:!1,enumerable:!1,configurable:!1}}),this;c={};Q&&(c.recipient=Q);c.messageid=L;c.errorcode=E;0<K&&(c.internalcode=K);R&&(c.errormsg=R);qa&&(c.usermsg=qa);try{a=q.getEntityAuthenticationFactory(t.scheme).getCryptoContext(q,t);}catch(b){throw b instanceof A&&(b.setEntity(t),b.setMessageId(L)),b;}c=Ma(JSON.stringify(c),Ca);a.encrypt(c,{result:function(b){n(va,function(){a.sign(b,{result:function(a){n(va,function(){Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:Q,writable:!1,configurable:!1},messageId:{value:L,writable:!1,configurable:!1},errorCode:{value:E,writable:!1,configurable:!1},internalCode:{value:K,writable:!1,configurable:!1},errorMessage:{value:R,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},f);},error:function(a){n(va,function(){a instanceof A&&(a.setEntity(t),a.setMessageId(L));throw a;},f);}});},f);},error:function(a){n(va,function(){a instanceof A&&(a.setEntity(t),a.setMessageId(L));throw a;},f);}});},f);},toJSON:function(){var k;k={};k[nd]=this.entityAuthenticationData;k[ke]=ma(this.errordata);k[od]=ma(this.signature);return k;}});me=function(k,n,q,t,E,K,A,qa,R){new Lb(k,n,q,t,E,K,A,qa,null,R);};le=function(I,J,Q,L,E){n(E,function(){var K,R,qa;if(!Q)throw new xa(k.MESSAGE_ENTITY_NOT_FOUND);try{R=Q.scheme;qa=I.getEntityAuthenticationFactory(R);if(!qa)throw new bb(k.ENTITYAUTH_FACTORY_NOT_FOUND,R);K=qa.getCryptoContext(I,Q);}catch(Ha){throw Ha instanceof A&&Ha.setEntity(Q),Ha;}try{J=ra(J);}catch(Ha){throw new xa(k.HEADER_DATA_INVALID,J,Ha).setEntity(Q);}if(!J||0==J.length)throw new xa(k.HEADER_DATA_MISSING,J).setEntity(Q);K.verify(J,L,{result:function(qa){n(E,function(){if(!qa)throw new P(k.MESSAGE_VERIFICATION_FAILED).setEntity(Q);K.decrypt(J,{result:function(K){n(E,function(){var f,c,a,b,d,h,l,g;f=Ia(K,Ca);try{c=JSON.parse(f);}catch(p){if(p instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"errordata "+f,p).setEntity(Q);throw p;}a=c.recipient!==ga?c.recipient:null;b=parseInt(c.messageid);d=parseInt(c.errorcode);h=parseInt(c.internalcode);l=c.errormsg;g=c.usermsg;if(a&&"string"!==typeof a||!b||b!=b||!d||d!=d||c.internalcode&&h!=h||l&&"string"!==typeof l||g&&"string"!==typeof g)throw new aa(k.JSON_PARSE_ERROR,"errordata "+f).setEntity(Q);if(0>b||b>Aa)throw new xa(k.MESSAGE_ID_OUT_OF_RANGE,"errordata "+f).setEntity(Q);c=!1;for(var m in q)if(q[m]==d){c=!0;break;}c||(d=q.FAIL);if(h){if(0>h)throw new xa(k.INTERNAL_CODE_NEGATIVE,"errordata "+f).setEntity(Q).setMessageId(b);}else h=-1;f=new t(J,L);new Lb(I,Q,a,b,d,h,l,g,f,E);});},error:function(k){n(E,function(){k instanceof A&&k.setEntity(Q);throw k;});}});});},error:function(k){n(E,function(){k instanceof A&&k.setEntity(Q);throw k;});}});});};}());gf=fa.Class.create({getUserMessage:function(k,n){}});(function(){qd=function(k,n){var q,t;if(!k||!n)return null;q=k.compressionAlgorithms.filter(function(k){for(var q=0;q<n.compressionAlgorithms.length;++q)if(k==n.compressionAlgorithms[q])return!0;return!1;});t=k.languages.filter(function(k){for(var q=0;q<n.languages.length;++q)if(k==n.languages[q])return!0;return!1;});return new mc(q,t);};mc=fa.Class.create({init:function(k,n){k||(k=[]);n||(n=[]);k.sort();Object.defineProperties(this,{compressionAlgorithms:{value:k,writable:!1,enumerable:!0,configurable:!1},languages:{value:n,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var k;k={};k.compressionalgos=this.compressionAlgorithms;k.languages=this.languages;return k;},equals:function(k){return this===k?!0:k instanceof mc?Bd(this.compressionAlgorithms,k.compressionAlgorithms)&&Bd(this.languages,k.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ne=function(n){var q,t,L;q=n.compressionalgos;t=n.languages;if(q&&!(q instanceof Array)||t&&!(t instanceof Array))throw new aa(k.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(n));n=[];for(var Q=0;q&&Q<q.length;++Q){L=q[Q];Nb[L]&&n.push(L);}return new mc(n,t);};}());(function(){var va,f;function q(c,a,b,d,h){this.customer=c;this.sender=a;this.messageCryptoContext=b;this.headerdata=d;this.signature=h;}function t(c,a,b,d,h,l,g,m,p,r,u,v,f,w,G,x,y,C,F,N){return{cryptoContext:{value:a,writable:!1,configurable:!1},customer:{value:b,writable:!1,configurable:!1},entityAuthenticationData:{value:d,writable:!1,configurable:!1},masterToken:{value:h,writable:!1,configurable:!1},sender:{value:l,writable:!1,configurable:!1},messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:x,writable:!1,configurable:!1},keyRequestData:{value:m,writable:!1,configurable:!1},keyResponseData:{value:p,writable:!1,configurable:!1},userAuthenticationData:{value:r,writable:!1,configurable:!1},userIdToken:{value:u,writable:!1,configurable:!1},serviceTokens:{value:v,writable:!1,configurable:!1},peerMasterToken:{value:f,writable:!1,configurable:!1},peerUserIdToken:{value:w,writable:!1,configurable:!1},peerServiceTokens:{value:G,writable:!1,configurable:!1},messageCapabilities:{value:C,writable:!1,configurable:!1},renewable:{value:y,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:F,writable:!1,enumerable:!1,configurable:!1},signature:{value:N,writable:!1,enumerable:!1,configurable:!1}};}function J(c,a,b){var d;if(b){if(a=c.getMslStore().getCryptoContext(b))return a;if(!b.isVerified()||!b.isDecrypted())throw new Pb(k.MASTERTOKEN_UNTRUSTED,b);return new $a(c,b);}b=a.scheme;d=c.getEntityAuthenticationFactory(b);if(!d)throw new bb(k.ENTITYAUTH_FACTORY_NOT_FOUND,b);return d.getCryptoContext(c,a);}function Q(c,a,b,d,h){n(h,function(){a.verify(b,d,{result:function(c){n(h,function(){if(!c)throw new P(k.MESSAGE_VERIFICATION_FAILED);a.decrypt(b,{result:function(a){n(h,function(){return Ia(a,Ca);});},error:function(a){h.error(a);}});});},error:function(a){h.error(a);}});});}function L(c,a,b){n(b,function(){if(a)ce(c,a,b);else return null;});}function E(c,a,b,d){n(d,function(){if(a)Sb(c,a,b,d);else return null;});}function K(c,a,b,d){n(d,function(){if(b)re(c,a,b,d);else return null;});}function La(c,a,b,d,h,l,g){var p;function m(a,g,v){var r,u;if(g>=a.length){r=[];for(u in p)r.push(p[u]);v.result(r);}else{r=a[g];if("object"!==typeof r)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+l);Ic(c,r,b,d,h,{result:function(b){n(v,function(){p[b.uniqueKey()]=b;m(a,g+1,v);});},error:function(a){v.error(a);}});}}p={};n(g,function(){if(a){if(!(a instanceof Array))throw new aa(k.JSON_PARSE_ERROR,"headerdata "+l);m(a,0,g);}else return[];});}function qa(c,a,b,d,h,l){function g(a,b,c){n(c,function(){var g;g=b.peermastertoken;if(g&&"object"!==typeof g)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+h);if(!g)return null;Rb(a,g,c);});}function m(a,b,c,g){n(g,function(){var p;p=b.peeruseridtoken;if(p&&"object"!==typeof p)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+h);if(!p)return null;Sb(a,p,c,g);});}n(l,function(){if(!c.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};g(c,a,{result:function(g){n(l,function(){var p;p=b?b.masterToken:g;m(c,a,p,{result:function(b){n(l,function(){La(c,a.peerservicetokens,p,b,d,h,{result:function(a){n(l,function(){return{peerMasterToken:g,peerUserIdToken:b,peerServiceTokens:a};});},error:function(a){n(l,function(){a instanceof A&&(a.setEntity(p),a.setUser(b));throw a;});}});});},error:function(a){n(l,function(){a instanceof A&&a.setEntity(p);throw a;});}});});},error:l.error});});}function Ha(c,a,b,d){var l;function h(a,b){n(d,function(){if(b>=a.length)return l;be(c,a[b],{result:function(c){n(d,function(){l.push(c);h(a,b+1);});},error:function(a){d.error(a);}});});}l=[];n(d,function(){var c;c=a.keyrequestdata;if(!c)return l;if(!(c instanceof Array))throw new aa(k.JSON_PARSE_ERROR,"headerdata "+b);h(c,0);});}va=pe=fa.Class.create({init:function(c,a,b,d,h,l,g,m,p){Object.defineProperties(this,{messageId:{value:c,writable:!1,configurable:!1},nonReplayableId:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,configurable:!1},capabilities:{value:d,writable:!1,configurable:!1},keyRequestData:{value:h,writable:!1,configurable:!1},keyResponseData:{value:l,writable:!1,configurable:!1},userAuthData:{value:g,writable:!1,configurable:!1},userIdToken:{value:m,writable:!1,configurable:!1},serviceTokens:{value:p,writable:!1,configurable:!1}});}});f=qe=fa.Class.create({init:function(c,a,b){Object.defineProperties(this,{peerMasterToken:{value:c,writable:!1,configurable:!1},peerUserIdToken:{value:a,writable:!1,configurable:!1},peerServiceTokens:{value:b,writable:!1,configurable:!1}});}});nc=fa.Class.create({init:function(c,a,b,d,h,l,g){var p;function m(m){n(g,function(){var r,v,f,w,G,x,y,C,F,N,T,ca,k,O,B,ja,V;a=b?null:a;r=d.nonReplayableId;v=d.renewable;f=d.capabilities;w=d.messageId;G=d.keyRequestData?d.keyRequestData:[];x=d.keyResponseData;y=d.userAuthData;C=d.userIdToken;F=d.serviceTokens?d.serviceTokens:[];c.isPeerToPeer()?(N=h.peerMasterToken,T=h.peerUserIdToken,ca=h.peerServiceTokens?h.peerServiceTokens:[]):(T=N=null,ca=[]);if(0>w||w>Aa)throw new Y("Message ID "+w+" is out of range.");if(!a&&!b)throw new Y("Message entity authentication data or master token must be provided.");x?c.isPeerToPeer()?(k=b,O=x.masterToken):(k=x.masterToken,O=N):(k=b,O=N);if(C&&(!k||!C.isBoundTo(k)))throw new Y("User ID token must be bound to a master token.");if(T&&(!O||!T.isBoundTo(O)))throw new Y("Peer user ID token must be bound to a peer master token.");F.forEach(function(a){if(a.isMasterTokenBound()&&(!k||!a.isBoundTo(k)))throw new Y("Master token bound service tokens must be bound to the provided master token.");if(a.isUserIdTokenBound()&&(!C||!a.isBoundTo(C)))throw new Y("User ID token bound service tokens must be bound to the provided user ID token.");},this);ca.forEach(function(a){if(a.isMasterTokenBound()&&(!O||!a.isBoundTo(O)))throw new Y("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!T||!a.isBoundTo(T)))throw new Y("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(l){B=l.customer;ja=l.messageCryptoContext;V=t(c,ja,B,a,b,m,w,G,x,y,C,F,N,T,ca,r,v,f,l.headerdata,l.signature);Object.defineProperties(this,V);return this;}B=C?C.customer:null;V={};m&&(V.sender=m);V.messageid=w;"number"===typeof r&&(V.nonreplayableid=r);V.renewable=v;f&&(V.capabilities=f);0<G.length&&(V.keyrequestdata=G);x&&(V.keyresponsedata=x);y&&(V.userauthdata=y);C&&(V.useridtoken=C);0<F.length&&(V.servicetokens=F);N&&(V.peermastertoken=N);T&&(V.peeruseridtoken=T);0<ca.length&&(V.peerservicetokens=ca);try{ja=J(c,a,b);}catch(D){throw D instanceof A&&(D.setEntity(b),D.setEntity(a),D.setUser(C),D.setUser(y),D.setMessageId(w)),D;}V=Ma(JSON.stringify(V),Ca);ja.encrypt(V,{result:function(d){n(g,function(){ja.sign(d,{result:function(h){n(g,function(){var g;g=t(c,ja,B,a,b,m,w,G,x,y,C,F,N,T,ca,r,v,f,d,h);Object.defineProperties(this,g);return this;},p);},error:function(c){n(g,function(){c instanceof A&&(c.setEntity(b),c.setEntity(a),c.setUser(C),c.setUser(y),c.setMessageId(w));throw c;},p);}});},p);},error:function(c){n(g,function(){c instanceof A&&(c.setEntity(b),c.setEntity(a),c.setUser(C),c.setUser(y),c.setMessageId(w));throw c;},p);}});},p);}p=this;n(g,function(){l?m(l.sender):b?c.getEntityAuthenticationData(null,{result:function(a){a=a.getIdentity();m(a);},error:g.error}):m(null);},p);},isEncrypting:function(){return this.masterToken||Sc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var c;c={};this.masterToken?c[ie]=this.masterToken:c[nd]=this.entityAuthenticationData;c[je]=ma(this.headerdata);c[od]=ma(this.signature);return c;}});oe=function(c,a,b,d,h,l){new nc(c,a,b,d,h,null,l);};pd=function(c,a,b,d,h,l,g){n(g,function(){var m,p;b=d?null:b;if(!b&&!d)throw new xa(k.MESSAGE_ENTITY_NOT_FOUND);m=a;try{a=ra(m);}catch(r){throw new xa(k.HEADER_DATA_INVALID,m,r);}if(!a||0==a.length)throw new xa(k.HEADER_DATA_MISSING,m);try{p=J(c,b,d);}catch(r){throw r instanceof A&&(r.setEntity(d),r.setEntity(b)),r;}Q(c,p,a,h,{result:function(m){n(g,function(){var r,v,z,w,G;try{r=JSON.parse(m);}catch(x){if(x instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+m,x).setEntity(d).setEntity(b);throw x;}v=parseInt(r.messageid);if(!v||v!=v)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+m).setEntity(d).setEntity(b);if(0>v||v>Aa)throw new xa(k.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+m).setEntity(d).setEntity(b);z=d?r.sender:null;if(d&&(!z||"string"!==typeof z))throw new aa(k.JSON_PARSE_ERROR,"headerdata "+m).setEntity(d).setEntity(b).setMessageId(v);w=r.keyresponsedata;if(w&&"object"!==typeof w)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+m).setEntity(d).setEntity(b).setMessageId(v);G=g;g={result:function(a){G.result(a);},error:function(a){a instanceof A&&(a.setEntity(d),a.setEntity(b),a.setMessageId(v));G.error(a);}};L(c,w,{result:function(u){n(g,function(){var x,w;x=!c.isPeerToPeer()&&u?u.masterToken:d;w=r.useridtoken;if(w&&"object"!==typeof w)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+m);E(c,w,x,{result:function(y){n(g,function(){var w;w=r.userauthdata;if(w&&"object"!==typeof w)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+m);K(c,x,w,{result:function(w){n(g,function(){var T,C,F;if(w){C=w.scheme;F=c.getUserAuthenticationFactory(C);if(!F)throw new sa(k.USERAUTH_FACTORY_NOT_FOUND,C).setUser(y).setUser(w);C=d?d.identity:b.getIdentity();T=F.authenticate(c,C,w,y);}else T=y?y.customer:null;La(c,r.servicetokens,x,y,l,m,{result:function(x){n(g,function(){var C,F,G,N;C=r.nonreplayableid!==ga?parseInt(r.nonreplayableid):null;F=r.renewable;if(C!=C||"boolean"!==typeof F)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+m);if(0>C||C>Aa)throw new xa(k.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+m);G=null;N=r.capabilities;if(N){if("object"!==typeof N)throw new aa(k.JSON_PARSE_ERROR,"headerdata "+m);G=ne(N);}Ha(c,r,m,{result:function(N){qa(c,r,u,l,m,{result:function(m){n(g,function(){var r,l,X,ca;r=m.peerMasterToken;l=m.peerUserIdToken;X=m.peerServiceTokens;ca=new va(v,C,F,G,N,u,w,y,x);r=new f(r,l,X);l=new q(T,z,p,a,h);new nc(c,b,d,ca,r,l,g);});},error:g.error});},error:function(a){n(g,function(){a instanceof A&&(a.setUser(y),a.setUser(w));throw a;});}});});},error:function(a){n(g,function(){a instanceof A&&(a.setEntity(x),a.setUser(y),a.setUser(w));throw a;});}});});},error:g.error});});},error:g.error});});},error:g.error});});},error:g.error});});};}());(function(){function q(k,n){this.payload=k;this.signature=n;}rd=fa.Class.create({init:function(k,q,t,L,E,K,A,qa){var J;J=this;n(qa,function(){var I,f;if(0>k||k>Aa)throw new Y("Sequence number "+k+" is outside the valid range.");if(0>q||q>Aa)throw new Y("Message ID "+q+" is outside the valid range.");if(A)return Object.defineProperties(this,{sequenceNumber:{value:k,writable:!1,configurable:!1},messageId:{value:q,writable:!1,configurable:!1},compressionAlgo:{value:L,writable:!1,configurable:!1},data:{value:E,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:A.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:A.signature,writable:!1,enumerable:!1,configurable:!1}}),this;L?(I=sd(L,E),I||(L=null,I=E)):(L=null,I=E);f={};f.sequencenumber=k;f.messageid=q;t&&(f.endofmsg=t);L&&(f.compressionalgo=L);f.data=ma(I);I=Ma(JSON.stringify(f),Ca);K.encrypt(I,{result:function(c){n(qa,function(){K.sign(c,{result:function(a){n(qa,function(){Object.defineProperties(this,{sequenceNumber:{value:k,writable:!1,configurable:!1},messageId:{value:q,writable:!1,configurable:!1},compressionAlgo:{value:L,writable:!1,configurable:!1},data:{value:E,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},J);},error:function(a){qa.error(a);}});},J);},error:function(c){qa.error(c);}});},J);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var k;k={};k.payload=ma(this.payload);k.signature=ma(this.signature);return k;}});se=function(k,n,q,t,E,K,A){new rd(k,n,q,t,E,K,null,A);};te=function(t,J,Q){n(Q,function(){var L,E,K,I;L=t.payload;E=t.signature;if(!L||"string"!==typeof L||"string"!==typeof E)throw new aa(k.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(t));try{K=ra(L);}catch(qa){throw new xa(k.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(t),qa);}try{I=ra(E);}catch(qa){throw new xa(k.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(t),qa);}J.verify(K,I,{result:function(E){n(Q,function(){if(!E)throw new P(k.PAYLOAD_VERIFICATION_FAILED);J.decrypt(K,{result:function(E){n(Q,function(){var n,f,c,a,b,d,h;n=Ia(E,Ca);try{f=JSON.parse(n);}catch(l){if(l instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"payload chunk payload "+n,l);throw l;}c=parseInt(f.sequencenumber);a=parseInt(f.messageid);b=f.endofmsg;d=f.compressionalgo;f=f.data;if(!c||c!=c||!a||a!=a||b&&"boolean"!==typeof b||d&&"string"!==typeof d||"string"!==typeof f)throw new aa(k.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>c||c>Aa)throw new A(k.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>a||a>Aa)throw new A(k.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);b||(b=!1);if(d&&!Nb[d])throw new xa(k.UNIDENTIFIED_COMPRESSION,d);try{h=ra(f);}catch(l){throw new xa(k.PAYLOAD_DATA_CORRUPT,f,l);}if(h&&0!=h.length)n=d?Jc(d,h):h;else{if(0<f.length)throw new xa(k.PAYLOAD_DATA_CORRUPT,f);if(b)n=new Uint8Array(0);else throw new xa(k.PAYLOAD_DATA_MISSING,f);}h=new q(K,I);new rd(c,a,b,d,n,J,h,Q);});},error:function(k){Q.error(k);}});});},error:function(k){Q.error(k);}});});};}());(function(){var Q,L;function q(q,t,J,L,I){var f,c,a,b,d;function E(){n(I,function(){var h,l;c>=t.length&&(c=0,++f);if(f>=a.length){if(b)throw b;throw new Ga(k.KEYX_FACTORY_NOT_FOUND,JSON.stringify(t));}h=a[f];l=t[c];h.scheme!=l.keyExchangeScheme?(++c,E()):h.generateResponse(q,l,d,{result:function(a){I.result(a);},error:function(a){n(I,function(){if(!(a instanceof A))throw a;b=a;++c;E();});}});});}f=0;c=0;a=q.getKeyExchangeFactories();d=J?J:L;E();}function t(k,t,J,L,I){n(I,function(){var E;E=t.keyRequestData;if(t.isRenewable()&&0<E.length)L?L.isRenewable()||L.isExpired()?q(k,E,L,null,I):k.getTokenFactory().isNewestMasterToken(k,L,{result:function(f){n(I,function(){if(f)return null;q(k,E,L,null,I);});},error:I.error}):q(k,E,null,J.getIdentity(),I);else return null;});}function J(q,t,J,L){n(L,function(){var n,E,f,c;n=t.userIdToken;E=t.userAuthenticationData;f=t.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&t.isRenewable()||n.isExpired()||!n.isBoundTo(J)){E=q.getTokenFactory();E.renewUserIdToken(q,n,J,L);return;}}else if(t.isRenewable()&&J&&E){n=t.customer;if(!n){n=E.scheme;c=q.getUserAuthenticationFactory(n);if(!c)throw new sa(k.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(J).setUser(E).setMessageId(f);n=c.authenticate(q,J.identity,E,null);}E=q.getTokenFactory();E.createUserIdToken(q,n,J,L);return;}return n;});}Q=new Uint8Array(0);L=Tb=function(k){if(0>k||k>Aa)throw new Y("Message ID "+k+" is outside the valid range.");return k==Aa?0:k+1;};dc=function(k){if(0>k||k>Aa)throw new Y("Message ID "+k+" is outside the valid range.");return 0==k?Aa:k-1;};Ub=function(k,q,t,J,L){n(L,function(){var E;if(J==ga||null==J){E=k.getRandom();do J=E.nextLong();while(0>J||J>Aa);}else if(0>J||J>Aa)throw new Y("Message ID "+J+" is outside the valid range.");k.getEntityAuthenticationData(null,{result:function(f){n(L,function(){var c;c=k.getMessageCapabilities();return new Kc(k,J,c,f,q,t,null,null,null,null,null);});},error:function(f){L.error(f);}});});};ue=function(k,q,I){n(I,function(){var K,Q,f,c,a,b;function E(b){n(I,function(){b instanceof A&&(b.setEntity(K),b.setEntity(Q),b.setUser(f),b.setUser(c),b.setMessageId(a));throw b;});}K=q.masterToken;Q=q.entityAuthenticationData;f=q.userIdToken;c=q.userAuthenticationData;a=q.messageId;b=L(a);t(k,q,Q,K,{result:function(a){n(I,function(){var c;c=a?a.keyResponseData.masterToken:c=K;k.getEntityAuthenticationData(null,{result:function(d){n(I,function(){J(k,q,c,{result:function(c){n(I,function(){var g,p,r;f=c;g=qd(q.messageCapabilities,k.getMessageCapabilities());p=q.keyResponseData;r=q.serviceTokens;return k.isPeerToPeer()?new Kc(k,b,g,d,p?p.masterToken:q.peerMasterToken,q.peerUserIdToken,q.peerServiceTokens,K,f,r,a):new Kc(k,b,g,d,p?p.masterToken:K,f,r,null,null,null,a);});},error:E});});},error:E});});},error:E});});};ve=function(k,q,t,J,I){n(I,function(){k.getEntityAuthenticationData(null,{result:function(E){n(I,function(){var f,c;if(q!=ga&&null!=q)f=L(q);else{c=k.getRandom();do f=c.nextInt();while(0>f||f>Aa);}me(k,E,f,t.responseCode,t.internalCode,t.message,J,I);});},error:function(k){I.error(k);}});});};Kc=fa.Class.create({init:function(k,n,q,t,J,L,f,c,a,b,d){var h,l,g,m,p;if(!k.isPeerToPeer()&&(c||a))throw new Y("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");h=d&&!k.isPeerToPeer()?d.keyResponseData.masterToken:J;l={};k.getMslStore().getServiceTokens(h,L).forEach(function(a){l[a.name]=a;},this);f&&f.forEach(function(a){l[a.name]=a;},this);p={};k.isPeerToPeer()&&(g=c,m=a,f=d?d.keyResponseData.masterToken:c,k.getMslStore().getServiceTokens(f,a).forEach(function(a){p[a.name]=a;},this),b&&b.forEach(function(a){p[a.name]=a;},this));Object.defineProperties(this,{_ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:t,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:J,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:q,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:d,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:L,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:l,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:g,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:m,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:p,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Sc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Sc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||Cd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Cd(this._entityAuthData.scheme);},getHeader:function(q){n(q,function(){var n,E,t,J,L;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;E=[];for(t in this._serviceTokens)E.push(this._serviceTokens[t]);J=[];for(L in this._keyRequestData)J.push(this._keyRequestData[L]);if(this._nonReplayable){if(!this._masterToken)throw new xa(k.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);L=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else L=null;n=new pe(this._messageId,L,this._renewable,this._capabilities,J,n,this._userAuthData,this._userIdToken,E);E=[];for(t in this._peerServiceTokens)E.push(this._peerServiceTokens[t]);t=new qe(this._peerMasterToken,this._peerUserIdToken,E);oe(this._ctx,this._entityAuthData,this._masterToken,n,t,q);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(k){this._nonReplayable=k;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(k){this._renewable=k;return this;},setAuthTokens:function(k,n){var q,t,E;if(n&&!n.isBoundTo(k))throw new Y("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new Y("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{q=this._ctx.getMslStore().getServiceTokens(k,n);}catch(va){if(va instanceof A)throw new Y("Invalid master token and user ID token combination despite checking above.",va);throw va;}t=[];for(E in this._serviceTokens)t.push(this._serviceTokens[E]);t.forEach(function(q){(q.isUserIdTokenBound()&&!q.isBoundTo(n)||q.isMasterTokenBound()&&!q.isBoundTo(k))&&delete this._serviceTokens[q.name];},this);q.forEach(function(k){this._serviceTokens[k.name]=k;},this);this._masterToken=k;this._userIdToken=n;},setUserAuthenticationData:function(k){this._userAuthData=k;return this;},setCustomer:function(k,q){var t;t=this;n(q,function(){var E;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new Y("User ID token or peer user ID token already exists for the remote user.");E=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!E)throw new Y("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,k,E,{result:function(k){n(q,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=k:(this._userIdToken=k,this._userAuthData=null);return!0;},t);},error:function(k){q.error(k);}});},t);},addKeyRequestData:function(k){this._keyRequestData[k.uniqueKey()]=k;return this;},removeKeyRequestData:function(k){delete this._keyRequestData[k.uniqueKey()];return this;},addServiceToken:function(n){var q;q=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(n.isMasterTokenBound()&&!n.isBoundTo(q))throw new xa(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; mt "+JSON.stringify(q)).setEntity(q);if(n.isUserIdTokenBound()&&!n.isBoundTo(this._userIdToken))throw new xa(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(q).setUser(this._userIdToken);this._serviceTokens[n.name]=n;return this;},addServiceTokenIfAbsent:function(k){this._serviceTokens[k.name]||this.addServiceToken(k);return this;},excludeServiceToken:function(k){delete this._serviceTokens[k];return this;},deleteServiceToken:function(k,q){var t;t=this;n(q,function(){var E,K;E=this._serviceTokens[k];if(!E)return this;K=E.isMasterTokenBound()?this._masterToken:null;E=E.isUserIdTokenBound()?this._userIdToken:null;Cb(this._ctx,k,Q,K,E,!1,null,new cc(),{result:function(k){n(q,function(){return this.addServiceToken(k);},t);},error:function(k){k instanceof A&&(k=new Y("Failed to create and add empty service token to message.",k));q.error(k);}});},t);},getServiceTokens:function(){var k,n;k=[];for(n in this._serviceTokens)k.push(this._serviceTokens[n]);return k;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(n,q){var t;if(!this._ctx.isPeerToPeer())throw new Y("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(q&&!n)throw new Y("Peer master token cannot be null when setting peer user ID token.");if(q&&!q.isBoundTo(n))throw new xa(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+q+"; mt "+n).setEntity(n).setUser(q);try{t=this._ctx.getMslStore().getServiceTokens(n,q);}catch(qa){if(qa instanceof A)throw new Y("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}Object.keys(this._peerServiceTokens).forEach(function(k){var t;t=this._peerServiceTokens[k];t.isUserIdTokenBound()&&!t.isBoundTo(q)?delete this._peerServiceTokens[k]:t.isMasterTokenBound()&&!t.isBoundTo(n)&&delete this._peerServiceTokens[k];},this);t.forEach(function(k){var n;n=k.name;this._peerServiceTokens[n]||(this._peerServiceTokens[n]=k);},this);this._peerUserIdToken=q;this._peerMasterToken=n;return this;},addPeerServiceToken:function(n){if(!this._ctx.isPeerToPeer())throw new Y("Cannot set peer service tokens when not in peer-to-peer mode.");if(n.isMasterTokenBound()&&!n.isBoundTo(this._peerMasterToken))throw new xa(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(n.isUserIdTokenBound()&&!n.isBoundTo(this._peerUserIdToken))throw new xa(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[n.name]=n;return this;},addPeerServiceTokenIfAbsent:function(k){this._peerServiceTokens[k.name]||this.addPeerServiceToken(k);return this;},excludePeerServiceToken:function(k){delete this._peerServiceTokens[k];return this;},deletePeerServiceToken:function(k,q){var t;t=this;n(q,function(){var E,K;E=this._peerServiceTokens[k];if(!E)return this;K=E.isMasterTokenBound()?this._peerMasterToken:null;E=E.isUserIdTokenBound()?this._peerUserIdToken:null;Cb(this._ctx,k,Q,K,E,!1,null,new cc(),{result:function(k){n(q,function(){return this.addPeerServiceToken(k);},t);},error:function(k){k instanceof A&&(k=new Y("Failed to create and add empty peer service token to message.",k));q.error(k);}});},t);},getPeerServiceTokens:function(){var k,n;k=[];for(n in this._peerServiceTokens)k.push(this._peerServiceTokens[n]);return k;}});}());(function(){function k(k,n){return n[k]?n[k]:n[""];}function q(k){var n;n=k.builder.getKeyExchangeData();return n&&!k.ctx.isPeerToPeer()?n.keyResponseData.masterToken:k.builder.getMasterToken();}we=fa.Class.create({init:function(k,n,q){k={ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:n.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:q,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},isPrimaryMasterTokenAvailable:function(){return q(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(k){try{return this.builder.addServiceToken(k),!0;}catch(Q){if(Q instanceof xa)return!1;throw Q;}},addPeerServiceToken:function(k){try{return this.builder.addPeerServiceToken(k),!0;}catch(Q){if(Q instanceof xa)return!1;throw Q;}},addUnboundPrimaryServiceToken:function(q,t,L,E,K){var J;J=this;n(K,function(){var I;I=k(q,this.cryptoContexts);if(!I)return!1;Cb(this.ctx,q,t,null,null,L,E,I,{result:function(k){n(K,function(){try{this.builder.addServiceToken(k);}catch(va){if(va instanceof xa)throw new Y("Service token bound to incorrect authentication tokens despite being unbound.",va);throw va;}return!0;},J);},error:function(k){K.error(k);}});},J);},addUnboundPeerServiceToken:function(q,t,L,E,K){var J;J=this;n(K,function(){var I;I=k(q,this.cryptoContexts);if(!I)return!1;Cb(this.ctx,q,t,null,null,L,E,I,{result:function(k){n(K,function(){try{this.builder.addPeerServiceToken(k);}catch(va){if(va instanceof xa)throw new Y("Service token bound to incorrect authentication tokens despite being unbound.",va);throw va;}return!0;},J);},error:function(k){K.error(k);}});},J);},addMasterBoundPrimaryServiceToken:function(t,I,L,E,K){var J;J=this;n(K,function(){var Q,A;Q=q(this);if(!Q)return!1;A=k(t,this.cryptoContexts);if(!A)return!1;Cb(this.ctx,t,I,Q,null,L,E,A,{result:function(k){n(K,function(){try{this.builder.addServiceToken(k);}catch(f){if(f instanceof xa)throw new Y("Service token bound to incorrect authentication tokens despite setting correct master token.",f);throw f;}return!0;},J);},error:function(k){K.error(k);}});},J);},addMasterBoundPeerServiceToken:function(q,t,L,E,K){var I;I=this;n(K,function(){var J,Q;J=this.builder.getPeerMasterToken();if(!J)return!1;Q=k(q,this.cryptoContexts);if(!Q)return!1;Cb(this.ctx,q,t,J,null,L,E,Q,{result:function(k){n(K,function(){try{this.builder.addPeerServiceToken(k);}catch(f){if(f instanceof xa)throw new Y("Service token bound to incorrect authentication tokens despite setting correct master token.",f);throw f;}return!0;},I);},error:function(k){K.error(k);}});},I);},addUserBoundPrimaryServiceToken:function(t,I,L,E,K){var J;J=this;n(K,function(){var Q,A,R;Q=q(this);if(!Q)return!1;A=this.builder.getUserIdToken();if(!A)return!1;R=k(t,this.cryptoContexts);if(!R)return!1;Cb(this.ctx,t,I,Q,A,L,E,R,{result:function(f){n(K,function(){try{this.builder.addServiceToken(f);}catch(c){if(c instanceof xa)throw new Y("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",c);throw c;}return!0;},J);},error:function(f){K.error(f);}});},J);},addUserBoundPeerServiceToken:function(q,t,I,E,K){var L;L=this;n(K,function(){var J,Q,A;J=this.builder.getPeerMasterToken();if(!J)return!1;Q=this.builder.getPeerUserIdToken();if(!Q)return!1;A=k(q,this.cryptoContexts);if(!A)return!1;Cb(this.ctx,q,t,J,Q,I,E,A,{result:function(f){n(K,function(){try{this.builder.addPeerServiceToken(f);}catch(c){if(c instanceof xa)throw new Y("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",c);throw c;}return!0;},L);},error:function(f){K.error(f);}});},L);},excludePrimaryServiceToken:function(k){for(var n=this.builder.getServiceTokens(),q=0;q<n.length;++q)if(n[q].name==k)return this.builder.excludeServiceToken(k),!0;return!1;},excludePeerServiceToken:function(k){for(var n=this.builder.getPeerServiceTokens(),q=0;q<n.length;++q)if(n[q].name==k)return this.builder.excludePeerServiceToken(k),!0;return!1;},deletePrimaryServiceToken:function(k,q){n(q,function(){for(var n=this.builder.getServiceTokens(),t=0;t<n.length;++t)if(n[t].name==k){this.builder.deleteServiceToken(k,{result:function(){q.result(!0);},error:function(k){q.error(k);}});return;}return!1;},this);},deletePeerServiceToken:function(k,q){n(q,function(){for(var n=this.builder.getPeerServiceTokens(),t=0;t<n.length;++t)if(n[t].name==k){this.builder.deletePeerServiceToken(k,{result:function(){q.result(!0);},error:function(k){q.error(k);}});return;}return!1;},this);}});}());(function(){function q(q,t,Q,L){n(L,function(){var K,I,J,R,H,f;function E(){n(L,function(){var c;if(f>=Q.length){if(H)throw H;throw new Ga(k.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(Q));}c=Q[f];J!=c.keyExchangeScheme?(++f,E()):R.getCryptoContext(q,c,I,K,{result:L.result,error:function(a){n(L,function(){if(!(a instanceof A))throw a;H=a;++f;E();});}});});}K=t.masterToken;I=t.keyResponseData;if(!I)return null;J=I.keyExchangeScheme;R=q.getKeyExchangeFactory(J);if(!R)throw new Ga(k.KEYX_FACTORY_NOT_FOUND,J);f=0;E();});}xe=kd.extend({init:function(n,t,Q,L,E,K,R){var I;I=this;H(R,function(){var b;function J(){I._ready=!0;I._readyQueue.add(!0);}function R(a,b){var c;try{c=b.masterToken;a.getTokenFactory().isMasterTokenRevoked(a,c,{result:function(g){g?(I._errored=new Pb(g,c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId),J()):f(a,b);},error:function(a){a instanceof A&&(a.setEntity(b.masterToken),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));I._errored=a;J();}});}catch(g){g instanceof A&&(g.setEntity(b.masterToken),g.setUser(b.userIdToken),g.setUser(b.userAuthenticationData),g.setMessageId(b.messageId));I._errored=g;J();}}function f(a,b){var d,g;try{d=b.masterToken;g=b.userIdToken;g?a.getTokenFactory().isUserIdTokenRevoked(a,d,g,{result:function(m){m?(I._errored=new MslUserIdTokenException(m,g).setEntity(d).setUser(g).setMessageId(b.messageId),J()):c(a,b);},error:function(a){a instanceof A&&(a.setEntity(b.masterToken),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));I._errored=a;J();}}):c(a,b);}catch(m){m instanceof A&&(m.setEntity(b.masterToken),m.setUser(b.userIdToken),m.setUser(b.userAuthenticationData),m.setMessageId(b.messageId));I._errored=m;J();}}function c(b,c){var d;try{d=c.masterToken;d.isExpired()?c.isRenewable()&&0!=c.keyRequestData.length?b.getTokenFactory().isMasterTokenRenewable(b,d,{result:function(g){g?(I._errored=new xa(g,"Master token is expired and not renewable.").setEntity(d).setUser(c.userIdToken).setUser(c.userAuthenticationData).setMessageId(c.messageId),J()):a(b,c);},error:function(a){a instanceof A&&(a.setEntity(c.masterToken),a.setUser(c.userIdToken),a.setUser(c.userAuthenticationData),a.setMessageId(c.messageId));I._errored=a;J();}}):(I._errored=new xa(k.MESSAGE_EXPIRED,JSON.stringify(c)).setEntity(d).setUser(c.userIdToken).setUser(c.userAuthenticationData).setMessageId(c.messageId),J()):a(b,c);}catch(g){g instanceof A&&(g.setEntity(c.masterToken),g.setUser(c.userIdToken),g.setUser(c.userAuthenticationData),g.setMessageId(c.messageId));I._errored=g;J();}}function a(a,b){var c,g;try{c=b.masterToken;g=b.nonReplayableId;"number"===typeof g?c?a.getTokenFactory().acceptNonReplayableId(a,c,g,{result:function(a){a||(I._errored=new xa(k.MESSAGE_REPLAYED,JSON.stringify(b)).setEntity(c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId));J();},error:function(a){a instanceof A&&(a.setEntity(c),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));I._errored=a;J();}}):(I._errored=new xa(k.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(b)).setEntity(b.entityAuthenticationData).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId),J()):J();}catch(m){m instanceof A&&(m.setEntity(b.masterToken),m.setEntity(b.entityAuthenticationData),m.setUser(b.userIdToken),m.setUser(b.userAuthenticationData),m.setMessageId(b.messageId));I._errored=m;J();}}b={_source:{value:t,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ga,writable:!0,enumerable:!1,configurable:!1},_charset:{value:Q,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:K,writable:!1,enumerable:!1,configurable:!1},_header:{value:ga,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ga,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ga,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,b);ae(I._source,K,{result:function(b){I._json=b;I._jsonIndex=0;null===I._json?(I._errored=new aa(k.MESSAGE_DATA_MISSING),J()):he(n,I._json[I._jsonIndex++],E,{result:function(b){var c;I._header=b;if(I._header instanceof Lb)I._keyxCryptoContext=null,I._cryptoContext=null,J();else{c=I._header;q(n,c,L,{result:function(b){var g;try{I._keyxCryptoContext=b;n.isPeerToPeer()||!I._keyxCryptoContext?I._cryptoContext=c.cryptoContext:I._cryptoContext=I._keyxCryptoContext;try{g=c.masterToken;g&&(n.isPeerToPeer()||g.isVerified())?R(n,c):a(n,c);}catch(p){p instanceof A&&(p.setEntity(c.masterToken),p.setUser(c.userIdToken),p.setUser(c.userAuthenticationData),p.setMessageId(c.messageId));I._errored=p;J();}}catch(p){p instanceof A&&(p.setEntity(c.masterToken),p.setEntity(c.entityAuthenticationData),p.setUser(c.userIdToken),p.setUser(c.userAuthenticationData),p.setMessageId(c.messageId));I._errored=p;J();}},error:function(a){a instanceof A&&(a.setEntity(c.masterToken),a.setEntity(c.entityAuthenticationData),a.setUser(c.userIdToken),a.setUser(c.userAuthenticationData),a.setMessageId(c.messageId));I._errored=a;J();}});}},error:function(a){I._errored=a;J();}});},timeout:function(){I._timedout=!0;J();},error:function(a){I._errored=a;J();}});return this;},I);},nextData:function(n,q){var t;t=this;H(q,function(){var E;function n(k){H(k,function(){var q;if(this._jsonIndex<this._json.length)return q=this._json[this._jsonIndex++];ae(this._source,this._timeout,{result:function(q){q&&q.length&&0<q.length?(q.forEach(function(k){this._json.push(k);}),n(k)):(this._eom=!0,k.result(null));},timeout:function(){k.timeout();},error:function(n){k.error(n);}});},t);}E=this.getMessageHeader();if(!E)throw new Y("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;n({result:function(n){H(q,function(){if(!n)return null;if("object"!==typeof n)throw new aa(k.MESSAGE_FORMAT_ERROR);te(n,this._cryptoContext,{result:function(n){H(q,function(){var q,t,I,f;q=E.masterToken;t=E.entityAuthenticationData;I=E.userIdToken;f=E.getUserAuthenticationData;if(n.messageId!=E.messageId)throw new xa(k.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+n.messageId+" header mid "+E.messageId).setEntity(q).setEntity(t).setUser(I).setUser(f);if(n.sequenceNumber!=this._payloadSequenceNumber)throw new xa(k.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+n.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(q).setEntity(t).setUser(I).setUser(f);++this._payloadSequenceNumber;n.isEndOfMessage()&&(this._eom=!0);q=n.data;this._payloads.push(q);this._payloadIndex=-1;return q;},t);},error:function(n){n instanceof SyntaxError&&(n=new aa(k.JSON_PARSE_ERROR,"payloadchunk",n));q.error(n);}});},t);},timeout:function(){q.timeout();},error:function(k){q.error(k);}});},t);},isReady:function(k,n){var t;function q(){H(n,function(){if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;return!0;}},t);}t=this;H(n,function(){this._ready?q():this._readyQueue.poll(k,{result:function(k){H(n,function(){if(k===ga)return!1;q();},t);},timeout:function(){n.timeout();},error:function(k){n.error(k);}});},t);},getMessageHeader:function(){return this._header instanceof nc?this._header:null;},getErrorHeader:function(){return this._header instanceof Lb?this._header:null;},getIdentity:function(){var k,n;k=this.getMessageHeader();if(k){n=k.masterToken;return n?n.identity:k.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var k;k=this.getMessageHeader();return k?k.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(k){this._closeSource=k;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(k,n,q){var E;function t(){H(q,function(){var I,J,L,Q;function t(f){H(f,function(){var c,a,b;if(J&&Q>=J.length)return J.subarray(0,Q);c=-1;if(this._currentPayload){a=this._currentPayload.length-this._payloadOffset;if(!J){b=a;if(-1!=this._payloadIndex)for(var d=this._payloadIndex;d<this._payloads.length;++d)b+=this._payloads[d].length;0<b&&(J=new Uint8Array(b));}a=Math.min(a,J?J.length-Q:0);0<a&&(c=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+a),J.set(c,L),c=a,L+=a,this._payloadOffset+=a);}-1!=c?(Q+=c,t(f)):this.nextData(n,{result:function(a){H(f,function(){if(this._aborted)return J?J.subarray(0,Q):new Uint8Array(0);this._currentPayload=a;this._payloadOffset=0;if(this._currentPayload)t(f);else return 0==Q&&0!=k?null:J?J.subarray(0,Q):new Uint8Array(0);},E);},timeout:function(){f.timeout(J?J.subarray(0,Q):new Uint8Array(0));},error:function(a){H(f,function(){a instanceof A&&(a=new Oa("Error reading the payload chunk.",a));if(0<Q)return E._readException=a,J.subarray(0,Q);throw a;},E);}});},E);}if(this._aborted)return new Uint8Array(0);if(this._timedout)q.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){I=this._readException;this._readException=null;throw I;}J=-1!=k?new Uint8Array(k):ga;L=0;Q=0;t(q);}},E);}E=this;H(q,function(){if(-1>k)throw new RangeError("read requested with illegal length "+k);this._ready?t():this._readyQueue.poll(n,{result:function(k){k===ga?q.result(!1):t();},timeout:function(){q.timeout(new Uint8Array(0));},error:function(k){q.error(k);}});},E);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});ye=function(k,n,q,t,E,K,A){new xe(k,n,q,t,E,K,A);};}());(function(){ze=Fc.extend({init:function(k,n,q,t,L,E,K){var I;I=this;H(K,function(){var K,A,f;function J(){I._ready=!0;I._readyQueue.add(!0);}K=qd(k.getMessageCapabilities(),t.messageCapabilities);A=null;K&&(A=Pd(K.compressionAlgorithms));K={_destination:{value:n,writable:!1,enumerable:!1,configurable:!1},_charset:{value:q,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:K,writable:!1,enumerable:!1,configurable:!1},_header:{value:t,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:A,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:L,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,K);f=Ma(JSON.stringify(t),q);n.write(f,0,f.length,E,{result:function(c){try{I._aborted?J():c<f.length?(I._timedout=!0,J()):n.flush(E,{result:function(a){I._aborted||(I._timedout=!a);J();},timeout:function(){I._timedout=!0;J();},error:function(a){I._errored=a;J();}});}catch(a){I._errored=a;J();}},timeout:function(){I._timedout=!0;J();},error:function(c){I._errored=c;J();}});return this;},I);},setCompressionAlgorithm:function(k,n,q){var I;function t(){I.flush(n,{result:function(n){H(q,function(){if(!n)throw new Oa("flush() aborted");this._compressionAlgo=k;return!0;},I);},timeout:function(){q.timeout();},error:function(k){q.error(k);}});}I=this;H(q,function(){if(!this.getMessageHeader())throw new Y("Cannot write payload data for an error message.");if(this._compressionAlgo==k)return!0;if(k){if(!this._capabilities)return!1;for(var n=this._capabilities.compressionAlgorithms,q=0;q<n.length;++q)if(n[q]==k){t();return;}return!1;}t();},I);},getMessageHeader:function(){return this._header instanceof nc?this._header:null;},getErrorMessage:function(){return this._header instanceof Lb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(k,n){var q;q=this;H(n,function(){if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(k,{result:function(k){H(n,function(){k&&(this._currentPayload=null);return k;},q);},timeout:function(){n.timeout();},error:function(k){n.error(k);}});}},q);},flush:function(k,n){var t;function q(){H(n,function(){var q,E,R;if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;q=this.getMessageHeader();if(!q)return!0;E=0;this._currentPayload&&this._currentPayload.forEach(function(k){E+=k.length;});for(var I=new Uint8Array(E),J=0,Q=0;this._currentPayload&&Q<this._currentPayload.length;++Q){R=this._currentPayload[Q];I.set(R,J);J+=R.length;}se(this._payloadSequenceNumber,q.messageId,this._closed,this._compressionAlgo,I,this._cryptoContext,{result:function(q){H(n,function(){var f;this._payloads.push(q);f=Ma(JSON.stringify(q),this._charset);this._destination.write(f,0,f.length,k,{result:function(c){H(n,function(){if(this._aborted)return!1;c<q.length?n.timeout():this._destination.flush(k,{result:function(a){H(n,function(){if(this._aborted)return!1;if(a)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;n.timeout();},t);},timeout:function(){n.timeout();},error:function(a){a instanceof A&&(a=new Oa("Error encoding payload chunk [sequence number "+t._payloadSequenceNumber+"].",a));n.error(a);}});},t);},timeout:function(c){n.timeout();},error:function(c){c instanceof A&&(c=new Oa("Error encoding payload chunk [sequence number "+t._payloadSequenceNumber+"].",c));n.error(c);}});},t);},error:function(k){k instanceof A&&(k=new Oa("Error encoding payload chunk [sequence number "+t._payloadSequenceNumber+"].",k));n.error(k);}});}},t);}t=this;H(n,function(){this._ready?q():this._readyQueue.poll(k,{result:function(k){k===ga?n.result(!1):q();},timeout:function(){n.timeout();},error:function(k){n.error(k);}});},t);},write:function(k,n,q,t,L){H(L,function(){var t;if(this._aborted)return!1;if(this._timedout)L.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Oa("Message output stream already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(n+q>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new Y("Cannot write payload data for an error message.");t=k.subarray(n,n+q);this._currentPayload.push(t);return t.length;}},this);}});Lc=function(k,n,q,t,L,E,K){new ze(k,n,q,t,L,E,K);};}());hf=fa.Class.create({sentHeader:function(k){},receivedHeader:function(k){}});Object.freeze({USERDATA_REAUTH:q.USERDATA_REAUTH,SSOTOKEN_REJECTED:q.SSOTOKEN_REJECTED});Ae=fa.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(k,n,q,t){},getCustomer:function(){},getKeyRequestData:function(k){},updateServiceTokens:function(k,n,q){},write:function(k,n,q){},getDebugContext:function(){}});fa.Class.create({getInputStream:function(k){},getOutputStream:function(k){}});(function(){var La,qa,P,va,f,c,a,b,d,h,l,g;function t(a){return function(){a.abort();};}function I(a,b){Object.defineProperties(this,{masterToken:{value:a,writable:!1,configurable:!1},ticket:{value:b,writable:!1,configurable:!1}});}function J(a,b){Object.defineProperties(this,{builder:{value:a,writable:!1,configurable:!1},msgCtx:{value:b,writable:!1,configurable:!1}});}function Q(a,b,c){Object.defineProperties(this,{requestHeader:{value:a,writable:!1,configurable:!1},payloads:{value:b,writable:!1,configurable:!1},handshake:{value:c,writable:!1,configurable:!1}});}function L(a,b){Object.defineProperties(this,{requestHeader:{value:b.requestHeader,writable:!1,configurable:!1},payloads:{value:b.payloads,writable:!1,configurable:!1},handshake:{value:b.handshake,writable:!1,configurable:!1},response:{value:a,writable:!1,configurable:!1}});}function E(a){for(;a;){if(a instanceof Xa)return!0;a=a instanceof A?a.cause:ga;}return!1;}function K(a,b,c,g,d,h,l,f,x){ve(b,g,d,h,{result:function(g){c&&c.sentHeader(g);Lc(b,l,Ca,g,null,null,f,{result:function(b){a.setAbort(function(){b.abort();});b.close(f,{result:function(a){H(x,function(){if(!a)throw new Xa("sendError aborted.");return a;});},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},timeout:function(){},error:function(a){x.error(a);}});},error:function(a){x.error(a);}});}La=Fc.extend({close:function(a,b){b.result(!0);},write:function(a,b,c,g,d){n(d,function(){return Math.min(a.length-b,c);});},flush:function(a,b){b.result(!0);}});qa=gf.extend({getUserMessage:function(a,b){return null;}});P=Ae.extend({init:function(a){Object.defineProperties(this,{_appCtx:{value:a,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(a,b,c,g){this._appCtx.getUserAuthData(a,b,c,g);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(a){this._appCtx.getKeyRequestData(a);},updateServiceTokens:function(a,b,c){this._appCtx.updateServiceTokens(a,b,c);},write:function(a,b,c){this._appCtx.write(a,b,c);},getDebugContext:function(){return this._appCtx.getDebugContext();}});va=P.extend({init:function p(a,b){p.base.call(this,b);Object.defineProperties(this,{_payloads:{value:a,writable:!1,enumerable:!1,configurable:!1}});},write:function(a,b,c){var p;function g(d,r){var h;if(d==p._payloads.length)c.result(!0);else{h=p._payloads[d];a.setCompressionAlgorithm(h.compressionAlgo,b,{result:function(u){a.write(h.data,0,h.data.length,b,{result:function(u){H(c,function(){h.isEndOfMessage()?g(d+1,r):a.flush(b,{result:function(a){c.result(a);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});},p);},timeout:function(a){c.timeout(a);},error:function(a){c.error(a);}});},timeout:function(){},error:function(a){c.error(a);}});}}p=this;g(0);}});f=P.extend({init:function r(a){r.base.call(this,a);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(a,b,c){c.result(!0);}});c={};l=fa.Class.create({init:function(a){a||(a=new qa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:a,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(a){this._filterFactory=a;},getNewestMasterToken:function(a,b,c,g){var d;d=this;H(g,function(){var r,h,u,l,v;r=b.getMslStore();h=r.getMasterToken();if(!h)return null;u=h.uniqueKey();l=this._masterTokenLocks[u];l||(l=new $c(),this._masterTokenLocks[u]=l);v=l.readLock(c,{result:function(v){H(g,function(){var x;if(v===ga)throw new Xa("getNewestMasterToken aborted.");x=r.getMasterToken();if(h.equals(x))return new I(h,v);l.unlock(v);l.writeLock(c,{result:function(r){H(g,function(){if(r===ga)throw new Xa("getNewestMasterToken aborted.");delete this._masterTokenLocks[u];l.unlock(r);return this.getNewestMasterToken(a,b,c,g);},d);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},d);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});a.setAbort(function(){v&&(l.cancel(v),v=ga);});},d);},deleteMasterToken:function(a,b){var c;if(b){c=this;setTimeout(function(){var g,d;g=b.uniqueKey();d=c._masterTokenLocks[g];d||(d=new $c(),c._masterTokenLocks[g]=d);d.writeLock(-1,{result:function(r){a.getMslStore().removeCryptoContext(b);delete c._masterTokenLocks[g];d.unlock(r);},timeout:function(){throw new Y("Unexpected timeout received.");},error:function(a){throw a;}});},0);}},releaseMasterToken:function(a){var b;if(a&&a.masterToken){b=a.masterToken.uniqueKey();b=this._masterTokenLocks[b];if(!b)throw new Y("Master token read/write lock does not exist when it should.");b.unlock(a.ticket);}},updateOutgoingCryptoContexts:function(a,b,c){var g;g=a.getMslStore();!a.isPeerToPeer()&&c&&(g.setCryptoContext(c.keyResponseData.masterToken,c.cryptoContext),this.deleteMasterToken(a,b.masterToken));},updateIncomingCryptoContexts:function(a,b,c){var g,d;g=c.getMessageHeader();if(g){d=a.getMslStore();if(g=g.keyResponseData)d.setCryptoContext(g.masterToken,c.getKeyExchangeCryptoContext()),this.deleteMasterToken(a,b.masterToken);}},storeServiceTokens:function(a,b,c,g){var h,l;a=a.getMslStore();for(var d=[],r=0;r<g.length;++r){h=g[r];if(!h.isBoundTo(b)||!b.isVerified()){l=h.data;l&&0==l.length?a.removeServiceTokens(h.name,h.isMasterTokenBound()?b:null,h.isUserIdTokenBound()?c:null):d.push(h);}}0<d.length&&a.addServiceTokens(d);},buildRequest:function(a,b,c,g,d){var r;r=this;this.getNewestMasterToken(a,b,g,{result:function(a){n(d,function(){var g,h,l;g=a&&a.masterToken;if(g){h=c.getUserId();l=b.getMslStore();h=(h=h?l.getUserIdToken(h):null)&&h.isBoundTo(g)?h:null;}else h=null;Ub(b,g,h,null,{result:function(b){n(d,function(){b.setNonReplayable(c.isNonReplayable());return{builder:b,tokenTicket:a};});},error:function(b){n(d,function(){this.releaseMasterToken(a);b instanceof A&&(b=new Y("User ID token not bound to master token despite internal check.",b));throw b;},r);}});},r);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},buildResponse:function(a,b,c,g,d,h){var r;r=this;ue(b,g,{result:function(l){H(h,function(){l.setNonReplayable(c.isNonReplayable());if(!b.isPeerToPeer()&&!g.keyResponseData)return{builder:l,tokenTicket:null};this.getNewestMasterToken(a,b,d,{result:function(a){H(h,function(){var g,d,r;g=a&&a.masterToken;if(g){d=c.getUserId();r=b.getMslStore();d=(d=d?r.getUserIdToken(d):null)&&d.isBoundTo(g)?d:null;}else d=null;l.setAuthTokens(g,d);return{builder:l,tokenTicket:a};},r);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},r);},error:function(a){h.error(a);}});},buildErrorResponse:function(a,b,c,g,d,h,l){var v;function r(a,g){H(l,function(){var r,h;r=Tb(d.messageId);h=new va(g,c);Ub(b,null,null,r,{result:function(c){H(l,function(){b.isPeerToPeer()&&c.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);c.setNonReplayable(h.isNonReplayable());return{errorResult:new J(c,h),tokenTicket:null};},v);},error:function(a){l.error(a);}});},v);}function u(g,r){v.getNewestMasterToken(a,b,h,{result:function(a){H(l,function(){var h,u,x;h=a&&a.masterToken;u=Tb(d.messageId);x=new va(r,c);Ub(b,h,null,u,{result:function(c){H(l,function(){b.isPeerToPeer()&&c.setPeerAuthTokens(g.peerMasterToken,g.peerUserIdToken);c.setNonReplayable(x.isNonReplayable());return{errorResult:new J(c,x),tokenTicket:a};},v);},error:function(a){l.error(a);}});},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}v=this;H(l,function(){var x,y,f,z;x=g.requestHeader;y=g.payloads;f=d.errorCode;switch(f){case q.ENTITYDATA_REAUTH:case q.ENTITY_REAUTH:b.getEntityAuthenticationData(f,{result:function(a){H(l,function(){if(!a)return null;r(x,y);},v);},error:function(a){l.error(a);}});break;case q.USERDATA_REAUTH:case q.SSOTOKEN_REJECTED:c.getUserAuthData(f,!1,!0,{result:function(a){H(l,function(){if(!a)return null;u(x,y);},v);},error:function(a){l.error(a);}});break;case q.USER_REAUTH:u(x,y);break;case q.KEYX_REQUIRED:f=Tb(d.messageId),z=new va(y,c);Ub(b,null,null,f,{result:function(a){H(l,function(){b.isPeerToPeer()&&a.setPeerAuthTokens(x.peerMasterToken,x.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(z.isNonReplayable());return{errorResult:new J(a,z),tokenTicket:null};},v);},error:function(a){l.error(a);}});break;case q.EXPIRED:this.getNewestMasterToken(a,b,h,{result:function(a){H(l,function(){var g,r,h,u;g=a&&a.masterToken;r=x.userIdToken;h=Tb(d.messageId);u=new va(y,c);Ub(b,g,r,h,{result:function(c){H(l,function(){b.isPeerToPeer()&&c.setPeerAuthTokens(x.peerMasterToken,x.peerUserIdToken);x.masterToken.equals(g)&&c.setRenewable(!0);c.setNonReplayable(u.isNonReplayable());return{errorResult:new J(c,u),tokenTicket:a};},v);},error:function(a){l.error(a);}},v);},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});break;case q.REPLAYED:this.getNewestMasterToken(a,b,h,{result:function(a){H(l,function(){var g,r,h,u;g=a&&a.masterToken;r=x.userIdToken;h=Tb(d.messageId);u=new va(y,c);Ub(b,g,r,h,{result:function(c){H(l,function(){b.isPeerToPeer()&&c.setPeerAuthTokens(x.peerMasterToken,x.peerUserIdToken);x.masterToken.equals(g)?(c.setRenewable(!0),c.setNonReplayable(!1)):c.setNonReplayable(u.isNonReplayable());return{errorResult:new J(c,u),tokenTicket:a};},v);},error:function(a){l.error(a);}});},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});break;default:return null;}},v);},cleanupContext:function(a,b,c){switch(c.errorCode){case q.ENTITY_REAUTH:this.deleteMasterToken(a,b.masterToken);break;case q.USER_REAUTH:c=b.userIdToken,b.masterToken&&c&&a.getMslStore().removeUserIdToken(c);}},send:function(a,b,c,g,d,h,l){var z;function r(a,g,r){H(l,function(){var h;h=d.getPeerUserIdToken();!b.isPeerToPeer()&&!g||b.isPeerToPeer()&&!h?(h=c.getCustomer())?d.setCustomer(h,{result:function(b){H(l,function(){g=d.getUserIdToken();u(a,g,r);},z);},error:function(a){l.error(a);}}):u(a,g,r):u(a,g,r);},z);}function u(a,b,g){H(l,function(){var r,h;r=!g&&(!c.isEncrypted()||d.willEncryptPayloads())&&(!c.isIntegrityProtected()||d.willIntegrityProtectPayloads())&&(!c.isNonReplayable()||d.isNonReplayable()&&a);r||d.setNonReplayable(!1);h=[];d.isRenewable()&&(!a||a.isRenewable()||c.isNonReplayable())?c.getKeyRequestData({result:function(c){H(l,function(){var l;for(var g=0;g<c.length;++g){l=c[g];h.push(l);d.addKeyRequestData(l);}v(a,b,r,h);},z);},error:function(a){l.error(a);}}):v(a,b,r,h);},z);}function v(r,u,v,y){H(l,function(){var y;y=new we(b,c,d);c.updateServiceTokens(y,!v,{result:function(y){d.getHeader({result:function(y){H(l,function(){var f,z;f=c.getDebugContext();f&&f.sentHeader(y);f=d.getKeyExchangeData();this.updateOutgoingCryptoContexts(b,y,f);this.storeServiceTokens(b,r,u,y.serviceTokens);f=!b.isPeerToPeer()&&f?f.cryptoContext:y.cryptoContext;if(a.isAborted())throw new Xa("send aborted.");z=null!=this._filterFactory?this._filterFactory.getOutputStream(g):g;Lc(b,z,Ca,y,f,h,{result:function(b){a.setAbort(function(){b.abort();});x(b,y,v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},z);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},error:function(a){l.error(a);}});},z);}function x(g,d,r){var u,v;if(r)c.write(g,h,{result:function(b){H(l,function(){if(a.isAborted())throw new Xa("MessageOutputStream write aborted.");f(g,d,r);},z);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});else{u=new La();v=new cc();Lc(b,u,Ca,d,v,h,{result:function(b){c.write(b,h,{result:function(c){H(l,function(){if(a.isAborted())throw new Xa("MessageOutputStream proxy write aborted.");b.close(h,{result:function(a){H(l,function(){var c;if(!a)throw new Xa("MessageOutputStream proxy close aborted.");c=b.getPayloads();f(g,d,r,c);},z);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},z);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}}function f(a,b,c,g){a.close(h,{result:function(d){H(l,function(){if(!d)throw new Xa("MessageOutputStream close aborted.");g||(g=a.getPayloads());return new Q(b,g,!c);},z);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}z=this;H(l,function(){var a,b,g,h;a=d.getMasterToken();b=d.getUserIdToken();g=!1;if(c.getUserId()){h=!b;c.getUserAuthData(null,d.isRenewable(),h,{result:function(c){H(l,function(){c&&(d.willEncryptHeader()&&d.willIntegrityProtectHeader()?d.setUserAuthenticationData(c):g=!0);r(a,b,g);},z);},error:function(a){l.error(a);}});}else r(a,b,g);},z);},receive:function(a,b,c,g,d,h,l){var r;r=this;H(l,function(){var u,v,x;if(a.isAborted())throw new Xa("receive aborted.");u=[];d&&(u=d.keyRequestData.filter(function(){return!0;}));v=c.getCryptoContexts();x=this._filterFactory?this._filterFactory.getInputStream(g):g;ye(b,x,Ca,u,v,h,{result:function(g){a.setAbort(function(){g.abort();});g.isReady(h,{result:function(a){H(l,function(){var h,u,v,x;if(!a)throw new Xa("MessageInputStream aborted.");h=g.getMessageHeader();u=g.getErrorHeader();v=c.getDebugContext();v&&v.receivedHeader(h?h:u);if(d&&(v=u?u.errorCode:null,h||v!=q.FAIL&&v!=q.TRANSIENT_FAILURE&&v!=q.ENTITY_REAUTH&&v!=q.ENTITYDATA_REAUTH)){v=h?h.messageId:u.messageId;x=Tb(d.messageId);if(v!=x)throw new xa(k.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+x+"; received "+v);}b.getEntityAuthenticationData(null,{result:function(a){H(l,function(){var r,l,v,x;r=a.getIdentity();if(h){l=h.entityAuthenticationData;v=h.masterToken;l=v?h.sender:l.getIdentity();if(v&&v.isDecrypted()&&v.identity!=l||r==l)throw new xa(k.UNEXPECTED_MESSAGE_SENDER,l);d&&this.updateIncomingCryptoContexts(b,d,g);r=h.keyResponseData;b.isPeerToPeer()?(r=r?r.masterToken:h.peerMasterToken,v=h.peerUserIdToken,l=h.peerServiceTokens):(r=r?r.masterToken:h.masterToken,v=h.userIdToken,l=h.serviceTokens);x=c.getUserId();x&&v&&!v.isVerified()&&b.getMslStore().addUserIdToken(x,v);this.storeServiceTokens(b,r,v,l);}else if(l=u.entityAuthenticationData.getIdentity(),r==l)throw new xa(k.UNEXPECTED_MESSAGE_SENDER,l);return g;},r);},error:l.error});},r);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},r);},sendReceive:function(a,b,c,g,d,h,l,y,f){var u;function r(r,v){H(f,function(){h.setRenewable(v);this.send(a,b,c,d,h,l,{result:function(d){H(f,function(){var h;h=d.requestHeader.keyRequestData;y||d.handshake||!h.isEmpty()?this.receive(a,b,c,g,d.requestHeader,l,{result:function(a){H(f,function(){v&&this.releaseRenewalLock(b,r,a);return new L(a,d);},u);},timeout:function(){H(f,function(){v&&this.releaseRenewalLock(b,r,null);f.timeout();},u);},error:function(a){H(f,function(){v&&this.releaseRenewalLock(b,r,null);throw a;},u);}}):H(f,function(){v&&this.releaseRenewalLock(b,r,null);return new L(null,d);},u);},u);},timeout:function(){H(f,function(){v&&this.releaseRenewalLock(b,r,null);f.timeout();},u);},error:function(a){H(f,function(){v&&this.releaseRenewalLock(b,r,null);throw a;},u);}});},u);}u=this;H(f,function(){var g;g=new jc();this.acquireRenewalLock(a,b,c,g,h,l,{result:function(a){r(g,a);},timeout:function(){f.timeout();},error:function(a){a instanceof Xa?f.result(null):f.error(a);}});},u);},acquireRenewalLock:function(a,b,g,d,h,l,x){var v;function r(y,f,z){H(x,function(){var C,F;if(a.isAborted())throw new Xa("acquireRenewalLock aborted.");for(var w=null,T=0;T<this._renewingContexts.length;++T){C=this._renewingContexts[T];if(C.ctx===b){w=C.queue;break;}}if(!w)return this._renewingContexts.push({ctx:b,queue:d}),!0;F=w.poll(l,{result:function(a){H(x,function(){var d;if(a===ga)throw new Xa("acquireRenewalLock aborted.");w.add(a);if(a===c||a.isExpired())r(a,f,z);else{if(z&&!f||f&&!f.isBoundTo(a)){d=b.getMslStore().getUserIdToken(z);f=d&&d.isBoundTo(a)?d:null;}h.setAuthTokens(a,f);h.isRenewable()&&a.equals(y)?r(a,f,z):g.isRequestingTokens()&&!f?r(a,f,z):u(a,f);}},v);},timeout:function(){},error:function(a){}});a.setAbort(function(){F&&(w.cancel(F),F=ga);});},v);}function u(c,r){H(x,function(){var u;if(a.isAborted())throw new Xa("acquireRenewalLock aborted.");if(!c||c.isRenewable()||!r&&g.getUserId()||r&&r.isRenewable()){for(var h=null,l=0;l<this._renewingContexts.length;++l){u=this._renewingContexts[l];if(u.ctx===b){h=u.queue;break;}}if(!h)return this._renewingContexts.push({ctx:b,queue:d}),!0;}return!1;},v);}v=this;H(x,function(){var a,b,c;a=h.getMasterToken();b=h.getUserIdToken();c=g.getUserId();g.isEncrypted()&&!h.willEncryptPayloads()||g.isIntegrityProtected()&&!h.willIntegrityProtectPayloads()||h.isRenewable()||!a&&g.isNonReplayable()||a&&a.isExpired()||!(b||!c||h.willEncryptHeader()&&h.willIntegrityProtectHeader())||g.isRequestingTokens()&&(!a||c&&!b)?r(a,b,c):u(a,b);},v);},releaseRenewalLock:function(a,b,g){var l;for(var d,r,h=0;h<this._renewingContexts.length;++h){l=this._renewingContexts[h];if(l.ctx===a){d=h;r=l.queue;break;}}if(r!==b)throw new Y("Attempt to release renewal lock that is not owned by this queue.");g?(g=g.messageHeader)?(r=g.keyResponseData)?b.add(r.masterToken):(a=a.isPeerToPeer()?g.peerMasterToken:g.masterToken)?b.add(a):b.add(c):b.add(c):b.add(c);this._renewingContexts.splice(d,1);}});Be=fa.Class.create({init:function(){var a;a={_impl:{value:new l(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,a);},setFilterFactory:function(a){this._impl.setFilterFactory(a);},shutdown:function(){this._shutdown=!0;},receive:function(b,c,g,d,h,l){var r;if(this._shutdown)throw new A("MslControl is shutdown.");r=new a(this._impl,b,c,g,d,h);setTimeout(function(){r.call(l);},0);return t(r);},respond:function(a,c,g,d,h,l,x){var r;if(this._shutdown)throw new A("MslControl is shutdown.");r=new b(this._impl,a,c,g,d,h,l);setTimeout(function(){r.call(x);},0);return t(r);},error:function(a,b,c,g,h,l,x){var r;if(this._shutdown)throw new A("MslControl is shutdown.");r=new d(this._impl,a,b,c,g,h,l);setTimeout(function(){r.call(x);},0);return t(r);},request:function(a,b){var c,g,d,r,l,u;if(this._shutdown)throw new A("MslControl is shutdown.");if(5==arguments.length){if(c=arguments[2],d=g=null,r=arguments[3],l=arguments[4],a.isPeerToPeer()){l.error(new Y("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(c=null,g=arguments[2],d=arguments[3],r=arguments[4],l=arguments[5],!a.isPeerToPeer())){l.error(new Y("This method cannot be used in trusted network mode."));return;}u=new h(this._impl,a,b,c,g,d,null,0,r);setTimeout(function(){u.call(l);},0);return t(u);}});a=fa.Class.create({init:function(a,b,c,g,d,h){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:c,writable:!1,enumerable:!1,configurable:!1},_input:{value:g,writable:!1,enumerable:!1,configurable:!1},_output:{value:d,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:h,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},call:function(a){var d;function b(b){H(a,function(){var g;g=b.messageHeader;if(!g)return b;this.setAbort(function(){b.abort();});b.mark(Number.MAX_VALUE);b.read(1,d._timeout,{result:function(g){H(a,function(){if(g&&0==g.length)return null;if(g)return b.reset(),b;c(b);},d);},timeout:function(){a.timeout();},error:function(b){H(a,function(){var c,r,h;if(E(b))return null;c=g?g.messageId:null;b instanceof Oa?(r=k.MSL_COMMS_FAILURE,h=b):(r=k.INTERNAL_EXCEPTION,h=new Y("Error peeking into the message payloads."));K(this,this._ctx,this._msgCtx.getDebugContext(),c,r,null,this._output,this._timeout,{result:function(b){a.error(h);},timeout:function(){a.timeout();},error:function(c){H(a,function(){if(E(c))return null;throw new fb("Error peeking into the message payloads.",c,b);},d);}});},d);}});},d);}function c(b){H(a,function(){b.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,b.messageHeader,this._timeout,{result:function(c){H(a,function(){var d,r,l,u,v;d=c.builder;r=c.tokenTicket;l=b.messageHeader;u=new f(this._msgCtx);if(!this._ctx.isPeerToPeer()||l.isEncrypting()||l.keyResponseData)g(l,d,u,r);else{v=new h(this._ctrl,this._ctx,u,null,this._input,this._output,c,1,this._timeout);this.setAbort(function(){v.abort();});v.call(a);}},d);},timeout:function(){a.timeout();},error:function(c){H(a,function(){var g,r,h,l;if(E(c))return null;c instanceof A?(g=c.messageId,r=c.error,h=b.messageHeader.messageCapabilities,h=this._ctrl.messageRegistry.getUserMessage(r,h?h.languages:null),l=c):(g=requestHeader?requestHeader.messageId:null,r=k.INTERNAL_EXCEPTION,h=null,l=new Y("Error creating an automatic handshake response.",c));K(this,this._ctx,this._msgCtx.getDebugContext(),g,r,h,this._output,this._timeout,{result:function(b){a.error(l);},timeout:function(){a.timeout();},error:function(b){H(a,function(){if(E(b))return null;throw new fb("Error creating an automatic handshake response.",b,c);},d);}});},d);}});},d);}function g(b,c,g,r){H(a,function(){c.setRenewable(!1);this._ctrl.send(this._ctx,g,this._output,c,this._timeout,{result:function(b){H(a,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(r);return null;},d);},timeout:function(){H(a,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(r);a.timeout();},d);},error:function(c){H(a,function(){var g,h,l,u;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(r);if(E(c))return null;c instanceof A?(g=c.messageId,h=c.error,l=b?b.messageCapabilities:null,l=this._ctrl.messageRegistry.getUserMessage(h,l?l.languages:null),u=c):c instanceof Oa?(g=b?b.messageId:null,h=k.MSL_COMMS_FAILURE,l=null,u=c):(g=b?b.messageId:null,h=k.INTERNAL_EXCEPTION,l=null,u=new Y("Error sending an automatic handshake response.",c));K(this,this._ctx,this._msgCtx.getDebugContext(),g,h,l,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(b){H(a,function(){if(E(b))return null;throw new fb("Error sending an automatic handshake response.",b,c);},d);}});},d);}});},d);}d=this;H(a,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(a){b(a);},timeout:function(){a.timeout();},error:function(b){H(a,function(){var c,g,r,h;if(E(b))return null;b instanceof A?(c=b.messageId,g=b.error,r=this._ctrl.messageRegistry.getUserMessage(g,null),h=b):(c=null,g=k.INTERNAL_EXCEPTION,r=null,h=new Y("Error receiving the message header.",b));K(this,this._ctx,this._msgCtx.getDebugContext(),c,g,r,this._output,this._timeout,{result:function(b){a.error(h);},timeout:function(){a.timeout();},error:function(c){H(a,function(){if(E(c))return null;throw new fb("Error receiving the message header.",c,b);},d);}});},d);}});},d);}});b=fa.Class.create({init:function(a,b,c,g,d,h,l){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:c,writable:!1,enumerable:!1,configurable:!1},_input:{value:g,writable:!1,enumerable:!1,configurable:!1},_output:{value:d,writable:!1,enumerable:!1,configurable:!1},_request:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:l,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},trustedNetworkExecute:function(a,b,c){var g;g=this;H(c,function(){var d,r;if(12<b+1)return!1;if(d=this._msgCtx.isIntegrityProtected()&&!a.willIntegrityProtectHeader()?k.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!a.willEncryptPayloads()?k.RESPONSE_REQUIRES_ENCRYPTION:null){r=dc(a.getMessageId());K(this,this._ctx,this._msgCtx.getDebugContext(),r,d,null,this._output,this._timeout,{result:function(a){c.result(!1);},timeout:function(){c.timeout();},error:function(a){H(c,function(){if(E(a))return!1;throw new fb("Response requires encryption or integrity protection but cannot be protected: "+d,a,null);},g);}});}else!this._msgCtx.getCustomer()||a.getMasterToken()||a.getKeyExchangeData()?(a.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,a,this._timeout,{result:function(a){c.result(!0);},timeout:function(){c.timeout();},error:function(a){c.error(a);}})):(r=dc(a.getMessageId()),K(this,this._ctx,this._msgCtx.getDebugContext(),r,k.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(a){c.result(!1);},timeout:function(){c.timeout();},error:function(a){H(c,function(){if(E(a))return!1;throw new fb("Response wishes to attach a user ID token but there is no master token.",a,null);},g);}}));},g);},peerToPeerExecute:function(a,b,c,g){var r;function d(b){H(g,function(){var d;d=b.response;d.close();d=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,b.requestHeader,d);this._ctrl.buildErrorResponse(this,this._ctx,a,b,d,{result:function(a){H(g,function(){var b,d;if(!a)return!1;b=a.errorResult;d=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,c,{result:function(a){H(g,function(){this._ctrl.releaseMasterToken(d);return a;},r);},timeout:function(){H(g,function(){this._ctrl.releaseMasterToken(d);g.timeout();},r);},error:function(a){H(g,function(){this._ctrl.releaseMasterToken(d);throw a;},r);}});},r);}});},r);}r=this;H(g,function(){var h;if(12<c+2)return!1;if(null!=a.getCustomer()&&null==b.getPeerMasterToken()&&null==b.getKeyExchangeData()){h=dc(b.getMessageId());K(this,this._ctx,a.getDebugContext(),h,k.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(a){g.result(!1);},timeout:function(){g.timeout();},error:function(a){H(g,function(){if(E(a))return!1;throw new fb("Response wishes to attach a user ID token but there is no master token.",a,null);},r);}});}else this._ctrl.sendReceive(this._ctx,a,this._input,this._output,b,this._timeout,!1,{result:function(b){H(g,function(){var u,v,f;function h(){u.read(32768,r._timeout,{result:function(a){H(g,function(){a?h():l();},r);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}function l(){H(g,function(){var d;d=new va(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,d,v,this._timeout,{result:function(a){H(g,function(){var b;b=a.tokenTicket;this.peerToPeerExecute(d,a.builder,c,{result:function(a){H(g,function(){this._ctrl.releaseMasterToken(b);return a;},r);},timeout:function(){H(g,function(){this._ctrl.releaseMasterToken(b);g.timeout();},r);},error:function(a){H(g,function(){this._ctrl.releaseMasterToken(b);throw a;},r);}});},r);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},r);}u=b.response;c+=2;if(!u)return!0;v=u.getMessageHeader();if(v){f=b.payloads;f=0<f.length&&0<f[0].data.length;if(b.handshake&&f)h();else return!0;}else d(b);},r);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},r);},call:function(a){var b;b=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(c){H(a,function(){var g,d;g=c.builder;d=c.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,g,3,{result:function(c){H(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);return c;},b);},timeout:function(){H(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);a.timeout();},b);},error:function(c){H(a,function(){var r,h,l,u;this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);if(E(c))return!1;r=dc(g.getMessageId());c instanceof A?(h=c.error,l=this._request.messageCapabilities,l=this._ctrl.messageRegistry.getUserMessage(h,l?l.languages:null),u=c):c instanceof Oa?(h=k.MSL_COMMS_FAILURE,l=null,u=c):(h=k.INTERNAL_EXCEPTION,l=null,u=new Y("Error sending the response.",c));K(this,this._ctx,this._msgCtx.getDebugContext(),r,h,l,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(c){H(a,function(){if(E(c))return!1;throw new fb("Error sending the response.",c,null);},b);}});},b);}}):this.trustedNetworkExecute(g,3,{result:function(c){H(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);return c;},b);},timeout:function(){H(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);a.timeout();},b);},error:function(c){H(a,function(){var r,h,l,u;this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);if(E(c))return!1;r=dc(g.getMessageId());c instanceof A?(h=c.error,l=this._request.messageCapabilities,l=this._ctrl.messageRegistry.getUserMessage(h,l?l.languages:null),u=c):c instanceof Oa?(h=k.MSL_COMMS_FAILURE,l=null,u=c):(h=k.INTERNAL_EXCEPTION,l=null,u=new Y("Error sending the response.",c));K(this,this._ctx,this._msgCtx.getDebugContext(),r,h,l,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(c){H(a,function(){if(E(c))return!1;throw new fb("Error sending the response.",c,null);},b);}});},b);}});},b);},timeout:function(){a.timeout();},error:function(c){H(a,function(){var g,d,r,h;if(E(c))return!1;c instanceof A?(g=c.messageId,d=c.error,r=this._request.messageCapabilities,r=this._ctrl.messageRegistry.getUserMessage(d,r?r.languages:null),h=c):(g=null,d=k.INTERNAL_EXCEPTION,r=null,h=new Y("Error building the response.",c));K(this,this._ctx,this._msgCtx.getDebugContext(),g,d,r,this._output,this._timeout,{result:function(b){a.error(h);},timeout:function(){a.timeout();},error:function(g){H(a,function(){if(E(g))return null;throw new fb("Error building the response.",g,c);},b);}});},b);}});}});d=fa.Class.create({init:function(a,b,c,g,d,h,l){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:c,writable:!1,enumerable:!1,configurable:!1},_appError:{value:g,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:l,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},call:function(a){var b;b=this;H(a,function(){var c,g;if(this._appError==ENTITY_REJECTED)c=this._request.masterToken?k.MASTERTOKEN_REJECTED_BY_APP:k.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)c=this._request.userIdToken?k.USERIDTOKEN_REJECTED_BY_APP:k.USER_REJECTED_BY_APP;else throw new Y("Unhandled application error "+this._appError+".");g=this._request.messageCapabilities;g=this._ctrl.messageRegistry.getUserMessage(c,g?g.languages:null);K(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,c,g,this._output,this._timeout,{result:function(b){a.result(b);},timeout:a.timeout,error:function(c){H(a,function(){if(E(c))return!1;if(c instanceof A)throw c;throw new Y("Error building the error response.",c);},b);}});},b);}});g={result:function(){},timeout:function(){},error:function(){}};h=fa.Class.create({init:function(a,b,c,g,d,h,l,f,C){var r;l?(r=l.builder,l=l.tokenTicket):l=r=null;Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:c,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:g,writable:!1,enumerable:!1,configurable:!1},_input:{value:d,writable:!0,enumerable:!1,configurable:!1},_output:{value:h,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:r,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:l,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:C,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:f,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},execute:function(a,b,c,d,l){var v;function r(b){function r(a){H(l,function(){var c;c=b.response;return a?a:c;},v);}H(l,function(){var u,f;u=b.response;u.close();f=u.getErrorHeader();this._ctrl.cleanupContext(this._ctx,b.requestHeader,f);this._ctrl.buildErrorResponse(this,this._ctx,a,b,f,c,{result:function(a){H(l,function(){var b,f,x,y;if(!a)return u;b=a.errorResult;f=a.tokenTicket;x=b.builder;b=b.msgCtx;if(this._ctx.isPeerToPeer())this.execute(b,x,this._timeout,d,{result:function(a){H(l,function(){this._ctrl.releaseMasterToken(f);r(a);},v);},timeout:function(){H(l,function(){this._ctrl.releaseMasterToken(f);l.timeout();},v);},error:function(a){H(l,function(){this._ctrl.releaseMasterToken(f);l.error(a);},v);}});else{this._openedStreams&&(this._input.close(),this._output.close(c,g));y=new h(this._ctrl,this._ctx,b,this._remoteEntity,null,null,{builder:x,tokenTicket:f},d,this._timeout);this.setAbort(function(){y.abort();});y.call({result:function(a){r(a);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},v);}function u(b){H(l,function(){var x,y,z,w,C;function r(){x.read(32768,v._timeout,{result:function(a){a?r():u();},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}function u(){H(l,function(){var g;g=new va(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,a,y,c,{result:function(a){H(l,function(){var b;b=a.tokenTicket;this.execute(g,a.builder,this._timeout,d,{result:function(a){H(l,function(){this._ctrl.releaseMasterToken(b);return a;},v);},timeout:function(){H(l,function(){this._ctrl.releaseMasterToken(b);l.timeout();},v);},error:function(a){H(l,function(){this._ctrl.releaseMasterToken(b);throw a;},v);}});},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},v);}x=b.response;y=x.getMessageHeader();z=b.payloads;z=0<z.length&&0<z[0].data.length;if(!this._ctx.isPeerToPeer()){if(!b.handshake||!z)return x;this._openedStreams&&(this._input.close(),this._output.close(c,g));w=new va(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,a,y,c,{result:function(a){H(l,function(){var b;b=new h(this._ctrl,this._ctx,w,this._remoteEntity,null,null,a,d,this._timeout);this.setAbort(function(){b.abort();});b.call(l);},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}else if(b.handshake&&z)r();else if(0<y.keyRequestData.length){C=new f(a);this._ctrl.buildResponse(this,this._ctx,C,y,c,{result:function(a){H(l,function(){var b,c;b=a.builder;c=a.tokenTicket;x.mark();x.read(1,this._timeout,{result:function(a){H(l,function(){function g(){x.read(32768,v._timeout,{result:function(a){a?g():r();},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}function r(){v.execute(C,b,v._timeout,d,{result:function(a){H(l,function(){this._ctrl.releaseMasterToken(c);return a;},v);},timeout:function(){H(l,function(){this._ctrl.releaseMasterToken(c);l.timeout();},v);},error:function(a){H(l,function(){this._ctrl.releaseMasterToken(c);throw a;},v);}});}if(a)if(x.reset(),12>=d+1)b.setRenewable(!1),this._ctrl.send(this,this._ctx,C,this._output,b,this._timeout,{result:function(a){H(l,function(){this.releaseMasterToken(c);return x;},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});else return this.releaseMasterToken(c),x;else g();},v);},timeout:function(){H(l,function(){this.releaseMasterToken(c);l.timeout();},v);},error:function(a){H(l,function(){this.releaseMasterToken(c);throw a;},v);}});},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}},v);}v=this;H(l,function(){if(12<d+2)return null;this._ctrl.sendReceive(this,this._ctx,a,this._input,this._output,b,c,!0,{result:function(a){H(l,function(){var b;if(!a)return null;b=a.response;d+=2;b.getMessageHeader()?u(a):r(a);},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},v);},call:function(a){var c;function b(b,d,r){H(a,function(){this.execute(this._msgCtx,b,r,this._msgCount,{result:function(b){H(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&this._output.close(r,g);b&&b.closeSource(this._openedStreams);return b;},c);},timeout:function(){H(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&(this._output.close(r,g),this._input.close());a.timeout();},c);},error:function(b){H(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&(this._output.close(r,g),this._input.close());if(E(b))return null;throw b;},c);}});},c);}c=this;H(a,function(){var d,r,h;d=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);r=Date.now();h=this._remoteEntity.openConnection();this._output=h.output;this._input=h.input;-1!=d&&(d=this._timeout-(Date.now()-r));this._openedStreams=!0;}catch(x){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,g);this._input&&this._input.close();if(E(x))return null;throw x;}this._builder?b(this._builder,this._tokenTicket,d):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){H(a,function(){b(g.builder,g.tokenTicket,d);},c);},timeout:function(){H(a,function(){this._openedStreams&&(this._output.close(this._timeout,g),this._input.close());a.timeout();},c);},error:function(b){H(a,function(){this._openedStreams&&(this._output.close(this._timeout,g),this._input.close());if(E(b))return null;throw b;},c);}});},c);}});}());(function(){td=fa.Class.create({init:function(k){Object.defineProperties(this,{id:{value:k,writable:!1,configurable:!1}});},toJSON:function(){var k;k={};k.id=this.id;return k;},equals:function(k){return this===k?!0:k instanceof td?this.id==k.id:!1;},uniqueKey:function(){return this.id;}});Ce=function(n){var q;q=n.id;if(!q)throw new aa(k.JSON_PARSE_ERROR,JSON.stringify(n));return new td(q);};}());fa.Class.create({isNewestMasterToken:function(k,n,q){},isMasterTokenRevoked:function(k,n){},acceptNonReplayableId:function(k,n,q,t){},createMasterToken:function(k,n,q,t,L){},isMasterTokenRenewable:function(k,n,q){},renewMasterToken:function(k,n,q,t,L){},isUserIdTokenRevoked:function(k,n,q,t){},createUserIdToken:function(k,n,q,t){},renewUserIdToken:function(k,n,q,t){}});(function(){function q(k,n,q,t){this.sessiondata=k;this.tokendata=n;this.signature=q;this.verified=t;}eb=fa.Class.create({init:function(k,q,t,L,E,K,A,H,R,P,f){var c;c=this;n(f,function(){var a,b,d,h,l;if(t.getTime()<q.getTime())throw new Y("Cannot construct a master token that expires before its renewal window opens.");if(0>L||L>Aa)throw new Y("Sequence number "+L+" is outside the valid range.");if(0>E||E>Aa)throw new Y("Serial number "+E+" is outside the valid range.");a=Math.floor(q.getTime()/1E3);b=Math.floor(t.getTime()/1E3);if(P)d=P.sessiondata;else{h={};K&&(h.issuerdata=K);h.identity=A;h.encryptionkey=ma(H.toByteArray());h.hmackey=ma(R.toByteArray());d=Ma(JSON.stringify(h),Ca);}if(P)return Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:a,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:b,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:L,writable:!1,configurable:!1},serialNumber:{value:E,writable:!1,configurable:!1},issuerData:{value:K,writable:!1,configurable:!1},identity:{value:A,writable:!1,configurable:!1},encryptionKey:{value:H,writable:!1,configurable:!1},hmacKey:{value:R,writable:!1,configurable:!1},sessiondata:{value:d,writable:!1,enumerable:!1,configurable:!1},verified:{value:P.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:P.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:P.signature,writable:!1,enumerable:!1,configurable:!1}}),this;l=k.getMslCryptoContext();l.encrypt(d,{result:function(g){n(f,function(){var m,p;m={};m.renewalwindow=a;m.expiration=b;m.sequencenumber=L;m.serialnumber=E;m.sessiondata=ma(g);p=Ma(JSON.stringify(m),Ca);l.sign(p,{result:function(g){n(f,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:a,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:b,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:L,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:E,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:K,writable:!1,configurable:!1},identity:{value:A,writable:!1,configurable:!1},encryptionKey:{value:H,writable:!1,configurable:!1},hmacKey:{value:R,writable:!1,configurable:!1},sessiondata:{value:d,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:p,writable:!1,enumerable:!1,configurable:!1},signature:{value:g,writable:!1,enumerable:!1,configurable:!1}});return this;},c);},error:function(a){f.error(a);}});},c);},error:function(a){f.error(a);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(k){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(k){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(k){var n;if(this.sequenceNumber==k.sequenceNumber)return this.expiration>k.expiration;if(this.sequenceNumber>k.sequenceNumber){n=this.sequenceNumber-Aa+127;return k.sequenceNumber>=n;}n=k.sequenceNumber-Aa+127;return this.sequenceNumber<n;},toJSON:function(){var k;k={};k.tokendata=ma(this.tokendata);k.signature=ma(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof eb?this.serialNumber==k.serialNumber&&this.sequenceNumber==k.sequenceNumber&&this.expiration.getTime()==k.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Rb=function(t,J,Q){n(Q,function(){var L,E,K,I,H;L=t.getMslCryptoContext();E=J.tokendata;K=J.signature;if("string"!==typeof E||"string"!==typeof K)throw new aa(k.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(J));try{I=ra(E);}catch(Ha){throw new A(k.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(J),Ha);}if(!I||0==I.length)throw new aa(k.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(J));try{H=ra(K);}catch(Ha){throw new A(k.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(J),Ha);}L.verify(I,H,{result:function(E){n(Q,function(){var K,f,c,a,b,d,h,l,g,m;d=Ia(I,Ca);try{h=JSON.parse(d);K=parseInt(h.renewalwindow);f=parseInt(h.expiration);c=parseInt(h.sequencenumber);a=parseInt(h.serialnumber);b=h.sessiondata;}catch(p){if(p instanceof SyntaxError)throw new aa(k.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+d,p);throw p;}if(!K||K!=K||!f||f!=f||"number"!==typeof c||c!=c||"number"!==typeof a||a!=a||"string"!==typeof b)throw new aa(k.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+d);if(f<K)throw new A(k.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+d);if(0>c||c>Aa)throw new A(k.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+d);if(0>a||a>Aa)throw new A(k.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+d);l=new Date(1E3*K);g=new Date(1E3*f);try{m=ra(b);}catch(p){throw new A(k.MASTERTOKEN_SESSIONDATA_INVALID,b,p);}if(!m||0==m.length)throw new A(k.MASTERTOKEN_SESSIONDATA_MISSING,b);E?L.decrypt(m,{result:function(b){n(Q,function(){var d,p,m,h,f,G;f=Ia(b,Ca);try{G=JSON.parse(f);d=G.issuerdata;p=G.identity;m=G.encryptionkey;h=G.hmackey;}catch(x){if(x instanceof SyntaxError)throw new aa(k.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+f,x);throw x;}if(d&&"object"!==typeof d||!p||"string"!==typeof m||"string"!==typeof h)throw new aa(k.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+f);ob(m,jb,Hb,{result:function(m){ob(h,sb,Qb,{result:function(r){n(Q,function(){var h;h=new q(b,I,H,E);new eb(t,l,g,c,a,d,p,m,r,h,Q);});},error:function(a){Q.error(new P(k.MASTERTOKEN_KEY_CREATION_ERROR,a));}});},error:function(a){Q.error(new P(k.MASTERTOKEN_KEY_CREATION_ERROR,a));}});});},error:function(a){Q.error(a);}}):(K=new q(null,I,H,E),new eb(t,l,g,c,a,null,null,null,null,K,Q));});},error:function(k){Q.error(k);}});});};}());(function(){function q(k,n,q){this.tokendata=k;this.signature=n;this.verified=q;}ac=fa.Class.create({init:function(k,q,t,L,E,K,H,R,P){var J;J=this;n(P,function(){var f,c,a,b,d,h,l;if(t.getTime()<q.getTime())throw new Y("Cannot construct a user ID token that expires before its renewal window opens.");if(!L)throw new Y("Cannot construct a user ID token without a master token.");if(0>E||E>Aa)throw new Y("Serial number "+E+" is outside the valid range.");f=Math.floor(q.getTime()/1E3);c=Math.floor(t.getTime()/1E3);a=L.serialNumber;if(R){b=R.tokendata;d=R.signature;h=R.verified;a=L.serialNumber;Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:f,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:c,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},serialNumber:{value:E,writable:!1,configurable:!1},issuerData:{value:K,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:h,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:d,writable:!1,enumerable:!1,configurable:!1}});return this;}b={};K&&(b.issuerdata=K);b.identity=H;b=Ma(JSON.stringify(b),Ca);l=k.getMslCryptoContext();l.encrypt(b,{result:function(b){n(P,function(){var g,d;g={};g.renewalwindow=f;g.expiration=c;g.mtserialnumber=a;g.serialnumber=E;g.userdata=ma(b);d=Ma(JSON.stringify(g),Ca);l.sign(d,{result:function(a){n(P,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:f,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:c,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:L.serialNumber,writable:!1,configurable:!1},serialNumber:{value:E,writable:!1,configurable:!1},issuerData:{value:K,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:d,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},J);},error:function(a){n(P,function(){a instanceof A&&a.setEntity(L);throw a;},J);}});},J);},error:function(a){n(P,function(){a instanceof A&&a.setEntity(L);throw a;},J);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(k){return k&&k.serialNumber==this.mtSerialNumber;},toJSON:function(){var k;k={};k.tokendata=ma(this.tokendata);k.signature=ma(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof ac?this.serialNumber==k.serialNumber&&this.mtSerialNumber==k.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Sb=function(t,J,Q,L){n(L,function(){var E,K,I,H,R;E=t.getMslCryptoContext();K=J.tokendata;I=J.signature;if("string"!==typeof K||"string"!==typeof I)throw new aa(k.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(J)).setEntity(Q);try{H=ra(K);}catch(va){throw new A(k.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(J),va).setEntity(Q);}if(!H||0==H.length)throw new aa(k.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(J)).setEntity(Q);try{R=ra(I);}catch(va){throw new A(k.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(J),va).setEntity(Q);}E.verify(H,R,{result:function(K){n(L,function(){var f,c,a,b,d,h,l,g,m,p;h=Ia(H,Ca);try{l=JSON.parse(h);f=parseInt(l.renewalwindow);c=parseInt(l.expiration);a=parseInt(l.mtserialnumber);b=parseInt(l.serialnumber);d=l.userdata;}catch(r){if(r instanceof SyntaxError)throw new aa(k.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+h,r).setEntity(Q);throw r;}if(!f||f!=f||!c||c!=c||"number"!==typeof a||a!=a||"number"!==typeof b||b!=b||"string"!==typeof d)throw new aa(k.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+h).setEntity(Q);if(c<f)throw new A(k.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+h).setEntity(Q);if(0>a||a>Aa)throw new A(k.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+h).setEntity(Q);if(0>b||b>Aa)throw new A(k.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+h).setEntity(Q);g=new Date(1E3*f);m=new Date(1E3*c);if(!Q||a!=Q.serialNumber)throw new A(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+a+"; mt "+JSON.stringify(Q)).setEntity(Q);try{p=ra(d);}catch(r){throw new A(k.USERIDTOKEN_USERDATA_INVALID,d,r).setEntity(Q);}if(!p||0==p.length)throw new A(k.USERIDTOKEN_USERDATA_MISSING,d).setEntity(Q);K?E.decrypt(p,{result:function(a){n(L,function(){var c,d,p,r,h;p=Ia(a,Ca);try{r=JSON.parse(p);c=r.issuerdata;d=r.identity;}catch(x){if(x instanceof SyntaxError)throw new aa(k.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+p).setEntity(Q);throw x;}if(c&&"object"!==typeof c||"object"!==typeof d)throw new aa(k.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+p).setEntity(Q);try{h=Ce(d);}catch(x){throw new A(k.USERIDTOKEN_IDENTITY_INVALID,"userdata "+p,x).setEntity(Q);}d=new q(H,R,K);new ac(t,g,m,Q,b,c,h,d,L);});},error:function(a){n(L,function(){a instanceof A&&a.setEntity(Q);throw a;});}}):(f=new q(H,R,K),new ac(t,g,m,Q,b,null,null,f,L));});},error:function(k){n(L,function(){k instanceof A&&k.setEntity(Q);throw k;});}});});};}());(function(){function q(n,q){var t,E,K;t=n.tokendata;if("string"!==typeof t)throw new aa(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n));try{E=ra(t);}catch(La){throw new A(k.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(n),La);}if(!E||0==E.length)throw new aa(k.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(n));try{K=JSON.parse(Ia(E,Ca)).name;}catch(La){if(La instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n),La);throw La;}if(!K)throw new aa(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n));return q[K]?q[K]:q[""];}function t(k,n,q){this.tokendata=k;this.signature=n;this.verified=q;}Jb=fa.Class.create({init:function(k,q,t,E,K,I,H,R,P,f){var c;c=this;n(f,function(){var a,b,d,h,l;if(E&&K&&!K.isBoundTo(E))throw new Y("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");a=E?E.serialNumber:-1;b=K?K.serialNumber:-1;if(P)return l=P.tokendata,Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:H,writable:!1,configurable:!1},verified:{value:P.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:l,writable:!1,enumerable:!1,configurable:!1},signature:{value:P.signature,writable:!1,enumerable:!1,configurable:!1}}),this;H?(d=sd(H,t),d.length<t.length||(H=null,d=t)):(H=null,d=t);h={};h.name=q;-1!=a&&(h.mtserialnumber=a);-1!=b&&(h.uitserialnumber=b);h.encrypted=I;H&&(h.compressionalgo=H);if(I&&0<d.length)R.encrypt(d,{result:function(g){n(f,function(){var d;h.servicedata=ma(g);d=Ma(JSON.stringify(h),Ca);R.sign(d,{result:function(g){n(f,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:d,writable:!1,enumerable:!1,configurable:!1},signature:{value:g,writable:!1,enumerable:!1,configurable:!1}});return this;},c);},error:function(a){n(f,function(){a instanceof A&&(a.setEntity(E),a.setUser(K));throw a;});}});},c);},error:function(a){n(f,function(){a instanceof A&&(a.setEntity(E),a.setUser(K));throw a;});}});else{h.servicedata=ma(d);l=Ma(JSON.stringify(h),Ca);R.sign(l,{result:function(g){n(f,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:l,writable:!1,enumerable:!1,configurable:!1},signature:{value:g,writable:!1,enumerable:!1,configurable:!1}});return this;},c);},error:function(a){n(f,function(){a instanceof A&&(a.setEntity(E),a.setUser(K));throw a;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(k){return k?k instanceof eb?k.serialNumber==this.mtSerialNumber:k instanceof ac?k.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var k;k={};k.tokendata=ma(this.tokendata);k.signature=ma(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof Jb?this.name==k.name&&this.mtSerialNumber==k.mtSerialNumber&&this.uitSerialNumber==k.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Cb=function(k,n,q,t,K,I,A,H,R){new Jb(k,n,q,t,K,I,A,H,null,R);};Ic=function(I,Q,L,E,K,H){n(H,function(){var J,R,P,f,c,a,b,d,h,l,g,m,p;!K||K instanceof bc||(K=q(Q,K));J=Q.tokendata;R=Q.signature;if("string"!==typeof J||"string"!==typeof R)throw new aa(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(Q)).setEntity(L).setEntity(E);try{P=ra(J);}catch(r){throw new A(k.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(Q),r).setEntity(L).setEntity(E);}if(!P||0==P.length)throw new aa(k.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(Q)).setEntity(L).setEntity(E);try{f=ra(R);}catch(r){throw new A(k.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(Q),r).setEntity(L).setEntity(E);}g=Ia(P,Ca);try{m=JSON.parse(g);c=m.name;a=m.mtserialnumber?parseInt(m.mtserialnumber):-1;b=m.uitserialnumber?parseInt(m.uitserialnumber):-1;d=m.encrypted;h=m.compressionalgo;l=m.servicedata;}catch(r){if(r instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"servicetokendata "+g,r).setEntity(L).setEntity(E);throw r;}if(!c||"number"!==typeof a||a!=a||"number"!==typeof b||b!=b||"boolean"!==typeof d||h&&"string"!==typeof h||"string"!==typeof l)throw new aa(k.JSON_PARSE_ERROR,"servicetokendata "+g).setEntity(L).setEntity(E);if(m.mtserialnumber&&0>a||a>Aa)throw new A(k.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+g).setEntity(L).setEntity(E);if(m.uitserialnumber&&0>b||b>Aa)throw new A(k.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+g).setEntity(L).setEntity(E);if(-1!=a&&(!L||a!=L.serialNumber))throw new A(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+a+"; mt "+L).setEntity(L).setEntity(E);if(-1!=b&&(!E||b!=E.serialNumber))throw new A(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+b+"; uit "+E).setEntity(L).setEntity(E);d=!0===d;if(h){if(!Nb[h])throw new A(k.UNIDENTIFIED_COMPRESSION,h);p=h;}else p=null;K?K.verify(P,f,{result:function(m){n(H,function(){var r,h;if(m){try{r=ra(l);}catch(z){throw new A(k.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+g,z).setEntity(L).setEntity(E);}if(!r||0!=l.length&&0==r.length)throw new A(k.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+g).setEntity(L).setEntity(E);if(d&&0<r.length)K.decrypt(r,{result:function(g){n(H,function(){var r,h;r=p?Jc(p,g):g;h=new t(P,f,m);new Jb(I,c,r,-1!=a?L:null,-1!=b?E:null,d,p,K,h,H);});},error:function(a){n(H,function(){a instanceof A&&(a.setEntity(L),a.setUser(E));throw a;});}});else{r=p?Jc(p,r):r;h=new t(P,f,m);new Jb(I,c,r,-1!=a?L:null,-1!=b?E:null,d,p,K,h,H);}}else r=""==l?new Uint8Array(0):null,h=new t(P,f,m),new Jb(I,c,r,-1!=a?L:null,-1!=b?E:null,d,p,K,h,H);});},error:function(a){n(H,function(){a instanceof A&&(a.setEntity(L),a.setUser(E));throw a;});}}):(J=""==l?new Uint8Array(0):null,R=new t(P,f,!1),new Jb(I,c,J,-1!=a?L:null,-1!=b?E:null,d,p,K,R,H));});};}());ab={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(ab);(function(){Gb=fa.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(k){return this===k?!0:k instanceof Gb?this.scheme==k.scheme:!1;},toJSON:function(){var k;k={};k.scheme=this.scheme;k.authdata=this.getAuthData();return k;}});re=function(q,t,J,A){n(A,function(){var n,E,K;n=J.scheme;E=J.authdata;if(!n||!E)throw new aa(k.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(J));if(!ab[n])throw new sa(k.UNIDENTIFIED_USERAUTH_SCHEME,n);K=q.getUserAuthenticationFactory(n);if(!K)throw new sa(k.USERAUTH_FACTORY_NOT_FOUND,n);K.createData(q,t,E,A);});};}());oc=fa.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createData:function(k,n,q,t){},authenticate:function(k,n,q,t){}});(function(){Vb=Gb.extend({init:function I(k,n){I.base.call(this,ab.NETFLIXID);Object.defineProperties(this,{netflixId:{value:k,writable:!1,configurable:!1},secureNetflixId:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.netflixid=this.netflixId;this.secureNetflixId&&(k.securenetflixid=this.secureNetflixId);return k;},equals:function J(k){return this===k?!0:k instanceof Vb?J.base.call(this,k)&&this.netflixId==k.netflixId&&this.secureNetflixId==k.secureNetflixId:!1;}});De=function(n){var q,t;q=n.netflixid;t=n.securenetflixid;if(!q)throw new aa(k.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(n));return new Vb(q,t);};}());jf=oc.extend({init:function I(){I.base.call(this,ab.NETFLIXID);},createData:function(k,q,t,L){n(L,function(){return De(t);});},authenticate:function(n,q,t,L){if(!(t instanceof Vb))throw new Y("Incorrect authentication data type "+t+".");n=t.secureNetflixId;if(!t.netflixId||!n)throw new sa(k.NETFLIXID_COOKIES_BLANK).setUser(t);throw new sa(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){pc=Gb.extend({init:function J(k,n){J.base.call(this,ab.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:k,writable:!1,configurable:!1},password:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.email=this.email;k.password=this.password;return k;},equals:function Q(k){return this===k?!0:k instanceof pc?Q.base.call(this,this,k)&&this.email==k.email&&this.password==k.password:!1;}});Ee=function(n){var q,t;q=n.email;t=n.password;if(!q||!t)throw new aa(k.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(n));return new pc(q,t);};}());kf=oc.extend({init:function J(){J.base.call(this,ab.EMAIL_PASSWORD);},createData:function(k,q,t,E){n(E,function(){return Ee(t);});},authenticate:function(n,q,t,E){if(!(t instanceof pc))throw new Y("Incorrect authentication data type "+t+".");n=t.password;if(!t.email||!n)throw new sa(k.EMAILPASSWORD_BLANK).setUser(t);throw new sa(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){var E,K,H,qa,Ha,va,f,c;function q(a,b){return"<"+a+">"+b+"</"+a+">";}function t(a){return a.replace(/[<>&"']/g,function(a){return Ha[a];});}function L(a){return encodeURIComponent(a).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}E=Mc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};K=fa.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});H=ud=K.extend({init:function(a,b,c,h,l,g,m){var u;function d(g){n(m,function(){var d,p;try{p={};p.useridtoken=a;p.action=b;p.nonce=c;p.pin=ma(g);d=Ma(JSON.stringify(p),Ca);}catch(G){throw new aa(k.JSON_ENCODE_ERROR,"MSL-based MDX authdata",G);}l.sign(d,{result:function(a){r(d,a);},error:m.error});},u);}function r(g,d){n(m,function(){Object.defineProperties(this,{_userIdToken:{value:a,writable:!1,enumerable:!1,configurable:!1},_action:{value:b,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:c,writable:!1,enumerable:!1,configurable:!1},_pin:{value:h,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:d,writable:!1,enumerable:!1,configurable:!1}});return this;},u);}u=this;n(m,function(){g?r(g.encoding,g.signature):l.encrypt(Ma(h,Ca),{result:function(a){d(a);},error:m.error});},u);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof H?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin&&this._userIdToken.equals(a._userIdToken):!1;}});ud.ACTION="userauth";qa=function(a,b,c,h,l){function g(g){n(l,function(){var p,m,h,f,w,G;p=Ia(c,Ca);try{G=JSON.parse(p);m=G.useridtoken;h=G.action;f=G.nonce;w=G.pin;}catch(x){if(x instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"MDX authdata "+p,x);throw x;}if(!(m&&"object"===typeof m&&h&&"string"===typeof h&&f&&"number"===typeof f&&w)||"string"!==typeof w)throw new aa(k.JSON_PARSE_ERROR,"MDX authdata "+p);Sb(a,m,b,{result:function(a){n(l,function(){if(!a.isDecrypted())throw new sa(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+p);d(g,a,h,f,w);});},error:function(a){n(l,function(){if(a instanceof A)throw new sa(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+p,a);throw a;});}});});}function d(a,b,g,d,m){n(l,function(){var p;p=ra(m);a.decrypt(p,{result:function(a){n(l,function(){var p;p=Ia(a,Ca);new H(b,g,d,p,null,{encoding:c,signature:h},l);});},error:l.error});});}n(l,function(){var d,m;try{m=a.getMslStore().getCryptoContext(b);d=m?m:new $a(a,b);}catch(u){if(u instanceof Pb)throw new sa(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+ma(c));throw u;}d.verify(c,h,{result:function(a){n(l,function(){if(!a)throw new P(k.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ma(c));g(d);});},error:l.error});});};Ha={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};va=qc=K.extend({init:function(a,b,c,h){var d,g;d=q("action",t(a));g=q("nonce",b.toString());c=q("pin",c);d=q("registerdata",d+g+c);d=Ma(d,"utf-8");Object.defineProperties(this,{_action:{value:a,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:b,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:d,writable:!1,enumerable:!1,configurable:!1},_signature:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof va?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin:!1;}});qc.ACTION="regpairrequest";f=vd=K.extend({init:function(a,b,c,h,l,g){var r;function d(c){n(g,function(){var d,m,r,l,u;d=ma(c);m=q("action",t(a));r=q("nonce",b.toString());l=q("pin",d);m=q("registerdata",m+r+l);u=Ma(m,"utf-8");d="action="+L(a)+"&nonce="+L(b.toString())+"&pin="+L(d);h.sign(Ma(d,"utf-8"),{result:function(a){p(u,a);},error:g.error});},r);}function p(d,p){n(g,function(){Object.defineProperties(this,{_action:{value:a,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:b,writable:!1,enumerable:!1,configurable:!1},_pin:{value:c,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:d,writable:!1,enumerable:!1,configurable:!1},_signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});return this;},r);}r=this;n(g,function(){l?p(l.encoding,l.signature):h.encrypt(Ma(c,"utf-8"),{result:function(a){d(a);},error:g.error});},r);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof f?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin:!1;}});vd.ACTION=qc.ACTION;c=function(a,b,c,h,l){n(l,function(){var g,d,p,r,u,v,z;g=a.getMslStore().getCryptoContext(b);d=g?g:new $a(a,b);g=Ia(c,"utf-8");p=new DOMParser().parseFromString(g,"application/xml");g=p.getElementsByTagName("action");r=p.getElementsByTagName("nonce");p=p.getElementsByTagName("pin");u=g&&1==g.length&&g[0].firstChild?g[0].firstChild.nodeValue:null;v=r&&1==r.length&&r[0].firstChild?parseInt(r[0].firstChild.nodeValue):null;z=p&&1==p.length&&p[0].firstChild?p[0].firstChild.nodeValue:null;if(!u||!v||!z)throw new aa(k.XML_PARSE_ERROR,"MDX authdata "+ma(c));g="action="+L(u)+"&nonce="+L(v.toString())+"&pin="+L(z);d.verify(Ma(g,"utf-8"),h,{result:function(a){n(l,function(){var b;if(!a)throw new P(k.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ma(c));b=ra(z);d.decrypt(b,{result:function(a){n(l,function(){var b;b=Ia(a,"utf-8");new f(u,v,b,null,{encoding:c,signature:h},l);});},error:l.error});});},error:l.error});});};ec=Gb.extend({init:function b(c,h,l,g,m,p){var d,u,v,f,w,k;b.base.call(this,ab.MDX);d=null;u=null;v=null;if("string"===typeof l)c=E.MSL_LEGACY,v=l;else if(l instanceof Uint8Array)c=E.NTBA,u=l;else if(l instanceof eb)c=E.MSL,d=l;else throw new TypeError("Controller token "+l+" is not a master token, encrypted CTicket, or MSL token construct.");f=l=null;w=null;if(p){k=p.controllerAuthData;l=k.getAction();f=k.getPin();p=p.userIdToken;k instanceof H?w=k.getUserIdToken().customer:p&&(w=p.customer);}Object.defineProperties(this,{mechanism:{value:c,writable:!1,configurable:!1},action:{value:l,writable:!1,configurable:!1},targetPin:{value:h,writable:!1,configurable:!1},controllerPin:{value:f,writable:!1,configurable:!1},customer:{value:w,writable:!1,configurable:!1},_masterToken:{value:d,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:u,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:v,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:m,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var b,c;b={};switch(this.mechanism){case E.MSL:c=JSON.parse(JSON.stringify(this._masterToken));b.mastertoken=c;break;case E.NTBA:c=Ia(this._encryptedCTicket,"utf-8");b.cticket=c;break;case E.MSL_LEGACY:b.cticket=this._mslTokens;break;default:throw new Y("Unsupported MDX mechanism.");}b.pin=this.targetPin;b.mdxauthdata=ma(this._controllerEncoding);b.signature=ma(this._signature);return b;},equals:function d(c){return this===c?!0:c instanceof ec?d.base.call(this,c)&&(this._masterToken==c._masterToken||this._masterToken&&this._masterToken.equals(c._masterToken))&&(this._encryptedCTicket==c._encryptedCTicket||this._encryptedCTicket&&Wa(this._encryptedCTicket,c._encryptedCTicket))&&this._mslTokens==c._mslTokens&&Wa(this._controllerEncoding,c._controllerEncoding)&&Wa(this._signature,c._signature):!1;}});Fe=function(d,h,l){function g(c,g,p,m){Rb(d,g,{result:function(g){n(l,function(){if(!g.isDecrypted())throw new sa(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+h.toString());qa(d,g,p,m,{result:function(p){n(l,function(){var m,h;m=p.getEncoding();h=p.getSignature();return new ec(d,c,g,m,h,{controllerAuthData:p,userIdToken:null});});},error:l.error});});},error:function(c){n(l,function(){if(c instanceof A)throw new sa(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),c);throw c;});}});}function m(c,g,d,p){n(l,function(){throw new sa(k.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function p(g,p,m,f){function r(c,g){n(g,function(){var p,m;try{p=ra(c);}catch(N){throw new sa(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),N);}if(!p||0==p.length)throw new sa(k.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(h));try{m=JSON.parse(Ia(p,"utf-8"));Rb(d,m,{result:function(c){n(g,function(){if(!c.isDecrypted())throw new sa(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+h.toString());return c;});},error:function(c){n(g,function(){if(c instanceof A)throw new sa(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),c);throw c;});}});}catch(N){if(N instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h),N);throw N;}});}function u(c,g,p){n(p,function(){var m,r;try{m=ra(c);}catch(T){throw new sa(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),T);}if(!m||0==m.length)throw new sa(k.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(h));try{r=JSON.parse(Ia(m,"utf-8"));Sb(d,r,g,{result:function(c){n(p,function(){if(!c.isDecrypted())throw new sa(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(h));return c;});},error:function(c){n(p,function(){if(c instanceof A)throw new sa(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),c);throw c;});}});}catch(T){if(T instanceof SyntaxError)throw new aa(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h),T);throw T;}});}n(l,function(){var v;v=p.split(",");if(3!=v.length||"1"!=v[0])throw new sa(k.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(h));r(v[1],{result:function(r){u(v[2],r,{result:function(u){c(d,r,m,f,{result:function(c){n(l,function(){return new ec(d,g,p,m,f,{controllerAuthData:c,userIdToken:u});});},error:function(c){n(l,function(){if(c instanceof Pb)throw new sa(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(h),c);throw c;});}});},error:l.error});},error:l.error});});}n(l,function(){var c,d,l,f,w;c=h.pin;d=h.mdxauthdata;l=h.signature;if(!c||"string"!==typeof c||!d||"string"!==typeof d||!l||"string"!==typeof l)throw new aa(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));try{f=ra(d);w=ra(l);}catch(G){throw new sa(k.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(h),G);}if(h.mastertoken){d=h.mastertoken;if(!d||"object"!==typeof d)throw new aa(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));g(c,d,f,w);}else if(h.cticket){d=h.cticket;if(!d||"string"!==typeof d)throw new aa(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));-1==d.indexOf(",")?m(c,d,f,w):p(c,d,f,w);}else throw new sa(k.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(h));});};}());(function(){var n,q,t;n=ud.ACTION;q=qc.ACTION;t=vd.ACTION;Ge=oc.extend({init:function K(){K.base.call(this,ab.MDX);},createData:function(k,n,q,t){Fe(k,q,t);},authenticate:function(K,A,L,J){if(!(L instanceof ec))throw new Y("Incorrect authentication data type "+L.getClass().getName()+".");K=L.action;switch(L.mechanism){case Mc.MSL:if(n!=K)throw new sa(k.MDX_USERAUTH_ACTION_INVALID).setUser(L);break;case Mc.NTBA:if(q!=K)throw new sa(k.MDX_USERAUTH_ACTION_INVALID).setUser(L);break;case Mc.MSL_LEGACY:if(t!=K)throw new sa(k.MDX_USERAUTH_ACTION_INVALID).setUser(L);}K=L.controllerPin;A=L.targetPin;if(!K||!A)throw new sa(k.MDX_PIN_BLANK).setUser(L);if(K!=A)throw new sa(k.MDX_PIN_MISMATCH).setUser(L);K=L.customer;if(!K)throw new sa(k.MDX_USER_UNKNOWN).setUser(L);if(J&&(J=J.customer,!K.equals(J)))throw new sa(k.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+K+"; uit customer "+J).setUser(L);return K;}});}());(function(){var n,q,t;n={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};q=Ie=fa.Class.create({init:function(k,n){Object.defineProperties(this,{email:{value:k,writable:!1,enumerable:!0,configurable:!1},password:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});t=Je=fa.Class.create({init:function(k,n){Object.defineProperties(this,{netflixId:{value:k,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});rc=Gb.extend({init:function K(k,n,L,A){var f,c,a,b;K.base.call(this,ab.SSO);f=null;c=null;a=null;b=null;L instanceof q?(f=L.email,c=L.password):L instanceof t&&(a=L.netflixId,b=L.secureNetflixId);Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},token:{value:n,writable:!1,configurable:!1},email:{value:f,writable:!1,configurable:!1},password:{value:c,writable:!1,configurable:!1},netflixId:{value:a,writable:!1,configurable:!1},secureNetflixId:{value:b,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof A?null:A,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.mechanism=this.mechanism;k.token=ma(this.token);this.email&&this.password?(k.email=this.email,k.password=this.password):this.netflixId&&this.secureNetflixId&&(k.netflixid=this.netflixId,k.securenetflixid=this.secureNetflixId);this.profileGuid&&(k.profileguid=this.profileGuid);return k;},equals:function La(k){return this===k?!0:k instanceof rc?La.base.call(this,k)&&this.mechanism==k.mechanism&&Wa(this.token,k.token)&&this.email==k.email&&this.password==k.password&&this.netflixId==k.netflixId&&this.secureNetflixId==k.secureNetflixId&&this.profileGuid==k.profileGuid:!1;}});He=function(L){var A,J,H,f,c,a,b,d,h;A=L.mechanism;J=L.token;if(!A||!J||"string"!==typeof J)throw new aa(k.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(L));if(!n[A])throw new sa(k.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(L));H=L.email;f=L.password;c=L.netflixid;a=L.securenetflixid;b=L.profileguid;if(H&&!f||!H&&f||c&&!a||!c&&a||H&&c)throw new aa(k.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(L));try{d=ra(J);}catch(l){throw new sa(k.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(L),l);}H&&f?h=new q(H,f):c&&a&&(h=new t(c,a));return new rc(A,d,h,b);};}());lf=oc.extend({init:function Q(){Q.base.call(this,ab.SSO);},createData:function(k,q,t,K){n(K,function(){return He(t);});},authenticate:function(n,q,t,K){var E,L;if(!(t instanceof rc))throw new Y("Incorrect authentication data type "+t+".");n=t.token;q=t.email;K=t.password;E=t.netflixId;L=t.secureNetflixId;if(!n||0==n.length)throw new sa(k.SSOTOKEN_BLANK);if(!(null===q&&null===K||q&&K))throw new sa(k.EMAILPASSWORD_BLANK);if(!(null===E&&null===L||E&&L))throw new sa(k.NETFLIXID_COOKIES_BLANK).setUser(t);throw new sa(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){sc=Gb.extend({init:function L(k,n){L.base.call(this,ab.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:k,writable:!1,configurable:!1},profileGuid:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));k.profileguid=this.profileGuid;return k;},equals:function E(k){return this==k?!0:k instanceof sc?E.base.call(this,k)&&this.userIdToken.equals(k.userIdToken)&&this.profileGuid==k.profileGuid:!1;}});Ke=function(q,t,A,H){n(H,function(){var E,K;if(!t)throw new sa(k.USERAUTH_MASTERTOKEN_MISSING);E=A.useridtoken;K=A.profileguid;if("object"!==typeof E||"string"!==typeof K)throw new aa(k.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(A));Sb(q,E,t,{result:function(f){n(H,function(){if(!f.isDecrypted())throw new sa(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(A));return new sc(f,K);});},error:function(f){H.error(new sa(k.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(A),f));}});});};}());mf=oc.extend({init:function L(k){L.base.call(this,ab.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n,q,t){Ke(k,n,q,t);},authenticate:function(n,q,t,A){if(!(t instanceof sc))throw new Y("Incorrect authentication data type "+t+".");q=t.userIdToken;n=t.profileGuid;if(!n)throw new sa(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(t);q=q.user;if(!q)throw new sa(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(t);n=this._store.switchUsers(q,n);if(!n)throw new sa(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(t);if(A&&(A=A.user,!n.equals(A)))throw new sa(k.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+n+"; uit user "+A).setUserAuthenticationData(t);return n;}});Object.freeze({ENTITY_REAUTH:q.ENTITY_REAUTH,ENTITYDATA_REAUTH:q.ENTITYDATA_REAUTH});nf=fa.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(k,n){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(k){},getUserAuthenticationFactory:function(k){},getTokenFactory:function(){},getKeyExchangeFactory:function(k){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Le=fa.Class.create({setCryptoContext:function(k,n){},getMasterToken:function(){},getNonReplayableId:function(k){},getCryptoContext:function(k){},removeCryptoContext:function(k){},clearCryptoContexts:function(){},addUserIdToken:function(k,n){},getUserIdToken:function(k){},removeUserIdToken:function(k){},clearUserIdTokens:function(){},addServiceTokens:function(k){},getServiceTokens:function(k,n){},removeServiceTokens:function(k,n,q){},clearServiceTokens:function(){}});(function(){var n;n=Nb;sd=function(q,t){var E;E={};switch(q){case n.LZW:return Nd(t,E);case n.GZIP:return gzip$compress(t);default:throw new A(k.UNSUPPORTED_COMPRESSION,q);}};Jc=function(q,t,L){switch(q){case n.LZW:return Od(t);case n.GZIP:return gzip$uncompress(t);default:throw new A(k.UNSUPPORTED_COMPRESSION,q.name());}};}());Le.extend({setCryptoContext:function(k,n){},getMasterToken:function(){return null;},getNonReplayableId:function(k){return 1;},getCryptoContext:function(k){return null;},removeCryptoContext:function(k){},clearCryptoContexts:function(){},addUserIdToken:function(k,n){},getUserIdToken:function(k){return null;},removeUserIdToken:function(k){},clearUserIdTokens:function(){},addServiceTokens:function(k){},getServiceTokens:function(n,q){if(q){if(!n)throw new A(k.USERIDTOKEN_MASTERTOKEN_NULL);if(!q.isBoundTo(n))throw new A(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+q.mtSerialNumber+"; mt "+n.serialNumber);}return[];},removeServiceTokens:function(n,q,t){if(t&&q&&!t.isBoundTo(q))throw new A(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.masterTokenSerialNumber+"; mt "+q.serialNumber);},clearServiceTokens:function(){}});(function(){Me=Le.extend({init:function E(){E.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(k,n){var q;if(n){q=k.uniqueKey();this.masterTokens[q]=k;this.cryptoContexts[q]=n;}else this.removeCryptoContext(k);},getMasterToken:function(){var k,n,q;k=null;for(n in this.masterTokens){q=this.masterTokens[n];if(!k||q.isNewerThan(k))k=q;}return k;},getNonReplayableId:function(k){var n;k=k.serialNumber;n=this.nonReplayableIds[k]!==ga?this.nonReplayableIds[k]:0;if(0>n||n>Aa)throw new Y("Non-replayable ID "+n+" is outside the valid range.");n=n==Aa?0:n+1;return this.nonReplayableIds[k]=n;},getCryptoContext:function(k){return this.cryptoContexts[k.uniqueKey()];},removeCryptoContext:function(k){var n,q;n=k.uniqueKey();if(this.masterTokens[n]){delete this.masterTokens[n];delete this.cryptoContexts[n];n=k.serialNumber;for(q in this.masterTokens)if(this.masterTokens[q].serialNumber==n)return;delete this.nonReplayableIds[n];Object.keys(this.userIdTokens).forEach(function(n){n=this.userIdTokens[n];n.isBoundTo(k)&&this.removeUserIdToken(n);},this);try{this.removeServiceTokens(null,k,null);}catch(qa){if(qa instanceof A)throw new Y("Unexpected exception while removing master token bound service tokens.",qa);throw qa;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(k){for(var n in k)delete k[n];},this);},addUserIdToken:function(n,q){var t,E;t=!1;for(E in this.masterTokens)if(q.isBoundTo(this.masterTokens[E])){t=!0;break;}if(!t)throw new A(k.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+q.mtSerialNumber);this.userIdTokens[n]=q;},getUserIdToken:function(k){return this.userIdTokens[k];},removeUserIdToken:function(k){var n,q,t;n=null;for(q in this.masterTokens){t=this.masterTokens[q];if(k.isBoundTo(t)){n=t;break;}}Object.keys(this.userIdTokens).forEach(function(q){if(this.userIdTokens[q].equals(k)){delete this.userIdTokens[q];try{this.removeServiceTokens(null,n,k);}catch(va){if(va instanceof A)throw new Y("Unexpected exception while removing user ID token bound service tokens.",va);throw va;}}},this);},clearUserIdTokens:function(){var n;for(var k in this.userIdTokens){n=this.userIdTokens[k];try{this.removeServiceTokens(null,null,n);}catch(La){if(La instanceof A)throw new Y("Unexpected exception while removing user ID token bound service tokens.",La);throw La;}delete this.userIdTokens[k];}},addServiceTokens:function(n){n.forEach(function(n){var q,t,E;if(n.isUnbound())this.unboundServiceTokens[n.uniqueKey()]=n;else{if(n.isMasterTokenBound()){q=!1;for(t in this.masterTokens)if(n.isBoundTo(this.masterTokens[t])){q=!0;break;}if(!q)throw new A(k.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+n.mtSerialNumber);}if(n.isUserIdTokenBound()){q=!1;for(E in this.userIdTokens)if(n.isBoundTo(this.userIdTokens[E])){q=!0;break;}if(!q)throw new A(k.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+n.uitSerialNumber);}n.isMasterTokenBound()&&((E=this.mtServiceTokens[n.mtSerialNumber])||(E={}),E[n.uniqueKey()]=n,this.mtServiceTokens[n.mtSerialNumber]=E);n.isUserIdTokenBound()&&((E=this.uitServiceTokens[n.uitSerialNumber])||(E={}),E[n.uniqueKey()]=n,this.uitServiceTokens[n.uitSerialNumber]=E);}},this);},getServiceTokens:function(n,q){var t,E,K,H;if(q){if(!n)throw new A(k.USERIDTOKEN_MASTERTOKEN_NULL);if(!q.isBoundTo(n))throw new A(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+q.mtSerialNumber+"; mt "+n.serialNumber);}t={};for(E in this.unboundServiceTokens){K=this.unboundServiceTokens[E];t[K.uniqueKey()]=K;}if(n&&(K=this.mtServiceTokens[n.serialNumber]))for(E in K){H=K[E];H.isUserIdTokenBound()||(t[E]=H);}if(q&&(K=this.uitServiceTokens[q.serialNumber]))for(E in K)H=K[E],H.isBoundTo(n)&&(t[E]=H);K=[];for(E in t)K.push(t[E]);return K;},removeServiceTokens:function(n,q,t){var K,H,c;if(t&&q&&!t.isBoundTo(q))throw new A(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.mtSerialNumber+"; mt "+q.serialNumber);if(n&&!q&&!t){Object.keys(this.unboundServiceTokens).forEach(function(a){this.unboundServiceTokens[a].name==n&&delete this.unboundServiceTokens[a];},this);for(var E in this.mtServiceTokens){K=this.mtServiceTokens[E];H=Object.keys(K);H.forEach(function(a){K[a].name==n&&delete K[a];},this);this.mtServiceTokens[E]=K;}for(var f in this.uitServiceTokens)K=this.uitServiceTokens[f],E=Object.keys(K),E.forEach(function(a){K[a].name==n&&delete K[a];},this),this.uitServiceTokens[f]=K;}if(q&&!t){if(K=this.mtServiceTokens[q.serialNumber])H=Object.keys(K),H.forEach(function(a){var b;b=K[a];n&&b.name!=n||delete K[a];},this),this.mtServiceTokens[q.serialNumber]=K;for(f in this.uitServiceTokens){c=this.uitServiceTokens[f];E=Object.keys(c);E.forEach(function(a){var b;b=c[a];n&&b.name!=n||b.isBoundTo(q)&&delete c[a];},this);this.uitServiceTokens[f]=c;}}t&&(K=this.uitServiceTokens[t.serialNumber])&&(E=Object.keys(K),E.forEach(function(a){var b;b=K[a];n&&b.name!=n||q&&!b.isBoundTo(q)||delete K[a];},this),this.uitServiceTokens[t.serialNumber]=K);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(k){for(var n in k)delete k[n];},this);}});}());Ue=ff.extend({init:function E(){E.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(k,n){var q;if(n&&k&&k.length){q=ma(k);this._contextMap[q]=n;}},getCryptoContext:function(k){return k&&k.length?(k=ma(k),this._contextMap[k]||null):null;},removeCryptoContext:function(k){k&&k.length&&(k=ma(k),delete this._contextMap[k]);}});Ne=Ze.extend({init:function K(k,n,q,t){K.base.call(this,k);Object.defineProperties(this,{_kde:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:q,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,q){if(!(q instanceof lb))throw new Y("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new bb(k.ENTITY_NOT_FOUND,"mgk "+q.identity);return new Cc(n,this.localIdentity,this._kde,this._kdh,this._kdw);}});of=Yd.extend({init:function La(k,n,q,f){La.base.call(this,k);Object.defineProperties(this,{_kpe:{value:n,writable:!1,enumerable:!1,configurable:!1},_kph:{value:q,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:f,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,q){if(!(q instanceof tb))throw new Y("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new bb(k.ENTITY_NOT_FOUND,"psk "+q.identity);return new Cc(n,this.localIdentity,this._kpe,this._kph,this._kpw);}});qf=Me.extend({init:function qa(k,n,f,c,a,b){qa.base.call(this);this._log=k;this._esn=n;this._keyRequestData=f;this._createKeyRequestData=c;this._systemKeyName=a;this._systemKeyWrapFormat=b;},setCryptoContext:function Ha(k,f,c){var a;a=this;a._log.trace("Adding MasterToken",{SequenceNumber:k.sequenceNumber,SerialNumber:k.serialNumber,Expiration:k.expiration.getTime()});Ha.base.call(this,k,f);!c&&(k=a._createKeyRequestData)&&(a._log.trace("Generating new keyx request data"),k().then(function(b){a._keyRequestData=b;},function(b){a._log.error("Unable to generate new keyx request data",""+b);}));},addUserIdToken:function va(f,c){this._log.trace("Adding UserIdToken",{UserId:f,SerialNumber:c.serialNumber,MTSerialNumber:c.mtSerialNumber,Expiration:c.expiration.getTime()});va.base.call(this,f,c);},addServiceTokens:function f(c){f.base.call(this,c.filter(function(a){return!pf[a.name];}));},getUserIdTokenKeys:function(){var f,c;f=[];for(c in this.userIdTokens)f.push(c);return f;},rekeyUserIdToken:function(f,c){this.userIdTokens[f]&&(this.userIdTokens[c]=this.userIdTokens[f],delete this.userIdTokens[f]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(f){var c;c=this;n(f,function(){var a;a=c.getMasterToken();a?c.getKeysForStore(a,{result:function(b){n(f,function(){var d,h,l;d=c.userIdTokens;h=Object.keys(d).map(function(b){var g;g=d[b];return{userId:b,userIdTokenJSON:d[b].toJSON(),serviceTokenJSONList:c.getServiceTokens(a,g).map(Re)};});b.esn=c._esn;b.masterTokenJSON=a.toJSON();b.userList=h;l=c._keyRequestData.storeData;l&&Object.keys(l).forEach(function(a){b[a]=l[a];});return b;});},timeout:f.timeout,error:f.error}):f.result(null);});},getKeysForStore:function(f,c){var a;a=this;n(c,function(){var b;b=a.getCryptoContext(f);b={encryptionKey:b.encryptionKey,hmacKey:b.hmacKey};if(b.encryptionKey&&b.hmacKey)if(a._systemKeyWrapFormat)a.wrapKeysWithSystemKey(b,c);else return b;else throw new A(k.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(f,c){var a;a=this;Dd(this._systemKeyName,{result:function(b){n(c,function(){var d,h,l,g;d=f.encryptionKey;h=f.hmacKey;l=d[fc];g=h[fc];if(l&&g)return{wrappedEncryptionKey:l,wrappedHmacKey:g};Promise.resolve().then(function(){return Promise.all([ya.wrapKey(a._systemKeyWrapFormat,d,b,b.algorithm),ya.wrapKey(a._systemKeyWrapFormat,h,b,b.algorithm)]);}).then(function(a){l=ma(a[0]);d[fc]=l;g=ma(a[1]);h[fc]=g;c.result({wrappedEncryptionKey:l,wrappedHmacKey:g});})["catch"](function(a){c.error(new A(k.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",a));});});},timeout:c.timeout,error:c.error});},unwrapKeysWithSystemKey:function(f,c){var a;a=this;Dd(this._systemKeyName,{result:function(b){n(c,function(){var d,h;d=ra(f.wrappedEncryptionKey);h=ra(f.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([ya.unwrapKey(a._systemKeyWrapFormat,d,b,b.algorithm,jb,!1,Hb),ya.unwrapKey(a._systemKeyWrapFormat,h,b,b.algorithm,sb,!1,Qb)]);}).then(function(a){var b;b=a[0];a=a[1];b[fc]=f.wrappedEncryptionKey;a[fc]=f.wrappedHmacKey;c.result({encryptionKey:b,hmacKey:a});})["catch"](function(a){c.error(new A(k.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",a));});});},timeout:c.timeout,error:c.error});},loadStoreState:function(f,c,a,b){var l,g;function d(b,g){var d;try{d=a.userList.slice();}catch(u){}d?function v(){var a;a=d.shift();a?Sb(c,a.userIdTokenJSON,b,{result:function(c){try{l.addUserIdToken(a.userId,c);h(b,c,a.serviceTokenJSONList,{result:v,timeout:v,error:v});}catch(G){v();}},timeout:v,error:v}):g.result();}():g.result();}function h(a,b,g,d){var p,m;try{p=g.slice();}catch(w){}if(p){m=l.getCryptoContext(a);(function G(){var g;g=p.shift();g?Ic(c,g,a,b,m,{result:function(a){l.addServiceTokens([a]);G();},timeout:function(){G();},error:function(){G();}}):d.result();}());}else d.result();}l=this;g=l._log;a.esn!=l._esn?(g.error("Esn mismatch, starting fresh"),b.error()):function(b){var h,v,z,w;function d(){var a;if(!h&&v&&z&&w){h=!0;a=new $a(c,v,f.esn,{rawKey:z},{rawKey:w});l.setCryptoContext(v,a,!0);b.result(v);}}function m(a,c){g.error(a,c&&""+c);h||(h=!0,b.error());}a.masterTokenJSON?(Rb(c,a.masterTokenJSON,{result:function(a){v=a;d();},timeout:function(){m("Timeout parsing MasterToken");},error:function(a){m("Error parsing MasterToken",a);}}),l._systemKeyWrapFormat?l.unwrapKeysWithSystemKey(a,{result:function(a){z=a.encryptionKey;w=a.hmacKey;d();},timeout:function(){m("Timeout unwrapping keys");},error:function(a){m("Error unwrapping keys",a);}}):Promise.resolve().then(function(){return ya.encrypt({name:jb.name,iv:new Uint8Array(16)},a.encryptionKey,new Uint8Array(1));}).then(function(b){z=a.encryptionKey;})["catch"](function(a){m("Error loading encryptionKey");}).then(function(){return ya.sign(sb,a.hmacKey,new Uint8Array(1));}).then(function(b){w=a.hmacKey;d();})["catch"](function(a){m("Error loading hmacKey");})):m("Persisted store is corrupt");}({result:function(a){d(a,b);},timeout:b.timeout,error:b.error});}});pf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fc="$netflix$msl$wrapsys";rf=nf.extend({init:function(f,c,a,b,d,h){var l,g;l=new mc([Nb.LZW]);g=new af();g.addPublicKey(c,a);b[Fa.RSA]=new $e(g);c={};c[ab.EMAIL_PASSWORD]=new kf();c[ab.NETFLIXID]=new jf();c[ab.MDX]=new Ge();c[ab.SSO]=new lf();c[ab.SWITCH_PROFILE]=new mf();f={_mslCryptoContext:{value:new Ye(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:l,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:d,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:b,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:c,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:h,writable:!1,enumerable:!1,configurable:!1},_store:{value:f,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,f);},getTime:function(){return Date.now();},getRandom:function(){return new Sd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(f,c){c.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(f){return this._entityAuthFactories[f];},getUserAuthenticationFactory:function(f){return this._userAuthFactories[f];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(f){return this._keyExchangeFactories.filter(function(c){return c.scheme==f;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Fd=Ae.extend({init:function(f,c,a,b){this._log=f;this._mslContext=c;this._mslRequest=a;this._keyRequestData=b;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(f,c,a,b){var d,h;d=this._mslRequest;h=this._mslContext;n(b,function(){var b,c;if(f||!d.shouldSendUserAuthData)return null;if(d.token){d.email?b=new Ie(d.email,d.password):d.netflixId&&(b=new Je(d.netflixId,d.secureNetflixId));c="undefined"===typeof d.profileGuid?null:d.profileGuid;return new rc(d.mechanism,Ma(d.token),b,c);}return d.email?new pc(d.email,d.password):d.netflixId?new Vb(d.netflixId,d.secureNetflixId):d.mdxControllerToken?(b=new qc("regpairrequest",d.mdxNonce,d.mdxEncryptedPinB64,d.mdxSignature).getEncoding(),new ec(h,d.mdxPin,d.mdxControllerToken,b,d.mdxSignature)):d.useNetflixUserAuthData?new Vb():d.profileGuid?(b=d.userId,b=h.getMslStore().userIdTokens[b],new sc(b,d.profileGuid)):a&&d.sendUserAuthIfRequired?new Vb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(f){f.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(f,c,a){var b,d,h,l,g,m;b=this._log;d=(this._mslRequest.serviceTokens||[]).slice();h=this._mslContext;c=h.getMslStore();l=f.builder.getMasterToken();g=this.getUserId();m=c.getUserIdToken(g);(function r(){var c;c=d.shift();if(c)try{c instanceof Jb?(f.addPrimaryServiceToken(c),r()):Ic(h,c,l,m,null,{result:function(a){try{f.addPrimaryServiceToken(a);}catch(z){b.warn("Exception adding service token",""+z);}r();},timeout:function(){b.warn("Timeout parsing service token");r();},error:function(a){b.warn("Error parsing service token",""+a);r();}});}catch(v){b.warn("Exception processing service token",""+v);r();}else a.result(!0);}());},write:function(f,c,a){var b;b=Ma(this._mslRequest.body);f.write(b,0,b.length,c,{result:function(d){d!=b.length?a.error(new Oa("Not all data was written to output.")):f.flush(c,{result:function(){a.result(!0);},timeout:function(){a.timeout();},error:function(b){a.error(b);}});},timeout:function(){a.timeout();},error:function(b){a.error(b);}});},getDebugContext:function(){this._dc||(this._dc=new sf(this._log,this._mslRequest));return this._dc;}});sf=hf.extend({init:function(f,c){this._log=f;this._mslRequest=c;},sentHeader:function(f){this._log.trace("Sent MSL header",Ed(this._mslRequest,f),f.serviceTokens&&f.serviceTokens.map(Se).join("\n"));},receivedHeader:function(f){var c,a;c=Ed(this._mslRequest,f);a=f.errorCode;a?this._log.warn("Received MSL error header",c,{errorCode:a,errorMessage:f.errorMessage,internalCode:f.internalCode}):this._log.trace("Received MSL header",c);}});Oe={PSK:function(f){return Tc(f,Fa.PSK,of,tb,md,Gc);},MGK:function(f){return Tc(f,Fa.MGK,Ne,lb,md,Gc);},MGK_WITH_FALLBACK:function(f){var c,a;switch(f.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":c="PSK";break;default:c="MGK";}a=Oe[c];if(!a)throw new A(k.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+c);return a(f);},MGK_JWE:function(f){return Tc(f,Fa.MGK,Ne,lb,de,ld);},JWK_RSA:function(f){return Uc(f,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Hc.JWK_RSA);},JWK_RSAES:function(f){return Uc(f,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Hc.JWK_RSAES);},JWEJS_RSA:function(f){return Uc(f,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Hc.JWEJS_RSA);}};t.netflix=t.netflix||{};t.netflix.msl={createMslClient:function(f,c){var a,b,d,h,l;a=f.log;l=f.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Da&&Da.generateKey&&Da.importKey&&Da.unwrapKey))throw new A(k.INTERNAL_EXCEPTION,"No WebCrypto");cb=Da.generateKey({name:"AES-CBC",length:128},!0,Hb).then?xc.V2014_02:xc.LEGACY;l("mslisik");return ya.importKey("spki",f.serverIdentityKeyData,Td,!1,["verify"]);}).then(function(a){return new Promise(function(b,c){Mb(a,{result:b,error:function(){c(new A(k.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(a){b=a;if(a=Oe[f.authenticationType])return l("mslcc"),a(f);throw new A(k.INTERNAL_EXCEPTION,"Invalid authenticationType: "+f.authenticationType);}).then(function(c){var g;d=new qf(a,f.esn,c.keyRequestData,c.createKeyRequestData,f.authenticationKeyNames.s,f.systemKeyWrapFormat);h=new rf(d,f.serverIdentityId,b,c.entityAuthFactories,c.entityAuthData,c.keyExchangeFactories);g=f.storeState;if(g)return l("mslss"),a.info("Loading store state"),new Promise(function(a,b){d.loadStoreState(f,h,g,{result:a,timeout:a,error:a});});a.info("No store state, starting fresh");}).then(function(){var b;b=new Be();l("msldone");c.result(new Te(a,b,h,d,f.ErrorSubCodes));})["catch"](function(a){c.error(a);});},IHttpLocation:df,MslIoException:Oa};Wc="function"==typeof Object.defineProperties?Object.defineProperty:function(f,c,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[c]=a.value);};pa="undefined"!=typeof t&&t===this?this:"undefined"!=typeof global&&null!=global?global:this;Xe=0;Va("Object.setPrototypeOf",function(f){return f?f:"object"!=typeof"".__proto__?null:function(c,a){c.__proto__=a;if(c.__proto__!==a)throw new TypeError(c+" is not extensible");return c;};});Va("Object.assign",function(f){return f?f:function(c,a){var d;for(var b=1;b<arguments.length;b++){d=arguments[b];if(d)for(var h in d)xb(d,h)&&(c[h]=d[h]);}return c;};});Va("Object.getOwnPropertySymbols",function(f){return f?f:function(){return[];};});Va("Promise",function(f){var b,d;function c(a){var b;this.TH=0;this.B4=void 0;this.SG=[];b=this.cZ();try{a(b.resolve,b.reject);}catch(g){b.reject(g);}}function a(){this.ks=null;}if(f)return f;a.prototype.Vfa=function(a){null==this.ks&&(this.ks=[],this.VMa());this.ks.push(a);};a.prototype.VMa=function(){var a;a=this;this.Wfa(function(){a.NUa();});};b=pa.setTimeout;a.prototype.Wfa=function(a){b(a,0);};a.prototype.NUa=function(){var a,c;for(;this.ks&&this.ks.length;){a=this.ks;this.ks=[];for(var b=0;b<a.length;++b){c=a[b];delete a[b];try{c();}catch(m){this.XMa(m);}}}this.ks=null;};a.prototype.XMa=function(a){this.Wfa(function(){throw a;});};c.prototype.cZ=function(){var b,c;function a(a){return function(g){c||(c=!0,a.call(b,g));};}b=this;c=!1;return{resolve:a(this.h8a),reject:a(this.m4)};};c.prototype.h8a=function(a){var b;if(a===this)this.m4(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof c)this.T9a(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.g8a(a):this.qja(a);}};c.prototype.g8a=function(a){var b;b=void 0;try{b=a.then;}catch(g){this.m4(g);return;}"function"==typeof b?this.U9a(b,a):this.qja(a);};c.prototype.m4=function(a){this.ora(2,a);};c.prototype.qja=function(a){this.ora(1,a);};c.prototype.ora=function(a,b){if(0!=this.TH)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.TH);this.TH=a;this.B4=b;this.OUa();};c.prototype.OUa=function(){if(null!=this.SG){for(var a=this.SG,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.SG=null;}};d=new a();c.prototype.T9a=function(a){var b;b=this.cZ();a.vM(b.resolve,b.reject);};c.prototype.U9a=function(a,b){var c;c=this.cZ();try{a.call(b,c.resolve,c.reject);}catch(m){c.reject(m);}};c.prototype.then=function(a,b){var d,p,r;function g(a,b){return"function"==typeof a?function(b){try{d(a(b));}catch(w){p(w);}}:b;}r=new c(function(a,b){d=a;p=b;});this.vM(g(a,d),g(b,p));return r;};c.prototype["catch"]=function(a){return this.then(void 0,a);};c.prototype.vM=function(a,b){var m;function c(){switch(m.TH){case 1:a(m.B4);break;case 2:b(m.B4);break;default:throw Error("Unexpected state: "+m.TH);}}m=this;null==this.SG?d.Vfa(c):this.SG.push(function(){d.Vfa(c);});};c.resolve=function(a){return a instanceof c?a:new c(function(b){b(a);});};c.reject=function(a){return new c(function(b,c){c(a);});};c.race=function(a){return new c(function(b,g){for(var d=Na(a),p=d.next();!p.done;p=d.next())c.resolve(p.value).vM(b,g);});};c.all=function(a){var b,g;b=Na(a);g=b.next();return g.done?c.resolve([]):new c(function(a,d){var m,h;function p(b){return function(c){m[b]=c;h--;0==h&&a(m);};}m=[];h=0;do m.push(void 0),h++,c.resolve(g.value).vM(p(m.length-1),d),g=b.next();while(!g.done);});};c.$jscomp$new$AsyncExecutor=function(){return new a();};return c;});Va("Array.prototype.keys",function(f){return f?f:function(){return Yc(this,function(c){return c;});};});Va("Math.tanh",function(f){return f?f:function(c){var a;c=Number(c);if(0===c)return c;a=Math.exp(-2*Math.abs(c));a=(1-a)/(1+a);return 0>c?-a:a;};});Va("Array.prototype.find",function(f){return f?f:function(c,a){return Ld(this,c,a).RR;};});Va("Array.prototype.entries",function(f){return f?f:function(){return Yc(this,function(c,a){return[c,a];});};});Va("Array.prototype.values",function(f){return f?f:function(){return Yc(this,function(c,a){return a;});};});Va("Array.prototype.fill",function(f){return f?f:function(c,a,b){var d;d=this.length||0;0>a&&(a=Math.max(0,d+a));if(null==b||b>d)b=d;b=Number(b);0>b&&(b=Math.max(0,d+b));for(a=Number(a||0);a<b;a++)this[a]=c;return this;};});Va("Array.prototype.findIndex",function(f){return f?f:function(c,a){return Ld(this,c,a).Mh;};});Va("String.prototype.startsWith",function(f){return f?f:function(c,a){var b,d,h;b=Md(this,c,"startsWith");c+="";d=b.length;h=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var l=0;l<h&&a<d;)if(b[a++]!=c[l++])return!1;return l>=h;};});Va("WeakMap",function(f){var d,h;function c(a){this.QF=(h+=Math.random()+1).toString();if(a){Ua();Za();a=Na(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}function a(a){xb(a,d)||Wc(a,d,{value:{}});}function b(b){var c;c=Object[b];c&&(Object[b]=function(b){a(b);return c(b);});}if(function(){var a,b,c;if(!f||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});c=new f([[a,2],[b,3]]);if(2!=c.get(a)||3!=c.get(b))return!1;c["delete"](a);c.set(b,4);return!c.has(a)&&4==c.get(b);}catch(p){return!1;}}())return f;d="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");h=0;c.prototype.set=function(b,c){a(b);if(!xb(b,d))throw Error("WeakMap key fail: "+b);b[d][this.QF]=c;return this;};c.prototype.get=function(a){return xb(a,d)?a[d][this.QF]:void 0;};c.prototype.has=function(a){return xb(a,d)&&xb(a[d],this.QF);};c.prototype["delete"]=function(a){return xb(a,d)&&xb(a[d],this.QF)?delete a[d][this.QF]:!1;};return c;});Va("Map",function(f){var h,l;function c(){var a;a={};return a.Bq=a.next=a.head=a;}function a(a,b){var c;c=a.gq;return Kd(function(){if(c){for(;c.head!=a.gq;)c=c.Bq;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null;}return{done:!0,value:void 0};});}function b(a,b){var c,g,d;c=b&&typeof b;"object"==c||"function"==c?h.has(b)?c=h.get(b):(c=""+ ++l,h.set(b,c)):c="p_"+b;g=a.Ds[c];if(g&&xb(a.Ds,c))for(a=0;a<g.length;a++){d=g[a];if(b!==b&&d.key!==d.key||b===d.key)return{id:c,list:g,index:a,Od:d};}return{id:c,list:g,index:-1,Od:void 0};}function d(a){this.Ds={};this.gq=c();this.size=0;if(a){a=Na(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}if(function(){var a,b,c,d;if(!f||!f.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new f(Na([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;c=b.entries();d=c.next();if(d.done||d.value[0]!=a||"s"!=d.value[1])return!1;d=c.next();return d.done||4!=d.value[0].x||"t"!=d.value[1]||!c.next().done?!1:!0;}catch(u){return!1;}}())return f;Ua();Za();h=new WeakMap();d.prototype.set=function(a,c){var g;g=b(this,a);g.list||(g.list=this.Ds[g.id]=[]);g.Od?g.Od.value=c:(g.Od={next:this.gq,Bq:this.gq.Bq,head:this.gq,key:a,value:c},g.list.push(g.Od),this.gq.Bq.next=g.Od,this.gq.Bq=g.Od,this.size++);return this;};d.prototype["delete"]=function(a){a=b(this,a);return a.Od&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.Ds[a.id],a.Od.Bq.next=a.Od.next,a.Od.next.Bq=a.Od.Bq,a.Od.head=null,this.size--,!0):!1;};d.prototype.clear=function(){this.Ds={};this.gq=this.gq.Bq=c();this.size=0;};d.prototype.has=function(a){return!!b(this,a).Od;};d.prototype.get=function(a){return(a=b(this,a).Od)&&a.value;};d.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};d.prototype.keys=function(){return a(this,function(a){return a.key;});};d.prototype.values=function(){return a(this,function(a){return a.value;});};d.prototype.forEach=function(a,b){for(var c=this.entries(),g;!(g=c.next()).done;)g=g.value,a.call(b,g[1],g[0],this);};d.prototype[Symbol.iterator]=d.prototype.entries;l=0;return d;});Va("String.prototype.endsWith",function(f){return f?f:function(c,a){var b;b=Md(this,c,"endsWith");c+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var d=c.length;0<d&&0<a;)if(b[--a]!=c[--d])return!1;return 0>=d;};});Va("Set",function(f){function c(a){this.ho=new Map();if(a){a=Na(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.ho.size;}if(function(){var a,b,c,h;if(!f||!f.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new f(Na([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;c=b.entries();h=c.next();if(h.done||h.value[0]!=a||h.value[1]!=a)return!1;h=c.next();return h.done||h.value[0]==a||4!=h.value[0].x||h.value[1]!=h.value[0]?!1:c.next().done;}catch(l){return!1;}}())return f;Ua();Za();c.prototype.add=function(a){this.ho.set(a,a);this.size=this.ho.size;return this;};c.prototype["delete"]=function(a){a=this.ho["delete"](a);this.size=this.ho.size;return a;};c.prototype.clear=function(){this.ho.clear();this.size=0;};c.prototype.has=function(a){return this.ho.has(a);};c.prototype.entries=function(){return this.ho.entries();};c.prototype.values=function(){return this.ho.values();};c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(a,b){var c;c=this;this.ho.forEach(function(d){return a.call(b,d,d,c);});};return c;});(function(f){var a;function c(b){var d;if(a[b])return a[b].P;d=a[b]={Mh:b,g0a:!1,P:{}};f[b].call(d.P,d,d.P,c);d.g0a=!0;return d.P;}a={};c.Jpb=f;c.plb=a;c.d=function(a,d,h){c.L3a(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:h});};c.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};c.n=function(a){var b;b=a&&a.hca?function(){return a["default"];}:function(){return a;};c.d(b,"a",b);return b;};c.L3a=function(a,c){return Object.prototype.hasOwnProperty.call(a,c);};c.p="";return c(c.msb=906);}([function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(40);c.rgb=f;f=a(903);c.eC=f.eC;f=a(78);c.am=f.am;c.Pg=f.Pg;c.$o=f.$o;f=a(887);c.S6=f.S6;c.dc=f.dc;f=a(886);c.N=f.N;f=a(885);c.yR=f.yR;f=a(884);c.Kna=f.Kna;f=a(419);c.j=f.j;c.HT=f.HT;f=a(883);c.optional=f.optional;f=a(882);c.Uh=f.Uh;f=a(881);c.tt=f.tt;f=a(880);c.hI=f.hI;f=a(879);c.bpa=f.bpa;f=a(421);c.UT=f.UT;f=a(99);c.id=f.id;f=a(86);c.Fs=f.Fs;f=a(416);c.usa=f.usa;c.N5=f.N5;c.Lna=f.Lna;c.ysa=f.ysa;f=a(132);c.$z=f.$z;a=a(878);c.Jna=a.Jna;},function(f,c,a){var T,ca;function b(a,b){function c(){this.constructor=a;}T(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());}function d(a,b){var c,g,d;c={};for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&0>b.indexOf(g)&&(c[g]=a[g]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){d=0;for(g=Object.getOwnPropertySymbols(a);d<g.length;d++)0>b.indexOf(g[d])&&(c[g[d]]=a[g[d]]);}return c;}function h(a,b,c,g){var d,p,m;d=arguments.length;p=3>d?b:null===g?g=Object.getOwnPropertyDescriptor(b,c):g;if("object"===typeof Reflect&&"function"===typeof Reflect.Fs)p=Reflect.Fs(a,b,c,g);else for(var r=a.length-1;0<=r;r--)if(m=a[r])p=(3>d?m(p):3<d?m(b,c,p):m(b,c))||p;return 3<d&&p&&Object.defineProperty(b,c,p),p;}function l(a,b){return function(c,g){b(c,g,a);};}function g(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.Uc)return Reflect.Uc(a,b);}function m(a,b,c,g){return new(c||(c=Promise))(function(d,p){function m(a){try{h(g.next(a));}catch(ha){p(ha);}}function r(a){try{h(g["throw"](a));}catch(ha){p(ha);}}function h(a){a.done?d(a.value):new c(function(b){b(a.value);}).then(m,r);}h((g=g.apply(a,b||[])).next());});}function p(a,b){var d,p,m,r,h;function c(a){return function(b){return g([a,b]);};}function g(c){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,m&&(r=m[c[0]&2?"return":c[0]?"throw":"next"])&&!(r=r.call(m,c[1])).done)return r;if(m=0,r)c=[0,r.value];switch(c[0]){case 0:case 1:r=c;break;case 4:return d.label++,{value:c[1],done:!1};case 5:d.label++;m=c[1];c=[0];continue;case 7:c=d.Kw.pop();d.wx.pop();continue;default:if(!(r=d.wx,r=0<r.length&&r[r.length-1])&&(6===c[0]||2===c[0])){d=0;continue;}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3]))d.label=c[1];else if(6===c[0]&&d.label<r[1])d.label=r[1],r=c;else if(r&&d.label<r[2])d.label=r[2],d.Kw.push(c);else{r[2]&&d.Kw.pop();d.wx.pop();continue;}}c=b.call(a,d);}catch(ha){c=[6,ha];m=0;}finally{p=r=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}d={label:0,ara:function(){if(r[0]&1)throw r[1];return r[1];},wx:[],Kw:[]};Ua();Ua();Za();return h={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(h[Symbol.iterator]=function(){return this;}),h;}function r(a,b){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c]);}function u(a){var b,c;Ua();Ua();Za();b="function"===typeof Symbol&&a[Symbol.iterator];c=0;return b?b.call(a):{next:function(){a&&c>=a.length&&(a=void 0);return{value:a&&a[c++],done:!a};}};}function v(a,b){var c,g,d,p;Ua();Ua();Za();c="function"===typeof Symbol&&a[Symbol.iterator];if(!c)return a;a=c.call(a);d=[];try{for(;(void 0===b||0<b--)&&!(g=a.next()).done;)d.push(g.value);}catch(S){p={error:S};}finally{try{g&&!g.done&&(c=a["return"])&&c.call(a);}finally{if(p)throw p.error;}}return d;}function z(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(v(arguments[b]));return a;}function w(a){return this instanceof w?(this.RR=a,this):new w(a);}function k(a,b,c){var h,l,u;function g(a){h[a]&&(l[a]=function(b){return new Promise(function(c,g){1<u.push([a,b,c,g])||d(a,b);});});}function d(a,b){var c;try{c=h[a](b);c.value instanceof w?Promise.resolve(c.value.RR).then(p,m):r(u[0][2],c);}catch(ka){r(u[0][3],ka);}}function p(a){d("next",a);}function m(a){d("throw",a);}function r(a,b){(a(b),u.shift(),u.length)&&d(u[0][0],u[0][1]);}Ua();if(!Symbol.EX)throw new TypeError("Symbol.asyncIterator is not defined.");h=c.apply(a,b||[]);u=[];Ua();return l={},g("next"),g("throw"),g("return"),l[Symbol.EX]=function(){return this;},l;}function x(a){var c,g;function b(b,d){a[b]&&(c[b]=function(c){return(g=!g)?{value:w(a[b](c)),done:"return"===b}:d?d(c):c;});}Ua();Za();return c={},b("next"),b("throw",function(a){throw a;}),b("return"),c[Symbol.iterator]=function(){return this;},c;}function y(a){var b;Ua();if(!Symbol.EX)throw new TypeError("Symbol.asyncIterator is not defined.");Ua();b=a[Symbol.EX];Ua();Za();return b?b.call(a):"function"===typeof u?u(a):a[Symbol.iterator]();}function C(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function F(a){var b;if(a&&a.hca)return a;b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b;}function N(a){return a&&a.hca?a:{"default":a};}a.r(c);a.d(c,"__extends",function(){return b;});a.d(c,"__assign",function(){return ca;});a.d(c,"__rest",function(){return d;});a.d(c,"__decorate",function(){return h;});a.d(c,"__param",function(){return l;});a.d(c,"__metadata",function(){return g;});a.d(c,"__awaiter",function(){return m;});a.d(c,"__generator",function(){return p;});a.d(c,"__exportStar",function(){return r;});a.d(c,"__values",function(){return u;});a.d(c,"__read",function(){return v;});a.d(c,"__spread",function(){return z;});a.d(c,"__await",function(){return w;});a.d(c,"__asyncGenerator",function(){return k;});a.d(c,"__asyncDelegator",function(){return x;});a.d(c,"__asyncValues",function(){return y;});a.d(c,"__makeTemplateObject",function(){return C;});a.d(c,"__importStar",function(){return F;});a.d(c,"__importDefault",function(){return N;});T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b;}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);};ca=Object.assign||function(a){for(var b,c=1,g=arguments.length;c<g;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);}return a;};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Vg=7001]="UNKNOWN";a[a.HFa=7002]="UNHANDLED_EXCEPTION";a[a.mya=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.U8=7010]="INIT_ASYNCCOMPONENT";a[a.t9=7011]="INIT_HTTP";a[a.kya=7014]="INIT_BADMOVIEID";a[a.zya=7016]="INIT_NETFLIXID_MISSING";a[a.yya=7017]="INIT_NETFLIXID_INVALID";a[a.Bya=7018]="INIT_SECURENETFLIXID_MISSING";a[a.u9=7020]="INIT_PLAYBACK_LOCK";a[a.v9=7022]="INIT_SESSION_LOCK";a[a.Aya=7029]="INIT_POSTAUTHORIZE";a[a.Lfb=7031]="INIT_HEADER_MEDIA";a[a.vfb=7032]="HEADER_MISSING";a[a.ufb=7033]="HEADER_FRAGMENTS_MISSING";a[a.Cya=7034]="INIT_TIMEDTEXT_TRACK";a[a.Mfb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.Nfb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.yta=7037]="ASE_SESSION_ERROR";a[a.vya=7041]="INIT_CORE_OBJECTS1";a[a.wya=7042]="INIT_CORE_OBJECTS2";a[a.xya=7043]="INIT_CORE_OBJECTS3";a[a.i9=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.X8=7052]="INIT_COMPONENT_FILESYSTEM";a[a.j9=7053]="INIT_COMPONENT_STORAGE";a[a.k9=7054]="INIT_COMPONENT_STORAGELOCK";a[a.a9=7055]="INIT_COMPONENT_LOGPERSIST";a[a.Hfb=7056]="INIT_COMPONENT_NRDDPI";a[a.Jfb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.b9=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.zT=7059]="INIT_COMPONENT_DEVICE";a[a.nya=7061]="INIT_COMPONENT_MOCKNCCPPLAYBACK";a[a.Ifb=7062]="INIT_COMPONENT_NTBA";a[a.c9=7063]="INIT_COMPONENT_MSL";a[a.e9=7064]="INIT_COMPONENT_NCCPDEVICEPARAMETERS";a[a.d9=7065]="INIT_COMPONENT_NCCP";a[a.f9=7066]="INIT_COMPONENT_NCCPLOGBATCHER";a[a.jl=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.Kfb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.DJ=7069]="INIT_COMPONENT_ACCOUNT";a[a.pya=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.rya=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.sya=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.tya=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.uya=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.oya=7081]="INIT_COMPONENT_NRDP";a[a.qya=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.r9=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.n9=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.s9=7085]="INIT_CONGESTION_SERVICE";a[a.Z8=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.l9=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.W8=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.V8=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.m9=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.Qx=7091]="INIT_COMPONENT_DRM_CACHE";a[a.lya=7092]="INIT_COMPONENT_DRM";a[a.g9=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Y8=7094]="INIT_COMPONENT_FTL";a[a.h9=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.o9=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.p9=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.q9=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.y$=7111]="NCCP_AUTHORIZE";a[a.Ita=7112]="AUTHORIZE_UNKNOWN";a[a.xAa=7113]="NCCP_AUTHORIZE_REGISTER";a[a.wAa=7115]="NCCP_AUTHORIZE_AUTHRENEW";a[a.yAa=7117]="NCCP_AUTHORIZE_VERIFY";a[a.HU=7120]="START";a[a.mu=7121]="LICENSE";a[a.GU=7122]="SECURESTOP";a[a.$C=7123]="STOP";a[a.phb=7124]="NCCP_FPSAPPDATA";a[a.GT=7125]="KEEPALIVE";a[a.Cva=7126]="DEACTIVATE";a[a.NEa=7127]="SYNC_DEACTIVATE_LINKS";a[a.mhb=7130]="NCCP_ACTIVATE";a[a.$T=7131]="NCCP_PING";a[a.z$=7133]="NCCP_NETFLIXID";a[a.k8=7134]="ENGAGE";a[a.xC=7135]="LOGIN";a[a.fK=7136]="SWITCH_PROFILES";a[a.dza=7137]="LOGBLOB";a[a.P$=7138]="PAUSE";a[a.Waa=7139]="RESUME";a[a.uEa=7140]="SPLICE";a[a.qwa=7141]="DOWNLOAD_EVENT";a[a.iCa=7202]="PLAY_INIT_EXCEPTION";a[a.mgb=7301]="MEDIA_DOWNLOAD";a[a.dib=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.eib=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.jU=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.W$=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.kU=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.oCa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.Z$=7351]="PLAY_MSE_NOTSUPPORTED";a[a.X$=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.V$=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.lU=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.nU=7355]="PLAY_MSE_SOURCEADD";a[a.jCa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.Y$=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.iib=7358]="PLAY_MSE_PARSECHALLENGE";a[a.cib=7359]="PLAY_MSE_ADDKEY";a[a.lib=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.sCa=7361]="PLAY_MSE_EVENT_ERROR";a[a.mU=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.TJ=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.rCa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.tCa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.uCa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.vCa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.jib=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.zCa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.yCa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.xCa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.kib=7379]="PLAY_MSE_SOURCE_EOS";a[a.wCa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.hib=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.kCa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.lCa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.mCa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.pCa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.qCa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.fib=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.gib=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.nCa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.$$=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.dxa=7400]="EXTERNAL";a[a.RJ=7500]="PAUSE_TIMEOUT";a[a.BJ=7502]="INACTIVITY_TIMEOUT";a[a.Hta=7510]="AUTHORIZATION_EXPIRED";a[a.xeb=7520]="DECRYPT_AUDIO";a[a.dba=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.lEa=7601]="SECURE_STOP_KEY_ERROR";a[a.ejb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.Pib=7603]="SECURE_STOP_NCCP_ERROR";a[a.Qib=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.djb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.Uib=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.mEa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.Vib=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.Wib=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.Zib=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.Rib=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.Xib=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.ajb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.Yib=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.Tib=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.cjb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.$ib=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.Sib=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.bjb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.Web=7700]="EME_INVALID_KEYSYSTEM";a[a.LS=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.KS=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.NS=7703]="EME_GENERATEREQUEST_FAILED";a[a.gC=7704]="EME_UPDATE_FAILED";a[a.Xeb=7705]="EME_KEYSESSION_ERROR";a[a.ffb=7706]="EME_NO_KEYMESSAGE";a[a.j8=7707]="EME_REMOVE_FAILED";a[a.$wa=7708]="EME_LOAD_FAILED";a[a.f8=7709]="EME_CREATE_SESSION_FAILED";a[a.Zwa=7710]="EME_LDL_RENEWAL_ERROR";a[a.g8=7711]="EME_INVALID_INITDATA_DATA";a[a.h8=7712]="EME_INVALID_LICENSE_DATA";a[a.Ywa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.axa=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.i8=7715]="EME_INVALID_SECURESTOP_DATA";a[a.Vwa=7716]="EME_CLOSE_FAILED";a[a.gCa=7800]="PLAYDATA_STORE_FAILURE";a[a.fCa=7801]="PLAYDATA_SEND_FAILURE";a[a.aC=7900]="BRANCH_PLAY_FAILURE";a[a.Xq=7901]="BRANCH_QUEUE_FAILURE";a[a.X6=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.Ghb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.Hhb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.uBa=8100]="PBO_EVENTLOOKUP_FAILURE";}(c.v||(c.v={})));(function(a){a[a.Vg=1001]="UNKNOWN";a[a.te=1003]="EXCEPTION";a[a.Gya=1004]="INVALID_DI";a[a.Bta=1011]="ASYNCLOAD_EXCEPTION";a[a.Cta=1013]="ASYNCLOAD_TIMEOUT";a[a.G6=1015]="ASYNCLOAD_BADCONFIG";a[a.zta=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.Ata=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.sC=1101]="HTTP_UNKNOWN";a[a.xT=1102]="HTTP_XHR";a[a.Ox=1103]="HTTP_PROTOCOL";a[a.yJ=1104]="HTTP_OFFLINE";a[a.rC=1105]="HTTP_TIMEOUT";a[a.ku=1106]="HTTP_READTIMEOUT";a[a.No=1107]="HTTP_ABORT";a[a.tT=1108]="HTTP_PARSE";a[a.K8=1110]="HTTP_BAD_URL";a[a.Px=1111]="HTTP_PROXY";a[a.e$=1203]="MSE_AUDIO";a[a.f$=1204]="MSE_VIDEO";a[a.Nza=1250]="MSE_MEDIA_ERR_BASE";a[a.Vgb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.Ygb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.Wgb=1253]="MSE_MEDIA_ERR_DECODE";a[a.Zgb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.Xgb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.eu=1260]="EME_MEDIA_KEYERR_BASE";a[a.dfb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.Zeb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.cfb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.bfb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.afb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.$eb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.efb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.Xwa=1280]="EME_ERROR_NODRMSESSSION";a[a.Wwa=1281]="EME_ERROR_NODRMREQUESTS";a[a.Ueb=1282]="EME_ERROR_INDIV_FAILED";a[a.Veb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.cxa=1284]="EME_TIMEOUT_MESSAGE";a[a.bxa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.OS=1286]="EME_UNDEFINED_DATA";a[a.MS=1286]="EME_EMPTY_DATA";a[a.fC=1287]="EME_INVALID_STATE";a[a.Yeb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.vhb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.yhb=1305]="NCCP_PARSEXML";a[a.AAa=1309]="NCCP_PROCESS_EXCEPTION";a[a.xhb=1311]="NCCP_NETFLIXID_MISSING";a[a.zhb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.shb=1313]="NCCP_HMAC_MISSING";a[a.rhb=1315]="NCCP_HMAC_MISMATCH";a[a.qhb=1317]="NCCP_HMAC_FAILED";a[a.ohb=1321]="NCCP_CLIENTTIME_MISSING";a[a.nhb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.HC=1331]="NCCP_PROTOCOL";a[a.BAa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.CAa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.Ahb=1341]="NCCP_TRANSACTION";a[a.thb=1343]="NCCP_INVALID_DRMTYPE";a[a.uhb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.whb=1345]="NCCP_MISSING_PAYLOAD";a[a.pU=1346]="PROTOCOL_NOT_INITIALIZED";a[a.KCa=1347]="PROTOCOL_MISSING_FIELD";a[a.JCa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.sj=1402]="STORAGE_NODATA";a[a.jjb=1403]="STORAGE_EXCEPTION";a[a.lba=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.mba=1407]="STORAGE_QUOTA_TO_SMALL";a[a.kba=1411]="STORAGE_LOAD_ERROR";a[a.IEa=1412]="STORAGE_LOAD_TIMEOUT";a[a.nba=1414]="STORAGE_SAVE_ERROR";a[a.LEa=1415]="STORAGE_SAVE_TIMEOUT";a[a.IU=1417]="STORAGE_DELETE_ERROR";a[a.iba=1418]="STORAGE_DELETE_TIMEOUT";a[a.jba=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.FEa=1423]="STORAGE_FS_GETDIRECTORY";a[a.HEa=1425]="STORAGE_FS_READENTRIES";a[a.CEa=1427]="STORAGE_FS_FILEREAD";a[a.EEa=1429]="STORAGE_FS_FILEWRITE";a[a.DEa=1431]="STORAGE_FS_FILEREMOVE";a[a.GEa=1432]="STORAGE_FS_PARSEJSON";a[a.KEa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.JEa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.Nhb=1501]="NTBA_UNKNOWN";a[a.Mhb=1502]="NTBA_EXCEPTION";a[a.Ihb=1504]="NTBA_CRYPTO_KEY";a[a.Khb=1506]="NTBA_CRYPTO_OPERATION";a[a.Jhb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.Lhb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.H7=1553]="DEVICE_NO_ESN";a[a.uS=1555]="DEVICE_ERROR_GETTING_ESN";a[a.caa=1603]="PLUGIN_LOAD_MISSING";a[a.aaa=1605]="PLUGIN_LOAD_ERROR";a[a.daa=1607]="PLUGIN_LOAD_TIMEOUT";a[a.baa=1609]="PLUGIN_LOAD_EXCEPTION";a[a.DCa=1625]="PLUGIN_EXCEPTION";a[a.ACa=1627]="PLUGIN_CALLBACK_ERROR";a[a.BCa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.vxa=1701]="FORMAT_UNKNOWN";a[a.y8=1713]="FORMAT_XML";a[a.wxa=1715]="FORMAT_XML_CONTENT";a[a.uxa=1721]="FORMAT_BASE64";a[a.oJ=1723]="FORMAT_DFXP";a[a.Yxa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.S8=1802]="INDEXDB_NOT_SUPPORTED";a[a.Xxa=1803]="INDEXDB_OPEN_ERROR";a[a.T8=1804]="INDEXDB_OPEN_NULL";a[a.Wxa=1805]="INDEXDB_OPEN_BLOCKED";a[a.Zxa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.Vxa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.CJ=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.Uza=1901]="MSL_UNKNOWN";a[a.Oza=1911]="MSL_INIT_NO_MSL";a[a.j$=1913]="MSL_INIT_ERROR";a[a.Pza=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.KT=1931]="MSL_ERROR";a[a.k$=1933]="MSL_REQUEST_TIMEOUT";a[a.Tza=1934]="MSL_READ_TIMEOUT";a[a.h$=1935]="MSL_ERROR_HEADER";a[a.AC=1936]="MSL_ERROR_ENVELOPE";a[a.i$=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.LT=1957]="MSL_ERROR_REAUTH";a[a.$U=2103]="WEBCRYPTO_MISSING";a[a.WFa=2105]="WEBCRYPTOKEYS_MISSING";a[a.XFa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.feb=2200]="CACHEDDATA_PARSEJSON";a[a.kS=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.geb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.hn=2203]="CACHEDDATA_INVALID_FORMAT";a[a.E6=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.ota=3001]="ACCOUNT_INVALID";a[a.owa=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.nwa=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.Deb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.Eeb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.Ceb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.kjb=3300]="STORAGE_VA_LOAD_ERROR";a[a.ljb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.ojb=3302]="STORAGE_VA_SAVE_ERROR";a[a.pjb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.mjb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.njb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.zBa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.pBa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.tBa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.vBa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.rBa=5059]="PBO_BLACKLISTED_IP";a[a.qBa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.sBa=5080]="PBO_CHOICE_MAP_ERROR";a[a.yBa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.xBa=5091]="PBO_MALFORMED_REQUEST";a[a.wBa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.Eva=5100]="DECODER_TIMEOUT_BUFFERING";a[a.Fva=5101]="DECODER_TIMEOUT_PRESENTING";a[a.pwa=5200]="DOWNLOADER_IO_ERROR";a[a.W6=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.aua=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.Cdb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.gS=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.Xta=5304]="BRANCHING_ASE_FAILURE";a[a.Zta=5305]="BRANCHING_MOMENT_FAILURE";a[a.Yta=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.Bdb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.bua=5308]="BRANCHING_SEEK_THREW";a[a.Adb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.$ta=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.V6=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.cua=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";}(c.u||(c.u={})));(function(a){a[a.iua=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.dua=5005]="BR_ACCOUNT_ON_HOLD";a[a.gua=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.hua=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.fua=5059]="BR_BLACKLISTED_IP";a[a.eua=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.Gdb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.Edb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.Hdb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.Fdb=2207]="BR_ENDPOINT_ERROR";a[a.Ddb=2208]="BR_AUTHORIZATION_ERROR";}(c.hu||(c.hu={})));(function(a){a[a.Njb=21E3]="Undefined";a[a.sdb=21001]="AggregateError";a[a.nfb=21002]="EventStoreError";a[a.Mib=21003]="RequestTypeError";a[a.Rhb=21004]="NullPointerError";a[a.fhb=22E3]="MembershipError";a[a.egb=22001]="LicenseAggregateError";a[a.Ijb=22002]="TotalLicensesPerDeviceReached";a[a.Hjb=22003]="TotalLicensesPerAccountReached";a[a.Gjb=22004]="TitleNotAvailableForOffline";a[a.wjb=22005]="StudioOfflineTitleLimitReached";a[a.akb=22006]="YearlyStudioDownloadLimitReached";a[a.bkb=22007]="YearlyStudioLicenseLimitReached";a[a.Ntb=22008]="viewingWindowExpired";a[a.fgb=22009]="LicenseIdMismatch";a[a.Yhb=23E3]="OfflineDeviceLimitReached";a[a.Leb=23001]="DeviceAggregateError";a[a.Neb=23002]="DeviceDeactivationLimitError";a[a.hgb=24E3]="LicenseNotMarkedPlayable";a[a.Jib=24001]="RefreshLicenseIdMismatch";a[a.igb=24002]="LicenseReleasedError";a[a.kgb=24003]="LicenseTooOld";a[a.Heb=24004]="DataMissError";a[a.Ieb=24005]="DataWriteError";a[a.Oeb=24006]="DeviceNotActiveError";a[a.Yjb=24007]="ViewableNotAvailableInRegion";a[a.sib=24008]="PackageRevokedError";a[a.rjb=25E3]="ServerError";a[a.Rfb=25001]="IOError";a[a.Keb=25002]="DependencyCommandError";a[a.peb=25003]="ClientUsageError";a[a.Eib=26001]="PlayableAggregateError";a[a.ggb=26002]="LicenseNotActive";a[a.Fib=26003]="PlayableLicenseIdMismatch";a[a.Lib=27001]="ReleaseLicenseIdMismatch";a[a.Kib=27002]="ReleaseDeviceOwnerMismatch";a[a.jgb=28008]="LicenseReleasedViaDeactivate";a[a.ihb=28001]="MigrateLicenseIdMismatch";a[a.yjb=28002]="SyncLicenseIdMismatch";}(c.eza||(c.eza={})));},function(f,c,a){var b,d,h,l,g,m,p,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(422);f=a(12);d=a(34);h=a(2);l=a(152);g=a(153);m=a(62);p=a(14);r=a(309);c.T4a=r.a4;c.Cx=b.sb.get(l.mK);c.XB=c.Cx.encode.bind(c.Cx);c.wI=c.Cx.decode.bind(c.Cx);c.Ak=b.sb.get(g.MI);c.dlb=c.Ak.encode.bind(c.Ak);c.clb=c.Ak.decode.bind(c.Ak);c.mM=c.Ak.yF.bind(c.Ak);c.elb=c.Ak.osa.bind(c.Ak);c.xg=b.sb.get(m.fl);c.Dp=function(a){a=p.oc(a)?c.wI(a):a;return c.xg.encode(a);};c.Pi=c.xg.decode.bind(c.xg);c.zNa=function(a){return c.XB(c.Pi(a));};c.Df=a(13);c.kfb=function(a){return 7100<=a&&7200>a;};c.kxa=function(a){return a==h.v.RJ||a==h.v.BJ;};c.mxa=function(a){return 1100<=a&&1199>=a;};c.mfb=function(a){return 1300<=a&&1399>=a;};c.lfb=function(a){return 1900<=a&&1999>=a;};c.s8=function(a,b){return 1<=a&&9>=a?b+a:b;};c.nxa=function(a){return c.s8(a,h.u.Nza);};c.t8=function(a){return c.s8(a,h.u.eu);};c.jk=function(a){var b,c,g;b={};c=a.errorExternalCode||a.ub;g=a.errorDetails||a.za;b.ErrorSubCode=a.errorSubCode||a.R||h.u.Vg;c&&(b.ErrorExternalCode=c);g&&(b.ErrorDetails=g);return b;};c.fFa=a(554);c.Sz=function(){return b.sb.get(d.ES);};c.si=b.sb.get(f.Jb);c.log=c.si.Bb("General");c.Cc=function(a,b){return c.si.Bb(a,void 0,b);};c.Je=function(a,b){return c.si.Bb(b,a,void 0);};c.UN=function(a,b,g,d){return c.si.Bb(a,void 0,d,b,g);};c.Z=b.sb;},function(f,c,a){var h,l,g,m,p,r,u,v,z,w,k,x,y,C;function b(a){return(a=c.config.Tbb[d(a)])?a:{};}function d(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";}}Object.defineProperty(c,"__esModule",{value:!0});h=a(6);l=a(25);g=a(3);m=a(47);p=a(8);r=a(14);u=a(36);v=a(34);z=a(64);w=a(19);a(12);k=a(5);x=a(17);y=a(92);C=a(15);c.wPa=function(a){var ka,ua,la,Sa,vb,ub,A,wa,na,H,mb;function b(a,c){w.Kb(a,function(a,d){C.wb(d)?c[a]=d.call(void 0,c[a]):C.Pd(d)&&(c[a]=c[a]||{},b(d,c[a]));});}function d(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return function(b){C.$a(b)&&(c[1]=b);p.ea(C.wb(a));return a.apply(void 0,c);};}function f(a){a=a.toLowerCase();vb.hasOwnProperty(a)&&(Sa[a]=vb[a],ub[a]=vb[a]);return a;}function F(a,b,c){var d;a=a.toLowerCase();if(Sa.hasOwnProperty(a)){d=Sa[a];try{d=c?c(d):d;}catch(Ra){d=void 0;}if(void 0!==d)return d;p.ea(!1);g.log.error("Invalid configuration value. Name: "+a);}return b;}function G(a,b,c,d){return F(a,b,function(a){C.oc(a)&&(a=w.Zc(a));if(C.I_a(a,c,d))return a;});}function B(a,b,c,d){return F(a,b,function(a){C.oc(a)&&(a=w.Zc(a));if(C.et(a,c,d))return a;});}function n(a,b,c,d){return F(a,b,function(a){C.oc(a)&&(a=parseFloat(a));if(C.da(a,c,d))return a;});}function q(a,b,c){return F(a,b,function(a){if(c?c.test(a):C.oc(a))return a;});}function D(a,b){return F(a,b,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function S(a,b){return F(a,b,function(a){if(C.oc(a))return JSON.parse(k.eU(a));if(C.Pd(a))return a;});}function da(a,b,c,d,g,p){var m;a=a.toLowerCase();Sa.hasOwnProperty(a)&&(m=Sa[a]);if(!C.$a(m))return b;if(C.oc(m))if(m[0]!==c)m=d(m);else try{m=JSON.parse(k.eU(m));}catch(gb){m=void 0;}if(void 0===m)return b;for(a=0;a<g.length;a++)if(!g[a](m))return b;return p?p(m):m;}function X(a,b,c,d,g){return da(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;)a[b]=w.Zc(a[b]);return a;},[function(a){return C.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!C.et(a[b],c,d))return!1;return!0;},function(a){return void 0===g||a.length>=g;}]);}function U(a,b,c,d,g,p){return da(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var c=a[b].length;c--;)a[b][c]=w.Zc(a[b][c]);}return a;},[function(a){return C.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--&&void 0!==a;){if(!C.isArray(a[b]))return!1;for(var g=a[b].length;g--;)if(!C.et(a[b][g],c,d))return!1;}return!0;},function(a){if(void 0!==g)for(var b=a.length;b--;)if(g!==a[b].length)return!1;return!0;},function(a){return void 0===p||a.length>=p;}]);}function ha(a,b){return da(a,b,"[",function(a){a=C.isArray(a)?a:a.split("|");for(var b=a.length;b--;)try{a[b]=JSON.parse(k.eU(a[b]));}catch(Ra){a=void 0;break;}return a;},[function(a){return C.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!C.$a(a[b])||!C.Pd(a[b]))return!1;return!0;}]);}function ba(a,b,c,d){return da(a,b,"[",function(a){return C.isArray(a)?a:a.split("|");},[function(a){return C.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(c?!c.test(a[b]):!C.kq(a[b]))return!1;return!0;},function(a){return void 0===d||a.length>=d;}]);}function ea(a,b,c){return da(a,b,"{",function(a){var b,d,g;b={};a=a.split(";");for(var c=a.length;c--;){d=a[c];g=d.indexOf(":");if(0>=g)return;b[d.substring(0,g)]=d.substring(g+1);}return b;},[function(a){return C.Pd(a)&&0<Object.keys(a).length;},function(a){if(c)for(var b in a)if(!c.test(a[b]))return!1;return!0;}],function(a){var c;c={};w.oa(c,b);w.oa(c,a);return c;});}function ia(a){var b;b=[];w.Kb(a,function(a,c){var d;try{d="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(c);}catch(zb){d="cantparse";}b.push(a+"="+d);});return b.join("\n");}ka=/^[0-9-+]+$/;ua=/^[0-9]+[%]?$/;la=/^[0-9]*$/;ub={};A=!0;wa=!0;na=g.Z.get(m.oj);(function(){var c;function b(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0<b&&(Sa[a.substring(0,b).toLowerCase()]=a.substring(b+1));});}Sa={};w.oa(Sa,u.S$);a&&a.length&&k.forEach.call(a,function(a){C.oc(a)?b(a):C.Pd(a)&&w.oa(Sa,a,{AA:!0});});vb=w.oa({},l.Z_(),{AA:!0});c=l.N6a().cadmiumconfig;c&&(g.log.info("Config cookie loaded",c),b(c));if(u.pta||Sa.istestaccount)w.oa(Sa,vb),ub=vb;"clearkey"!=q("drmType")||Sa.keysystemid||(Sa.keysystemid=(t.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());c.config={};H={PZ:function(a){return D(f("enableDDPlus20"),r.zg(a,!0));},OZ:function(a){return D(f("enableDDPlus"),r.zg(a,!0));},iF:d(D,f("enableDDPlusAtmos"),!1),$mb:function(a){return A=D(f("enableLSSDH"),r.zg(a,!0));},gUa:function(a){return D(f("enableHEVC"),r.zg(a,!1));},yoa:function(a){return D(f("overrideEnableHEVC"),r.zg(a,!1));},fUa:function(a){return D(f("enableHDR"),r.zg(a,!1));},xoa:function(a){return D(f("overrideEnableHDR"),r.zg(a,!1));},rUa:function(a){return D(f("enableVP9"),r.zg(a,!1));},zoa:function(a){return D(f("overrideEnableVP9"),r.zg(a,!1));},lUa:function(a){return D(f("enablePRK"),r.zg(a,!1));},hUa:function(a){return D(f("enableHWDRM"),r.zg(a,!1));},Zmb:function(a){return wa=D(f("enableImageSubs"),r.zg(a,!0));},kM:function(a){return ba("audioProfiles",r.zg(a,u.FBa));},Mmb:function(a){return D("disableHD",r.zg(a,!1));},UR:d(B,"videoCapabilityDetectorType",v.Fi.du),IX:d(B,"audioCapabilityDetectorType",v.au.du),DI:function(a){return ba("videoProfiles",r.zg(a,u.dCa));},t6:d(q,f("videoCodecs")),LB:function(a){return ba("timedTextProfiles",r.zg(a,u.ZBa)).filter(function(a){return a===z.uj.vS?A:a===z.uj.Xx?wa:!0;});},endpoint:d(D,f("endpoint"),!1),i5:d(D,f("setMediaKeysEarly"),!1),SF:d(D,f("ignoreKeyStatusOutputNotAllowed"),!1),m6:d(D,f("useSetServerCertificateApi"),!1),pB:d(q,"serverCertificate",u.R$),cia:d(D,f("doNotPerformLdlOnPlaybackCreate"),!1),dia:d(D,f("doNotPerformLdlOnPlaybackStart"),!1),Dlb:d(D,f("checkHdcpLevelBeforeCreatingManifestRequest"),!1),Rsa:d(D,f("useHdcpLevelOnCast"),!1),iUa:d(D,f("enableHdcp"),!1),epa:d(B,f("preCacheMediaKeys"),0),Rm:d(D,f("prepareCadmium"),!1),wLa:d(D,f("acceptManifestOnPrepareItemParams"),!0),dH:d(S,"ppmconfig",{maxNumberTitlesScheduled:1}),C5a:d(D,f("playerPredictionModelV2"),!0),wab:d(D,f("supportsLimitedDurationLicense"),!1),RZ:d(D,f("enableLdlPrefetch"),!1),iN:d(D,f("enableGetHeadersAndMediaPrefetch"),!1),YE:d(D,f("deleteCachedManifestOnPlayback"),!1),$E:d(D,f("deleteOtherManifestCacheOnCreate"),!1),ZE:d(D,f("deleteOtherLdlCacheOnCreate"),!1),g5a:d(B,f("periodicPrepareLogsIntervalMilliseconds"),36E5),Z5a:d(B,f("prepareManifestCacheMaxCount"),50),X5a:d(B,f("prepareLdlCacheMaxCount"),30),lpa:d(B,f("prepareManifestExpiryMilliseconds"),12E5),Y5a:d(B,f("prepareLdlExpiryMilliseconds"),78E4),nrb:d(q,"prepItemsStorePrefix","prepitems"),W5a:d(q,f("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Otb:d(D,"waitForSecureStopToTeardownMediaElement",!0),Vq:d(S,"videoApp"),zo:d(S,"storageRules"),F0:d(D,"ignoreIdbOpenError"),fWa:d(D,"ftlEnabled",!0),sMa:d(D,"appStorageLogging",!0),qlb:d(B,f("cacheApiGetRangeTimeoutMilliseconds"),1),Tmb:d(S,"downloaderForOfflineMock"),h_a:d(B,f("imageSubsResolution"),0),g_a:d(B,f("imageSubsMaxBuffer"),u.SBa,0),DE:d(D,f("captureBatteryStatus"),!1),EWa:d(B,f("getBatteryApiTimeoutMilliseconds"),5E3),ce:function(){return q(f("keySystemId"),u.NBa,void 0);},DOa:d(q,f("canHDCP"),"constrict",/^(constrict|ifpresent|never)$/),t2a:d(B,f("hdcpGlobalTimeout1"),1E4),u2a:d(B,f("hdcpGlobalTimeout2"),1E4),$pb:d(B,f("hdcpQueryTimeout1"),1E3),aqb:d(B,f("hdcpQueryTimeout2"),1E3),v2a:d(B,f("hdcpQueryTimeout2"),100),w2a:d(D,f("microsoftHwdrmRequiresHevc"),!1),q2a:d(D,f("microsoftEnableDeviceInfo"),!1),r2a:d(D,f("microsoftEnableHardwareInfo"),!1),s2a:d(D,f("microsoftEnableHardwareReset"),!1),Usa:d(D,f("useNewLogger"),!1),g1a:d(D,"logMediaPipelineStatus",!1),tH:d(D,f("renderDomDiagnostics"),!0),yma:function(){return-1;},vA:d(G,f("logDisplayMaxEntryCount"),u.OBa,-1),p1a:d(G,f("logToConsoleLevel"),-1),GNa:d(G,f("bladerunnerCmdHistorySize"),10),Jl:function(){return na.Jl;},jcb:d(D,"upgradeNetflixId",!0),mqb:d(q,"netflixIdEsnPrefix"),G1:d(D,"logErrorIfEsnNotProvided",!0),UZ:d(D,"enforceSinglePlayback",u.LBa),pN:d(D,"enforceSingleSession",u.MBa),BY:d(D,"closeOtherPlaybacks",!0),WMa:d(B,"asyncLoadTimeout",15E3,1),E1a:d(B,"mainThreadMonitorPollRate",0),Wpb:d(B,"mediaBufferCompactionThrottleTimeMs",500),zqb:d(D,"nrdpAlwaysShowUIOverlay",!1),Bqb:d(D,"nrdpValidateSSOTokens",!0),Aqb:d(q,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),Lsb:d(D,"showNrdpDebugBadging",!1),zPa:d(q,"congestionServiceApiPath","/cbp/html5player/congestion"),hN:d(D,"enableCongestionService",!1),XR:function(){return na.XR;},Zn:function(){return na.Zn;},Kp:function(){return na.Kp;},Tq:function(){return na.Tq;},dta:d(B,f("verbosePlaybackInfoDenominator"),0),r4:d(D,"renderTimedText",u.UBa),K5a:d(D,"preBufferTimedText",!0),cVa:d(D,"fatalOnTimedTextLoadError",!0),hsa:d(ea,"timedTextStyleDefaults",{}),isa:d(ea,"timedTextStyleOverrides",{}),X5:d(ea,"timedTextFontFamilyMapping",u.YBa||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),Zab:d(B,f("timedTextTimeOverride"),0),DR:d(B,"timedTextSimpleFallbackThreshold",u.$Ba),kZ:d(q,f("customDfxpUrl")),pUa:d(D,f("enableSubtitleTrackerLogging"),!1),Z8a:d(D,f("sendSubtitleQoeLogblobOnMidplay"),!1),QOa:d(ba,"cdnIdWhiteList",[]),POa:d(ba,"cdnIdBlackList",[]),Rkb:d(D,f("asynchronousCDNSelection"),!0),t_:d(q,f("forceAudioTrack")),T2a:d(D,"muteVolumeOnPlaybackClose",!0),Cqb:d(q,"nrdpVolumeControlType","VOLUME_STREAM"),JN:d(q,f("forceTimedTextTrack")),gna:d(B,f("maxRetriesTimedTextDownload"),0),gsa:d(B,f("timedTextRetryInterval"),8E3),D5:d(B,"storageMinimumSize",u.WBa,0),qR:d(q,"storageType",u.XBa,/^(none|fs|idb|ls)$/),c1a:d(B,"lockExpiration",1E4),d1a:d(B,"lockRefresh",3E3),JOa:d(D,"captureUnhandledExceptions",!0),f_a:d(D,"ignoreUnhandledExceptionDuringPlayback",!0),Ybb:d(D,"unhandledExceptionsArePlaybackErrors",!1),Bsa:d(q,"unhandledExceptionSource",""),e6a:d(D,"preserveLastFrame",!1),C2a:d(B,"minBufferingTimeInMilliseconds",4E3),Spb:d(B,"maxBufferingTimeInMilliseconds",0),r6a:d(B,"progressBackwardsGraceTimeMilliseconds",4E3),s6a:d(B,"progressBackwardsMinPercent",10),JNa:d(q,f("bookmarkIgnoreBeginning"),"0",ua),KNa:d(q,f("bookmarkIgnoreEnd"),"5%",ua),LNa:d(q,f("bookmarkIgnoreEndForBranching"),"5%",ua),MNa:d(D,"bookmarkIgnoreEndForOverride",!1),CPa:d(q,"connectionStrategy","parallel",/^(parallel|single)$/),alb:d(q,f("bandwidthMeterType"),"sliding_window",/^(historical|sliding_window)$/),Sob:d(B,"initParallelConnections",3),qw:d(B,"maxParallelConnections",3),u4:d(D,"reportThroughputInLogblobs",!0),Poa:d(D,"pingOnConnectTimeout",!1),k5a:d(B,"pingCDNTimeoutMilliseconds",8E3),Wma:d(B,"maxBufferSizeMilliseconds",u.QBa,1E4,h.pu),c2:d(B,"maxBufferSizeBytes",u.PBa),Xkb:d(B,"backToFrontBufferRatioPercent",25,0,1E3),JX:d(B,"audioChunkSizeMilliseconds",16E3),aNa:d(B,"audioChunkSizeMillisecondsBranching",0),s6:d(B,"videoChunkSizeMilliseconds",4004),Icb:d(B,"videoChunkSizeMillisecondsBranching",0),Hcb:d(B,"videoChunkSizeMillisecondsAL1",0),C2:d(B,"minAudioMediaRequestSizeBytes",0),G2:d(B,"minVideoMediaRequestSizeBytes",0),QTa:d(D,"droppedFrameRateFilterEnabled",!1),RTa:d(B,"droppedFrameRateFilterMaxObservation",60,10,1E3),TTa:d(U,"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),Vmb:d(D,"droppedFrameRateFilterWithoutRebufferEnabled",!0),eN:d(B,"droppedFrameRateFilterBasedOnPreviousSession"),lia:d(X,"droppedFrameRateFilterBasedOnPreviousSessionPolicy"),STa:d(B,"droppedFrameRateFilterMinHeight",384),WTa:d(B,"droppedFramesStorageSessionLimit",0),VTa:d(B,"droppedFramesStorageInterval",6E4),UTa:d(X,"droppedFramesPercentilesList",[]),x2a:d(D,"microsoftScreenSizeFilterEnabled",!1),Sbb:d(D,"uiLabelFilterEnabled",!0),Rbb:d(S,"uiLabelFilter",{}),KSa:d(B,f("defaultVolume"),100,0,100),$ha:d(D,"disableVideoRightClickMenu",!0),D2a:d(B,"minDecoderBufferMilliseconds",1E3,0,h.pu),roa:d(B,"optimalDecoderBufferMilliseconds",5E3,0,h.pu),x4a:d(B,"optimalDecoderBufferMillisecondsBranching",3E3,0,h.pu),e2:d(B,"maxDecoderBufferMilliseconds",u.RBa,0,h.pu),Oha:d(B,"decoderTimeoutMilliseconds",1E4,1),tTa:d(D,"disgardMediaOnAppend",!1),vMa:d(D,"appendMediaBeforeInit",!1),b5a:d(B,"pauseTimeoutLimitMilliseconds",18E5),J0:d(B,"inactivityMonitorInterval",3E4,0),uLa:d(X,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),Fnb:d(U,f("fixedVideoBitrates"),[],void 0,void 0,2,0),Btb:d(D,f("useFilteredInitialBitratesOnly"),!1),hA:d(ba,f("initialVideoBitrates"),["0+","400+","900+"],ka,1),Wob:d(ba,f("initialVideoBitratesForCarreraFallback"),["0+","400+","900+"],ka,1),gA:d(ba,f("initialAudioBitrates"),["0+","90+","150+"],ka,1),Skb:d(B,"audioBandwidthDenominator",15,1),Nsb:d(B,"simulationLimitMilliseconds",12E5,1E4),uob:d(B,"highStreamSimulationMilliseconds",12E4,1),jrb:d(U,"prebufferBitrate",[[500,235],[1E3,560],[5E3,1050],[1E4,1050],[3E4,3E3]],void 0,void 0,2,1),dtb:d(U,"switchUpToBitrate",[[235,560],[375,750],[560,1050],[750,1400],[1050,1750],[1750,3E3],[2350,1E5]],void 0,void 0,2,1),N5a:d(B,"prebufferMinAudioMilliseconds",6E3),O5a:d(B,"prebufferMinVideoMilliseconds",6E3),qUa:d(D,"enableTrickPlay",!1),fMa:d(X,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),Kbb:d(B,"trickPlayHighResolutionBitrateThreshold",1E3),Lbb:d(B,"trickPlayHighResolutionThresholdMilliseconds",1E4),Mbb:d(n,"trickplayBufferFactor",.5),vsa:d(B,"trickPlayDownloadRetryCount",1),Omb:d(B,"doNotSwitchDownIfBufferIsAboveMilliseconds",18E4),vob:d(B,"histAggregationTimeSpanInSeconds",300),wob:d(B,"histCompareBitsIPv4",24),xob:d(B,"histCompareBitsIPv6",32),yob:d(q,"histFilterType","none",/^(none|timeofDay|dayOfWeekAndTimeOfDay)$/),Bob:d(B,"histSizeLimit",1E3),Aob:d(B,"histMinSampleSize",1),zob:d(B,"histMaxSampleSize",1E3),Cob:d(B,"histTimeOfDayRangeInSeconds",3600),Y1:d(q,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),ura:d(B,"simplePercentilePredictorPercentile",25),sra:d(q,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),tra:d(q,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),w9:d(S,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),O8:d(S,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),wFa:d(S,"TputTDigestConfig",{maxc:25,c:.5,b:5E3,w:15E3}),$ma:d(G,"maxIQRSamples",Infinity),yna:d(G,"minIQRSamples",5),l6:d(D,"useResourceTimingAPI",!1),bla:d(D,"ignoreFirstByte",!0),$7a:d(D,"resetHeuristicStateAfterSkip",!0),snb:d(X,"failedDownloadRetryWaits",[10,200,500,1E3,2E3,4E3,8E3,16E3]),b_:d(X,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),Dsb:d(B,"selectCdnDownloadRetryCountBeforeCdnSwitch",2),Fsb:d(B,"selectCdnTimeoutMilliseconds",1E3),Esb:d(B,"selectCdnSignificantLatency",300),Csb:d(B,"selectCdnBandwidthThresholdKbps",2E3),Gsb:d(q,"selectCdnType","bandwidth",/^(latency|bandwidth)$/),blb:d(B,"bandwidthTestBytesPerCdn",204800),Etb:d(D,"useVariableConnectTimeout",!1),bqb:d(B,"minConnectTimeoutMilliseconds",4E3),MY:d(B,"connectTimeoutMilliseconds",8E3,500),Tlb:d(B,"connectTimeoutBufferDiscount",2),Ulb:d(B,"connectTimeoutoutUpperLimitMultiplier",1E4),X2:d(B,"noProgressTimeoutMilliseconds",8E3,500),qcb:d(D,"useOnLineApi",!1),rob:d(B,"headerDownloadRetryCountBeforeCdnSwitch",1),W5:d(B,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Pna:d(B,"netflixRequestExpiryTimeout",!1),Gkb:d(D,"abortInProgressDownload",!0),Fkb:d(D,"abortInProgressAtRebuffer",!1),sLa:d(D,"abortPreemptively",!1),Uob:d(B,"initialHeaderDownloadTimeout",2E3),sob:d(B,"headerDownloadTimeout",3E3),Scb:d(D,"webkitDecodedFrameCountIncorrectlyReported",!1),K8a:d(B,"seekBackOnAudioTrackChangeMilliseconds",8E3),Qra:d(ba,f("supportedAudioTrackTypes"),[],void 0,1),btb:d(ba,f("supportedAudioBitrates"),[],ka),ctb:d(ba,f("supportedVideoBitrates"),[],ka),jla:d(B,"initialLogFlushTimeout",5E3),TA:d(q,"playdataPersistKey",na.Jl?"unsentplaydatatest":"unsentplaydata"),mB:d(D,"sendPersistedPlaydata",!0),cH:d(B,"playdataPersistIntervalMilliseconds",4E3),Woa:d(B,"playdataSendDelayMilliseconds",1E4),RQ:d(D,"sendPlaydataBackupOnInit",!0),r0:d(B,"heartbeatCooldown",1E4,1E3),k1a:d(ba,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),z2a:d(D,"midplayEnabled",!0),qna:d(B,"midplayIntervalMilliseconds",3E5),A2a:d(X,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),fF:d(B,"downloadReportDenominator",0),FTa:d(B,"downloadReportInterval",3E5),bN:d(ba,"downloadReportTcpInfo",[]),Rmb:d(B,"downloadReportTraceInterval",1E3),xma:d(B,"logConfigApplyDenominator",0),jga:d(ea,f("bookmarkByMovieId"),{}),nma:d(D,f("limitedDurationLicense"),!1),uA:d(B,f("licenseRenewalRequestDelay"),0),u3:d(B,f("persistedReleaseDelay"),1E4),Bpb:d(D,f("limitedDurationFlagOverride"),void 0),Sh:d(D,f("secureStopEnabled"),!1),zsb:d(D,f("secureStopFromPersistedKeySession"),!1),Pqa:d(B,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),O4:d(B,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),I8a:d(B,f("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),J8a:d(B,f("secureStopPersistedKeySessionRetries"),17,1),H8a:d(B,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),ysb:d(D,f("secureStopDisplayLogWindowOnError"),!1),Asb:d(D,f("secureStopIgnoreVideoError"),!1),UB:d(D,f("useCdmId"),!1),Tob:d(ba,"initSegmentBoxTypeList",["ftyp","moov"]),Pob:d(ba,"ignorePsshList",[]),Bqa:d(B,"safariPlayPauseWorkaroundDelay",100),Zcb:d(D,"workaroundForMediaSourceDuration",!1),jta:d(B,"workaroundValueForSeekIssue",1200),$cb:d(D,"workaroundSaio",!0),Qtb:d(D,"workaroundTenc",!0),z6:d(D,f("workaroundAudioKeyFrame"),u.eCa),kY:d(D,f("callEndOfStream"),u.IBa),e5a:d(D,"performRewindCheck",!0),eVa:d(D,"fatalOnUnexpectedSeeking",!0),dVa:d(D,"fatalOnUnexpectedSeeked",!0),Pga:d(D,f("clipLongVideo"),u.KBa),Q9a:d(D,f("setVideoElementSize")),yY:d(D,f("clearVideoSrc"),u.JBa),Vha:d(B,f("delayPlayPause"),0),sNa:d(D,f("avoidSBRemove"),!1),dn:d(D,f("useTypescriptEme"),!1),Iz:d(q,f("drmPersistKey"),"unsentDrmData"),iH:d(D,f("promiseBasedEme"),!1),IOa:d(D,"captureKeyStatusData",!1),eA:d(D,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),E3a:d(D,f("nudgeSourceBuffer"),!1),Rqa:d(G,f("seekDelta"),1),Q5a:d(D,f("preciseSeeking"),!1),R5a:d(D,f("preciseSeekingOnTwoCoreDevice"),!1),Uha:d(ea,f("delayErrorHandling")),IR:d(D,"trackingLogEnabled",u.bCa),c6:d(q,"trackingLogPath","/customerevents/track/debug"),obb:d(X,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),qtb:d(D,"trackingLogRegPairRequests",!1),$d:d(q,"esn",""),Sia:d(q,"fesn",""),QZ:d(D,f("enableEmeVerboseLogging"),!1),jUa:d(D,"enableLastChunkLogging",!1),gs:d(q,"appId","",la),sessionId:d(q,"sessionId","",la),oY:d(q,"cdnProxyUrl"),scb:d(D,"usePlayReadyHeaderObject",!1),kja:d(B,"forceXhrErrorResponseCode",void 0),Dg:{Gna:d(q,"mslApiPath","/msl/"),nia:d(q,f("edgePath"),"/cbp/cadmium-29"),zrb:d(q,"proxyPath",""),xx:d(q,"uiVersion"),zlb:function(){return"0";},Sw:d(ba,"preferredLanguages",h.Gva,/^[a-zA-Z-]{2,5}$/,1),ksb:d(D,"retryOnNetworkFailures",!0),QVa:d(q,f("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),Mkb:d(D,"alwaysIncludeIdsInPlaydata",!0),$sb:d(D,"supportPreviewContent",!1),qab:d(D,"supportPreviewContentPin",!0),rab:d(D,"supportWatermarking",!0),Inb:d(D,"forceClearStreams",!1),bta:d(D,"validatePinProtection",u.cCa),g$a:d(D,"showAllSubDubTracks",!1),xqb:d(q,f("nrdjsPath"),"nrdjs/2.4.9/"),yqb:d(B,f("nrdjsVersion"),2),XUa:d(D,f("failOnGuidMismatch"),!1)},bQ:{enabled:d(D,"qcEnabled",!1),oo:d(q,"qcPackageId","")},vh:{Opb:d(B,f("managerIntervalMilliseconds"),18E5),ftb:d(B,f("syncLicensesIntervalMilliseconds"),864E5),zpb:d(B,f("licensePolicyIntervalMilliseconds"),3E4),u$a:d(B,f("startPlayWindowDelayMilliseconds"),3E4)},jE:d(q,"authenticationType",na.Jl?u.HBa:u.GBa),aga:d(ea,"authenticationKeyNames",w.oa({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),Bab:d(q,"systemKeyWrapFormat"),i_a:d(D,"includeNetflixIdUserAuthData",!0),d$a:d(D,"shouldSendUserAuthData",!0),a5:d(D,"sendUserAuthIfRequired",u.VBa),X9a:d(D,"shouldClearUserData",!1),kQ:d(D,"refreshCredentialsAfterManifestAuthError",u.TBa),P2a:d(D,"mslDeleteStore",!1),Q2a:d(D,"mslPersistStore",!0),RPa:d(D,"correctNetworkForShortTitles",!0),I5a:d(D,"postplayHighInitBitrate",!1),LVa:d(D,"flushHeaderCacheOnAudioTrackChange",!0),bVa:d(D,"fatalOnAseStreamingFailure",!0),Mha:d(B,f("debugAseDenominator"),100),AX:d(B,"aseAudioBufferSizeBytes",u.DBa),DX:d(B,"aseVideoBufferSizeBytes",u.EBa),UH:d(X,"streamingFailureRetryWaits",[4E3,8E3]),JA:d(B,"minInitVideoBitrate",560),E2:d(B,"minHCInitVideoBitrate",560),CA:d(B,"maxInitVideoBitrate",Infinity),BG:d(B,"minInitAudioBitrate",0),AG:d(B,"minHCInitAudioBitrate",0),rG:d(B,"maxInitAudioBitrate",65535),qP:d(B,"minAcceptableVideoBitrate",235),CG:d(B,"minRequiredBuffer",3E4),Ph:d(B,"minPrebufSize",7800),g4:d(n,"rebufferingFactor",1),pq:d(B,"maxBufferingTime",2600),k6:d(D,"useMaxPrebufSize",!0),EA:d(B,"maxPrebufSize",45E3),m2:d(B,"maxRebufSize",Infinity),BO:d(ha,"initialBitrateSelectionCurve",null),hla:d(B,"initSelectionLowerBound",560),ila:d(B,"initSelectionUpperBound",1050),AR:d(B,"throughputPercentForAudio",15),QX:d(B,"bandwidthMargin",10),RX:d(D,"bandwidthMarginContinuous",!1),SX:d(ha,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),NY:d(B,"conservBandwidthMargin",20),J5:d(D,"switchConfigBasedOnInSessionTput",!1),JE:d(B,"conservBandwidthMarginTputThreshold",0),OY:d(ha,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Ura:d(D,"switchAlgoBasedOnHistIQR",!1),Tt:d(q,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),l2:d(G,"maxPlayerStateToSwitchConfig",-1),N1:d(q,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),AT:d(n,"IQRThreshold",.5),A0:d(q,"histIQRCalcToUse","simple"),xNa:d(n,"bandwidthMarginScaledRatioUpperBound",2),qq:d(B,"maxTotalBufferLevelPerSession",0),Pka:d(B,"highWatermarkLevel",3E4),nsa:d(B,"toStableThreshold",3E4),HR:d(B,"toUnstableThreshold",u.aCa),t5:d(D,"skipBitrateInUpswitch",!0),w6:d(B,"watermarkLevelForSkipStart",8E3),u0:d(B,"highStreamRetentionWindow",9E4),O1:d(B,"lowStreamTransitionWindow",51E4),w0:d(B,"highStreamRetentionWindowUp",3E5),Q1:d(B,"lowStreamTransitionWindowUp",3E5),v0:d(B,"highStreamRetentionWindowDown",6E5),P1:d(B,"lowStreamTransitionWindowDown",0),t0:d(n,"highStreamInfeasibleBitrateFactor",.5),ow:d(B,"lowestBufForUpswitch",15E3),dP:d(B,"lockPeriodAfterDownswitch",15E3),S1:d(B,"lowWatermarkLevel",25E3),pw:d(B,"lowestWaterMarkLevel",2E4),V1:d(D,"lowestWaterMarkLevelBufferRelaxed",!1),t2:d(n,"mediaRate",1),p2:d(B,"maxTrailingBufferLen",1E4),GX:d(B,"audioBufferTargetAvailableSize",262144),r6:d(B,"videoBufferTargetAvailableSize",1048576),hna:d(B,"maxVideoTrailingBufferSize",8388608),Vma:d(B,"maxAudioTrailingBufferSize",393216),zN:d(n,"fastUpswitchFactor",3),d_:d(n,"fastDownswitchFactor",1),i2:d(B,"maxMediaBufferAllowed",24E4),$Q:d(D,"simulatePartialBlocks",!0),vra:d(D,"simulateBufferFull",!0),PY:d(D,"considerConnectTime",!1),LY:d(n,"connectTimeMultiplier",1),Ima:d(B,"lowGradeModeEnterThreshold",12E4),Jma:d(B,"lowGradeModeExitThreshold",9E4),Xma:d(B,"maxDomainFailureWaitDuration",3E4),Uma:d(B,"maxAttemptsOnFailure",18),Jia:d(D,"exhaustAllLocationsForFailure",!0),cna:d(B,"maxNetworkErrorsDuringBuffering",20),d2:d(B,"maxBufferingTimeAllowedWithNetworkError",6E4),xN:d(B,"fastDomainSelectionBwThreshold",2E3),R5:d(B,"throughputProbingEnterThreshold",4E4),dsa:d(B,"throughputProbingExitThreshold",34E3),uma:d(B,"locationProbingTimeout",1E4),Via:d(B,"finalLocationSelectionBwThreshold",1E4),asa:d(n,"throughputHighConfidenceLevel",.75),csa:d(n,"throughputLowConfidenceLevel",.4),Lz:d(D,"enablePerfBasedLocationSwitch",!1),so:d(D,"probeServerWhenError",!0),K3:d(B,"probeRequestTimeoutMilliseconds",8E3),zp:d(D,"allowSwitchback",!0),Uw:d(B,"probeDetailDenominator",100),gP:d(B,"maxDelayToReportFailure",300),E1:d(B,"locationStatisticsUpdateInterval",6E4),TY:d(D,"countGapInBuffer",!1),nv:d(D,"allowReissueMediaRequestAfterAbort",!0),qX:d(D,"allowCallToStreamSelector",!0),ZX:d(B,"bufferThresholdForAbort",1E4),y3:d(B,"pipelineScheduleTimeoutMs",2),rw:d(B,"maxPartialBuffersAtBufferingStart",2),F2:d(B,"minPendingBufferLen",6E3),DA:d(B,"maxPendingBufferLen",12E3),X1a:d(B,"maxPendingBufferLenAL1",3E4),nUa:d(D,"enableRequestPacing",!1),o2:d(B,"maxStreamingSkew",4E3),k2:d(B,"maxPendingBufferPercentage",10),tw:d(B,"maxRequestsInBuffer",60),ena:d(B,"maxRequestsInBufferAL1",240),fna:d(B,"maxRequestsInBufferBranching",120),tO:d(B,"headerRequestSize",4096),D2:d(B,"minBufferLenForHeaderDownloading",1E4),sQ:d(B,"reserveForSkipbackBufferMs",1E4),h3:d(B,"numExtraFragmentsAllowed",2),Pm:d(D,"pipelineEnabled",!1),xra:d(B,"socketReceiveBufferSize",0),KX:d(B,"audioSocketReceiveBufferSize",32768),u6:d(B,"videoSocketReceiveBufferSize",65536),p0:d(B,"headersSocketReceiveBufferSize",32768),MR:d(B,"updatePtsIntervalMs",1E3),aY:d(B,"bufferTraceDenominator",100),ez:d(B,"bufferLevelNotifyIntervalMs",2E3),az:d(B,"aseReportDenominator",0),BX:d(B,"aseReportIntervalMs",3E5),sia:d(D,"enableAbortTesting",!1),qfa:d(B,"abortRequestFrequency",8),F5:d(B,"streamingStatusIntervalMs",2E3),VA:d(B,"prebufferTimeLimit",24E4),rP:d(B,"minBufferLevelForTrackSwitch",2E3),r3:d(B,"penaltyFactorForLongConnectTime",2),L1:d(B,"longConnectTimeThreshold",200),lX:d(B,"additionalBufferingLongConnectTime",2E3),mX:d(B,"additionalBufferingPerFailure",8E3),rH:d(B,"rebufferCheckDuration",6E4),xia:d(D,"enableLookaheadHints",!1),Fma:d(B,"lookaheadFragments",2),Qn:d(D,"enableOCSideChannel",!0),PJ:d(S,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Gsa:d(D,"updateDrmRequestOnNetworkFailure",!1),SM:d(D,"deferAseScheduling",!1),hP:d(B,"maxDiffAudioVideoEndPtsMs",16E3),VB:d(D,"useHeaderCache",!0),RM:d(B,"defaultHeaderCacheSize",4),xZ:d(B,"defaultHeaderCacheDataPrefetchMs",8E3),n0:d(B,"headerCacheMaxPendingData",6),$6a:d(D,"recreateHeaderCacheDownloadTracks",!0),o0:d(B,"headerCachePriorityLimit",5),BZa:d(D,"headerCacheFlushForCircularBuffer",!0),mF:d(D,"enableUsingHeaderCount",!1),Kka:d(D,"headerCacheTruncateHeaderAfterParsing",!0),KVa:d(D,f("flushHeaderCacheBeforePlayback"),!1),S2:d(B,"networkFailureResetWaitMs",2E3),R2:d(B,"networkFailureAbandonMs",6E4),lP:d(B,"maxThrottledNetworkFailures",3),zR:d(B,"throttledNetworkFailureThresholdMs",200),lm:d(D,"abortUnsentBlocks",!1),q2:d(B,"maxUnsentBlocks",2),YW:d(B,"abortStreamSelectionPeriod",2E3),R1:d(G,"lowThroughputThreshold",400),YZ:d(D,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),Fna:d(D,"mp4ParsingInNative",!1),yra:d(D,"sourceBufferInOrderAppend",!0),Vm:d(D,"requireAudioStreamToEncompassVideo",!0),Hfa:d(D,"allowAudioToStreamPastVideo",!0),y6a:d(D,"pruneRequestsFromNative",!1),P5a:d(D,"preciseBufferLevel",!1),Zd:d(D,"enableManagerDebugTraces",!1),Oma:d(B,"managerDebugMessageInterval",1E3),Nma:d(B,"managerDebugMessageCount",20),d3:d(D,"notifyManifestCacheEom",!1),qM:d(B,"bufferThresholdToSwitchToSingleConnMs",18E4),$X:d(B,"bufferThresholdToSwitchToParallelConnMs",12E4),PP:d(B,"periodicHistoryPersistMs",3E5),DQ:d(B,"saveVideoBitrateMs",18E4),wX:d(D,"appendMediaRequestOnComplete",!0),YR:d(D,"waitForDrmToAppendMedia",!1),s_:d(D,f("forceAppendHeadersAfterDrm"),!1),qH:d(D,f("reappendRequestsOnSkip"),!0),X2a:d(B,"netIntrStoreWindow",36E3),F2a:d(B,"minNetIntrDuration",8E3),aVa:d(B,"fastHistoricBandwidthExpirationTime",10368E3),uNa:d(B,"bandwidthExpirationTime",5184E3),ZUa:d(B,"failureExpirationTime",86400),HZa:d(B,"historyTimeOfDayGranularity",4),QUa:d(D,"expandDownloadTime",!1),L2a:d(B,"minimumMeasurementTime",500),K2a:d(B,"minimumMeasurementBytes",131072),Lab:d(B,"throughputMeasurementTimeout",2E3),o_a:d(B,"initThroughputMeasureDataSize",262144),Nab:d(q,"throughputPredictor","ewma"),Kab:d(B,"throughputMeasureWindow",5E3),Qab:d(B,"throughputWarmupTime",5E3),Jab:d(B,"throughputIQRMeasureWindow",5E3),Mya:d(B,"IQRBucketizerWindow",15E3),APa:d(B,"connectTimeHalflife",10),j8a:d(B,"responseTimeHalflife",10),GZa:d(B,"historicBandwidthUpdateInterval",2E3),Mab:d(ha,"throughputMeasurementWindowCurve",null),ZZa:d(B,"httpResponseTimeWarmup",10),k8a:d(B,"responseTimeWarmup",10),J2a:d(B,"minimumBufferToStopProbing",1E4),LZa:d(B,"holtWintersDiscretizeInterval",500),MZa:d(B,"holtWintersHalfLifeAlpha",6700),OZa:d(B,"holtWintersHalfLifeGamma",6700),PZa:d(B,"holtWintersInitialCounts",3),QZa:d(B,"holtWintersMinInitialCounts",3),NZa:d(D,"holtWintersHalfLifeCurveEnabled",!1),RZa:d(D,"holtWintersUpperBoundEnabled",!1),M4:d(q,"secondThroughputEstimator","none"),Lqa:d(G,"secondThroughputMeasureWindowInMs",Infinity),eUa:d(ba,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),qVa:d(S,"filterDefinitionOverrides",{}),ESa:d(q,"defaultFilter","throughput-ewma"),E8a:d(q,"secondaryFilter","none"),FSa:d(S,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:3E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),LG:d(D,"needMinimumNetworkConfidence",!0),VX:d(D,"biasTowardHistoricalThroughput",!0),hX:d(D,"addHeaderDataToNetworkMonitor",!1),y5:d(D,"startMonitorOnLoadStart",!1),t4:d(D,"reportFailedRequestsToNetworkMonitor",!1),g2:d(G,"maxFastPlayBufferInMs",Infinity),f2:d(G,"maxFastPlayBitThreshold",Infinity),vX:d(D,"appendFirstHeaderOnComplete",!0),IMa:d(q,"ase_stream_selector","optimized"),L0:d(q,"initBitrateSelectorAlgorithm","default"),cY:d(q,"bufferingSelectorAlgorithm","default"),qZ:d(q,"ase_ls_failure_simulation",""),oZ:d(D,"ase_dump_fragments",!1),pZ:d(B,"ase_location_history",0),rZ:d(B,"ase_throughput",0),Nha:d(D,"ase_simulate_verbose",!1),B3a:d(D,"notifyOpenConnectBlackBox",!0),F5a:d(B,"pollingPeriod",150),rma:d(B,"loadTimeMs",18E4),Qma:d(B,"marginTimeMs",1E4),Bx:d(D,"useMediaCache",!1),Ez:d(B,"diskCacheSizeLimit",52428800),nP:d(B,"mediaCachePrefetchMs",8E3),s2:d(ea,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),tMa:d(D,"appendCachedMediaAsMediaRequest",!0),AF:d(D,"generateHardwareDeviceId",!1),V3a:d(ba,"offlineLogCategories",["VideoCache","CachedVideoEdgeSession"]),gX:d(D,"addFailedLogBlobsToQueue",!0),b$a:d(D,"shouldSaveLogs",!1),I1:d(ba,"logTypesToSave","startup startplay endplay debug subtitleqoe playbackaborted".split(" ")),q1a:d(ba,"logTypesToFilter","repos resumeplay midplay serversel cdnsel statechanged".split(" ")),Tbb:{billboard:{JA:d(B,"billboardMinInitVideoBitrate",1050),CA:d(B,"billboardMaxInitVideoBitrate",null),Ph:d(B,"billboardMinPrebufSize",null),EA:d(B,"billboardMaxPrebufSize",null),pq:d(B,"billboardMaxBufferingTime",null),rw:d(B,"billboardMaxPartialBuffersAtBufferingStart",null),pw:d(B,"billboardLowestWaterMarkLevel",6E3),ow:d(B,"billboardLowestBufForUpswitch",25E3),Tt:d(q,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{JA:d(B,"preplayMinInitVideoBitrate",1050),CA:d(B,"preplayMaxInitVideoBitrate",null),Ph:d(B,"preplayMinPrebufSize",null),EA:d(B,"preplayMaxPrebufSize",null),pq:d(B,"preplayMaxBufferingTime",null),rw:d(B,"preplayMaxPartialBuffersAtBufferingStart",null),pw:d(B,"preplayLowestWaterMarkLevel",6E3),ow:d(B,"preplayLowestBufForUpswitch",25E3)},embedded:{JA:d(B,"embeddedMinInitVideoBitrate",1050),CA:d(B,"embeddedMaxInitVideoBitrate",null),Ph:d(B,"embeddedMinPrebufSize",null),EA:d(B,"embeddedMaxPrebufSize",null),pq:d(B,"embeddedMaxBufferingTime",null),rw:d(B,"embeddedMaxPartialBuffersAtBufferingStart",null),pw:d(B,"embeddedLowestWaterMarkLevel",6E3),ow:d(B,"embeddedLowestBufForUpswitch",25E3)}},jN:d(D,"enablePsd",!1),S3:d(B,"psdCallFrequency",6E4),T3:d(D,"psdReturnToNormal",!1),lH:d(B,"psdThroughputThresh",0),cF:d(B,"discardLastNPsdBins",0),Vf:d(S,"psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}),sUa:d(D,"enableVerbosePlaydelayLogging",!1),Tp:d(D,"enableRl",!1),jB:d(B,"rlLogParam",5),oUa:d(D,"enableSeamless",!1),z0:d(B,"hindsightDenominator",1),y0:d(B,"hindsightDebugDenominator",0),OF:d(S,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),lF:d(D,"enableSessionHistoryReport",!1),KZ:d(B,"earlyStageEstimatePeriod",1E4),fma:d(B,"lateStageEstimatePeriod",3E4),jP:d(B,"maxNumSessionHistoryStored",30),tP:d(B,"minSessionHistoryDuration",3E4),kF:d(D,"enableInitThroughputEstimate",!1),N0:d(S,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),qG:d(B,"maxActiveRequestsPerSession",3),fP:d(B,"maxActiveRequestsSABCell100",2),kP:d(B,"maxPendingBufferLenSABCell100",500),v1:d(D,"limitAudioDiscountByMaxAudioBitrate",!0),fi:d(S,"browserInfo",{}),bOa:d(B,f("busyGracePeriod"),199),$8a:d(D,f("sendTransitionLogblob"),!0),Sp:d(D,f("editAudioFragments"),!1),Rv:d(D,f("editVideoFragments"),!1),aUa:d(D,f("editAudioFragmentsBranching"),!0),cUa:d(D,f("editVideoFragmentsBranching"),!0),j_a:d(D,f("includeSegmentInfoOnLogblobs"),!0),SUa:d(D,"exposeTestData",!1),sZ:d(D,"declareBufferingCompleteAtSegmentEnd",!0)};mb=!0;c.gha=function(a){var d;if(t._cad_global.logBatcher&&0<c.config.xma&&0===x.ir%c.config.xma)try{d=new y.Zx(void 0,"config","info",{params:a});t._cad_global.logBatcher.Vl(d);}catch(Ba){g.log.error("Failed to log config$apply",Ba);}t._cad_global||(t._cad_global={});t._cad_global.config=c.config;t._cad_global.platformExtraInfo=u.Yh;p.ea(a);a&&(Sa=w.oa({},a,{AA:!0}),w.oa(Sa,ub,{AA:!0}),b(H,c.config),c.config.gG&&g.log.trace("Config applied for",ia(mb?Sa:a)),mb=!1);};c.gha(Sa);};c.Plb=function(a,b){return C.oc(a)&&"%"==a[a.length-1]?k.ve(parseFloat(a)*b/100):a|0;};c.vPa=function(a){return a?(a=w.oa({},c.config),w.oa(a,{roa:c.config.x4a},{no:!0})):c.config;};c.Qlb=function(a){var d;d=w.oa({},c.config);return w.oa(d,b(a),{no:!0});};c.iha=function(c){c=b(c);return w.oa({},a(137)(c),{no:!0});};c.hha=function(b,d){d=!!d&&(0<=d.indexOf("h264hpl")||0<=d.indexOf("vp9"));b={JX:b?c.config.aNa:c.config.JX,s6:b?c.config.Icb:d?c.config.Hcb:c.config.s6,nv:b?!1:c.config.nv,tw:b&&d?Math.max(c.config.fna,c.config.ena):b?c.config.fna:d?c.config.ena:c.config.tw,DA:d?c.config.X1a:c.config.DA,Sp:c.config.Sp||b&&c.config.aUa,Rv:c.config.Rv||b&&c.config.cUa};return w.oa({},a(137)(b),{no:!0});};c.Slb=b;c.Rlb=d;c.Olb="";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f="undefined"===typeof t?{}:t;c.Tg=f.navigator||{};c.Ug=c.Tg.userAgent;c.KJ=f.location;c.dm=f.screen;c.cm=f.performance;c.cd=f.document||{};c.Chb=c.cd.documentElement;c.hs=Array.prototype;c.sort=c.hs.sort;c.map=c.hs.map;c.slice=c.hs.slice;c.every=c.hs.every;c.reduce=c.hs.reduce;c.filter=c.hs.filter;c.forEach=c.hs.forEach;c.pop=c.hs.pop;c.OC=Object.create;c.fBa=Object.keys;c.fJ=Date.now;c.cFa=String.fromCharCode;c.Xh=Math.floor;c.l$=Math.ceil;c.ve=Math.round;c.ig=Math.max;c.ue=Math.min;c.CC=Math.random;c.ru=Math.abs;c.GJ=Math.pow;c.Zza=Math.sqrt;c.dU=f.escape;c.eU=f.unescape;c.URL=f.URL||f.webkitURL;c.JC=f.MediaSource||f.WebKitMediaSource;c.IC=f.WebKitMediaKeys||f.MSMediaKeys||f.MediaKeys;c.mr=f.nfCrypto||f.webkitCrypto||f.msCrypto||f.crypto;c.Gl=c.mr&&(c.mr.webkitSubtle||c.mr.subtle);c.cU=f.nfCryptokeys||f.webkitCryptokeys||f.msCryptokeys||f.cryptokeys;c.PERSISTENT=f.PERSISTENT;c.TEMPORARY=f.TEMPORARY;c.GAa=f.requestFileSystem||f.webkitRequestFileSystem;c.B$=f.Blob;c.LJ=c.Tg.persistentStorage||c.Tg.webkitPersistentStorage;c.C$=c.LJ?void 0:f.storageInfo||f.webkitStorageInfo;try{c.indexedDB=f.indexedDB;}catch(a){c.Rob=a||"noex";}try{c.localStorage=f.localStorage;}catch(a){c.sma=a||"noex";}},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(8);c.Gb=function(){};c.T6=function(){b.ea();};c.aEa=function(){return!0;};c.cb={K:!0};c.pj=1E3;c.Nib=86400;c.Oib=604800;c.ngb=1E4;c.ogb=1E7;c.Sjb=1.5;c.cgb=.128;c.zdb=7.8125;c.Kdb=128;c.pu=145152E5;c.Bza=1E5;c.QJ="$netflix$player$order";c.ay=-1;c.by=1;c.Gva=["en-US"];c.Ldb=8;c.Cza=65535;c.gjb=65536;c.Thb=Number.MAX_VALUE;c.JS="playready";c.Z7="widevine";c.Twa="fps";c.Swa="clearkey";c.Vx='audio/mp4; codecs="mp4a.40.5"';c.Eza='audio/mp4; codecs="mp4a.a6"';c.qn='video/mp4; codecs="avc1.640028"';c.qgb='video/mp4; codecs="hev1.2.6.L153.B0"';c.pgb='video/mp4; codecs="dvhe.01000000"';c.Rwa="9A04F079-9840-4286-AB92-E65BE0885F95";c.Seb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";c.Teb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";c.Xdb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];c.xua="A2394F52-5A9B-4F14-A244-6C427C648DF4";c.Ydb="4E657466-6C69-7846-7261-6D6552617465";c.Zdb="8974DBCE-7BE7-4C51-84F9-7148F9882554";c.Tdb="mp4a";c.vua="enca";c.Qdb="ec-3";c.Odb="avc1";c.wua="encv";c.Sdb="hvcC";c.Rdb="hev1";c.Pdb="dvhe";c.Udb="vp09";c.b$=0;c.FJ=1;c.Eu="PRIMARY";c.Nba="ASSISTIVE";c.Oba="COMMENTARY";c.UU={assistive:c.Nba,closedcaptions:c.Nba,directorscommentary:c.Oba,commentary:c.Oba,subtitles:c.Eu,primary:c.Eu};c.bNa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(f,c,a){var h;function b(a){return h.kK.apply(this,arguments)||this;}function d(a){return new h.Po(a,c.Ma);}Object.defineProperty(c,"__esModule",{value:!0});h=a(415);oa(b,h.kK);c.Ejb=b;c.Zpb=function(a){return new h.Po(a,c.GC);};c.Cb=d;c.ij=function(a){return new h.Po(a,c.Zo);};c.I2=function(a){return new h.Po(a,c.u$);};c.Gob=function(a){return new h.Po(a,c.Qxa);};c.timestamp=function(a){return d(a);};c.GC=new b(1,"\u03bcs");c.Ma=new b(1E3,"ms",c.GC);c.Zo=new b(1E3*c.Ma.$f,"s",c.GC);c.u$=new b(60*c.Zo.$f,"min",c.GC);c.Qxa=new b(60*c.u$.$f,"hr",c.GC);c.cl=d(0);},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(3);a=a(128);c.vmb=!0;c.Xd=f.Z.get(a.gJ);c.ea=c.Xd.assert.bind(c.Xd);c.rmb=c.Xd.LMa.bind(c.Xd);c.smb=c.Xd.MMa.bind(c.Xd);c.uSa=c.Xd.RMa.bind(c.Xd);c.VE=c.Xd.UMa.bind(c.Xd);c.umb=c.Xd.SMa.bind(c.Xd);c.tmb=c.Xd.PMa.bind(c.Xd);c.OM=c.Xd.OMa.bind(c.Xd);c.Es=c.Xd.TMa.bind(c.Xd);c.tSa=c.Xd.QMa.bind(c.Xd);c.sSa=c.Xd.JMa.bind(c.Xd);c.Lha=c.Xd.NMa.bind(c.Xd);c.wmb=c.Xd.z_a.bind(c.Xd);},function(f){var c,a;c=a={UF:function(a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);},reset:function(){c=a;}};f.P=c;},function(f){var c;c={da:function(a){return"number"===typeof a;},Pd:function(a){return"object"===typeof a;},oc:function(a){return"string"===typeof a;},S:function(a){return"undefined"===typeof a;},C_a:function(a){return"boolean"===typeof a;},wb:function(a){return"function"===typeof a;},Ja:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},F4a:function(a){var b,d;d=[];if(!c.Pd(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&d.push([b,a[b]]);return d;}};c.Kc=c.forEach=function(a,b,d){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var h=0,l=a.length;h<l;h++)b.call(d,a[h],h,a);else for(h in a)c.has(a,h)&&b.call(d,a[h],h,a);return a;};f.P=c;},function(f,c,a){var b,d,h,l;b=a(76);d=a(869);h=a(229);l=a(868);f=function(){function a(a){this.hp=!1;a&&(this.Ve=a);}a.prototype.af=function(b){var c;c=new a();c.source=this;c.Jw=b;return c;};a.prototype.subscribe=function(a,b,c){var g;g=this.Jw;a=d.gbb(a,b,c);g?g.call(a,this.source):a.add(this.source||!a.kj?this.Ve(a):this.NW(a));if(a.kj&&(a.kj=!1,a.ox))throw a.px;return a;};a.prototype.NW=function(a){try{return this.Ve(a);}catch(p){a.ox=!0;a.px=p;a.error(p);}};a.prototype.forEach=function(a,c){var d;d=this;c||(b.root.zu&&b.root.zu.config&&b.root.zu.config.Promise?c=b.root.zu.config.Promise:b.root.Promise&&(c=b.root.Promise));if(!c)throw Error("no Promise impl found");return new c(function(b,c){var g;g=d.subscribe(function(b){if(g)try{a(b);}catch(G){c(G);g.unsubscribe();}else a(b);},c,b);});};a.prototype.Ve=function(a){return this.source.subscribe(a);};a.prototype[h.observable]=function(){return this;};a.prototype.l5a=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:l.m5a(a)(this);};a.prototype.FR=function(){var a,c;c=this;a||(b.root.zu&&b.root.zu.config&&b.root.zu.config.Promise?a=b.root.zu.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var d;c.subscribe(function(a){return d=a;},function(a){return b(a);},function(){return a(d);});});};a.create=function(b){return new a(b);};return a;}();c.pa=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.wh||(c.wh={});f[f.txa=0]="FATAL";f[f.ERROR=1]="ERROR";f[f.bca=2]="WARN";f[f.yT=3]="INFO";f[f.PU=4]="TRACE";f[f.Dva=5]="DEBUG";c.U9="LogFieldBuilderFactorySymbol";c.Jb="LoggerFactorySymbol";c.br={};},function(f){f.P={xa:{ng:0,Yq:1,qr:2,nf:3,jy:4,iy:5,sn:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},Idb:{dK:0,ijb:1,name:["STARTUP","STEADY"]},xJ:{ng:0,hjb:1,IFa:2,name:["STARTING","STABLE","UNSTABLE"]},G:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Gf:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Fe:{URL:0,Au:1,K9:2,Qo:3,name:["URL","SERVER","LOCATION","NETWORK"]},Pc:{HAVE_NOTHING:0,gr:1,ln:2,nC:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},oU:{dK:0,YDa:1,nEa:2,ofb:3,$hb:4,name:["startup","rebuffer","seek","dlfail","perfprobe"]},Xo:{U6:0,sxa:1,qib:2,NEXT:3,Vhb:4,zjb:5,pfb:6,Dza:7,dK:8,ERROR:9,ICa:10,HCa:11,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway".split(" ")},gfb:{Qo:0,web:1,name:["NETWORK","DECODE"]},oEa:{Iva:"delayedSeamless",Efb:"hideLongTransition"}};},function(f,c,a){var g;function b(a){return null!==a&&void 0!==a;}function d(a){return typeof a==c.jFa;}function h(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);}function l(a,c,d){var g,p,m;if(c)if(d){g=d.AA;p=d.prefix;m=d.no;h(c,function(c,d){if(!m||b(d))a[(p||"")+(g?c.toLowerCase():c)]=d;});}else h(c,function(b,c){a[b]=c;});return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(5);c.Gb=function(){};c.pj=1E3;c.OC=Object.create;c.fBa=Object.keys;c.fJ=Date.now;c.Xh=Math.floor;c.l$=Math.ceil;c.ve=Math.round;c.ig=Math.max;c.ue=Math.min;c.CC=Math.random;c.ru=Math.abs;c.GJ=Math.pow;c.Vh="$attributes";c.$R="$children";c.aS="$name";c.Io="$text";c.mta="$parent";c.$B="$sibling";c.jFa="string";c.Cjb="number";c.Bjb="function";c.iFa="object";c.$a=b;c.Pd=function(a){return typeof a==c.iFa;};c.oc=d;c.kq=function(a){return d(a)&&a;};c.Zc=function(a){return parseInt(a,10);};c.ll=function(a,b,c){return a>=b?a<=c?a:c:b;};c.Kb=h;c.oa=l;c.NH=function(a){return l({},a);};c.zg=function(a){var g;for(var c=0;c<arguments.length;++c);for(var c=0,d=arguments.length;c<d;){g=arguments[c++];if(b(g))return g;}};c.BMa=function(a){for(var b,c=!0,d;c;)for(c=!1,b=a.length;--b;)d=a[b],d.startTime<a[b-1].startTime&&(a[b]=a[b-1],a[b-1]=d,c=!0);};c.ws=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};c.createElement=function(a,b,c,d){var p;p=g.cd.createElement(a);b&&(p.style.cssText=b);c&&(p.innerHTML=c);d&&h(d,function(a,b){p.setAttribute(a,b);});return p;};c.ME=function(a){var b;b="";h(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};c.HN=function(a,b,d){var g;a/b>d?(g=c.ve(b*d),a=b):(g=a,a=c.ve(a/d));return{width:g,height:a};};c.C0=function(){var b,c;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};c=/[&'"<>]/g;return function(b){return b.replace(c,a);};}();c.yc=function(a){var b,c;if(a){b=a.stack;c=a.number;a=""+a;b?(b=""+b,0!=b.indexOf(a)&&(b=a+"\n"+b)):b=a;c&&(b+="\nnumber:"+c);return b;}};c.u={Vg:1001,te:1003,vxa:1701,y8:1713,wxa:1715,uxa:1721,oJ:1723};},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(108);c.is=f.nn;c.$a=function(a){return c.is.uf(a);};c.Pd=function(a){return c.is.ov(a);};c.V_a=function(a){return c.is.$L(a);};c.isArray=function(a){return c.is.Gn(a);};c.Qla=function(a){return c.is.Kfa(a);};c.da=function(a,d,h){return c.is.ye(a,d,h);};c.I_a=function(a,d,h){return c.is.rX(a,d,h);};c.et=function(a,d,h){return c.is.Hn(a,d,h);};c.Gla=function(a){return c.is.Xy(a);};c.fpb=function(a){return c.is.pLa(a);};c.ipb=function(a){return c.is.qLa(a);};c.e1=function(a){return c.is.Lfa(a);};c.oc=function(a){return c.is.Xg(a);};c.kq=function(a){return c.is.Eh(a);};c.ula=function(a){return c.is.Vy(a);};c.wb=function(a){return c.is.Wy(a);};},function(f,c,a){var d,h;function b(a,g){var m;m=c.Uo[0];m==g&&(m=c.Uo[1]);m?m.close(function(){b(a,g);}):a&&a(d.cb);}Object.defineProperty(c,"__esModule",{value:!0});d=a(6);f=a(17);h=a(8);a=a(46);c.xaa=b;c.$J=function(a,b){switch(a){case c.vU:c.yaa.push(b);return;case c.wU:c.zaa.push(b);return;}h.ea(!1);};c.Uo=[];c.yaa=[];c.zaa=[];c.vU=1;c.wU=3;f=f.Qga();c.xu={zU:f,rDa:f,lDa:0,qDa:void 0,ZJ:void 0};c.Gaa=a.Ea.$ra;c.Qe=a.Ea.Vga;c.XJ=a.Ea.YNa;c.BU=a.Ea.v4;c.AU=a.Ea.oQ;c.mg=a.Ea.SP;c.waa=a.Ea.kNa;c.VC=a.Ea.mma;c.YJ=a.Ea.closed;c.mDa=a.Ea.ASa;c.wDa=a.Ea.Do;c.Daa=a.Ea.e$a;c.yDa=a.Ea.pI;c.xDa=a.Ea.Zt;c.oDa=a.Ea.q0a;c.Faa=a.Ea.hab;c.Baa=a.Ea.cP;c.Caa=a.Ea.l9a;c.Aaa=a.Ea.VF;c.Haa=a.Ea.Yab;c.vaa=a.Ea.HMa;c.uaa=a.Ea.GMa;c.uDa=a.Ea.T4;c.vDa=a.Ea.N8a;c.tDa=a.Ea.Tqa;c.sDa=a.Ea.L8a;c.pDa=a.Ea.J1a;c.Eaa=a.Ea.Wm;c.NT=a.OT.Hga;c.bhb=a.OT.lbb;c.TT=a.p$.Ona;c.ST=a.p$.Ik;c.saa="network";c.raa="media";c.jDa="timedtext";c.UC=a.hy.ZDa;c.taa=a.hy.Vaa;c.yU=a.hy.$Da;c.xU=a.hy.Uaa;c.gy=a.mk.AEa;c.qj=a.mk.zEa;c.lk=a.mk.Bu;c.wu=a.mk.hba;c.fy=a.mk.gba;c.hk=a.RI.D$;c.Zq=a.RI.Yq;c.e7=a.RI.xEa;c.Zh=a.fm.hD;c.em=a.fm.nf;c.Vo=a.fm.sn;c.pr=a.fm.PS;c.kDa="playback";},function(f,c,a){var d,h,l,g;function b(){return c.wK.VO.qa(g.Ma);}Object.defineProperty(c,"__esModule",{value:!0});f=a(422);d=a(52);h=a(38);l=a(37);g=a(7);c.Ica=f.sb.get(d.mj);c.wK=f.sb.get(h.eg);c.RHa=f.sb.get(l.Rg);c.ir=c.wK.id;c.Ra=function(){return c.wK.oe().qa(g.Ma);};c.On=function(){return c.Ica.Eg.qa(g.Zo);};c.fPa=function(){return c.wK.VO.qa(g.Zo);};c.Qga=function(){return c.RHa.As();};c.Rga=b;c.AM=function(){return c.Ica.Eg.qa(g.Ma);};c.Sga=function(){return b();};},function(f,c,a){var b,d,h,l,g,m,p,r,u,v,z,w,k,x,y;Object.defineProperty(c,"__esModule",{value:!0});f=a(196);b=a(4);d=a(6);a(25);h=a(17);l=a(3);g=a(95);m=a(58);p=a(8);r=a(103);u=a(2);v=a(558);c.A1={};z=l.Cc("loadAsync");w=[];x=l.Z.get(g.xr);y=m.tc.og;c.Dd=function(a,b){p.ea(!k);w.push({Q0a:b,vm:a});};c.kG=f.pJ(function(a){var p,m;function g(b){c.z1=h.Ra();g=d.Gb;m.Og();a(b);}p=0;m=new r.my(b.config.WMa,function(){z.error("Load timed out");g({errorCode:p,R:u.u.Cta});});v.g6a(w).then(function(a){function b(){var c,h,r;if(c=a.shift())try{h=c.Q0a;p=r=c.vm;m.Og();m.Sn();h(function(a){a.K?b():(a.errorCode=a.errorCode||r,x.mark(y.Fta),g(a));});}catch(V){z.error("Exception while loading component",V);x.mark(y.Eta);g({errorCode:r,R:u.u.Bta,za:""+V});}else x.mark(y.Dta),g(d.cb);}c.YO=h.Ra();x.mark(y.Gta);k=!0;b();},function(a){g({errorCode:a.vm,R:a.dha});});});c.lG=function(a){p.ea(void 0===c.A1[a]);c.A1[a]=h.Ra();};},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(8);d=a(14);h=a(5);l=a(15);c.Kb=c.Kb||function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};c.oa=c.oa||function(a,b,p){var g,m,h;if(b)if(p){g=p.AA;m=p.prefix;h=p.no;c.Kb(b,function(b,c){if(!h||d.$a(c))a[(m||"")+(g?b.toLowerCase():b)]=c;});}else c.Kb(b,function(b,c){a[b]=c;});return a;};c.BOa=function(a,b,c,d){var g;if(a){g=a[b];l.wb(g)&&(c=g.apply(a,h.slice.call(arguments,3)));}};c.Sfa=function(a){for(var b={},c=a.length;c--;)b[a[c]]=!0;return b;};c.Zc=c.Zc||function(a){return parseInt(a,10);};c.Oqb=function(a){return/^true$/i.test(a);};c.Apa=function(a,b){return h.ve(a+h.CC()*(b-a));};c.uR=function(a){return JSON.stringify(a,null,"  ");};c.C0=function(){var c,d;function a(a){b.ea(void 0!==c[a]);return c[a];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=/[&'"<>]/g;return function(b){return b.replace(d,a);};}();c.trim=function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};}();c.F1a=function(a){return Array.isArray(a)?a:[a];};c.yc=c.yc||function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!=a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}};c.kk=function(a){return l.da(a)?a.toFixed(0):"";};c.MC=function(a){return l.da(a)?(a/1E3).toFixed(0):"";};c.OAa=function(a){return l.da(a)?a.toFixed():"";};c.PPa=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b;};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.rd="IsTypeSymbol";},function(f,c,a){(function(b){var y,C,F,N,T,ca,n;function c(a,b){if(a===b)return 0;for(var c=a.length,d=b.length,g=0,p=Math.min(c,d);g<p;++g)if(a[g]!==b[g]){c=a[g];d=b[g];break;}return c<d?-1:d<c?1:0;}function h(a){return b.d7&&"function"===typeof b.d7.isBuffer?b.d7.isBuffer(a):!(null==a||!a.rkb);}function l(a){return h(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function g(a){if(y.wb(a))return N?a.name:(a=a.toString().match(ca))&&a[1];}function m(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function p(a){if(N||!y.wb(a))return y.aG(a);a=g(a);return"[Function"+(a?": "+a:"")+"]";}function r(a,b,c,d,g){throw new T.AssertionError({message:c,jv:a,Kl:b,Jw:d,p$a:g});}function u(a,b){a||r(a,!0,b,"==",T.ok);}function v(a,b,d,g){var p;if(a===b)return!0;if(h(a)&&h(b))return 0===c(a,b);if(y.cG(a)&&y.cG(b))return a.getTime()===b.getTime();if(y.Lla(a)&&y.Lla(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!l(a)||!l(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(h(a)!==h(b))return!1;g=g||{jv:[],Kl:[]};p=g.jv.indexOf(a);if(-1!==p&&p===g.Kl.indexOf(b))return!0;g.jv.push(a);g.Kl.push(b);return z(a,b,d,g);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return d?a===b:a==b;}function z(a,b,c,d){var g,p,m;if(null===a||void 0===a||null===b||void 0===b)return!1;if(y.Hla(a)||y.Hla(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;g="[object Arguments]"==Object.prototype.toString.call(a);p="[object Arguments]"==Object.prototype.toString.call(b);if(g&&!p||!g&&p)return!1;if(g)return a=F.call(a),b=F.call(b),v(a,b,c);g=n(a);m=n(b);if(g.length!==m.length)return!1;g.sort();m.sort();for(p=g.length-1;0<=p;p--)if(g[p]!==m[p])return!1;for(p=g.length-1;0<=p;p--)if(m=g[p],!v(a[m],b[m],c,d))return!1;return!0;}function w(a,b,c){v(a,b,!0)&&r(a,b,c,"notDeepStrictEqual",w);}function k(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(ja){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function x(a,b,c,d){var g,p,m;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof c&&(d=c,c=null);try{b();}catch(X){g=X;}b=g;d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:".");a&&!b&&r(b,c,"Missing expected exception"+d);g="string"===typeof d;p=!a&&y.eG(b);m=!a&&b&&!c;(p&&g&&k(b,c)||m)&&r(b,c,"Got unwanted exception"+d);if(a&&b&&c&&!k(b,c)||!a&&b)throw b;}y=a(520);C=Object.prototype.hasOwnProperty;F=Array.prototype.slice;N=function(){return"foo"===function(){}.name;}();T=f.P=u;ca=/\s*function\s+([^\(\s]*)\s*/;T.AssertionError=function(a){var b;this.name="AssertionError";this.jv=a.jv;this.Kl=a.Kl;this.Jw=a.Jw;this.message=a.message?a.message:m(p(this.jv))+" "+this.Jw+" "+m(p(this.Kl));b=a.p$a||r;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=g(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};y.l_a(T.AssertionError,Error);T.fail=r;T.ok=u;T.equal=function(a,b,c){a!=b&&r(a,b,c,"==",T.equal);};T.Z2=function(a,b,c){a==b&&r(a,b,c,"!=",T.Z2);};T.BSa=function(a,b,c){v(a,b,!1)||r(a,b,c,"deepEqual",T.BSa);};T.CSa=function(a,b,c){v(a,b,!0)||r(a,b,c,"deepStrictEqual",T.CSa);};T.p3a=function(a,b,c){v(a,b,!1)&&r(a,b,c,"notDeepEqual",T.p3a);};T.wqb=w;T.V$a=function(a,b,c){a!==b&&r(a,b,c,"===",T.V$a);};T.q3a=function(a,b,c){a===b&&r(a,b,c,"!==",T.q3a);};T["throws"]=function(a,b,c){x(!0,a,b,c);};T.Pmb=function(a,b,c){x(!1,a,b,c);};T.Oob=function(a){if(a)throw a;};n=Object.keys||function(a){var b,c;b=[];for(c in a)C.call(a,c)&&b.push(c);return b;};}.call(this,a(162)));},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ee="DeviceFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Oe="PboConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pe="PlatformSymbol";},function(f,c,a){var v,z,w,k,x,y,C;function b(){var a,b;if(a=c.Z_.Eea)return a;a=y.KJ.search.substr(1);b=a.indexOf("#");0<=b&&(a=a.substr(0,b));a=d(a);return c.Z_.Eea=a;}function d(a){for(var b=/[+]/g,c=(a||"").split("&"),d={},g,p=0;p<c.length;p++)a=k.trim(c[p]),g=a.indexOf("="),0<=g?d[decodeURIComponent(a.substr(0,g).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(g+1).replace(b,"%20")):d[a.toLowerCase()]=null;return d;}function h(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function l(a){return h(a.constructor);}function g(a){return y.sort.call(a,function(a,b){return a-b;});}function m(a){for(var b=0,c=a.length;c--;)b+=a[c];return b;}function p(a){return(a=a.match(/Chrome\/(\d*)\./))&&a[1]|0;}function r(a){return(a=a.match(/Firefox\/(\d*)\./))&&a[1]|0;}function u(){return C.wb(y.Tg.requestMediaKeySystemAccess);}Object.defineProperty(c,"__esModule",{value:!0});v=a(6);z=a(8);w=a(3);k=a(19);x=a(14);y=a(5);C=a(15);c.aha=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;return!0;};c.ws=c.ws||function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};c.Urb=function(a){var b;if(a){b=a.length;if(b)return b=k.Apa(0,b-1),a[b];}};c.HPa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};c.$La=function(a,b){function c(){a.removeEventListener("loadedmetadata",c);b.apply(this,arguments);}a.addEventListener("loadedmetadata",c);};c.N6a=function(){var a,b,c,d,g,p;a=y.cd.cookie.split("; ");b=a.length;p={};for(c=0;c<b;c++)if(d=k.trim(a[c]))g=d.indexOf("="),0<g&&(p[d.substr(0,g)]=d.substr(g+1));return p;};c.gob=b;c.Z_=Object.assign(b,{Eea:void 0});c.KP=d;c.PG=function(a){var b;b="";x.Kb(a,function(a,c){b&&(b+="&");z.ea(x.oc(c)||C.da(c)||C.ula(c));b+=encodeURIComponent(a)+"="+encodeURIComponent(c);});return b;};c.getFunctionName=h;c.Hja=l;c.eoa=function(a){var b;b="";C.isArray(a)||C.Qla(a)?b=y.reduce.call(a,function(a,b){return a+(32<=b&&128>b?y.cFa(b):".");},""):x.oc(a)?b=a:x.Kb(a,function(a,c){b+=(b?", ":"")+"{"+a+": "+(C.wb(c)?h(c)||"function":c)+"}";});return"["+l(a)+" "+b+"]";};c.prb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};c.ME=c.ME||function(a){var b;b="";x.Kb(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};c.bpb=function(a,b){var c;c=a[0];if(b<=c[0])return c.slice(1);for(var d=1,g;g=a[d++];){if(b<=g[0]){a=(b-c[0])/(g[0]-c[0]);b=[];for(d=1;d<c.length;d++)b.push((c[d]||0)+a*((g[d]||0)-(c[d]||0)));return b;}c=g;}return c.slice(1);};c.udb=function(a,b){var g;for(var c={},d=0;d<b.length;d++){g=b[d];if("string"!=typeof g&&"number"!=typeof g)return!1;c[b[d]]=1;}for(d=0;d<a.length;d++)if(g=a[d],!c[g])return!1;return!0;};c.O6=function(a,b){0>a.indexOf(b)&&a.push(b);};c.dS=g;c.wdb=m;c.N6=function(a,b){var c,d,g,p;c=-1;d=a.length;if(1===arguments.length){for(;++c<d&&!(null!=(g=a[c])&&g<=g);)g=void 0;for(;++c<d;)null!=(p=a[c])&&p>g&&(g=p);}else{for(;++c<d&&!(null!=(g=b.call(a,a[c],c))&&g<=g);)g=void 0;for(;++c<d;)null!=(p=b.call(a,a[c],c))&&p>g&&(g=p);}return g;};c.vdb=function(a,b){var c,d,g,p;c=-1;d=a.length;if(1===arguments.length){for(;++c<d&&!(null!=(g=a[c])&&g<=g);)g=void 0;for(;++c<d;)null!=(p=a[c])&&g>p&&(g=p);}else{for(;++c<d&&!(null!=(g=b.call(a,a[c],c))&&g<=g);)g=void 0;for(;++c<d;)null!=(p=b.call(a,a[c],c))&&g>p&&(g=p);}return g;};c.NA=function(a){return C.wb(a.then)?a:new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};c.oVa=function(a,b){var d,p,m,h,r,l;function c(a){0>d.indexOf(a)&&C.da(a)&&d.push(a);}a=a.slice();g(a);d=[];if(!b||!b.length)return a;if(!a.length)return[];p=b.length;try{for(;p--;){r=""+b[p];l=x.Zc(r);switch(r[r.length-1]){case"-":for(m=a.length;m--;)if(h=a[m],h<l){c(h);break;}break;case"+":for(m=0;m<a.length;m++)if(h=a[m],h>l){c(h);break;}break;default:0<=a.indexOf(l)&&c(l);}}}catch(D){}d.length||d.push(a[0]);g(d);return d;};c.HN=c.HN||function(a,b,c){var d;a/b>c?(d=y.ve(b*c),a=b):(d=a,a=y.ve(a/c));return{width:d,height:a};};c.Nlb=function(a,b,c){for(var d=[],g=0;g<b;g++)d.push(y.GJ(a[g]-c,2));return y.Zza(m(d)/d.length);};c.rs=function(a,b){var c;c=a.length;b=(c-1)*b+1;if(1===b)return a[0];if(b==c)return a[c-1];c=y.Xh(b);return a[c-1]+(b-c)*(a[c]-a[c-1]);};c.wMa=function(a){var b;b={useSetServerCertificateApi:!0};50<=p(y.Ug)&&x.oa(a,b);};c.Rnb=p;c.Nkb=function(a,b,c){r(y.Ug)>=a&&x.oa(b,c);};c.Unb=r;c.Enb=function(a,b){if(!C.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=C.isArray(b)?b:[b];for(var c=a.length,d=0;d<c;d++)for(var g=0;g<b.length;g++)if(a[d].type==b[g])return a[d];throw Error("Box not found "+b);};c.Wdb=function(a){return a.$p("trak/mdia/minf/stbl/stsd/"+v.vua+"|"+v.wua).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.n_.schm.z8a;})[0].$p("schi/tenc").NO;};c.Vdb=function(a){var c;function b(a,b){var d;d=c[a];c[a]=c[b];c[b]=d;}c=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return c;};c.Jla=u;c.IO=function(a){return u()||a.wab;};c.erb=function(a){return function(b){return b&&b[a];};};C.wb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var c,d;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);c=new ArrayBuffer(b-a);d=new Uint8Array(c);a=new Uint8Array(this,a,b-a);d.set(a);return c;});c.f1=function(a){return a&&0==a.toLowerCase().indexOf("https");};c.mXa=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};c.eO=function(){var a,b,c;try{a=/playercore.*js/;b=y.cm.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){c=y.ve(b[0].duration);return JSON.stringify(c);}}catch(ca){}};c.hrb=function(a,b,c){if(a&&a.length)if(c&&c.ZOa)try{a.forEach(function(a,d){var g;g=(d=c.ZOa[d])&&d.media;g&&x.oc(g)?(g=w.Pi(g).buffer,a.media={arrayBuffer:g,length:g.byteLength,stream:b,Ya:d.cdn}):w.log.warn("chunk not in cache",a.Zi);});}catch(ca){w.log.error("error reading cached chunks",ca);}else w.log.warn("chunks not available in cached stream",c.type);else w.log.warn("chunks not available in mediabuffer",c.type);};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Re="UtilitiesSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.lf="ApiInfoSymbol";},function(f,c,a){var r,u,v,z,w,k,x,y,C,F,N,T,ca,n,q;function b(a){var b,c,d,g;b=a.url.split("?");c=b[0];d="sc="+a.A8a;g=a.fY?"random="+(1E17*T.CC()).toFixed(0):"";c=b[1]?c+("?"+b[1]+"&"+d):c+("?"+d);c=c+(g?"&"+g:"");a.Ya&&!w.f1(c)&&(a=v.config&&v.config.oY)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));return c;}function d(a){var b,c,d,g;b=a.url.split("?");c=b[0];d="bb_reason="+a.reason;g=a.fY?"random="+(1E17*T.CC()).toFixed(0):"";c=b[1]?c+("?"+b[1]+"&"+d):c+("?"+d);c=c+(g?"&"+g:"");a.Ya&&!w.f1(c)&&(a=v.config&&v.config.oY)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));return c;}function h(a,b){var c,d,g,p;c=a.url.split("?");d=c[0];g=l(a);g&&(b.Fq=g,d="/"==d[d.length-1]?d+"range/":d+"/range/",d+=g);g=a.fY?"random="+(1E17*T.CC()).toFixed(0):"";v.config.Qn&&a.YQ&&(p="sc="+a.YQ,g=p+(g?"&"+g:""));d=c[1]?d+("?"+c[1]+(g?"&"+g:"")):d+(g?"?"+g:"");a.Ya&&!w.f1(d)&&(a=v.config&&v.config.oY)&&(d=a.replace("{URL}",d).replace("{EURL}",encodeURIComponent(d)));b.url=d;}function l(a){var b;b=a.offset;if(void 0!==b)return F.OM(b),void 0!==a.length?(a=a.offset+a.length-1,F.OM(a),F.ea(b<=a),b+"-"+a):b+"-";}function g(){return!1!==T.Tg.onLine;}function m(a,b,d,g){var p,m;p=g.apa;m=g.headers;a.open(p?"POST":"GET",b,!d);switch(g.responseType){case c.Xs:a.responseType="arraybuffer";break;case c.Tka:N.BOa(a,"overrideMimeType",void 0,"text/xml");}p&&(b={"Content-Type":x.oc(p)?"text/plain":"application/x-octet-stream"},m=m?x.oa(b,m):b);m&&x.Kb(m,function(b,c){a.setRequestHeader(b,c);});g.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");p?a.send(p):a.send();}function p(a,b){switch(b.type){case c.Xs:return a.response||new ArrayBuffer(0);case c.Tka:return a.responseXML;default:return a.responseText;}}Object.defineProperty(c,"__esModule",{value:!0});r=a(18);u=a(57);v=a(4);z=a(6);w=a(25);k=a(17);x=a(14);y=a(2);C=a(3);F=a(8);N=a(19);T=a(5);ca=a(32);n=a(15);c.Za=function(){var w,G,N,X;function a(a){var b;try{b=a.url;n.e1(b)?0===b.indexOf("https")?X.ssl++:0===b.indexOf("http")?X["non-ssl"]++:X.invalid++:X.invalid++;}catch(ba){}}function l(){G.mc(c.YZa);G.mc(c.Uka);}function f(){G.mc(c.E0);G.mc(c.Uka);}w=C.Cc("Http");G=new u.Ci();N=0;X={ssl:0,"non-ssl":0,invalid:0};r.Dd(y.v.t9,function(a){v.config.qcb&&(t.addEventListener("online",l),t.addEventListener("offline",f),c.D0=g);a(z.cb);});return{addEventListener:G.addListener,removeEventListener:G.removeListener,download:function(b,d,g){var Z,ha,O,D,ba,V,ja,t,S,da,A;function r(){var a;r=x.Gb;A&&(clearTimeout(A),A=null);G.removeListener(c.E0,z);S&&(S.onreadystatechange=null,S.onprogress=null,S.onerror=null,S.onload=null,S=S.onabort=null);t.K||(t.R!=y.u.No?Z.warn("Download failed",ha,C.jk(t)):Z.trace("Download aborted",ha));a=O;O=void 0;for(var b=a.length;b--;)(function(){var c;c=a[b];ca.Xa(function(){c(t);});}());G.mc(c.WZa,t,!0);}function l(){A&&(clearTimeout(A),A=null);A=setTimeout(g?T:X,da?ja:V);}function u(a,b,c,d){var g;t.K=!1;t.R=a;g=k.Ra();t.xf.hf=t.xf.hf||g;t.xf.Zj=t.xf.Zj||g;0<b&&(t.Fg=t.ub=b);c&&(t.za=c);d&&(t.$j=d);a!==y.u.yJ&&a!==y.u.ku&&a!==y.u.rC||!S||(S.onabort=null,U());r();}function f(a){var b,c;try{c=a.getResponseHeader("X-Netflix.Retry.Server.Policy");c&&(b=JSON.parse(c));}catch(Db){}return b;}function z(){c.D0()||u(y.u.yJ);}function X(){u(da?y.u.ku:y.u.rC);}function T(){void 0===t.K&&(g.g3++,g.Qoa.ping(g));}function U(){try{S&&S.abort();}catch(gb){}}function B(){u(y.u.No);}F.ea(d);Z=b.L&&b.L.log&&C.Je(b.L,"Http")||w;ha={Num:N++};O=[d];D={};V=b.MY||v.config.MY;ja=b.X2||v.config.X2;a(b);t=function(){var a,c;a=x.Gb;c=x.Gb;return{request:b,type:b.responseType,xf:D,abort:U,timeout:X,cX:function(a){r!==x.Gb&&(F.ea(O,"Callback should be added before download starts."),O&&O.unshift(a));},noa:function(b){a(b);},fj:function(a){c(a);},J9a:function(b){a=b;},x9a:function(a){c=a;}};}();g&&(g.stream=b.stream,g.yM=b.Hlb[0],g.kab=l,g.Qia=X);ca.Xa(function(){if(n.e1(b.url))try{h(b,t);ba=t.url;F.VE(ba);ha.Url=ba;c.D0()?(S=new XMLHttpRequest(),S.onreadystatechange=function(){if(2==S.readyState){da=!0;D.hf=k.Ra();S.onreadystatechange=null;l();for(var a=t,c=S.getAllResponseHeaders().split("\n"),d=c.length,g,p,m={};d--;)if(g=c[d])p=g.indexOf(": "),1<=p&&p<g.length-1&&(m[g.substr(0,p)]=g.substr(p+2));a.headers=m;t.noa({timestamp:D.hf,connect:!0,mediaRequest:b,start:D.requestTime,rt:[D.hf-D.requestTime]});}},S.onprogress=function(a){da=!0;D.Op=a.loaded;l();a={mediaRequest:b,bytes:a.loaded,tempstamp:k.Ra(),bytesLoaded:a.loaded};t.noa(a);},S.onload=function(){var a;if(r!==x.Gb){F.ea(void 0===D.Zj);D.Zj=k.Ra();D.hf=D.hf||D.Zj;if(200<=S.status&&299>=S.status)if(a=p(S,t),b.o)try{t.content=b.o(a,t);t.K=!0;t.parsed=!0;t.raw=a;}catch(hb){Z.warn("Exception parsing response",hb,ha);u(y.u.tT,void 0,x.yc(hb));}else t.parsed=!1,t.content=a,t.K=!0;else S.status==q?u(y.u.Px,S.status):u(y.u.Ox,S.status,S.response,f(S));r();}},S.onabort=B,S.onerror=function(){var a,c;a=S.status;"undefined"!==typeof v.config.kja&&(a=v.config.kja);if(0<a)if(a==q)u(y.u.Px,a);else{try{c=S.responseText;}catch(Nc){}u(y.u.Ox,a,c,f(S));}else a={status:S.status,internalErrorCodeB10:S.internalErrorCode,internalErrorCodeB16:C.mM(S.internalErrorCode,4)},b.Ya&&b.Ya.id&&(a.cdnid=b.Ya.id),a.url=S.responseURL||b.url,Z.error("An error occurred downloading data.",a),u(y.u.sC,C.mM(S.internalErrorCode,4));},D.requestTime=k.Ra(),m(S,ba,!1,b),G.mc(c.XZa,t,!0),l(),G.addListener(c.E0,z)):ca.Xa(u.bind(void 0,y.u.yJ));}catch(gb){Z.error("Exception starting download",gb,ha);u(y.u.xT,void 0,x.yc(gb));}else u(y.u.K8);});return t;},ad:X,A3a:function(a){var b;b=new XMLHttpRequest();a=d(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},h$a:function(a){var c;c=new XMLHttpRequest();a=b(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},m6a:function(a){var b,c,d;b=new XMLHttpRequest();c=a.url;d=a.j6a;b.open("HEAD",c);b.timeout=Math.max(2*d.$0a,v.config.K3);b.onreadystatechange=function(){2==b.readyState&&d&&d.vi({url:c});};b.ontimeout=b.onerror=function(){d&&d.e3({url:c});};b.send();}};}();c.Kob=b;c.Hob=d;c.Job=h;c.Iob=l;c.D0=z.aEa;c.Mob=g;c.bGa=m;c.aGa=p;c.XZa=1;c.WZa=2;c.YZa=3;c.E0=4;c.Uka=5;c.VZa=1;c.Tka=2;c.Xs=3;q=420;t._cad_global||(t._cad_global={});t._cad_global.http=c.Za;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ef="ConfigSymbol";},function(f,c,a){f.P={Axa:a(523),Ha:a(35).Ha,Dv:a(35).Dv,pG:a(35).pG,S4:a(35).S4,iBa:a(522),uib:a(179),cEa:a(521),cGa:a(517)};},function(f,c,a){f.P={EventEmitter:a(530),kC:a(529)};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xa=function(a){return t.setTimeout(a,0);};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.ResponseType||(c.ResponseType={});f[f.Text=0]="Text";f[f.$jb=1]="Xml";f[f.Ndb=2]="Binary";c.Gfb="HttpClientSymbol";c.hg="LegacyHttpSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.$ba=1]="Video";}(c.FC||(c.FC={})));(function(a){a[a.du=0]="Default";a[a.su=1]="Microsoft";}(c.au||(c.au={})));(function(a){a[a.du=0]="Default";a[a.oS=1]="Cast";a[a.qS=2]="Chrome";a[a.su=3]="Microsoft";a[a.pba=4]="Safari";}(c.Fi||(c.Fi={})));(function(a){a[a.ZC=0]="SD";a[a.rJ=1]="HD";a[a.jK=2]="UHD";a[a.Ff=3]="DV";a[a.Mo=4]="HDR10";a[a.yr=5]="VP9";}(c.Jd||(c.Jd={})));(function(a){a[a.pn=0]="Level_1_4";a[a.nu=1]="Level_2_2";}(c.Qg||(c.Qg={})));c.Xjb=function(){};(function(a){a[a.vib=0]="Platform";a[a.ueb=1]="CurrentTitle";}(c.SFa||(c.SFa={})));c.ES="DeviceCapabilitiesSymbol";c.Qeb=function(){};},function(f,c,a){var u;function b(a,b){if(a.length==b.length){for(var c=a.length,d=0,p=g(a),m=g(b),h=0;h<c;h++)d+=a[h]*b[h];return(d-p*m/c)/c;}return!1;}function d(a){if(!Array.isArray(a))return!1;a=h(a);return Math.sqrt(a);}function h(a){var b;if(!Array.isArray(a))return!1;b=l(a);return g(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function l(a){return Array.isArray(a)?g(a)/a.length:!1;}function g(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function m(a,b,c){return Math.max(Math.min(a,c),b);}function p(a,b){return"number"===typeof a?a:b;}function r(a){return 1/(1+Math.exp(-a));}u=a(10);f.P={Ha:function(a,b,c){try{a.Ha(b,c);}catch(G){a.Yb("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",G,"Event:",c);}},Dv:function(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;},FE:m,Mga:function(a,b,c,d){return{min:m(p(a.min,b),c,d),max:m(p(a.max,b),c,d),Mp:m(a.Mp||6E4,0,6E5),Fga:m(a.Fga||0,-3E5,3E5),scale:m(a.scale||6E4,0,3E5),Hqa:m(a.Hqa||0,-3E5,3E5),gamma:m(a.gamma||1,.1,10)};},Kb:function(a,b){void 0!==a&&u.F4a(a).forEach(function(a){b(a[0],a[1]);});},Hia:function(a,b,c){return a.min+(a.max-a.min)*(1-Math.pow(r(6*(b-(a.Mp+(a.Fga||0)*(1-c)))/(a.scale+(a.Hqa||0)*(1-c))),a.gamma));},KUa:function(a,b){return a.min+(a.max-a.min)*Math.pow(r(6*(b-a.Mp)/a.scale),a.gamma);},MYa:g,xWa:l,bZa:h,GYa:d,Tnb:b,Snb:function(a,c){var g;if(a.length==c.length){g=b(a,c);a=d(a);c=d(c);return g/(a*c);}return!1;},pG:function(a,b,c){return b.ZRa?b.ZRa(c):new a.Console("ASEJS","media|asejs",c);},S4:function(a){return a.length?"{"+a+"} ":"";},Gqa:function(a,b,c){return{min:a.min*c+(1-c)*b.min,max:a.max*c+(1-c)*b.max,Mp:a.Mp*c+(1-c)*b.Mp,scale:a.scale*c+(1-c)*b.scale,gamma:a.gamma*c+(1-c)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},i$a:r};},function(f,c,a){var g,m,p,r,u,v,z,w,k,x;function b(a,b){var c,d,g;try{c=p.Tg.plugins;d=c.length;for(g=0;g<d;g++)if(b.test(c[g][a]))return c[g];return!1;}catch(ca){}}function d(){var a,c;a=b("filename",/widevinecdm/i);if(a){try{c=a.description.match(/version: ([0-9.]+)/);if(c&&c[1])return c[1];}catch(F){}return"true";}return"false";}function h(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:g.qn,robustness:"HW_SECURE_DECODE"},{contentType:g.qn,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:g.Vx,robustness:"SW_SECURE_CRYPTO"}]}];try{p.Tg.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var b;b=a.getConfiguration();a=b.videoCapabilities;(b=b.audioCapabilities)&&b.length&&(b=l(b),0<=b.indexOf("SW_SECURE_CRYPTO")&&(c.Yh.cptheaacwv_sw_cryp=!0));a&&a.length?(c.Yh.cpth264wv=!0,b=l(a),0<=b.indexOf("SW_SECURE_DECODE")&&(c.Yh.cpth264wv_sw_dec=!0),0<=b.indexOf("HW_SECURE_DECODE")&&(c.Yh.cpth264wv_hw_dec=!0)):c.Yh.cpth264wv=!1;})["catch"](function(){c.Yh.cpth264wv=!1;});}catch(C){}}function l(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(c,"__esModule",{value:!0});a(1).__exportStar(a(622),c);g=a(6);f=a(25);m=a(14);p=a(5);r=a(34);c.hpb=/CrOS/.test(p.Ug);c.Taa=/CrOS/.test(p.Ug);c.S$={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,enableCongestionService:!1,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:r.Fi.qS};f.wMa(c.S$);c.aib=b;c.bib=d;c.U$=d();r=c.U$;if(!(u=c.U$))a:{try{p.Tg.plugins.refresh();u=d();break a;}catch(y){}u=void 0;}v=!!b("name",/Chrome Remote Desktop Viewer/i);z=!!b("name",/Chromoting Viewer/i);a:{try{w=MediaSource.isTypeSupported(g.qn);break a;}catch(y){}w=void 0;}a:{try{k=m.createElement("VIDEO").canPlayType(g.qn);break a;}catch(y){}k=void 0;}a:{try{if(f.Jla())h();else{x=m.createElement("VIDEO").canPlayType(g.qn,"com.widevine.alpha");break a;}}catch(y){}x=void 0;}c.Yh={wvp:r,wvp2:u,crdvp:v,cvp:z,itsh264:w,cpth264:k,cpth264wv:x};c.T$=function(){return{ph:function(b,c,d,g){return new(a(621))(b,c,d,g);},request:a(620)};};c.Elb=h;c.hob=l;c.R$="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rg="IdProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.eg="ApplicationSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.rS="ConfigurableInputsSymbol";c.nk="ValidatingConfigurableInputsSymbol";c.uC="InitParamsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.kr="named";c.IJ="name";c.eD="unmanaged";c.N$="optional";c.tC="inject";c.qu="multi_inject";c.Aba="inversify:tagged";c.Bba="inversify:tagged_props";c.iU="inversify:paramtypes";c.Kva="design:paramtypes";c.RC="post_construct";},function(f,c,a){var l,g;function b(a){return a&&a.Ye&&a.inRange&&!a.fh&&!1!==a.Ok;}function d(a,b,c){return!l.da(a)||a<b?b:a>c?c:a;}function h(a){if(!(this instanceof h))return new h(a);this.se=l.da(a)?a:void 0;}l=a(10);g=new(a(9)).Console("ASEJS_STREAM_SELECTOR","media|asejs");f.P={console:g,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",g.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},iw:b,T_a:function(a,b,c){var d,g,p,m,h;d=!0;p=0;if(!a)return d;for(var r=[],l=0,f=0,k;p<a.length;){g=a.get(p);h=g.ga;m=g.duration;if(f+h>c&&l<b){d=!1;break;}for(;0<r.length&&f+h>c;)k=r.shift(),l-=k.duration,f-=k.ga;l+=m;f+=h;r.push(g);p+=1;}return d;},UXa:function(a){var b,c;c=0;if(a){for(var d=0;d<a.length;++d)b=Math.floor(8*a.sizes(d)/a.hF(d)),c=Math.max(b,c);return c;}},m_:function(a,b,c){var p,m,h,r;function g(b){var d;d=a[b];if(!d.Ye||!d.inRange||d.fh||c&&!c(d,b))return!1;r=b;return!0;}p=a.length;m=0;h=p;l.isArray(b)&&(m=d(b[0],0,p),h=d(b[1],0,p),b=b[2]);b=d(b,m-1,h);for(p=b-1;p>=m;--p)if(g(p))return r;for(p=b+1;p<h;++p)if(g(p))return r;return-1;},N2a:function(a,b){return Math.floor(a/(125*b)*1E3);},dOa:function(a,b){return Math.ceil(a/1E3*b*125);},hja:function(a,b,c){var d;d=a.length-1;for(b=c?b.bind(c):b;0<=d;--d)b(a[d],d,a);},jpb:function(a,c){return!a.slice(c+1).some(b);},gm:h,AMa:function(a,b){var c;return a.some(function(a,d,g){c=a;return b(a,d,g);})?c:void 0;},yX:function(a,b){var c;return a.some(function(a,d,g){c=d;return b(a,d,g);})?c:-1;},FE:d};},function(f,c,a){var h;function b(a){return h.kK.apply(this,arguments)||this;}function d(a){return new h.Po(a,c.Ix);}Object.defineProperty(c,"__esModule",{value:!0});h=a(415);oa(b,h.kK);c.eeb=b;c.nM=d;c.ga=function(a){return new h.Po(a,c.gl);};c.vpb=function(a){return new h.Po(a,c.I9);};c.Ypb=function(a){return new h.Po(a,c.iAa);};c.Ix=new b(1,"b");c.gl=new b(8*c.Ix.$f,"B",c.Ix);c.I9=new b(1024*c.gl.$f,"KB",c.Ix);c.iAa=new b(1024*c.I9.$f,"MB",c.Ix);c.cl=d(0);},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.xh="SchedulerSymbol";},function(f){f.P=function(c,a){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a;};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Di="PboDispatcherSymbol";},function(f,c){function a(){}function b(){}function d(){}function h(){}function l(){}function g(){}function m(){}function p(){}Object.defineProperty(c,"__esModule",{value:!0});p.aP="loadedtracks";p.$O="loadedmetadata";p.loaded="loaded";p.error="error";p.closed="closed";p.Ik="currenttimechanged";p.tE="bufferedtimechanged";p.gN="durationchanged";p.VR="videosizechanged";p.MP="pausedchanged";p.D3="playingchanged";p.oN="endedchanged";p.gz="busychanged";p.iE="audiotracklistchanged";p.hE="audiotrackchanged";p.Do="timedtexttracklistchanged";p.jI="timedtexttrackchanged";p.Zt="trickplayframeschanged";p.xP="mutedchanged";p.WR="volumechanged";p.XQ="showsubtitle";p.mQ="removesubtitle";p.ZR="watermark";p.$0="isReadyToTransition";p.VF="inactivated";p.LQ="segmentmaploaded";p.MQ="segmentpresenting";p.NX="autoplaywasallowed";p.OX="autoplaywasblocked";c.Qa=p;m.$ra=1;m.Vga=2;m.YNa=3;m.v4=4;m.oQ=5;m.SP=6;m.kNa=7;m.mma=8;m.closed=9;m.ASa=10;m.Do=11;m.e$a=12;m.pI=13;m.Zt=14;m.q0a=15;m.hab=16;m.cP=17;m.l9a=18;m.VF=19;m.Yab=20;m.HMa=21;m.Hz=22;m.T4=23;m.CX=24;m.N8a=25;m.Tqa=26;m.L8a=27;m.J1a=28;m.Wm=29;m.bga=35;m.vv=36;m.GMa=37;m.Ysa=38;m.Zsa=39;m.U2=40;m.Uq=41;m.yNa=42;c.Ea=m;g.Hga=30;g.lbb=31;c.OT=g;l.Ona=51;l.paused=52;l.Ik=53;l.lB=54;c.p$=l;h.AEa=0;h.zEa=1;h.Bu=2;h.hba=3;h.gba=4;c.mk=h;d.D$=1;d.Yq=2;d.xEa=3;c.RI=d;b.hD=1;b.nf=2;b.sn=3;b.PS=4;c.fm=b;a.ZDa=1;a.Vaa=2;a.$Da=3;a.Uaa=4;c.hy=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.er||(c.er={});f[f.Gba=0]="Test";f[f.A9=1]="Int";f[f.ZEa=2]="Staging";f[f.ODa=3]="Prod";c.oj="GeneralConfigSymbol";},function(f,c,a){var d;function b(a,b,c,m,p,r,u,f,z,w){this.code=void 0===a?d.v.Vg:a;this.tb=b;this.Sc=c;this.Jj=m;this.sq=p;this.message=r;this.Nv=u;this.data=f;this.ne=z;this.w5a=w;this.K=!1;}Object.defineProperty(c,"__esModule",{value:!0});d=a(2);b.yc=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!==a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}return"";};b.prototype.bF=function(a){this.Nv=b.yc(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.tb,extCode:this.Sc,edgeCode:this.Jj,mslCode:this.sq,message:this.message,details:this.Nv,data:this.data,errorDisplayMessage:this.ne,playbackServiceError:this.w5a};};c.nb=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.I3a=function(a,b){return a-b;};c.Zsb=function(a,b){return a.localeCompare(b);};c.$i=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c&&Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.eca="WindowTimers";c.hr="JSONSymbol";c.LC="NavigatorSymbol";c.q$="MediaSourceSymbol";c.Q9="LocationSymbol";c.N7="DateSymbol";c.tU="PerformanceSymbol";},function(f,c,a){var d,h,l,g,m,p,r;function b(a,b,c){l.ea(a&&a!=h.v.Vg,"There should always be a specific error code");this.errorCode=a||h.v.Vg;b&&m.Pd(b)?(this.R=b.R||b.tb,this.ub=b.ub||b.Sc,this.Wv=b.Wv||b.Jj,this.za=b.za||b.Nv,this.$M=b.ne,this.Ms=b.Ms||b.Hna||b.sq,this.ji=b.ji||b.data,b.xG&&(this.xG=b.xG),this.Fg=b.Fg,this.V2a=b.method,this.AP=b.AP,l.ea(!this.Fg||this.Fg==this.ub)):(this.R=b,this.ub=c);a=this.stack=[this.errorCode];this.R?a.push(this.R):this.ub&&a.push(h.u.Vg);this.ub&&a.push(this.ub);this.Fz=p.lJ+a.join("-");}Object.defineProperty(c,"__esModule",{value:!0});d=a(6);h=a(2);l=a(8);g=a(3);m=a(14);p=a(36);r=a(322);c.rj=b;b.prototype.toString=function(){var a;a="[PlayerError #"+this.Fz+"]";this.za&&(a+=" "+this.za);this.$M&&(a+=" (CustomMessage: "+this.$M+")");return a;};b.prototype.GR=function(){var a,b,c;this.$M&&(a=["streaming_error"]);a||r.PT.Tz()!==d.JS||("80080017"==this.ub&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.ub&&(a=["pause_timeout"]));a||r.PT.Tz()!==d.Z7||this.errorCode!==h.v.LS&&this.errorCode!==h.v.KS||(a=["no_cdm","platform_error","plugin_error"]);if(!a)switch(this.errorCode){case h.v.RJ:case h.v.BJ:case h.v.Hta:case h.v.jU:a=["pause_timeout"];break;case h.v.u9:case h.v.v9:a=this.R?["platform_error"]:["multiple_tabs"];break;case h.v.xC:case h.v.fK:case h.v.zya:case h.v.yya:case h.v.Bya:a=["should_signout_and_signin"];break;case h.v.zT:case h.v.Z$:case h.v.X$:case h.v.nU:case h.v.jCa:a=["platform_error","plugin_error"];break;case h.v.Y$:a=["no_cdm","platform_error","plugin_error"];break;case h.v.lU:a=this.R?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case h.v.gC:case h.v.TJ:case h.v.$$:switch(this.ub){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case h.v.kU:a=["unsupported_output"];}!a&&g.mxa(this.R)&&(a=this.R==h.u.Px?["geo"]:["internet_connection_problem"]);if(!a){b=this.R;c=parseInt(b,10);switch(isNaN(c)?b:c){case h.u.$U:a=["should_upgrade"];break;case h.u.BAa:case h.u.LT:a=["should_signout_and_signin"];break;case h.u.CAa:a=["internet_connection_problem"];break;case h.u.lba:case h.u.mba:case h.u.jba:a=["storage_quota"];break;case h.u.caa:case h.u.aaa:case h.u.daa:case h.u.baa:case h.u.H7:a=["platform_error","plugin_error"];break;case h.u.uS:case h.u.S8:case h.u.T8:a=["private_mode"];}}a=a||[];a.push(p.lJ+this.errorCode);this.R&&a.push(""+this.R);a={display:{code:this.Fz,text:this.$M},messageIdList:a};if(this.Ms||this.Hna)a.mslErrorCode=this.Ms||this.Hna||this.sq;return a;};c.yu=function(a,c){return new b(a,c,void 0).GR();};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.mj="ClockSymbol";},function(f,c,a){var h,l,g,m;function b(a){var b;b=m.call(this,a)||this;b.debug=a.debug;b.ca=a.si.Bb(b.Hj);return b;}function d(a){this.Q3={};this.jq=a.jq;this.OG=a.OG;this.dQ=a.dQ;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(412);l=a(0);g=a(127);c.hFa="isTestAccount";d.prototype.lja=function(){};d.prototype.i8a=function(a,b){this.Q3[a]=[b,this.jq.uqa];};d.prototype.Q_a=function(a){return h.PC.of(this.Q3[a]).map(function(a){return a[1];}).UG(-1)<this.jq.uqa;};d.prototype.uYa=function(a){return h.PC.of(this.Q3[a]).map(function(a){return a[0];}).UG(function(){throw Error("Invalid State Error");});};pa.Object.defineProperties(d.prototype,{oMa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.jq&&this.jq.data){a=this.jq.data[c.hFa];"undefined"!==typeof a&&(b=a.toString());a=this.OG.b4(b);a=a instanceof g.ml?!1:a;}else a=!1;return a;}}});m=d;m=f.__decorate([l.N(),f.__param(0,l.Uh())],m);c.NI=m;oa(b,m);b.prototype.lja=function(a,b){this.ca.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=b;a=f.__decorate([f.__param(0,l.Uh())],a);c.we=a;},function(f,c,a){var l,g,m;function b(a){return function(b,c){return b.e4(c,a);};}function d(a,b){return a.dQ.H6a[b]||h(a,b);}function h(a,b){a=a.jq.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(c,"__esModule",{value:!0});l=a(42);g=a(7);m=a(127);c.config=function(a,b){return function(c,g,p){var r,l;r=void 0!==b?b:g;l=p.get;void 0!==l&&(p.get=function(){var b;if(!this.Q_a(g))return this.uYa(g);a:{b=(this.oMa?d:h)(this,r.toString());if(void 0!==b)if(b=a(this.OG,b),b instanceof m.ml)this.lja(r,b);else break a;b=l.bind(this)();}this.i8a(g,b);return b;});return p;};};c.ola=function(a,b){return a.Hpa(b);};c.We=function(a,b){return a.b4(b);};c.rI=function(a,b){return a.Aa(b);};c.string=function(a,b){return a.e4(b);};c.bab=function(a,b){return a.re(b,c.string);};c.cj=function(a,b){a=a.Aa(b);return a instanceof m.ml?a:g.Cb(a);};c.ga=function(a,b){a=a.Aa(b);return a instanceof m.ml?a:l.ga(a);};c.url=b(/^\S+$/);c.gnb=function(a){return function(b,c){return b.Fpa(c,a);};};c.object=function(){return function(a,b){return a.Ipa(b);};};c.Ypa=b;c.Jn=function(a,b){return function(c,d){return c.re(d,a,b);};};},function(f,c,a){var b,d,h,l,g,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(410);f=a(70);h=a(231);l=a(230);g=function(a){function c(b,c,d){var p;a.call(this);this.px=null;this.Ze=this.kj=this.ox=!1;switch(arguments.length){case 0:this.destination=h.empty;break;case 1:if(!b){this.destination=h.empty;break;}if("object"===typeof b){if(b instanceof g||"syncErrorThrowable"in b&&b[l.fx]){p=b[l.fx]();this.kj=p.kj;this.destination=p;p.add(this);}else this.kj=!0,this.destination=new m(this,b);break;}default:this.kj=!0,this.destination=new m(this,b,c,d);}}b(c,a);c.prototype[l.fx]=function(){return this;};c.create=function(a,b,d){a=new c(a,b,d);a.kj=!1;return a;};c.prototype.next=function(a){this.Ze||this.tg(a);};c.prototype.error=function(a){this.Ze||(this.Ze=!0,this.Yb(a));};c.prototype.complete=function(){this.Ze||(this.Ze=!0,this.qf());};c.prototype.unsubscribe=function(){this.closed||(this.Ze=!0,a.prototype.unsubscribe.call(this));};c.prototype.tg=function(a){this.destination.next(a);};c.prototype.Yb=function(a){this.destination.error(a);this.unsubscribe();};c.prototype.qf=function(){this.destination.complete();this.unsubscribe();};c.prototype.$Ka=function(){var a,b;a=this.Vu;b=this.Xu;this.Xu=this.Vu=null;this.unsubscribe();this.Ze=this.closed=!1;this.Vu=a;this.Xu=b;};return c;}(f.tj);c.zh=g;m=function(a){function c(b,c,g,p){var m;a.call(this);this.LD=b;b=this;d.wb(c)?m=c:c&&(m=c.next,g=c.error,p=c.complete,c!==h.empty&&(b=Object.create(c),d.wb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.GK=b;this.tg=m;this.Yb=g;this.qf=p;}b(c,a);c.prototype.next=function(a){var b;if(!this.Ze&&this.tg){b=this.LD;b.kj?this.aV(b,this.tg,a)&&this.unsubscribe():this.bV(this.tg,a);}};c.prototype.error=function(a){var b;if(!this.Ze){b=this.LD;if(this.Yb)b.kj?this.aV(b,this.Yb,a):this.bV(this.Yb,a),this.unsubscribe();else if(b.kj)b.px=a,b.ox=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a,b,c;a=this;if(!this.Ze){b=this.LD;if(this.qf){c=function(){return a.qf.call(a.GK);};b.kj?this.aV(b,c):this.bV(c);}this.unsubscribe();}};c.prototype.bV=function(a,b){try{a.call(this.GK,b);}catch(z){throw this.unsubscribe(),z;}};c.prototype.aV=function(a,b,c){try{b.call(this.GK,c);}catch(w){return a.px=w,a.ox=!0;}return!1;};c.prototype.rp=function(){var a;a=this.LD;this.LD=this.GK=null;a.unsubscribe();};return c;}(g);},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.wba="StorageValidatorSymbol";c.fk="AppStorageFactorySymbol";},function(f,c,a){var d,h,l,g,m;function b(){var a,b;a=this;this.rf={};this.Hr="$es$"+c.oxa++;this.tD=l.Z.get(g.oj);this.MJa=l.Z.get(m.Oaa);this.on=function(b,c,d){a.addListener(b,c,d);};this.addListener=this.tD.vI?function(b,c,d){a.rf&&(a.rf[b]=a.rf[b]||a.MJa()).add(c,d);}:function(b,c,g){var p,m;p=d.QJ+a.Hr+"$"+b;if(a.rf){m=a.rf[b]?a.rf[b].slice():[];g&&(c[p]=g);0>m.indexOf(c)&&(m.push(c),m.sort(function(a,b){return(a[p]||0)-(b[p]||0);}));a.rf[b]=m;}};this.removeListener=this.tD.vI?function(b,c){a.rf&&a.rf[b]&&a.rf[b].removeAll(c);}:function(b,c){if(a.rf&&a.rf[b]){for(var d=a.rf[b].slice(),g;0<=(g=d.indexOf(c));)d.splice(g,1);a.rf[b]=d;}};this.M_=this.tD.vI?function(b){return a.rf&&a.rf[b]?a.rf[b].JVa():[];}:function(b){return a.rf[b]||(a.rf[b]=[]);};b=this;this.mc=function(a,c,d){var g;if(b.rf){g=b.M_(a);for(a={Mh:0};a.Mh<g.length;a={Mh:a.Mh},a.Mh++)d?function(a){return function(){var b;b=g[a.Mh];h.Xa(function(){b(c);});};}(a)():g[a.Mh].call(this,c);}};}Object.defineProperty(c,"__esModule",{value:!0});d=a(6);h=a(32);l=a(3);g=a(47);m=a(377);c.oxa=0;b.prototype.Ov=function(){this.rf=void 0;};c.Ci=b;},function(f,c,a){var g;function b(){}function d(){}function h(){}function l(){}Object.defineProperty(c,"__esModule",{value:!0});a=a(106);(function(a){a[a.vr=0]="STANDARD";a[a.vC=1]="LIMITED";a[a.pib=2]="PREVIEW";}(g||(g={})));l.j7="created";l.fba="started";l.oba="succeeded";l.bm="failed";l.Jx="cancelled";l.UI="cancelled_on_create";l.bC="cancelled_on_start";l.TI="cancelled_not_encrypted";c.ud=l;h.Mjb="uirequest";h.oib="prefetch_start";h.mib="prefetch_complete";h.nib="prefetch_delete";h.BBa="periodic_update";(function(a){a[a.faa=0]="PRE_FETCH";a[a.SDa=1]="QC";a[a.vr=2]="STANDARD";a[a.MEa=3]="SUPPLEMENTAL";a[a.Beb=4]="DOWNLOAD";}(f=c.vu||(c.vu={})));a={manifest:a.vd.Wh.H6,ldl:a.vd.Wh.mu,getHeaders:a.vd.Wh.oC,getMedia:a.vd.Wh.MEDIA};d.Gta="asl_start";d.Dta="asl_comp";d.Eta="asl_exc";d.Fta="asl_fail";d.BEa="stf_creat";d.Rjb="vald_start";d.Qjb="vald_fail";d.Pjb="vald_comp";d.cya="idb_open";d.$xa="idb_block";d.jya="idb_upgr";d.iya="idb_succ";d.aya="idb_error";d.bya="idb_invalid_state";d.eya="idb_open_timeout";d.gya="idb_open_wrkarnd";d.hya="idb_storelen_exc";d.dya="idb_open_exc";d.fya="idb_timeout_invalid_storelen";d.Qza="msl_load_data";d.Sza="msl_load_no_data";d.Rza="msl_load_failed";d.odb="app_st_idb_fail";d.tta="app_st_winfs_fail";d.pdb="app_st_idb_winfs_fail";d.uta="app_st_winfs_start";d.vta="app_st_winfs_succ";d.sta="app_st_winfs_create_fail";d.Ogb="mig_start";d.Kgb="mig_result_degraded";d.Ngb="mig_result_winfs";d.Lgb="mig_result_idb";d.Mgb="mig_result_invalid";d.Fgb="mig_exc";d.Tgb="mig_winfs_unavailable_degraded";d.wgb="mig_already_done_in_winfs";d.Ggb="mig_exc_during_migration_degraded";d.Pgb="mig_winfs_loadall_failed_degraded";d.Sgb="mig_winfs_saveall_undefined_degraded";d.Cgb="mig_cant_proceed_idb_unavailable_degraded";d.Bgb="mig_cant_proceed_idb_loadall_failed_degraded";d.Igb="mig_idb_already_done_winfs_unavailable_degraded";d.Hgb="mig_idb_already_done_winfs_no_status_forced";d.Jgb="mig_idb_firsttime_user_forced";d.Dgb="mig_done_no_downloads_data";d.Qgb="mig_winfs_remove_all_failed";d.Rgb="mig_winfs_remove_all_succ";d.ugb="mig_aborted_winfs_saveall_failed";d.vgb="mig_aborted_winfs_unavailable";d.Egb="mig_done_winfs_saveall_succ";d.ygb="mig_besteffort_idb_save_succ";d.xgb="mig_besteffort_idb_save_fail";d.Agb="mig_besteffort_winfs_save_succ";d.zgb="mig_besteffort_winfs_save_fail";c.og=d;b.cza=g;b.mha=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.ud=l;b.FCa=h;b.vu=f;b.oha=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.SC=a;b.og=d;c.tc=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.rwa="Cannot apply @injectable decorator multiple times.";c.swa="Metadata key was used more than once in a parameter:";c.KC="NULL argument";c.G9="Key Not Found";c.rta="Ambiguous match found for serviceIdentifier:";c.Eua="Could not unbind serviceIdentifier:";c.IAa="No matching bindings found for serviceIdentifier:";c.Lza="Missing required @injectable annotation in:";c.Mza="Missing required @inject or @multiInject annotation in:";c.GFa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};c.Gua="Circular dependency found:";c.Ehb="Sorry, this feature is not fully implemented yet.";c.Eya="Invalid binding type:";c.JAa="No snapshot available to restore.";c.Hya="Invalid return type in middleware. Middleware must return!";c.Qfb="Value provided to function binding must be a function!";c.Jya="The toSelf function can only be applied when a constructor is used as service identifier";c.Fya="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";c.wta=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};c.Vua="Invalid Container constructor argument. Container options must be an object.";c.Tua="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";c.Sua="Invalid Container option. Auto bind injectable must be a boolean";c.Uua="Invalid Container option. Skip base check must be a boolean";c.Wza="Cannot apply @postConstruct decorator multiple times in the same class";c.ECa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};c.Hua=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};c.wEa="Maximum call stack size exceeded";},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(57);b=a(32);d=a(5);c.Bd=new f.Ci();c.Pj=1;c.cw=2;c.k0=3;c.LF=4;c.j0=5;b.Xa(function(){var b,g,m;function a(a,b){if(g)g.on(a,b);else t.addEventListener(a,b);}b=t.jQuery;g=b&&b(t);b=(b=t.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;m=d.cd.hidden;b?b(function(a){c.Bd.mc(c.Pj,a);}):a("beforeunload",function(a){c.Bd.mc(c.Pj,a);});a("keydown",function(a){c.Bd.mc(c.cw,a);});a("resize",function(){c.Bd.mc(c.k0);});d.cd.addEventListener("visibilitychange",function(){m!==d.cd.hidden&&(m=d.cd.hidden,c.Bd.mc(c.LF));});});(function(){t.addEventListener("error",function(a){c.Bd.mc(c.j0,a);return!0;});}());},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.gg={start:"start",stop:"stop",MO:"keepAlive",resume:"resume",pause:"pause",Rn:"engage",splice:"splice"};c.mJ="EventPboCommandFactorySymbol";c.tba="StartEventPboCommandSymbol";c.uba="StopEventPboCommandSymbol";c.H9="KeepAliveEventPboCommandSymbol";c.gaa="PauseEventPboCommandSymbol";c.bba="ResumeEventPboCommandSymbol";c.rba="SpliceEventPboCommandSymbol";c.r8="EngageEventPboCommandSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.fl="Base64EncoderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.J6="AccountManagerSymbol";c.gn="AccountManagerProviderSymbol";},function(f,c){function a(){}function b(){}function d(){}Object.defineProperty(c,"__esModule",{value:!0});d.fr="playready-h264mpl30-dash";d.ju="playready-h264mpl31-dash";d.lC="playready-h264mpl40-dash";d.Cxa="playready-h264hpl30-dash";d.Dxa="playready-h264hpl31-dash";d.Exa="playready-h264hpl40-dash";d.lT="hevc-main-L30-dash-cenc";d.mT="hevc-main-L31-dash-cenc";d.nT="hevc-main-L40-dash-cenc";d.oT="hevc-main-L41-dash-cenc";d.pT="hevc-main-L50-dash-cenc";d.qT="hevc-main-L51-dash-cenc";d.dT="hevc-main10-L30-dash-cenc";d.fT="hevc-main10-L31-dash-cenc";d.hT="hevc-main10-L40-dash-cenc";d.jT="hevc-main10-L41-dash-cenc";d.pC="hevc-main10-L50-dash-cenc";d.qC="hevc-main10-L51-dash-cenc";d.eT="hevc-main10-L30-dash-cenc-prk";d.gT="hevc-main10-L31-dash-cenc-prk";d.iT="hevc-main10-L40-dash-cenc-prk";d.kT="hevc-main10-L41-dash-cenc-prk";d.Afb="hevc-main-L30-L31-dash-cenc-tl";d.Bfb="hevc-main-L31-L40-dash-cenc-tl";d.Cfb="hevc-main-L40-L41-dash-cenc-tl";d.Dfb="hevc-main-L50-L51-dash-cenc-tl";d.wfb="hevc-main10-L30-L31-dash-cenc-tl";d.xfb="hevc-main10-L31-L40-dash-cenc-tl";d.yfb="hevc-main10-L40-L41-dash-cenc-tl";d.zfb="hevc-main10-L50-L51-dash-cenc-tl";d.wS="hevc-dv-main10-L30-dash-cenc";d.xS="hevc-dv-main10-L31-dash-cenc";d.yS="hevc-dv-main10-L40-dash-cenc";d.zS="hevc-dv-main10-L41-dash-cenc";d.AS="hevc-dv-main10-L50-dash-cenc";d.M7="hevc-dv-main10-L51-dash-cenc";d.aJ="hevc-dv5-main10-L30-dash-cenc-prk";d.bJ="hevc-dv5-main10-L31-dash-cenc-prk";d.cJ="hevc-dv5-main10-L40-dash-cenc-prk";d.dJ="hevc-dv5-main10-L41-dash-cenc-prk";d.eJ="hevc-dv5-main10-L50-dash-cenc-prk";d.BS="hevc-dv5-main10-L51-dash-cenc-prk";d.US="hevc-hdr-main10-L30-dash-cenc";d.VS="hevc-hdr-main10-L31-dash-cenc";d.WS="hevc-hdr-main10-L40-dash-cenc";d.XS="hevc-hdr-main10-L41-dash-cenc";d.YS="hevc-hdr-main10-L50-dash-cenc";d.$S="hevc-hdr-main10-L51-dash-cenc";d.sJ="hevc-hdr-main10-L30-dash-cenc-prk";d.tJ="hevc-hdr-main10-L31-dash-cenc-prk";d.uJ="hevc-hdr-main10-L40-dash-cenc-prk";d.vJ="hevc-hdr-main10-L41-dash-cenc-prk";d.ZS="hevc-hdr-main10-L50-dash-cenc-prk";d.aT="hevc-hdr-main10-L51-dash-cenc-prk";d.Zba="vp9-profile0-L21-dash-cenc";d.nK="vp9-profile0-L30-dash-cenc";d.oK="vp9-profile0-L31-dash-cenc";d.pK="vp9-profile0-L40-dash-cenc";d.Uba="vp9-profile2-L30-dash-cenc-prk";d.Vba="vp9-profile2-L31-dash-cenc-prk";d.Wba="vp9-profile2-L40-dash-cenc-prk";d.Xba="vp9-profile2-L50-dash-cenc-prk";d.Yba="vp9-profile2-L51-dash-cenc-prk";d.kEa=[d.fr];d.Jxa=[d.ju,d.lC];d.DFa=[d.lT,d.mT,d.nT,d.oT,d.pT,d.qT];d.FFa=[d.dT,d.fT,d.hT,d.jT,d.pC,d.qC];d.EFa=[d.eT,d.gT,d.iT,d.kT,d.pC,d.qC];d.Ixa=[d.US,d.VS,d.WS,d.XS,d.YS,d.$S];d.Hxa=[d.sJ,d.tJ,d.uJ,d.vJ,d.ZS,d.aT];d.uwa=[d.wS,d.yS,d.AS,d.xS,d.zS,d.M7];d.twa=[d.aJ,d.cJ,d.eJ,d.bJ,d.dJ,d.BS];d.Geb=[d.wS,d.xS,d.yS,d.AS,d.zS];d.Feb=[d.aJ,d.bJ,d.cJ,d.eJ,d.dJ];d.Vjb=[d.nK,d.oK,d.pK];d.yr=[d.Zba,d.nK,d.oK,d.pK,d.Uba,d.Vba,d.Wba,d.Xba,d.Yba];d.F8=d.kEa.concat(d.Jxa);d.Gxa=d.DFa;d.Fxa=d.FFa;d.Kta=[].concat(d.F8,d.Gxa,d.Fxa,d.EFa,d.Ixa,d.Hxa,d.uwa,d.twa,d.yr);c.$=d;b.wJ="heaac-2-dash";b.ZI="ddplus-2.0-dash";b.tS="ddplus-5.1-dash";b.$I="ddplus-atmos-dash";b.bT="playready-heaac-2-dash";b.Lxa="heaac-2-dash-enc";b.xva="ddplus-2.0-dash-enc";b.yva="ddplus-5.1-dash-enc";b.Kxa="playready-heaac-2-dash-enc";b.Kta=[].concat(b.wJ,b.ZI,b.tS,b.$I,b.bT,b.Lxa,b.xva,b.yva,b.Kxa);c.gk=b;a.sEa="simplesdh";a.vS="dfxp-ls-sdh";a.Xx="nflx-cmisc";a.fjb="simplesdh-enc";a.Aeb="dfxp-ls-sdh-enc";a.JJ="nflx-cmisc-enc";c.uj=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.IT="LogBatcherConfigSymbol";c.jr="LogBatcherSymbol";c.R9="LogBatcherProviderSymbol";},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);f=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.kr?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();c.Metadata=f;},function(f,c,a){var h,l,g,m;function b(a,b){g.call(this,a,b);h(void 0!==b.X&&void 0!==b.duration);h(void 0===b.fa||b.fa===b.X+b.duration);h(void 0===b.Ad||b.Ad<=b.X);h(void 0===b.mi||b.mi===b.Ad+b.ON);this.wl=b.index;this.Li=b.X;this.wd=b.duration;this.$K=void 0!==b.Ad?b.Ad:this.X;this.rda=b.ON||this.duration;this.OD=b.mh||0;this.Jda=!!b.Hm;this.xIa=b.HG;this.oy=b.Fh;this.yy=b.yd;this.PK=b.Lc;this.cfa=b.Ut;this.Nf=!1;}function d(){h(!1);}h=a(21);l=a(13);g=a(174);m=a(72);b.prototype=Object.create(g.prototype);Object.defineProperties(b.prototype,{X0:{get:function(){return!0;},set:d},index:{get:function(){return this.wl;},set:d},X:{get:function(){return this.Li;},set:d},duration:{get:function(){return this.wd;},set:d},Ad:{get:function(){return this.$K;},set:d},ON:{get:function(){return this.rda;},set:d},mh:{get:function(){return this.OD;},set:d},Gv:{get:function(){return this.Li-this.OD;},set:d},Hm:{get:function(){return this.Jda;},set:d},HG:{get:function(){return this.xIa;},set:d},Fh:{get:function(){return this.oy;},set:d},yd:{get:function(){return this.yy;},set:d},Lc:{get:function(){return this.PK;},set:d},Ut:{get:function(){return this.cfa;},set:d},fa:{get:function(){return this.Li+this.wd;},set:d},mi:{get:function(){return this.$K+this.rda;},set:d},Ri:{get:function(){return this.Li-this.OD;},set:d},Ij:{get:function(){return this.Ri+this.wd;},set:d},qc:{get:function(){return this.Li;},set:d},df:{get:function(){return this.qc+this.wd;},set:d},SVa:{get:function(){return this.Ad-this.mh;},set:d},mja:{get:function(){return this.mi-this.mh;},set:d},gd:{get:function(){return this.duration;},set:d},hb:{get:function(){return this.X;},set:d},Lg:{get:function(){return this.fa;},set:d}});b.prototype.lra=function(a){var b;b=a-this.OD;0!=b&&(this.Li+=b,this.$K+=b,this.OD=a);};b.prototype.Rma=function(){this.Jda=!0;};b.prototype.JH=function(a){this.cfa=a;};b.prototype.oq=function(a,b){a?b?a.Qb<this.mja&&(this.wd=a.Qb-this.SVa,this.PK=a,this.yy=!0):0<a.Rd&&(this.Li=a.Qb+this.mh,this.wd=this.mja-a.Qb,this.PK=a,this.yy=!0):this.yy=!0;};b.prototype.CVa=function(a){var c;if(!(a<this.X||a>=this.fa)&&this.Fh&&this.Fh.length){a=new m(a-this.X,1E3).Gz(this.stream.bc);for(var b=this.Fh.length-1;0<=b;--b){c=this.Fh[b];if(c.Rd<=a)return c;}return{Rd:0,Qb:this.Ad};}};b.prototype.BVa=function(a){var c;if(!(a<this.X||a>=this.fa)&&this.Fh&&this.Fh.length){a=new m(a-this.X,1E3).Gz(this.stream.bc);for(var b=0;b<this.Fh.length;++b){c=this.Fh[b];if(c.Rd>=a)return c;}}};b.prototype.Xia=function(a,b){var c,d;if(!(a<this.X||a>=this.fa)){c=this.Kn;d=this.Mn;a=Math.min((b?Math.ceil:Math.floor)(Math.floor(((a-this.X+1)*d-1)/1E3)/c),Math.floor(Math.floor(this.duration*d/1E3)/c)-1);return{Rd:a,Qb:this.Ad+m.ebb(a*c,d)};}};b.prototype.l_=function(a){return this.O===l.G.VIDEO?this.CVa(a):this.Xia(a,!1);};b.prototype.zVa=function(a){return this.O===l.G.VIDEO?this.BVa(a):this.Xia(a,!0);};b.prototype.nMa=function(a){this.pf+=a.ga;this.wd+=a.duration;};b.prototype.toString=function(){return"["+this.ib+", "+this.J+"kbit/s, pts "+this.X+"-"+this.fa+"]";};f.P=b;},function(f,c,a){var b;b=a(21);f.P={Nca:function(a){b("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);},Mca:function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);},RGa:function(a,b){return Math.floor(1E3*a/b);}};},function(f,c,a){var r,u;function b(a){return!(!a||!a.Ow&&!a.pboc||!a.code&&!a.code);}function d(a){return!(!a||!a.tb);}function h(a){return!!(a instanceof Error);}function l(a){switch(a){case"ACCOUNT_ON_HOLD":return u.u.pBa;case"STREAM_QUOTA_EXCEEDED":return u.u.tBa;case"INSUFFICICENT_MATURITY":return u.u.vBa;case"TITLE_OUT_OF_WINDOW":return u.u.zBa;case"CHOICE_MAP_ERROR":return u.u.sBa;case"BadRequest":return u.u.xBa;case"Invalid_SemVer_Format":return u.u.wBa;case"RESTRICTED_TO_TESTERS":return u.u.yBa;case"AGE_VERIFICATION_REQUIRED":return u.u.qBa;case"BLACKLISTED_IP":return u.u.rBa;default:return u.u.HC;}}function g(a,b){return new r.nb(a,l(b.code),"BadRequest"===b.code?"400":void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0);}function m(a,b){return new r.nb(a,b.tb,b.Sc,void 0,b.sq,b.message,b.Nv,b.data);}function p(a,b){return new r.nb(a,u.u.te,void 0,void 0,void 0,b.message,b.stack,b);}Object.defineProperty(c,"__esModule",{value:!0});r=a(48);u=a(2);c.M_a=b;c.gpb=d;c.eG=h;c.Onb=l;c.Yp=function(a,c){return d(c)?m(a,c):b(c)?g(a,c):h(c)?p(a,c):new r.nb(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,c);};c.Pnb=g;c.Mnb=m;c.Nnb=p;c.yE=function(a,b,c){var d,g,p;a=a.Bia;d=b.oh[c];if(void 0===d)throw{Ow:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};g=d.version;if(void 0===g)throw{Ow:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};p=b.Rj&&d.serviceNonMember?d.serviceNonMember:d.service;if(void 0===p)throw{Ow:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};d=d.orgOverride;if(void 0===d&&(d=b.uoa,void 0===d))throw{Ow:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return a+"/"+d+"/"+p+"/"+g+"/router";};c.mlb=function(){return{"Content-Type":"text/plain"};};c.xE=function(a,b,c,d,g,p,m){return{version:d.version,url:b,id:a,esn:c,languages:d.languages,uiVersion:d.xx,clientVersion:g.version,params:p,echo:m};};},function(f,c,a){var d,h,l,g,m,p;function b(a){return a.reduce(function(a,b){return a.concat(b instanceof p.lK?b.oF:b);},[]);}d=a(98);h=a(411);l=a(410);g=a(871);m=a(409);p=a(870);f=function(){function a(a){this.closed=!1;this.Ry=this.Xu=this.Vu=null;a&&(this.rp=a);}a.prototype.unsubscribe=function(){var a,c,r,f,k,x;a=!1;if(!this.closed){r=this.Vu;f=this.Xu;k=this.rp;x=this.Ry;this.closed=!0;this.Ry=this.Xu=this.Vu=null;for(var y=-1,C=f?f.length:0;r;)r.remove(this),r=++y<C&&f[y]||null;l.wb(k)&&(r=g.xsa(k).call(this),r===m.Ns&&(a=!0,c=c||(m.Ns.e instanceof p.lK?b(m.Ns.e.oF):[m.Ns.e])));if(d.isArray(x))for(y=-1,C=x.length;++y<C;)r=x[y],h.Pd(r)&&(r=g.xsa(r.unsubscribe).call(r),r===m.Ns&&(a=!0,c=c||[],r=m.Ns.e,r instanceof p.lK?c=c.concat(b(r.oF)):c.push(r)));if(a)throw new p.lK(c);}};a.prototype.add=function(b){var c;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;c=b;switch(typeof b){case"function":c=new a(b);case"object":if(c.closed||"function"!==typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;"function"!==typeof c.nca&&(b=c,c=new a(),c.Ry=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.Ry||(this.Ry=[])).push(c);c.nca(this);return c;};a.prototype.remove=function(a){var b;b=this.Ry;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.nca=function(a){var b,c;b=this.Vu;c=this.Xu;b&&b!==a?c?-1===c.indexOf(a)&&c.push(a):this.Xu=[a]:this.Vu=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();c.tj=f;},function(f){f.P=function a(b,d){var h;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,d);Object.getOwnPropertyNames(b).forEach(function(a){h=Object.getOwnPropertyDescriptor(b,a);void 0!==h&&Object.defineProperty(d,a,h);});};},function(f,c,a){var l;function b(a,b){var c,d,g;if("number"!==typeof a||"number"!==typeof b)a=!1;else if(a&&b){c=Math.abs(a);for(d=Math.abs(b);d;){g=d;d=c%d;c=g;}a=Math.abs(a*b/c);}else a=0;return a;}function d(a,b){"object"===typeof a?(this.IW=a.ticks,this.ZD=a.timescale):(this.IW=a,this.ZD=b);}function h(){l(!1);}l=a(21);Object.defineProperties(d.prototype,{Bf:{get:function(){return this.IW;},set:h},jb:{get:function(){return this.ZD;},set:h},hh:{get:function(){return 1E3*this.IW/this.ZD;},set:h}});d.u4a=new d(1,1E3);d.Iqb=function(a){return new d(1,a);};d.aWa=function(a){return new d(a,1E3);};d.ebb=function(a,b){return Math.floor(1E3*a/b);};d.gqb=function(a,b){return Math.floor(a*b/1E3);};d.max=function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){return a.greaterThan(b)?a:b;});};d.min=function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){return a.lessThan(b)?a:b;});};d.prototype.Sq=function(a){a/=this.jb;return new d(this.Bf*a|0,this.jb*a|0);};d.prototype.add=function(a){var c;if(this.jb===a.jb)return new d(this.Bf+a.Bf,this.jb);c=b(this.jb,a.jb);return this.Sq(c).add(a.Sq(c));};d.prototype.ie=function(a){return this.add(new d(-a.Bf,a.jb));};d.prototype.O2=function(a){return new d(this.Bf*a,this.jb);};d.prototype.Gz=function(a){var c;if(this.jb===a.jb)return this.Bf/a.Bf;c=b(this.jb,a.jb);return this.Sq(c).Gz(a.Sq(c));};d.prototype.compare=function(a,c){var d;if(this.jb===c.jb)return a(this.Bf,c.Bf);d=b(this.jb,c.jb);return a(this.Sq(d).Bf,c.Sq(d).Bf);};d.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};d.prototype.Z2=function(a){return this.compare(function(a,b){return a!==b;},a);};d.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};d.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};d.prototype.gma=function(a){return this.compare(function(a,b){return a<=b;},a);};d.prototype.wka=function(a){return this.compare(function(a,b){return a>=b;},a);};d.prototype.toJSON=function(){return{ticks:this.Bf,timescale:this.jb};};d.prototype.toString=function(){return this.Bf+"/"+this.jb;};f.P=d;},function(f,c,a){var d,h,l,g;function b(a){return!!a.pi;}Object.defineProperty(c,"__esModule",{value:!0});a(6);d=a(25);h=a(19);l=a(5);g=a(15);c.bva=function(a,b,d,l,f,z,w,k,x,y){var p,m;p=this;m={Type:d,Bitrate:f,DownloadableId:l};h.oa(p,{track:b,type:d,ac:l,J:f,je:z,le:x,size:w,EZ:k,pi:null,S9a:function(a,b){if(g.$a(a)||g.$a(b))p.width=a,p.height=b,m.Resolution=(p.width||"")+":"+(p.height||"");},u9a:function(a,b,c,d){g.$a(a)&&g.$a(b)&&g.$a(c)&&g.$a(d)&&(p.hSa=a,p.Dha=b,p.Cha=c,p.Bha=d);},RN:y,Zi:m,toJSON:function(){return m;},qpb:function(){var b,g;b=!1;d===c.ar?g=a.Fl():d===c.$q&&(g=a.gc.value.Db);-1!==g.indexOf(this)&&(b=!0);return b;}});};c.$q="audio";c.ar="video";c.nS="timedtext";c.m7="trickplay";c.meb=function(){};c.eva={Uga:function(a,c){var d;d=this;c&&(d=d.filter(b));return d.reduce(function(b,c){return b&&l.ru(b.J-a)<l.ru(c.J-a)?b:c;});},Bnb:function(a,c){var d;d=this;c&&(d=d.filter(b));return d.reduce(function(b,c){return c.J>a&&c.J<b.J?c:b;},d[d.length-1]);},Cnb:function(a,c){var d;d=this;c&&(d=d.filter(b));return d.reduce(function(b,c){return c.J<a&&c.J>b.J?c:b;},d[0]);},ksa:function(a){var b;b=this.map(function(a){return a.J;});g.isArray(a)&&(b=d.oVa(b,a));return b;}};c.WI=function(a){h.oa(a,c.eva);};c.neb=b;c.cva=function(a){return a.map(function(a){return a.J;});};c.dva=function(a){return d.N6(a.map(function(a){return a.height;}));};},function(f,c,a){var b,d,h,l,g,m,p,r;b=a(76);d=a(400);h=a(399);l=a(411);g=a(11);m=a(157);p=a(853);r=a(229);c.Oq=function(a,c,f,w){var u;u=new p.z9(a,f,w);if(u.closed)return null;if(c instanceof g.pa)if(c.hp)u.next(c.value),u.complete();else return u.kj=!0,c.subscribe(u);else if(d.sla(c)){a=0;for(f=c.length;a<f&&!u.closed;a++)u.next(c[a]);u.closed||u.complete();}else{if(h.Ila(c))return c.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(c&&"function"===typeof c[m.iterator]){c=c[m.iterator]();do{a=c.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(c&&"function"===typeof c[r.observable])if(c=c[r.observable](),"function"!==typeof c.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return c.subscribe(new p.z9(a,f,w));else c="You provided "+(l.Pd(c)?"an invalid object":"'"+c+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(c));}return null;};},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);}b(c,a);c.prototype.Ew=function(a,b){this.destination.next(b);};c.prototype.b3=function(a){this.destination.error(a);};c.prototype.vi=function(){this.destination.complete();};return c;}(a(55).zh);c.So=f;},function(f,c,a){f=a(162);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;f="undefined"!==typeof t&&t||"undefined"!==typeof f&&f||a;c.root=f;if(!f)throw Error("RxJS could not find any global context (window, self, global)");},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(70);c.Nya=f.Nya;f=a(11);c.pa=f.pa;f=a(158);c.yh=f.yh;f=a(406);c.YC=f.YC;f=a(404);c.v7=f.v7;f=a(860);c.Hba=f.Hba;a(856);a(852);a(846);a(844);a(841);a(837);a(834);a(830);a(827);a(825);a(823);a(821);a(818);a(814);a(811);a(810);a(807);a(803);a(800);a(799);a(797);a(795);a(792);a(790);a(789);a(787);a(784);a(781);a(778);a(775);a(774);f=a(231);c.jBa=f.jBa;a=a(70);c.tj=a.tj;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.am={Request:"Request",LU:"Singleton",iK:"Transient"};c.Pg={w7:"ConstantValue",x7:"Constructor",e8:"DynamicValue",TS:"Factory",Function:"Function",ET:"Instance",Yya:"Invalid",Raa:"Provider"};c.$o={t7:"ClassProperty",y7:"ConstructorArgument",ZU:"Variable"};},function(f,c,a){var b,d;c=a(269);b=a(268);d=a(502);a=a(72);f.P={YT:b.YT,XT:b.XT,HJ:d.HJ,tja:b.tja,sjb:c.ic.sidx,X1:d.X1,Mba:a};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(15);c.ll=c.ll||function(a,b,c){return a>=b?a<=c?a:c:b;};c.Uhb=function(a,b,c,g,m){return(a-b)*(m-g)/(c-b)+g;};c.kg=function(a){if(b.da(a))return(a/1E3).toFixed(3);};},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(6);d=a(4);h=a(2);l=a(3);g=a(151);m=a(557);t._cad_global||(t._cad_global={});f.Dd(h.v.m9,function(a){var p;p=l.Cc("VideoCache");d.config.Vq&&d.config.Vq.downloader?l.Z.get(g.jJ).get()?l.Z.get(m.OFa).create(d.config.Vq,"VIDEOAPP").then(function(d){c.vh=d;t._cad_global.videoCache=c.vh;a(b.cb);})["catch"](function(c){p.error("Unable to load video cache",c);a(b.cb);}):(p.warn("downloads unavailable"),a(b.cb)):a(b.cb);});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.wr={r1a:"logblob",Sa:"manifest",kd:"license",events:"events"};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.hia=0]="downloading";a[a.ITa=1]="downloaded";a[a.Nf=2]="appended";a[a.buffered=3]="buffered";a[a.dsb=4]="removed";a[a.ztb=5]="unused";}(c.R6||(c.R6={})));(function(a){a[a.waiting=1]="waiting";a[a.Gqb=2]="ondeck";a[a.hia=4]="downloading";a[a.ITa=8]="downloaded";a[a.ZF=6]="inprogress";}(c.Q6||(c.Q6={})));c.xdb="AseBufferViewSymbol";c.P6="AseBufferAccountingSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.ou="LoggerSinksSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wq="ApplicationStateSymbol";},function(f,c,a){var h,l;function b(a,b,c,d,l){var g,p,r;g={};p="number"===typeof l;l=void 0!==l&&p?l.toString():c;if(p&&void 0!==c)throw Error(h.Fya);Reflect.m0(a,b)&&(g=Reflect.getMetadata(a,b));c=g[l];if(Array.isArray(c))for(var p=0,m=c;p<m.length;p++){r=m[p];if(r.key===d.key)throw Error(h.swa+" "+r.key.toString());}else c=[];c.push(d);g[l]=c;Reflect.yZ(a,g,b);}function d(a,b){return function(c,d){b(c,d,a);};}Object.defineProperty(c,"__esModule",{value:!0});h=a(59);l=a(40);c.qx=function(a,c,d,h){b(l.Aba,a,c,h,d);};c.fI=function(a,c,d){b(l.Bba,a.constructor,c,d);};c.Fs=function(a,b,c){"number"===typeof c?Reflect.Fs([d(c,a)],b):"string"===typeof c?Reflect.Fs([a],b,c):Reflect.Fs([a],b);};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);c.hAa=function(a){var l;function d(){}l=[];this.Mq=function(a){var d;for(var b=[],c=l.length;c--;){d=l[c];d.Mq(a)&&b.push(d.rF);}if(b.length)return b;};c.r$.forEach(function(b){(b=b(a))&&l.push(b);});0<l.length&&a.addEventListener(b.mg,d);};c.EC=function(a){c.r$.push(a);};c.r$=[];},function(f){function c(a){this.Hf=a;}c.prototype={};c.prototype.K9a=function(a){this.Hf=a;};c.prototype.dPa=function(){this.Hf=void 0;};c.prototype.Rz=function(a){this.Hf&&this.Hf.Iw&&this.Hf.Iw(a);};c.prototype.Qz=function(a){this.Hf&&this.Hf.xt&&this.Hf.xt(a);};c.prototype.xF=function(a){this.Hf&&this.Hf.TG&&this.Hf.TG(a);};c.prototype.wF=function(a){this.Hf&&this.Hf.wi&&this.Hf.wi(a);};c.prototype.NN=function(a){this.Hf&&this.Hf.MA&&this.Hf.MA(a);};c.prototype.MN=function(a,b){this.Hf&&this.Hf.FP&&this.Hf.FP(a,b);};c.prototype.Iw=c.prototype.Rz;c.prototype.xt=c.prototype.Qz;c.prototype.TG=c.prototype.xF;c.prototype.wi=c.prototype.wF;c.prototype.MA=c.prototype.NN;c.prototype.FP=c.prototype.MN;f.P=c;},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(4);d=a(6);h=a(8);l=a(2);g=a(3);m=a(63);f.Dd(l.v.DJ,function(a){h.ea(b.config);h.ea(t._cad_global.msl.Le);g.Z.get(m.gn)().then(function(b){c.He=b;a(d.cb);})["catch"](function(b){a(b);});});},function(f,c,a){var b,d,h,l,g,m,p,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);d=a(6);h=a(4);f=a(2);l=a(8);g=a(3);m=a(348);p=a(36);r=a(5);b.Dd(f.v.zT,function(a){var f,u;l.ea(h.config);l.ea(r.mr&&r.mr.getDeviceId||r.cU||p.E8);f=g.Z.get(m.T7);u=g.Cc("Device");b.lG("devs");f.create({deviceId:h.config.deviceId,z_:p.E8,XM:"deviceid",$d:h.config.$d,zm:p.Ne.QS,B8a:p.I7,userAgent:r.Ug,G1:h.config.G1,kTa:p.Ne.F7,iNa:h.config.aga.e,jTa:p.Ne.Lva,AF:h.config.AF,Aka:h.config.Vq,R2a:h.config.Jl?"mslstoretest":"mslstore"}).then(function(g){c.Bg=g;t._cad_global||(t._cad_global={});t._cad_global.device=c.Bg;u.info("Esn source: "+c.Bg.Oz);b.lG("devdone");a(d.cb);})["catch"](function(b){b.K=void 0;a(b);});});},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(17);d=a(8);h=a(32);c.dD=function(a){var p,l,f;function c(b){f=null;m(b||a);}function m(a){var d,g;d=b.Ra();if(l){g=a-(d-p);0>=g?(a=l,l=null,p=d,a()):f=f||setTimeout(c.bind(this,a),g);}}d.Es(a);p=-a;this.lb=function(a){l=a;f=f||h.Xa(c);};this.Ov=function(){f&&clearTimeout(f);f=null;};};c.tfb=function(a,c){var d,g;d=0;this.get=function(){var p;p=b.Ra();if(!g||p-d>c)d=p,g=a();return g;};this.clear=function(){g=void 0;};};c.Jeb=function(a){var b;d.Es(a);this.lb=function(c){b&&this.Ov();b=setTimeout(c,a);};this.Ov=function(){b&&clearTimeout(b);b=null;};};},function(f,c,a){var d,h,l,g,m,p,r,u,v,z,w,k;function b(a,b,c,f){var x,y;if(d.config.Usa)return l.Z.get(g.Tx).Bs(b,c,f,a);f=f||{};m.ea(void 0===f.jssid&&void 0===f.client_utc&&void 0===f.type&&void 0===f.sev&&void 0===f.lver&&void 0===f.xid&&void 0===f.mid&&void 0===f.esn&&void 0===f.snum&&void 0===f.lnum);f.clver="6.0011.853.011";d.config&&d.config.fi&&(d.config.fi.os&&(f.osplatform=d.config.fi.os.name,f.osver=d.config.fi.os.version),f.browsername=d.config.fi.name,f.browserver=d.config.fi.version);l.Z.get(p.oj).gG&&(f.tester=!0);d.config.Zn&&(f.groupname=d.config.Zn);d.config.Tq&&(f.uigroupname=d.config.Tq);x=h.On();this.timestamp=l.Z.get(r.mj).Eg;y=l.Z.get(u.eg);c={type:b,sev:c,devmod:v.G7};z.oa(c,f);z.oa(c,{jssid:h.ir,appId:y.id,appLogSeqNum:y.Xja(),jsoffms:h.Ra(),client_utc:x,lver:v.zAa||"2012.2-CAD"});f=l.Z.get(w.YU);c.uniqueLogId=f.A_();f="startup"===b?"playbackxid":"xid";d.config.Kp&&(c.groupname=c.groupname?c.groupname+("|"+d.config.Kp):d.config.Kp);c.uigroupname&&(c.groupname=c.groupname?c.groupname+("|"+c.uigroupname):c.uigroupname);a&&(z.oa(c,{soffms:a.Us(),mid:a.M,lvpi:a.nG,uiLabel:a.Oc||""}),c[f]=a.aa,a.rB&&(f=a.rB,(a=a.rB.split("."))&&1<a.length&&"S"!==a[0][0]&&(f="SABTest"+a[0]+".Cell"+a[1]),c.groupname=c.groupname?c.groupname+("|"+f):f));this.data=c;this.type=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(4);h=a(17);l=a(3);g=a(105);m=a(8);p=a(47);r=a(52);u=a(38);v=a(36);z=a(19);w=a(206);k=a(138);c.Zx=b;b.prototype.WWa=function(){this.Uca||(this.Uca=k.W1(this.data));return this.Uca;};},function(f,c,a){var d,h,l,g;function b(a,b,c,d,g,h,f,k,x,y){this.platform=a;this.xc=b;this.Cg=c;this.Za=d;this.config=g;this.Kk=h;this.iq=f;this.errorCode=k;this.LUa=x;this.l8a=y;this.name=l.wr.events;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(69);l=a(82);g=a(7);b.prototype.Pf=function(a,b,c){var d;d=this;return this.Pk(a,b,c.href,this.sM(c)).then(function(a){return d.Kk.send(a.context,a.request);}).then(function(){return c;})["catch"](function(a){throw h.Yp(d.errorCode,a);});};b.prototype.Am=function(a,b,c,d){var g;g=this;return this.Pk(a,b,c.GF("events").href,this.sM(d)).then(function(a){return g.Kk.send(a.context,a.request);}).then(function(a){c.bE(a.result.links);return d;})["catch"](function(a){throw h.Yp(g.errorCode,a);});};b.prototype.Pk=function(a,b,c,d){var g,p;try{g=h.xE(this.iq.As(),c,this.Cg().$d,this.config,this.platform,d);p=this.Ip(a,b,g);return Promise.resolve({context:p,request:g});}catch(w){return Promise.reject(w);}};b.prototype.Ip=function(a,b,c){return{Za:this.Za,log:a,$g:this.name,url:h.yE(this.xc,this.config,this.name),profile:b,ex:this.l8a,timeout:g.ij(59),xQ:c.url,headers:{"Content-Type":"text/plain"}};};b.prototype.sM=function(a){return{event:this.LUa,xid:a.aa,position:a.position||0,clientTime:a.GE,sessionStartTime:a.IH,mediaId:a.Jg,trackId:a.Ab,sessionId:a.sessionId,appId:a.gs,playTimes:this.aOa(a.po),sessionParams:a.jf,mdxControllerEsn:a.r2,persistentlicense:a.w3,cachedcontent:a.jY};};b.prototype.dY=function(a){return{downloadableId:a.ac,duration:a.duration};};b.prototype.aOa=function(a){return{total:a.total,audio:a.audio.map(this.dY),video:a.video.map(this.dY),text:a.text.map(this.dY)};};a=b;a=f.__decorate([d.N(),f.__param(0,d.Uh()),f.__param(1,d.Uh()),f.__param(2,d.Uh()),f.__param(3,d.Uh()),f.__param(4,d.Uh()),f.__param(5,d.Uh()),f.__param(6,d.Uh()),f.__param(7,d.Uh()),f.__param(8,d.Uh()),f.__param(9,d.Uh())],a);c.Bi=a;},function(f){function c(a){this.buffer=a;this.position=0;}c.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Oj:function(){return this.buffer.length-this.position;},ef:function(){return this.buffer[this.position++];},re:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},qd:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},It:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Q6a:function(){for(var a="",b;b=this.ef();)a+=String.fromCharCode(b);return a;},xb:function(){return this.qd(2);},Aa:function(){return this.qd(4);},ff:function(){return this.qd(8);},Gpa:function(){return this.qd(2)/256;},c4:function(){return this.qd(4)/65536;},Xj:function(a){for(var b,c="";a--;)b=this.ef(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;},bB:function(){return this.Xj(4)+"-"+this.Xj(2)+"-"+this.Xj(2)+"-"+this.Xj(2)+"-"+this.Xj(6);},R6a:function(a){for(var b=0,c=0;c<a;c++)b+=this.ef()<<(c<<3);return b;},pH:function(){return this.R6a(4);},A6:function(a){this.buffer[this.position++]=a;},lta:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);},adb:function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];},II:function(a,b){this.adb(a.re(b));}};f.P=c;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.xr="TimingApiSymbol";},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.format=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};b.prototype.X$a=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};b.prototype.uR=function(a){return JSON.stringify(a,null,"  ");};d=b;d=f.__decorate([a.N()],d);c.Cu=d;},function(f,c,a){var b,d,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(11);d=a(225);h=a(129);l=a(112);a=function(a){function c(b,c){a.call(this);this.Jn=b;(this.ha=c)||1!==b.length||(this.hp=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){return new c(a,b);};c.of=function(){var g;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];l.hw(b)?a.pop():b=null;g=a.length;return 1<g?new c(a,b):1===g?new d.JU(a[0],b):new h.jC(b);};c.Xa=function(a){var b,c,d;b=a.Jn;c=a.index;d=a.Ce;c>=a.count?d.complete():(d.next(b[c]),d.closed||(a.index=c+1,this.lb(a)));};c.prototype.Ve=function(a){var b,d,g;b=this.Jn;d=b.length;g=this.ha;if(g)return g.lb(c.Xa,0,{Jn:b,index:0,count:d,Ce:a});for(g=0;g<d&&!a.closed;g++)a.next(b[g]);a.complete();};return c;}(f.pa);c.$t=a;},function(f,c){c.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(f,c){var a;Object.defineProperty(c,"__esModule",{value:!0});a=0;c.id=function(){return a++;};},function(f){var c;c={UF:function(a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);}};f.P=c;},function(f,c,a){function b(a,b){this.Uy=a;this.wg=Math.floor((a+b-1)/b);this.Mb=b;this.reset();}a(21);b.prototype.shift=function(){this.Xb.shift();this.Cn.shift();};b.prototype.$G=function(a){return this.wga(this.Xb[a],a);};b.prototype.update=function(a,b){this.Xb[a]=(this.Xb[a]||0)+b;};b.prototype.push=function(){this.Xb.push(0);this.Cn.push(0);this.ya+=this.Mb;};b.prototype.add=function(a,b,c){var d,m,p;if(null===this.ya)for(d=Math.max(Math.floor((c-b+this.Mb-1)/this.Mb),1),this.ya=b;this.Xb.length<d;)this.push();for(;this.ya<=c;)this.push(),this.Xb.length>this.wg&&this.shift();if(null===this.vj||b<this.vj)this.vj=b;if(b>this.ya-this.Mb)this.update(this.Xb.length-1,a);else if(b==c)d=this.Xb.length-Math.max(Math.ceil((this.ya-c)/this.Mb),1),0<=d&&this.update(d,a);else for(d=1;d<=this.Xb.length;++d){m=this.ya-d*this.Mb;p=m+this.Mb;if(!(m>c)){if(p<b)break;this.update(this.Xb.length-d,Math.round(a*(Math.min(p,c)-Math.max(m,b))/(c-b)));}}for(;this.Xb.length>this.wg;)this.shift();};b.prototype.start=function(a){null===this.vj&&(this.vj=a);null===this.ya&&(this.ya=a);};b.prototype.stop=function(a){var b,c;if(null!==this.ya)if(a-this.ya>10*this.Uy)this.reset();else{for(;this.ya<=a;)this.push(),this.Xb.length>this.wg&&this.shift();b=this.Xb.length-Math.ceil((this.ya-this.vj)/this.Mb);0>b&&(this.vj=this.ya-this.Mb*this.Xb.length,b=0);c=this.Xb.length-Math.ceil((this.ya-a)/this.Mb);if(b===c)this.Cn[b]+=a-this.vj;else if(c>b)for(this.Cn[b]+=(this.ya-this.vj)%this.Mb,this.Cn[c]+=this.Mb-(this.ya-a)%this.Mb,a=b+1;a<c;++a)this.Cn[a]=this.Mb;this.vj=null;}};b.prototype.wga=function(a,b){b=this.B_(b);return 0===b?null:8*a/b;};b.prototype.B_=function(a){var b;b=this.Cn[a];null!==this.vj&&(a=this.ya-(this.Xb.length-a-1)*this.Mb,a>this.vj&&(b=a-this.vj<=this.Mb?b+(a-this.vj):this.Mb));return b;};b.prototype.get=function(a,b){var c,d;c=this.Xb.map(this.wga,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Mb));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(d||0):d=void 0!==d?b*c[a]+(1-b)*d:c[a];}return c;};b.prototype.reset=function(){this.Xb=[];this.Cn=[];this.vj=this.ya=null;};b.prototype.setInterval=function(a){this.wg=Math.floor((a+this.Mb-1)/this.Mb);};f.P=b;},function(f,c,a){var b,d,h,l,g,m,p,r,u,v;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(189);d=a(290);h=a(4);l=a(6);g=a(2);m=a(8);p=a(3);r=a(19);u=a(109);v=a(27);c.ti={};t._cad_global||(t._cad_global={});t._cad_global.controlProtocol=c.ti;f.Dd(g.v.d9,function(a){var g,f,u;m.ea(h.config);m.ea(b.JG);g=p.Cc("Nccp");f=h.config.Dg;m.ea(f);u=p.Z.get(v.lf);g.info("Creating EDGE instance",{Endpoint:u.endpoint+f.Gna,Path:f.nia});r.oa(c.ti,new d.NAa(g));a(l.cb);});c.jqb=p.Z.get(u.nJ);c.Mna="resume";c.Nna="suspend";c.uq="interval";c.iqb="1";c.kqb="2";c.lqb="3";c.hqb="4";},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);c.my=function(a,c){var d;b.oa(this,{Sn:function(){d||(d=setTimeout(c,a));},Og:function(){d&&(clearTimeout(d),d=void 0);}});};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.laa="PboLinksManagerSymbol";c.ey="PboLinksManagerFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tx="LogMessageFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){function b(){}function c(){}function h(){}h.Cua="cache_start";h.Dua="cache_success";h.zua="cache_abort";h.Bua="cache_fail";h.Aua="cache_evict";h.ABa="pb_request";h.yEa="start_playback";a.gu=h;c.H6="auth";c.mu="ldl";c.oC="hdr";c.MEDIA="media";a.Wh=c;b.SI="cached";b.LOADING="loading";b.ifb="expired";a.KI=b;}(c.vd||(c.vd={})));c.Maa="PrefetchEventsFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.ky="SourceBufferTypeProviderSymbol";},function(f,c){var b;function a(){}Object.defineProperty(c,"__esModule",{value:!0});b=/^\S+$/;a.prototype.ah=function(a){return void 0!==a;};a.prototype.uf=function(a){return null!==a&&void 0!==a;};a.prototype.ov=function(b){return a.Jfa(b);};a.prototype.$L=function(b){return!(!b||!a.Jfa(b));};a.prototype.Gn=function(a){return Array.isArray(a);};a.prototype.Kfa=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.ye=function(b,c,l){return a.ofa(b,c,l);};a.prototype.rX=function(b,c,l){return a.eM(b,c,l)&&0===b%1;};a.prototype.Hn=function(b,c,l){return a.eM(b,c||0,l);};a.prototype.Xy=function(b){return a.eM(b,1);};a.prototype.pLa=function(b){return a.eM(b,0,255);};a.prototype.qLa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.Lfa=function(a){return!(!a||!b.test(a));};a.prototype.Xg=function(b){return a.pfa(b);};a.prototype.Eh=function(b){return!(!a.pfa(b)||!b);};a.prototype.Vy=function(a){return!0===a||!1===a;};a.prototype.Wy=function(a){return"function"==typeof a;};a.pfa=function(a){return"string"==typeof a;};a.ofa=function(a,b,c){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===c||a<=c);};a.eM=function(b,c,l){return a.ofa(b,c,l)&&0===b%1;};a.Jfa=function(a){return"object"==typeof a;};c.nn=new a();},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.nJ="EventSourceSymbol";c.CS="DebugEventSourceSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.zba="SystemRandomSymbol";c.XC="RandomGeneratorSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wx="MslSymbol";},function(f,c){c.hw=function(a){return a&&"function"===typeof a.lb;};},function(f,c,a){var d,h;function b(a,b,c,p,r){a=void 0===a?d.v.Vg:a;return h.nb.call(this,a,b,c,void 0,void 0,p,h.nb.yc(r),r)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(2);h=a(48);oa(b,h.nb);c.mf=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Y7="DrmServicesSymbol";c.kJ="DrmServicesProviderSymbol";},function(f,c,a){var d,h,l,g,m,p,r,u,v,z,w,k,x,y,C,F,N,T,ca;function b(){var a;a=v.Z.get(T.Oe);return a.oh.events&&a.oh.events.active?v.Z.get(ca.VJ)()["catch"](function(a){v.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){v.log.error("Unable to send deferred playdata",a);}):v.Z.get(k.DU)().then(function(a){return a.send(Infinity);});}Object.defineProperty(c,"__esModule",{value:!0});d=a(18);h=a(81);l=a(183);g=a(51);m=a(165);p=a(241);r=a(4);u=a(16);v=a(3);z=a(198);w=a(38);k=a(201);x=a(2);y=a(39);C=a(151);F=a(205);N=a(14);T=a(23);ca=a(121);c.TFa=function(){var f,k;function a(a){v.Z.get(y.uC).data=a;}f=this;k=v.Z.get(z.uU);f.createPlayer=function(a,b){var c,d,g,h;b&&(N.Pd(b)?(c=b,d=b.uiLabel||"",g=b.manifest):c={Zf:b});h=v.Z.get(w.eg).oe();a=new m.PFa(a,c,d,g,h);c=b.clipStart;b=b.clipDuration;return 0<c||0<b?p.ARa(a,c,b):a;};f.closeAllPlayers=function(a){u.xaa(function(){a&&a();});};f.init=function(a){d.kG(function(d){d.K?r.config.RQ?b().then(function(){return l.gDa();})["catch"](function(a){v.log.error("Unable to initialize the playdata services",a);}).then(function(){N.oa(f,c.Fu);a&&a(N.oa({success:!0},c.Fu));}):(N.oa(f,c.Fu),a&&a(N.oa({success:!0},c.Fu))):a&&a({success:!1,error:g.yu(d.errorCode||x.v.U8,d)});});};f.applyConfig=function(b){a(b);r.gha(b);};f.prepare=function(a,b){var c,d;c=k.Xha(a);try{d=[];c.forEach(function(a,b){c.filter(function(c,d){return d>b&&c.M==a.M;})[0]||d.push(a);});r.config.Rm&&t._cad_global.videoPreparer&&t._cad_global.videoPreparer.Dt(d,b);}catch(da){v.log.warn("Prepare call failed",da);}};f.predownload=function(a,b){var c;try{c=k.Xha(a);c&&r.config.Bx&&t._cad_global.videoPreparer&&t._cad_global.videoPreparer.S5a(c,b);}catch(S){v.log.warn("Predownload call failed",S);}};f.lookupPredownloaded=function(){return r.config.Bx&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.nw():Promise.resolve([]);};f.ppmUpdate=function(a){"undefined"!==typeof t._cad_global.playerPredictionModel?((a=k.eTa(a))&&t._cad_global.playerPredictionModel.update(a),t._cad_global.prefetchEvents&&t._cad_global.prefetchEvents.update(a)):v.log.error("ppmUpdate called but there is no ppmModel");};f.canFulfillUIIntent=function(a,b,c){if(r.config.Rm&&t._cad_global.videoPreparer)return t._cad_global.videoPreparer.mY(a,b,c);c(!1);};f.supportsHdr=function(a){var b;try{b=v.Sz().aI();a(b);}catch(D){a(!1);}};f.supportsUltraHd=function(a){v.Sz().bI().then(function(b){a(b);})["catch"](function(){a(!1);});};f.supportsDolbyAtmos=function(a){var b;try{b=v.Sz().YH();a(b);}catch(D){a(!1);}};f.supportsDolbyVision=function(a){var b;try{b=v.Sz().ZH();a(b);}catch(D){a(!1);}};f.videoCache=function(){if(v.Z.get(C.jJ).get())return h.vh;};f.close=function(){};f.deviceThroughput=function(){var a;a=v.Z.get(F.OJ).ZY();return a?Promise.resolve(a.Nl()):Promise.resolve(void 0);};f.deviceThroughputNiqr=function(){var a;a=v.Z.get(F.OJ).ZY();return a?Promise.resolve(a.$Xa()):Promise.resolve(void 0);};f.isSeamlessEnabled=function(){return r.config.oUa;};a(arguments[0]);r.wPa(arguments);v.Sz().bI();};c.Fu={};},function(f,c,a){var g,m;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function d(a){return g.oc(a);}function h(a){return g.da(a);}function l(a){return!b(a)&&!d(a)&&!h(a)&&!Array.isArray(a)&&g.Pd(a);}g=a(10);m={cu:0,eK:1,LAa:2,OBJECT:3,Vg:4};f.P={i0:function(a){return b(a)?m.cu:d(a)?m.eK:h(a)?m.LAa:l(a)?m.OBJECT:m.Vg;},A_a:b,oc:d,da:h,Pd:l,kl:m};},function(f,c,a){var d,h;function b(a,b,c,d){h.call(this,c);this.location=a.location||b.location;this.Ec=a.Wb||b.Wb;this.e5=a.e5||b.e5;this.pk=!1;this.V=d;}a(10);a(31);d=a(13);c=a(9);h=a(88);new c.Console("ASEJS","media|asejs");b.prototype=Object.create(h.prototype);b.prototype.toJSON=function(){return this.toString();};b.prototype.Xc=function(a,b){this.ph=a;this.yf=b;this.oX=!1;this.V=b;};b.prototype.SD=function(){var a;a={type:"logdata",target:"endplay",fields:{}};a.fields[this.O===d.G.AUDIO?"audioedit":"videoedit"]={type:"array",value:{pts:this.Ad===this.X?this.mi:this.Ad,offset:this.Ad===this.X?this.fa-this.mi:this.X-this.Ad}};this.ph&&this.ph.emit(a.type,a);};b.prototype.yL=function(a){this.ph.H.qH&&(this.nja=!0,this.pia=a);};f.P=b;},function(f,c,a){var b,d,h,l,g,m,p,r,u,v,z,k,G;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(135);d=a(533);h=a(134);l=a(4);g=a(6);m=a(141);p=a(281);r=a(17);u=a(2);v=a(3);z=a(205);k=a(5);G=a(120);f.Dd(u.v.V8,function(f){var u,x,w,N,T,ca,n;u=v.Z.get(z.OJ).ZY();x=v.Z.get(m.V7).Lx;w={};w.Qw=v.UN("ASE");w.FMa=v.UN("JS-ASE",void 0,"Platform");w.Cc=v.UN;w.storage=G.storage;w.Rp=G.Rp;w.aYa=k.fJ;w.getTime=r.Ra;w.sA={};w.Pa=b.Pa;w.Wo=d.Wo;w.Lx=x;w.MediaSource=p.fAa;w.SourceBuffer=h.o$;w.Xnb=function(){};x=new Promise(function(a){G.storage.load("nh",function(b){w.sA.nh=b.K?b.data:void 0;a();});});N=new Promise(function(a){G.storage.load("lh",function(b){w.sA.lh=b.K?b.data:void 0;a();});});T=new Promise(function(a){G.storage.load("gh",function(b){w.sA.gh=b.K?b.data:void 0;a();});});ca=new Promise(function(a){G.storage.load("sth",function(b){w.sA.sth=b.K?b.data:void 0;a();});});n=new Promise(function(a){G.storage.load("vb",function(b){w.sA.vb=b.K?b.data:void 0;a();});});Promise.all([x,N,n,ca,T]).then(function(){var b,d;b=a(531)(w);d=a(528);c.Dj=a(256);c.Dj.declare(d.Lv);c.Dj.declare({Bx:["useMediaCache",!1],Ez:["diskCacheSizeLimit",0],omb:["dailyDiskCacheWriteLimit",0],nP:["mediaCachePrefetchMs",8E3],s2:["mediaCachePartitionConfig",{}]});c.Dj.set(a(137)(l.config),!0,v.UN("ASE"));b=d.G1a(b);c.Oi=new b(c.Dj,u);c.Oi.Xc(l.config.AX,l.config.DX,{Qw:w.Qw},l.config.sQ);f(g.cb);})["catch"](function(a){w.Qw.error("Exception loading location history from local storage",a);});});},function(f,c,a){var g,m,p,r,u,v,z,w,k,x,y,C,F,N,T,ca,n,q,B,ja,V,D,S,da,X,U,ha,ba,ea,ia,ka,ua,la,A;function b(a){switch(a){case D.u.Ox:return"http";case D.u.rC:return"connectiontimeout";case D.u.ku:return"readtimeout";case D.u.tT:return"corruptcontent";case D.u.No:return"abort";case D.u.sC:case D.u.xT:return"unknown";}}function d(b,d,g,p){var m,r,f,v,y;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(b.devmod=nrdp.device.deviceModel);d.DM&&(b.pbcrid=d.DM);d.ge&&(b.playbackoffline=d.ge,b.oxid=d.n3,b.offlinenetworkstatus=d.goa);p&c.jg&&(ca.ea(!b||void 0===b.moff),0<=d.pc.value&&(b.moff=n.MC(d.pc.value)));if(p&c.$x){m=a(13);r=d.Ya[m.G.VIDEO].value;m=d.Ya[m.G.AUDIO].value;f=d.Et.value;v=d.Tl.value;r&&(b.cdnid=r.id,b.cdnname=r.name);m&&(b.acdnid=m.id,b.acdnname=m.name);f&&(b.adlid=f.stream.ac,b.abitrate=f.stream.J);v&&(b.vdlid=v.stream.ac,b.vbitrate=v.stream.J,b.vheight=v.stream.height,b.vwidth=v.stream.width);}p&c.Me&&(d.bb&&(b.abuflbytes=d.FX(),b.abuflmsec=d.sv(),b.vbuflbytes=d.q6(),b.vbuflmsec=d.Ex()),(r=d.Sk&&d.Sk.$Wa&&d.Sk.$Wa())&&(b.curdlstatename=r));if(p&c.NJ){l(b);try{y=d.Xf.getBoundingClientRect();b.rendersize=y.width+"x"+y.height;b.renderpos=y.left+"x"+y.top;}catch(Ba){}}p&c.nr&&(y=ba.Tg.hardwareConcurrency,0<=y&&(b.numcores=y),0<=d.VY&&(b.cpuspeed=d.VY),(y=d.fN&&d.fN.BWa())&&(b.droppedFrames=JSON.stringify(y)),y=d.fN&&d.fN.U_(u.config.UTa),n.Kb(y,function(a,c){b["droppedFramesP"+a]=JSON.stringify(c);}));if(p&c.MJ)try{b.pricdnid=d.mpa.id;b.cdninfo=JSON.stringify(d.Ej.map(function(a){return{id:a.id,nm:a.name,rk:a.Fd,wt:a.location.weight,lv:a.location.level};}));}catch(Ba){}g&&p&c.gU&&(ca.ea(d.Gg),(g=d.Gg)?h(b,g):b.errorcode=D.v.Vg,b.errorcode===B.lJ+D.v.V$&&(b.lastSyncWithVideoElement=x.Ra()-d.Vra));}function h(a,c){ca.ea(c.errorCode);a.errorcode=B.lJ+(c.errorCode||D.v.Vg);c.R&&(a.errorsubcode=c.R);c.ub&&(a.errorextcode=c.ub);c.Wv&&(a.erroredgecode=c.Wv);c.za&&(a.errordetails=c.za);c.Fg&&(a.httperr=c.Fg);c.AP&&(a.aseneterr=c.AP);c.ji&&(a.errordata=c.ji);c.xG&&(a.mediaerrormessage=c.xG);if(c.ub===D.hu.iua||c.ub===D.hu.dua||c.ub===D.hu.gua||c.ub===D.hu.hua||c.ub===D.hu.fua||c.ub===D.hu.eua)a.nccperr=c.ub;(c=b(c.R))&&(a.nwerr=c);}function l(a){a.screensize=ba.dm.width+"x"+ba.dm.height;a.screenavailsize=ba.dm.availWidth+"x"+ba.dm.availHeight;a.clientsize=t.innerWidth+"x"+t.innerHeight;}Object.defineProperty(c,"__esModule",{value:!0});g=a(188);m=a(28);p=a(288);r=a(6);u=a(4);v=a(92);z=a(16);w=a(25);k=a(73);x=a(17);y=a(3);C=a(216);F=a(369);N=a(65);T=a(211);ca=a(8);n=a(19);q=a(7);B=a(36);ja=a(58);V=a(26);D=a(2);S=a(14);da=a(42);X=a(349);U=a(287);ha=a(537);ba=a(5);ea=a(32);ia=a(46);ka=a(15);ua=a(362);la=a(536);A=a(212);c.PAa=function(h){var wb,Fa,Ga,Da,Ma,Ia,Na,Ua,Oa,Wa,Qa,Xa,ab,Va,cb,Za,ib,eb,$a,fb,kb,lb,qb,jb,sb,tb,rb,xb,bb,yb,ob,pb;function l(a,b,c,g,p){d(g,h,b,c);a=new v.Zx(h,a,p||(b?"error":"info"),g);t._cad_global.logBatcher.Vl(a);}function f(a){var b,d,v,C,X,F,G,N,T,U,ca,ha,Z,D,O,ea,ia,S,da,ua,Ba,ta,Ya,Ra;b={};try{b={browserua:ba.Ug,browserhref:location.href,playdelaysdk:n.kk(h.xOa()),applicationPlaydelay:n.kk(h.rOa()),playdelay:n.kk(h.wOa()),trackid:h.Zf,connection_type:"parallel"===u.config.CPa?"multi":"single",bookmark:n.kk(h.rm||0),pbnum:h.index,endianness:w.mXa()};u.config.sUa&&(b.transitiontime=h.ux,b.uiplaystarttime=h.Pb.KR,b.playbackrequestedat=h.SA.qa(q.Ma),b.clockgettime=x.Ra(),b.clockgetpreciseepoch=x.AM(),b.clockgetpreciseappepoch=x.Sga(),b.absolutestarttime=h.TN(),b.relativetime=h.Us());Aa(b,"startplay");}catch(Kb){wb.error("error in startplay log fields",Kb);}h.vv&&(b.blocked=h.vv);u.config.endpoint||(b.configendpoint="error");h.Dc&&(b.playbackcontextid=h.Dc);h.CM&&(b.controllerESN=h.CM);if(u.config.XR&&h.Pb.v6){for(var p={},m=Object.keys(h.Pb.v6),r,f=m.length;f--;)r=m[f],p[r.toLowerCase()]=h.Pb.v6[r];b.vui=p;}ka.da(h.lga)&&(b.bookmarkact=n.kk(h.lga));(p=Ga.wWa())&&(b.nccpat=p);(p=Ga.OXa()||h.XO&&h.XO.qa(q.Ma))&&(b.nccplt=p);(p=tf())&&(b.downloadables=p);t._cad_global.device&&ka.$a(t._cad_global.device.Oz)&&(b.esnSource=t._cad_global.device.Oz);B.Yh&&n.oa(b,B.Yh,{prefix:"pi_"});u.config.hN&&(b.congested=g.Ev&&g.Ev.BF()&&g.Ev.BF().isCongested);(p=ba.Tg&&ba.Tg.connection&&ba.Tg.connection.type)&&(b.nettype=p);h.gla&&(b.initSelReason=h.gla);h.fA&&(b.initvbitrate=h.fA);h.tfa&&(b.actualbw=h.tfa);h.Mt&&(b.selector=h.Mt);b.fullDlreports=h.tia;b.hasasereport=h.Kj;b.hashindsight=h.Lk;h.Rka&&(b.histdiscbw=h.Rka);h.fla&&(b.initseldiscbw=h.fla);void 0!==h.bG&&(b.isConserv=h.bG);void 0!==h.Pn&&(b.ccs=h.Pn);h.JO&&(b.isLowEnd=h.JO);if(p=h.IZa)b.histtdmax=ka.da(p.max)?Number(p.max).toFixed(2):void 0,b.histtdp90=ka.da(p.XG)?Number(p.XG).toFixed(2):void 0,b.histtdp75=ka.da(p.kh)?Number(p.kh).toFixed(2):void 0,b.histtdp50=ka.da(p.Tf)?Number(p.Tf).toFixed(2):void 0,b.histtdp25=ka.da(p.jh)?Number(p.jh).toFixed(2):void 0,b.histtdp10=ka.da(p.WG)?Number(p.WG).toFixed(2):void 0,b.histtdmin=ka.da(p.min)?Number(p.min).toFixed(2):void 0;h.rE&&(b.bcreason=h.rE);if(h.state.value>=z.lk)try{v=h.Fl();if(v){C=k.cva(v);kb=w.N6(C);lb=k.dva(v);d=0<v.length?la.R1a(v,function(a){return a.J;}):void 0;b.maxbitrate=kb;b.maxresheight=lb;}}catch(Kb){wb.error("Exception computing max bitrate",Kb);}try{X=w.eO();X&&(b.pdltime=X);}catch(Kb){}try{n.oa(b,h.de,{prefix:"sm_"});n.oa(b,h.kO(),{prefix:"vd_"});}catch(Kb){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&h.ZA&&(b.pssh=h.ZA);h.bh&&h.bh.Oh&&h.bh.Oh.keySystem&&(b.keysys=h.bh.Oh.keySystem);if(u.config.Rm&&t._cad_global.videoPreparer)try{v={};F=t._cad_global.videoPreparer.getStats(void 0,void 0,h.M);G=h.TN();N=F.Vt.tPa;v.attempts=F.kpa||0;v.num_completed_tasks=N.length;T=y.Z.get(V.Re).pVa;C={};U=ja.tc.ud.oba;ca=ja.tc.ud.bm;ha=ja.tc.ud.UI;Z=ja.tc.ud.bC;D=ja.tc.ud.TI;F.Kh&&(C.scheduled=F.Kh-G);O=h.Sa;O&&ka.$a(O.ax)&&(C.preauthsent=O.ax-h.Ed,C.preauthreceived=O.eB-h.Ed);ea=N.filter(T("type","manifest"));v.mf_succ=ea.filter(T("status",U)).length;v.mf_fail=ea.filter(T("status",ca)).length;ia=h.de;ka.$a(ia.lg)&&0>ia.lg&&h.Ed&&(C.ldlsent=ia.lc,C.ldlreceived=ia.lr);S=N.filter(T("type","ldl"));v.ldl_succ=S.filter(T("status",U)).length;v.ldl_fail=S.filter(T("status",ca)).length;F=!0;if(!C.preauthreceived||0<=C.preauthreceived)F=!1;da=S.filter(T("status",ha)).length;ua=S.filter(T("status",Z)).length;Ba=S.filter(T("status",D)).length;u.config.RZ&&0===da+ua+Ba&&(!C.ldlreceived||0<=C.ldlreceived)&&(F=!1);if(u.config.iN){ta=t._cad_global.videoPreparer.VN(h.M);if(ta){if(ta.GN&&(C.headersent=ta.GN-h.Ed),ta.UO&&(C.headerreceived=ta.UO-h.Ed),ta.WA&&(C.prebuffstarted=ta.WA-h.Ed),ta.eH&&(C.prebuffcomplete=ta.eH-h.Ed),!C.prebuffcomplete||0<=C.prebuffcomplete)F=!1;}else F=!1;}Ya=N.filter(T("type","getHeadersAndMedia"));v.hm_succ=Ya.filter(T("status",U)).length;v.hm_fail=Ya.filter(T("status",ca)).length;n.oa(b,v,{prefix:"pr_"});b.eventlist=JSON.stringify(C);b.prefetchCompleted=F;Eb(b);}catch(Kb){wb.warn("error in collecting video prepare data",Kb);}b.avtp=jb.Nl().rx;h.jj&&ma(b);if(h.Fc.value)try{b.ttTrackFields=h.Fc.value.Zi;}catch(Kb){}if(N=h.gc&&h.gc.value&&h.gc.value.Db){Ra={};N.forEach(function(a){Ra[a.le]=void 0;});b.audioProfiles=Object.keys(Ra);}Nc(b);h.Sa&&"boolean"===typeof h.Sa.isSupplemental&&(b.isSupplemental=h.Sa.isSupplemental);b.headerCacheHit=!!h.$n;h.$n&&(b.headerCacheDataAudio=h.$n.audio,b.headerCacheDataAudioFromMediaCache=h.$n.audioFromMediaCache,b.headerCacheDataVideo=h.$n.video,b.headerCacheDataVideoFromMediaCache=h.$n.videoFromMediaCache);void 0!==h.iga&&(b.bookmarkAdjustment=h.iga);h.Sa&&(b.packageId=h.Sa.packageId);h.Sa&&h.Sa.choiceMap&&(b.hasChoiceMap=!0);void 0===bb&&void 0!==d&&(bb=xb.e_(d));void 0===ob&&(ob=yb.gVa());h.Pb.Qf&&(b.isBranching=!0);H(h,b);sa(b);zd(b);oa(b);pa(b);ra(b);xa(b);ya(b);l("startplay",a,c.jg|c.$x|c.Me|c.NJ|c.nr|c.MJ|c.gU,b);}function G(){var a,b,d;a={waittime:n.kk(h.Us()),abortedevent:"startplay",browserua:ba.Ug,trackid:h.Zf};h.Dc&&(a.playbackcontextid=h.Dc);b=h.Ai;b&&b.value&&(a.vbitrate=b.value.J);h.fA&&(a.initvbitrate=h.fA);try{d=w.eO();d&&(a.pdltime=d);n.oa(a,h.de,{prefix:"sm_"});}catch(yd){}fa(a,!0);xa(a);ya(a);Nc(a);Db(a);l("playbackaborted",!1,c.jg|c.Me|c.nr,a);}function Z(a,b,d){a=n.oa({vdlid:h.Ai.value.ac,playingms:a,pausedms:b,intrplayseq:Za++},d);Aa(a,"intrplay");a.cdnid=a.vcdnid=h.Ya[pb.G.VIDEO].value&&h.Ya[pb.G.VIDEO].value.id;a.acdnid=h.Ya[pb.G.AUDIO].value&&h.Ya[pb.G.AUDIO].value.id;a.locid=Oa&&Oa.F1;a.loclv=Oa&&Oa.vma;u.config.hN&&(a.congested=g.Ev&&g.Ev.BF()&&g.Ev.BF().isCongested);a.avtp=jb.Nl().rx;h.jj&&(fa(a,!0),ma(a),hb(a));try{n.oa(a,h.kO(),{prefix:"vd_"});}catch(yd){}H(h,a);l("intrplay",!1,c.jg|c.Me|c.Me,a);}function O(){l("timedtextrebuffer",!1,c.jg|c.Me,{track:h.Fc.value.Zi});}function Sa(a){a.newValue&&Da&&l("timedtextswitch",!1,c.jg|c.Me,{track:a.newValue.Zi});}function ta(a){l("serversel",!1,c.jg|c.Me,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});}function db(a){l("asereport",!1,c.Me,{strmsel:a.strmsel});}function Ba(a){l("aseexception",!1,c.Me,{msg:a.msg});}function Ya(){var a,b;if(h.Ej)try{a=!1;Fa%u.config.fF&&!h.Kj&&(a=!0,$a=$a.filter(function(a){return!a.K;}));if(0<$a.length){b=p.DPa($a,h.SA.qa(q.Ma));$a=[];b.erroronly=a;u.config.bN.length&&(b.tcpinfo=u.config.bN.join(","));n.Kb(b,function(a,c){b[a]=JSON.stringify(c);});l("dlreport",!1,c.Me,b);}}catch(xd){wb.error("Exception in dlreport.",xd);}}function Ra(a){var d,g,p,m,r,f;d=a.request;g=a.request.bj;p=d.track;if(p){m=!a.K&&a.R!=D.u.No;r=p.type;f=a.xf;if(m||h.nG){g={dltype:r,url1:d.url,url2:a.url||"",cdnid:d.Ya&&d.Ya.id,tresp:n.kk(f.hf-f.requestTime),brecv:n.OAa(f.Op),trecv:n.kk(f.Zj-f.hf),sbr:g&&g.J};a.Fq&&(g.range=a.Fq);switch(r){case k.$q:g.adlid=d.stream.ac;break;case k.ar:g.vdlid=d.stream.ac;break;case k.nS:g.ttdlid=p.ac;}(d=b(a.R))&&(g.nwerr=d);a.Fg&&(g.httperr=a.Fg);l("dlreq",m,c.Me,g);}}}function zb(){var a,b;if(h.state.value==z.lk){a=Qe();u.config.u4&&(a.avtp=jb.Nl().rx,h.jj&&ma(a));a.midplayseq=ib++;b=h.Tb.value;a.prstate=b==z.em?"playing":b==z.Vo?"paused":b==z.pr?"ended":"waiting";!h.ge&&u.config.Z8a&&vb("midplay");u.config.Rm&&t._cad_global.videoPreparer&&Eb(a);zd(a);oa(a);l("midplay",!1,c.jg|c.Me|c.nr|c.NJ,a);}}function vb(a){var b,d;b={};b.trigger=a;try{d=h.V_();b.subtitleqoescore=h.Pq.LYa(d);b.metrics=JSON.stringify(h.Pq.d0(d));}catch(yd){wb.error("error getting subtitle qoe data",yd);}l("subtitleqoe",!1,c.jg|c.nr|c.$x,b,"info");}function H(a,b){var c,d;if(u.config.j_a){c=a.W_();if(c){b.segment=c;d=a.Ts();a:{if(a=a.XN())if(c=a[c]){c=c.lR;break a;}c=void 0;}null!==d&&void 0!==c&&(b.segmentoffset=d-c);}}}function hb(a){var b,c;b=h.x0;c=b&&b.Q7a;b&&b.Xka&&(a.htwbr=b.Xka,a.pbtwbr=b.NP,a.hptwbr=b.UZa);b&&b.Aqa&&(a.rr=b.Aqa,a.ra=b.L6a);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));}function Nc(a){var b,c;b=h.Ud&&h.Ud.value&&h.Ud.value.Db;if(b){c={};b.forEach(function(a){c[a.le]=void 0;});a.videoProfiles=Object.keys(c);}}function Db(a){var b,c,d;try{b=y.Z.get(V.Re).createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){d=c.getExtension("WEBGL_debug_renderer_info");d&&(a.WebGLRenderer=c.getParameter(d.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(d.UNMASKED_VENDOR_WEBGL));}}catch(zf){}}function P(a){var b,d,g,p,k,X;b=Qe();d=[];Aa(b,"endplay");b.browserua=ba.Ug;h.Go&&"downloaded"===h.Go.pka()&&(b.trickplay_ms=h.oI.offset,b.trickplay_res=h.oI.mqa);u.config.l6&&(b.rtinfo=h.vYa());u.config.u4&&(sb.LWa().forEach(function(a){d.push({cdnid:a.iz,avtp:a.rx,tm:a.DZ});}),b.avtp=jb.Nl().rx,b.cdnavtp=d,h.jj&&ma(b));void 0!==h.bG&&(b.isConserv=h.bG);void 0!==h.Pn&&(b.ccs=h.Pn);b.endreason=a?"error":h.Tb.value==z.pr?"ended":"stopped";h.wM&&n.oa(B.Yh,{cast_interaction_counts:h.wM.KW});B.Yh&&n.oa(b,B.Yh,{prefix:"pi_"});g=h.Gg;a&&g&&y.kxa(g.errorCode)&&(p="info");try{n.oa(b,h.de,{prefix:"sm_"});}catch(Af){}h.K0&&(b.inactivityTime=h.K0);fa(b,"info"!==p&&a);hb(b);if(h.yv){for(var g=h.yv,m=u.config.ez,r=ka.da(h.Ed)?h.Ed:h.bSa,f={iv:m,seg:[]},v=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},x=g.Ln.map(v),v=g.Ho.map(v),C,w=0;w<x.length;w++){if(x[w]||v[w])C?(C.ams.push(x[w]),C.vms.push(v[w])):C={ams:[g.Ln[w]],vms:[g.Ho[w]],soffms:g.startTime+w*m-r};w!==x.length-1&&x[w]&&v[w]||!C||(f.seg.push(C),C=void 0);}b.bt=JSON.stringify(f);}if(h.mP&&0<h.mP.length){k=[];h.mP.forEach(function(a){k.push({soffms:a.time-h.Ed,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});b.maxvbevents=k;}if(h.bb&&h.bb.ec.A6a){X=[];h.bb.ec.A6a.forEach(function(a){X.push({t:a.t-h.Ed,p:a.p,b:a.Cp,bl:a.FNa});});b.psd=JSON.stringify(X);}h.tpa&&(b.psdConservCount=h.tpa);h.bb&&h.bb.ec.kB&&(b.rl=JSON.stringify(h.bb.ec.kB),b.rlmod=h.bb.ec.jB);a&&(Nc(b),Db(b));vb("endplay");u.config.Rm&&t._cad_global.videoPreparer&&Eb(b);h.Pb.Qf&&(b.isBranching=!0);H(h,b);sa(b);zd(b);oa(b);pa(b);h.QM&&(b.dqec=h.QM);ra(b);ya(b);Ca(b);ob&&(b.externaldisplay=ob.pF);l("endplay",a,c.jg|c.$x|c.Me|c.nr|c.NJ|c.gU,b,p);}function tc(a){a=S.NH(a);a.details&&(a.details=JSON.stringify(a.details));l("subtitleerror",!0,c.jg|c.$x|c.MJ,a);}function tf(){var a;if(h.EI&&h.js){a=[];h.EI.concat(h.js).forEach(function(b){b.Db.forEach(function(b){a.push({dlid:b.ac,type:b.type,bitrate:b.J,vmaf:b.je});});});return JSON.stringify(a);}}function Y(){var b,c,d;function a(a,b){var g,p,h;g=a.cdnId;p=d[g];h=a.vmaf;p||(p={cdnid:g,dls:[]},d[g]=p,c.push(p));ca.Es(a.bitrate);ca.Es(a.duration);g={bitrate:a.bitrate,tm:ba.ve(a.duration)};h&&(ca.Es(a.vmaf),g.vf=h);g[b]=n.Zc(a.downloadableId);p.dls.push(g);}b=h.Sl.uWa();c=[];d={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);}function Qe(){var a,b,c,d,g,p,m,l,r,f,u,v,x,y,z;a=h.Sl;b={totaltime:n.MC(a.h0()),cdndldist:Y(),reposcount:cb,intrplaycount:Za};try{c={numskip:0,numlowqual:0};d=h.bf;g=d.bO();ka.da(g)&&(b.totfr=g,c.numren=g);g=d.Zv();ka.da(g)&&(b.totdfr=g,c.numrendrop=g);g=d.CF();ka.da(g)&&(b.totcfr=g,c.numrenerr=g);g=d.cO();ka.da(g)&&(b.totfdl=g);b.playqualvideo=JSON.stringify(c);b.videofr=h.Ai.value.RN.toFixed(3);p=a.Aja();p&&(b.abrdel=p);m=a.yZa()&&a.AWa();m&&(b.tw_vmaf=m);l=a.yWa();l&&n.oa(b,l);b.rbfrs=Za;b.maxbitrate=kb;b.maxresheight=lb;r=h.Ud.value.Db;for(x=0;x<r.length;x++){f=r[x];if(v=h.v2.Mq(f)){ca.ea(u);b.maxbitrate=u?u.J:0;b.maxresheight=u?u.height:0;b.bitratefilters=v.join("|");break;}u=f;}if(h&&h.Gtb&&h.KOa&&h.TX){y=h.KOa;z={ab:ba.Xh(y.Wkb),actual60:h.TX.VYa(),b20:ba.Xh(y.Ykb),b50:ba.Xh(y.Zkb),b90:ba.Xh(y.$kb),std:ba.Xh(y.Rsb),ns:y.otb,ss:y.gx,filt:y.filter};b.expectedbw=JSON.stringify(z);}h.Go&&(b.trickplay=h.Go.pka());null!==h.Pq.PX&&(b.avg_subt_delay=h.Pq.PX);}catch(uf){wb.error("Exception reading some of the endplay fields",uf);}n.oa(b,h.kO(),{prefix:"vd_"});return b;}function aa(){l("blockedautoplay",!1,c.jg|c.nr,{browserua:ba.Ug});}function ga(){var a,b,c;b=[];if(u.config.z2a){c={nna:function(){},$qa:function(){zb();}};tb.addListener(c);u.config.A2a.forEach(function(a){b.push(setTimeout(zb,a));});u.config.qna&&(a=setInterval(Oc,u.config.qna));h.addEventListener(z.Qe,function(){tb.removeListener(c);b.forEach(function(a){clearTimeout(a);});a&&clearInterval(a);});}}function Oc(){t._cad_global.logBatcher.flush(!0)["catch"](function(){return wb.warn("failed to flush logbatcher on midplay interval");});}function Eb(a){var b;try{b=t._cad_global.videoPreparer.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.rja);}catch(xd){}}function zd(a){wb.debug("httpstats",m.Za.ad);n.oa(a,m.Za.ad,{prefix:"http_"});}function fa(a,b){u.config.Mha&&!(Fa%u.config.Mha)&&h.bb&&h.bb.S0&&(a.ASEstats=JSON.stringify(h.bb.S0(b)));}function ma(a){var b,c;b=h.jj.Hb.get(!0);if(b.$b&&b.ia){a.aseavtp=Number(b.ia.ta).toFixed(2);a.asevartp=Number(b.ia.cg).toFixed(2);if(b.Xi){c=b.Xi.Om;!c||isNaN(c.kh)||isNaN(c.jh)||isNaN(c.Tf)||(a.aseniqr=0<c.Tf?Number((c.kh-c.jh)/c.Tf).toFixed(2):-1,a.aseiqr=Number(c.kh-c.jh).toFixed(2),a.asemedtp=Number(c.Tf).toFixed(2));a.iqrsamples=b.Xi.vo;}b.dk&&b.dk.aq&&(a.tdigest=b.dk.aq());}}function oa(a){var b;try{b=ba.cm.memory;ka.V_a(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(xd){}}function pa(a){var b;b=h.bh;u.config.IOa&&b&&!u.config.dn&&(a.keystatuses=h.n3a(b.QV),wb.trace("keystatuses",a.keystatuses));}function ra(a){try{u.config.DE&&(a.battery=h.FWa(),wb.trace("batterystatuses",a.battery));}catch(wd){}}function sa(a){try{h.jpa&&(a.pf_stats=h.jpa,y.log.trace("prefetch summary",JSON.stringify(h.jpa,[" "],"\t")));h.irb&&(a.preCachedMedia=!0);}catch(wd){wb.warn("error generating pf_stats",wd);}}function xa(a){var b;b=h.Pb.jf;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);}function ya(a){if(rb)try{a.storagestats=rb.getData();}catch(wd){}}function Ca(a){bb&&bb.Zg&&(a.media_capabilities_smooth=bb.Zg.l$a,a.media_capabilities_efficient=bb.Zg.J5a,a.media_capabilities_bitrate=bb.Zg.J,a.media_capabilities_height=bb.Zg.height,a.media_capabilities_width=bb.Zg.width);}function Aa(a,b){var c;c=h.aq(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});}wb=y.Je(h,"NccpLogging");Fa=h.aa;Ga=h.dj;Ma=h.paused.value;Va=[];cb=0;Za=0;ib=0;eb=0;$a=[];jb=y.Z.get(C.RU)();sb=y.Z.get(F.s7);tb=y.Z.get(N.jr);xb=y.Z.get(ua.m$);yb=y.Z.get(A.v8);u.config.sMa&&(rb=y.Z.get(T.M6));pb=a(13);ca.ea(Ga);ca.ea(t._cad_global.logBatcher);(function(){var d;function a(a){function c(a){var b;if(h.Sb&&h.Sb.sourceBuffers){b=h.Sb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.Nj(),updating:b.updating(),ranges:b.WN()};}}Qa="rebuffer";a={cause:a.cause};a.cause&&a.cause===z.raa&&(a.mediaTime=h.pc.value,a.buf_audio=c(r.b$),a.buf_video=c(r.FJ));Z(Va[z.em]||0,Va[z.Vo]||0,a);Ia=x.Ra();ea.Xa(b);}function b(){var a,b;if(Ia&&h.Tb.value!=z.Zh){a=x.Ra()-Ia;b=Xa;b={playdelay:n.kk(a),reason:Qa,intrplayseq:Za-1,skipped:b};H(h,b);l("resumeplay",!1,c.jg|c.$x|c.Me,b);"rebuffer"==Qa&&h.Sl.NLa(n.kk(a));Na&&Na!=h.gc.value&&l("audioswitch",!1,c.jg|c.Me,{switchdelay:n.kk(x.Ra()-Ua),newtrackinfo:h.gc.value.Ab,oldtrackinfo:Na.Ab});Xa=Qa=Ia=void 0;}}h.addEventListener(ia.Ea.Hz,Ra,r.by);h.addEventListener(ia.Ea.vv,aa);if(u.config.fF||u.config.az)h.addEventListener(ia.Ea.Hz,function(a){$a.push(p.EPa(a));}),eb=setInterval(Ya,u.config.FTa);u.config.u4&&h.addEventListener(ia.Ea.Hz,function(a){var b,c,d;b=q.Cb(a.xf.hf);c=q.Cb(a.xf.Zj);d=da.ga(a.xf.Op||0);d.Sla()||d.Ala()||(b=new X.Yaa(b,c),jb.cM(new U.FS(b,d)),a&&a.request&&a.request.bj&&a.request.bj.Ec&&sb.cM(new ha.jva(b,d,a.request.bj.Ec)));});h.paused.addListener(function(a){var b;b=a.newValue;a.r3a&&b||b==Ma||(a={newstate:b?"Paused":"Playing",oldstate:Ma?"Paused":"Playing"},H(h,a),l("statechanged",!1,c.jg|c.Me,a),Ma=b);});h.addEventListener(z.XJ,a);h.addEventListener(z.mDa,a);h.addEventListener(z.Haa,O);h.up.addListener(Sa);h.Tb.addListener(function(a){var b;a=a.oldValue;b=x.Ra();a==z.Zh?Va=[]:Va[a]=(Va[a]||0)+(b-ab);ab=b;});h.addEventListener(z.AU,function(a){var d,g;switch(a.cause){case z.taa:case z.yU:if(Qa&&Ia){d=x.Ra()-Ia;g=Qa;d={waittime:n.kk(d),abortedevent:"resumeplay",browserua:ba.Ug,resumeplayreason:g};h.Dc&&(d.playbackcontextid=h.Dc);(g=h.Ai)&&g.value&&(d.vbitrate=g.value.J);h.fA&&(d.initvbitrate=h.fA);l("playbackaborted",!1,c.jg|c.Me,d);}else Da||G();Qa="repos";a={moffold:n.MC(a.RG),reposseq:cb++};l("repos",!1,c.jg|c.Me,a);Ia=x.Ra();ea.Xa(b);}});h.Tb.addListener(b);h.gc.addListener(function(a){Ua=x.Ra();Na=a.oldValue;});h.addEventListener(z.mg,function(){ca.ea(!Da);Da=!0;f(!1);ga();u.config.jla&&(fb=setTimeout(function(){t._cad_global.logBatcher&&t._cad_global.logBatcher.flush(!1)["catch"](function(){return wb.warn("failed to flush logbatcher on initialLogFlushTimeout");});fb=void 0;},u.config.jla));});h.addEventListener(z.Qe,function(){fb&&clearTimeout(fb);if(u.config.fF||u.config.az)eb&&clearInterval(eb),Ya();Da?P(!!h.Gg):h.Gg?f(!0):G();qb||(l=r.Gb);});h.cz&&h.cz.addListener(function(a){l("bitraterestriction",!1,c.jg|c.Me,a.newValue);});h.Ai.addListener(function(a){var b,d,g;if(a.oldValue&&a.Lga){b=a.oldValue;d=a.newValue;g=a.tNa;a={moff:n.MC(a.Lga),vbitrate:d.J,vbitrateold:b.J,vdlid:d.ac,vdlidold:b.ac,vheight:d.height,vheightold:b.height,vwidth:d.width,vwidthold:b.width,bw:g};H(h,a);l("chgstrm",!1,c.Me,a);}});h.Tl.addListener(function(a){var b,g;if(a.newValue){b=a.newValue.stream;if(d!=b){if(d){g=d;a={moff:n.MC(a.newValue.yM.startTime),vbitrate:b.J,vdlidold:g.ac,vdlid:b.ac,vbitrateold:g.J};H(h,a);l("renderstrmswitch",!1,c.Me,a);}d=b;}}});h.addEventListener(z.Baa,function(a){function b(a,b){var d,g,p,h,m;if(!a||a.F1!==b.location){d={F1:b.location,vma:b.locationlv,f5:b.serverid,HH:b.servername};g=b.serverid;p=b.serverrtt;h=b.serverbw;m={locid:b.location,loclv:b.locationlv,selocaid:g,selocaname:b.servername};m.mediatype=b.mediatype;m.selcdnrtt=p;m.selcdnbw=h;m.selreason=b.selreason;m.testreason=b.testreason;m.fastselthreshold=b.fastselthreshold;m.seldetail=b.seldetail;m.cdnbwdata=JSON.stringify([{id:g,rtt:p,bw:h}]);a&&(m.oldlocid=a.F1,m.oldloclv=a.vma,m.oldocaid=a.f5,m.oldocaname=a.HH);l("cdnsel",!1,c.MJ,m);return d;}}"audio"===a.mediaType?(a=b(Wa,a))&&(Wa=a):(a=b(Oa,a))&&(Oa=a);});h.addEventListener(z.Caa,ta);h.addEventListener(z.vaa,db);h.addEventListener(z.uaa,Ba);u.config.Sh&&(qb=!0);h.addEventListener(z.Faa,tc);h.addEventListener(z.Eaa,function(){Xa=!0;});}());this.KQ=function(a){a.browserua=ba.Ug;l("securestop",!a.success,c.jg|c.nr,a);l=r.Gb;};this.transition=function(a){l("transition",!1,0,a);};};c.SAa=b;c.Ohb=d;c.QAa=h;c.RAa=l;c.jg=1;c.$x=2;c.Me=4;c.NJ=8;c.nr=16;c.MJ=32;c.gU=64;},function(f,c,a){var b,d,h,l,g,m,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(296);d=a(4);h=a(6);l=a(297);g=a(2);m=a(295);p=a(293);c.storage=c.storage||void 0;c.Rp=c.Rp||void 0;f.Dd(g.v.j9,function(a){var g;switch(d.config.qR){case"fs":g=b.L$a;break;case"idb":g=m.M$a;break;case"none":g=l.O$a;break;case"ls":g=p.N$a;}g(function(b){b.K?(c.storage=b.storage,c.Rp=b.Rp,a(h.cb)):a(b);});});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.oaa="PboPlaydataServicesSymbol";c.VJ="PboPlaydataServicesProviderSymbol";},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(19);d=a(8);h=a(143);c.Vh="$attributes";c.$R="$children";c.aS="$name";c.Io="$text";c.mta="$parent";c.$B="$sibling";c.$4a=/^\s*\<\?xml.*\?\>/i;c.Tqb=function(a,b,d){a=(a||"").replace(c.$4a,"");h.C6('<nccp:wrapper xmlns:nccp="http://www.netflix.com/eds/nccp/'+b+'">'+a+"</nccp:wrapper>",d);};c.eXa=function(a,b,c){for(var d=2;d<arguments.length;++d);for(d=1;(b=arguments[d++])&&(a=a[b]););return a;};c.Qqb=function(a,g){var h;a?h=b.Zc(a[c.Io]):void 0!==g&&(h=g);d.OM(h);return h;};c.Y4a=function(a){var b;a&&(b=a[c.Io]);d.uSa(b);return b;};c.Npb=function(a,b){var d;d={};d[c.Vh]=a;d[c.Io]=b;return d;};},function(f,c,a){var d,h,l,g;function b(a,b,c){var h;h=l.XI.call(this,a,b,d.FC.$ba)||this;h.config=a;h.u2=b;h.is=c;h.type=d.Fi.du;h.YB=g.od.zha();return h;}Object.defineProperty(c,"__esModule",{value:!0});d=a(34);h=a(64);l=a(366);f=a(96);g=a(124);new f.Cu();oa(b,l.XI);b.prototype.Co=function(){return Promise.resolve(!1);};b.prototype.Vz=function(){return Promise.resolve("");};b.prototype.aI=function(){return!1;};b.prototype.ZH=function(){return!1;};b.prototype.bI=function(){return Promise.resolve(!1);};b.prototype.YH=function(){return!1;};b.prototype.YN=function(a){return this.YB[a];};b.prototype.fX=function(a){return a;};b.prototype.Pma=function(a){switch(a){case d.Qg.pn:return"1.4";case d.Qg.nu:return"2.2";}};b.prototype.Iv=function(){var a;a={};a[h.$.fr]="avc1.4D401E";a[h.$.ju]="avc1.4D401F";a[h.$.lC]="avc1.4D4028";a[h.$.lT]="hev1.1.6.L90.B0";a[h.$.mT]="hev1.1.6.L93.B0";a[h.$.nT]="hev1.1.6.L120.B0";a[h.$.oT]="hev1.1.6.L123.B0";a[h.$.pT]="hev1.1.6.L150.B0";a[h.$.qT]="hev1.1.6.L153.B0";a[h.$.dT]="hev1.2.6.L90.B0";a[h.$.fT]="hev1.2.6.L93.B0";a[h.$.hT]="hev1.2.6.L120.B0";a[h.$.jT]="hev1.2.6.L123.B0";a[h.$.pC]="hev1.2.6.L150.B0";a[h.$.qC]="hev1.2.6.L153.B0";a[h.$.eT]="hev1.2.6.L90.B0";a[h.$.gT]="hev1.2.6.L93.B0";a[h.$.iT]="hev1.2.6.L120.B0";a[h.$.kT]="hev1.2.6.L123.B0";a[h.$.US]="hev1.2.6.L90.B0";a[h.$.VS]="hev1.2.6.L93.B0";a[h.$.WS]="hev1.2.6.L120.B0";a[h.$.XS]="hev1.2.6.L123.B0";a[h.$.YS]="hev1.2.6.L150.B0";a[h.$.$S]="hev1.2.6.L153.B0";a[h.$.sJ]="hev1.2.6.L90.B0";a[h.$.tJ]="hev1.2.6.L93.B0";a[h.$.uJ]="hev1.2.6.L120.B0";a[h.$.vJ]="hev1.2.6.L123.B0";a[h.$.wS]=g.od.Ff;a[h.$.xS]=g.od.Ff;a[h.$.yS]=g.od.Ff;a[h.$.zS]=g.od.Ff;a[h.$.AS]=g.od.Ff;a[h.$.M7]=g.od.Ff;a[h.$.aJ]=g.od.Ff;a[h.$.bJ]=g.od.Ff;a[h.$.cJ]=g.od.Ff;a[h.$.dJ]=g.od.Ff;a[h.$.eJ]=g.od.Ff;a[h.$.BS]=g.od.p7;a[h.$.Zba]=g.od.gD;a[h.$.nK]=g.od.gD;a[h.$.oK]=g.od.gD;a[h.$.pK]=g.od.gD;a[h.$.Uba]=g.od.fD;a[h.$.Vba]=g.od.fD;a[h.$.Wba]=g.od.fD;a[h.$.Xba]=g.od.fD;a[h.$.Yba]=g.od.fD;return a;};b.prototype.Y_=function(){return this.config().DI;};b.prototype.Yz=function(){return Promise.resolve(void 0);};b.prototype.IF=function(){return Promise.resolve(void 0);};b.prototype.OE=function(a){var b;b=[];this.is.uf(a)&&b.push(this.Pma(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};b.SB="video/mp4;codecs={0};";c.ik=b;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(34);b.zha=function(a){var c;c={};c[d.Jd.ZC]=b.qJ;c[d.Jd.rJ]=b.qJ;c[d.Jd.jK]=b.mC;c[d.Jd.Mo]=b.Mo;c[d.Jd.Ff]=a||b.Ff;c[d.Jd.yr]=b.gD;return c;};b.qJ="avc1.640028";b.mC="hev1.1.6.L93.B0";b.o7="dvhe.01000000";b.gva="dvhe.dtr.uhd60";b.p7="dvhe.05.09";b.Ff=b.o7;b.Mo=b.mC;b.bS="mp4a.40.2";b.veb="ec-3";b.Ujb="vp9";b.gD="vp09.00.11.08.02";b.fD="vp09.02.31.10.01";b.hva=[b.p7,b.gva,b.o7];c.od=b;},function(f,c){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(c,"__esModule",{value:!0});oa(a,Error);c.ly=a;c.aK="PromiseTimerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.vr=0]="STANDARD";a[a.vC=1]="LIMITED";}(c.Oo||(c.Oo={})));c.u0a=function(a){return["STANDARD","LIMITED"][a];};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.ml=function(){};c.NU="StringObjectReaderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.O7="DebugConfigSymbol";c.gJ="DebugSymbol";},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b){a.call(this);this.ha=b;}b(c,a);c.create=function(a){return new c(a);};c.Xa=function(a){a.Ce.complete();};c.prototype.Ve=function(a){var b;b=this.ha;if(b)return b.lb(c.Xa,0,{Ce:a});a.complete();};return c;}(a(11).pa);c.jC=f;},function(f,c,a){var b,d,h,l;b=a(112);d=a(398);h=a(397);l=a(394);c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return 1===a.length||2===a.length&&b.hw(a[1])?h.from(a[0]):l.IE()(d.of.apply(void 0,a));};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.iC="EmeConfigSymbol";},function(f,c,a){var m;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function d(a,b){return null===a.xq?!1:a.xq.Td===b?!0:d(a.xq,b);}function h(a){function c(a,d){void 0===d&&(d=[]);d.push(b(a.Td));return null!==a.xq?c(a.xq,d):d;}return c(a).reverse().join(" --\x3e ");}function l(a){a.rY.forEach(function(a){if(d(a,a.Td))throw a=h(a),Error(m.Gua+" "+a);l(a);});}function g(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(c,"__esModule",{value:!0});m=a(59);c.$z=b;c.oma=function(a,b,c){var d;d="";a=c(a,b);0!==a.length&&(d="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.ri&&(b=g(a.ri));d=d+"\n "+b;a.Fv.pna&&(d=d+" - "+a.Fv.pna);}));return d;};c.aPa=l;c.w0a=function(a,b){var c,d;if(b.c1()||b.Y0()){c="";d=b.XXa();b=b.aXa();null!==d&&(c+=d.toString()+"\n");null!==b&&b.forEach(function(a){c+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+c;}return" "+a;};c.getFunctionName=g;},function(f,c,a){(function(){var v7A,w,k,x,y,C,F,N,T,n,q,O,B,t,V,D,S;function z(a,b,c,d){var e7A,D9c;e7A=2;while(e7A!==1){D9c="pl";D9c+="ay";D9c+="i";D9c+="n";D9c+="g";switch(e7A){case 2:return D9c===a.cY?v(a,b,c,d):r(a,c,d);break;}}}v7A=2;function c(a,b,c){var I7A;I7A=2;while(I7A!==5){switch(I7A){case 2:a=n(c.Ph,a*c.t2);return T(a,b);break;}}}function l(a){var m7A;m7A=2;while(m7A!==5){switch(m7A){case 2:a.cf=D.iYa(a);return w.wb(a.cf)?!0:!1;break;}}}function h(a,b){var K82=v7AA;var N7A,c,c9c,J9c,g7A,F7A;N7A=2;while(N7A!==9){c9c="s";c9c+="i";c9c+="g";c9c+="m";c9c+="oid";J9c="l";J9c+="o";J9c+="g";switch(N7A){case 1:N7A=0===b.NQ.lastIndexOf(J9c,0)?5:3;break;case 2:K82.I9c(5);g7A=K82.a9c(100013,3,2,100008);K82.o9c(1);F7A=K82.H9c(13,1013);a=q(a,0,g7A)/F7A;N7A=1;break;case 5:c=b.Uqa[b.NQ];return c&&2==c.length?1E3*(c[0]+c[1]*Math.log(1+a)):b.pq;break;case 3:return 0===b.NQ.lastIndexOf(c9c,0)?(c=b.Uqa[b.NQ])&&2==c.length?1E3*(c[0]+c[1]*V(a)):b.pq:b.pq;break;}}}function g(a,b,d){var U7A,r,g,p,f,O9c,e9c,m9c;U7A=2;while(U7A!==17){O9c="no_his";O9c+="t_thr";O9c+="oughput";e9c="hist";e9c+="_thro";e9c+="ughput";m9c="hist_";m9c+="t";m9c+="di";m9c+="ge";m9c+="st";switch(U7A){case 2:U7A=d.filter(function(a){var t7A;t7A=2;while(t7A!==1){switch(t7A){case 2:return 110>=a.je&&0<a.je;break;case 4:return 385>a.je||9<=a.je;break;t7A=1;break;}}}).length<d.length?1:5;break;case 7:g.Qk=b.Cj?b.Cj:0;r=S(g.Qj,{});U7A=14;break;case 1:return m(a,b,d);break;case 14:U7A=w.da(a.OQ)&&0<=a.OQ&&100>=a.OQ&&!w.S(r)&&!w.Ja(r)&&l(r)?13:20;break;case 5:g=new O();g.Lb=d[0];b=g.Lb.ma||{};p=0;g.Qj=b.Cj&&b.dk;U7A=7;break;case 13:p=r.cf(a.OQ/100)||g.Lb.ia,g.Ws=p,g.reason=m9c;U7A=12;break;case 19:p=g.Lb.ia,g.Ws=b.ia,g.reason=e9c;U7A=12;break;case 20:U7A=b.ia&&g.Lb.ia?19:18;break;case 12:f=h(p,a);g.Lb=B(d.reverse(),function(b){var G7A,d;G7A=2;while(G7A!==3){switch(G7A){case 1:G7A=(b=d<f&&b.je>a.Ana&&b.je<a.Y1a)?5:4;break;case 5:g.YF=d;G7A=4;break;case 6:g.YF=d;G7A=1;break;G7A=4;break;case 2:d=c(b.J,p,a);G7A=1;break;case 4:return b;break;}}})||d[0];return g;break;case 18:return g.Lb=B(d,function(b){var r7A;r7A=2;while(r7A!==1){switch(r7A){case 4:return b.je>=a.Ana;break;r7A=1;break;case 2:return b.je>a.Ana;break;}}})||d[0],g.Ws=void 0,g.reason=O9c,g;break;}}}function r(a,b,c){var k7A,g,h,p,m,k9c,X9c;k7A=2;function d(b){var l7A,c,z9c;l7A=2;while(l7A!==8){z9c="bu";z9c+="f";z9c+="f_lt_hi";z9c+="st";switch(l7A){case 4:m=z9c;p=c;return!0;break;case 1:l7A=!c||(b.J>g.J?a.ncb:1)*b.J>c?5:4;break;case 2:c=b.ia;l7A=1;break;case 5:return!1;break;}}}while(k7A!==7){k9c="no_fea";k9c+="sible_st";k9c+="ream";X9c="Must";X9c+=" have at ";X9c+="least one s";X9c+="elected stream";switch(k7A){case 3:b.Lb=g;h!==g&&(b.reason=m,b.Ws=p);return b;break;case 2:N(!w.S(c),X9c);g=b[c],h=g;g.ia&&(g=B(b.slice(0,Math.min(c+(a.pMa?2:1),b.length)).reverse(),d),void 0===g&&(g=b[0],m=k9c,p=g.ia));b=new O();k7A=3;break;}}}function v(a,b,c,d,g,h){var P7A,r,f,v,x,y,z,X,G,T,U,n,ca,q,Z,ha,D,ba,ea,V,t,ja,S,V9c,A9c;P7A=2;while(P7A!==25){V9c="pla";V9c+="yer m";V9c+="iss";V9c+="ing streamingIndex";A9c="Must have at least one se";A9c+="lected str";A9c+="eam";switch(P7A){case 9:return u.call(this,c);break;case 2:N(!w.S(d),A9c);N(w.da(b.al),V9c);r=new O(),f=g=c[d],v=b.buffer.X,x=b.buffer.me,y=b.buffer.Ka,z=b.buffer.Qi,X=b.al,G=z-x,n=this.dL||k.xJ.ng,ca=b.state===k.xa.nf||b.state===k.xa.sn?b.buffer.Mw:0,q=a.p2,Z=a.pw?a.pw:1E3,ba=p(g.T,X,a.u0),ea=p(g.T,X+ba,a.O1);this.Uda||(this.Uda=Math.min(g.J,a.qP));P7A=3;break;case 15:P7A=g.T&&g.T.length?27:20;break;case 13:P7A=d+1<c.length?12:16;break;case 11:G=a.t5&&G>=a.w6?c.length:d+2,V=p(g.T,X,a.w0),t=p(g.T,X+V,a.Q1);P7A=10;break;case 14:P7A=(n=m(g,c[Math.max(d-1,0)],g,ba,ea,!1))?13:15;break;case 3:P7A=n==k.xJ.IFa||!g.ia?9:8;break;case 12:P7A=l.call(this,G,y)?11:20;break;case 20:r.Lb=g||f;r.KE=ha;r.lSa=!n;return r;break;case 10:g=B(c.slice(d+1,G),function(a,b){var j7A;j7A=2;while(j7A!==1){switch(j7A){case 4:return m(a,c[d*b],f,V,t,~7);break;j7A=1;break;case 2:return m(a,c[d+b],f,V,t,!1);break;}}});P7A=20;break;case 27:ja=p(g.T,X,a.v0),S=p(g.T,X+ja,a.P1);P7A=26;break;case 8:g.T&&g.T.length||(g.sR=!0);T=C.from(b.buffer.T);U=b.buffer.Av-T.Yf;P7A=14;break;case 16:ha=!0;P7A=20;break;case 26:(g=B(c.slice(0,d).reverse(),function(a,b){var W7A;W7A=2;while(W7A!==1){switch(W7A){case 2:return m(a,c[Math.max(d-b-2,0)],f,ja,S,!0);break;}}}))||(g=c[0],ha=!0);P7A=20;break;}}function m(c,d,g,p,m,l){var m93=v7AA;var w7A,u,w,ea,k,n,ha,S,C,O,V,ja,B,ba,t,G,f,n1c,R1c,P1c,S1c,x1c,E1c,B1c,u1c,M1c,w1c,i9c;w7A=2;while(w7A!==49){n1c="First s";n1c+="tream not in ";n1c+="ra";n1c+="nge";R1c="First ";R1c+="stream u";R1c+="n";R1c+="a";R1c+="vailable";P1c="First stream ";P1c+="u";P1c+="ndefined";S1c="Secon";S1c+="d stream n";S1c+="ot";S1c+=" in range";x1c="Second s";x1c+="tream una";x1c+="vail";x1c+="able";E1c="Sec";E1c+="ond stream undef";E1c+="ined";B1c="First ";B1c+="stream has fa";B1c+="iled";u1c="Se";u1c+="cond stre";u1c+="am has ";u1c+="fail";u1c+="ed";switch(w7A){case 43:ja||(u=c);V=[];w7A=41;break;case 3:w7A=!l||!C?9:13;break;case 30:m=!1;w7A=29;break;case 29:m&&(m.result&&(r.U1=m.T1),a.VH||(c.Ok=!!m.Ok));D={fVa:m&&m.result,ia:f,J:c.J};return m&&m.result;break;case 9:w7A=C&&!a.VH?8:6;break;case 1:w7A=D&&!D.fVa&&D.ia>=f&&D.J<=c.J?5:4;break;case 52:a:{M1c=" ";M1c+="/";M1c+=" ";M1c+="1";M1c+="6";w1c=" ";w1c+=">= fragmen";w1c+="tsLengt";w1c+="h: ";i9c="StreamingI";i9c+="nde";i9c+="x:";i9c+=" ";u=w.concat(V).view;w=k;m93.o9c(0);ea=m93.a9c(d,ha);k=a.CG;n=a.VH;ha=Math.min(u.byteLength,16*(d+ha+O));m93.o9c(1);C=m93.H9c(w,C);O=Infinity;V=t=0;ja=u.getUint16(14);m93.I9c(0);l=m93.H9c(ja,l);m93.I9c(2);ja=m93.H9c(g,0,p,8);m93.o9c(3);g=m93.a9c(p,0,8);d>=ha/16&&F.error(i9c+d+w1c+ha+M1c);w+=ja;0===G&&(w=0);d*=16;for(p=16*ea;d<ha;){ea=u.getUint32(d);m93.o9c(0);S=u.getUint16(m93.a9c(d,14));if(B<ea){for(t=Math.max(ea,m);B<t;){w=l;B+=u.getUint32(V);V+=16;ja=u.getUint16(V+14);l+=ja;}if(!n&&(ja=G-w,ja<k)){m={result:!1,T1:ja,Ok:!1};break a;}m93.I9c(1);ja=m93.H9c(w,G);}else if(ja=Math.max(G-w,0),ja<ba&&ja<t){m={result:!1,T1:Math.min(ja,O),Ok:!0};break a;}m93.I9c(3);w+=m93.H9c(ea,0,g);G+=S;for(B-=ea;l<w&&V<d;){B+=u.getUint32(V);V+=16;l+=u.getUint16(V+14);}d+=16;if(d>=p&&ja>C)break;t=ja;O=Math.min(ja,O);}m={result:!0,T1:O,Ok:!0};}w7A=29;break;case 20:d=T.length;g=ca;B=U,ha=p,O=m,ba=Z;w7A=17;break;case 33:N(!u.fh,u1c);m93.I9c(4);N(m93.H9c(V,d));w7A=31;break;case 14:return!0;break;case 36:w7A=0<ea?54:53;break;case 22:N(!c.fh,B1c);N(u,E1c);N(u.Ye,x1c);N(u.inRange,S1c);w7A=33;break;case 17:m=b.JTa;ea=b.C1a;w7A=15;break;case 7:return!0;break;case 8:w7A=f>=Math.max(c.tG,c.J*u)&&!c.ZQ?7:13;break;case 31:w7A=!p||p<c.J*a.t0||!t?30:43;break;case 38:t=Math.min(ea,c.T.length-n),V.push(c.T.slice(n,n+t)),ea-=t,n+=t,n>=c.T.length&&(n=0);w7A=39;break;case 54:t=Math.min(ea,u.T.length-n),V.push(u.T.slice(n,n+t)),ea-=t,n+=t,n>=u.T.length&&(n=0);w7A=36;break;case 50:ha=Math.min(ha,c.T.length-n),O=Math.min(O,u.T.length-n-ha),0<ha&&V.push(c.T.slice(n,n+ha)),0<O&&V.push(u.T.slice(n+ha,n+ha+O));w7A=53;break;case 40:ea=ha;w7A=39;break;case 15:p=c.ia;V=w.length,t=c.T&&c.T.length,ja=u.T&&u.T.length;a.V1&&(ba=Math.min(ba,C-k));N(c,P1c);N(c.Ye,R1c);N(c.inRange,n1c);w7A=22;break;case 37:ea=O;w7A=36;break;case 4:l||C||(c.sR=!0);w7A=3;break;case 13:g=!a.PY||c===g||c.Wb===g.Wb&&h?0:(g=c.ma)&&g.he&&g.he.ta?g.he.ta+a.LY*(g.he.cg?Math.sqrt(g.he.cg):0):0;u=d,w=T,k=x+g-v;l=q;C=z-v,G=y-v,n=X;w7A=20;break;case 6:w7A=f>=c.J*u?14:13;break;case 41:w7A=ea?40:50;break;case 39:w7A=0<ea?38:37;break;case 2:f=c.ia,u=l?a.d_:a.zN,C=c.T&&c.T.length;w7A=1;break;case 53:w7A=0<ha||0<O?52:51;break;case 51:m=p>c.tG?{result:!0,D1a:0,Ok:!0}:{result:!1,D1a:0,Ok:!0};w7A=29;break;case 5:return!1;break;}}}function p(a,b,c){var A7A,d;A7A=2;while(A7A!==8){switch(A7A){case 2:d=0;A7A=1;break;case 5:A7A=0<c&&b<a.length?4:9;break;case 1:A7A=a&&a.length?5:9;break;case 4:c-=a.hF(b);A7A=3;break;case 3:++b,++d;A7A=5;break;case 9:return d;break;}}}function l(b,c){var h7A;h7A=2;while(h7A!==1){switch(h7A){case 2:return b>a.ow&&(w.S(this.co)||this.rA>this.co||c-this.co>a.dP&&b>a.S1);break;}}}}while(v7A!==5){switch(v7A){case 2:w=a(10),k=a(13),x=a(41),y=a(9),C=a(176),F=x.console,N=x.assert,T=x.N2a,n=x.dOa,q=x.FE,O=x.gm,B=x.AMa,t=x.yX,V=a(35).i$a,D=a(177),S=a(44);f.P={STARTING:function(a,b,c){var q7A,Q1c;q7A=2;while(q7A!==1){Q1c="hist";Q1c+="o";Q1c+="ric";Q1c+="a";Q1c+="l";switch(q7A){case 2:return Q1c===a.L0?p(a,b,c):a.sfa?g(a,b,c):m(a,b,c);break;}}},BUFFERING:z,REBUFFERING:z,PLAYING:v,PAUSED:v};v7A=5;break;}}function u(a){var R7A,b,c;R7A=2;while(R7A!==3){switch(R7A){case 2:b=new O(),c=this.Uda;b.Lb=B(a,function(a){var O7A;O7A=2;while(O7A!==1){switch(O7A){case 4:return a.J>c;break;O7A=1;break;case 2:return a.J>=c;break;}}})||a[a.length-1];b.KE=!0;return b;break;}}}function m(a,d,g){var Y7A,h,p;Y7A=2;while(Y7A!==3){switch(Y7A){case 2:h=new O();p=Math.max(a.JA,a.qP,d.V0?a.E2:-Infinity);h.Lb=B(g.filter(function(b){var y7A;y7A=2;while(y7A!==1){switch(y7A){case 2:return b.J<=a.CA;break;case 4:return b.J<a.CA;break;y7A=1;break;}}}).reverse(),function(d){var x7A,g,m,l,s1c,F1c,j1c,W1c;x7A=2;while(x7A!==7){s1c="no_his";s1c+="tor";s1c+="ical_lte_minbitrat";s1c+="e";F1c="his";F1c+="t_tpu";F1c+="t_lt_mi";F1c+="nbitra";F1c+="te";j1c="lt_hist_lte_";j1c+="m";j1c+="inbi";j1c+="tra";j1c+="te";W1c="his";W1c+="t";W1c+="_bu";W1c+="fftime";switch(x7A){case 2:g={ia:d.ia,Cj:d.ma&&d.ma.Cj,dk:d.ma&&d.ma.dk};x7A=1;break;case 5:d=d.J;l=g.ia;x7A=3;break;case 3:l?(m=b(a,d),c(d,l,a)<=m?(h.Ws=l,g&&(h.Qk=g.Cj?g.Cj:0,h.Qj=g.Cj&&g.dk),h.reason=W1c,g=!0):g=!1):g=!1;x7A=9;break;case 8:m=g.ia,d.J<=m?(h.Ws=m,g&&(h.Qk=g.Cj?g.Cj:0,h.Qj=g.Cj?g.dk:void 0),h.reason=j1c,g=!0):m?(h.Ws=m,g&&(h.Qk=g.Cj?g.Cj:0,h.Qj=g.Cj?g.dk:void 0),h.reason=F1c,g=!1):(h.reason=s1c,g=!0);x7A=9;break;case 1:x7A=d.J>p?5:8;break;case 9:return g;break;}}})||g[0];return h;break;}}}function p(a,b,c){var C7A,d,y1c,Y1c;C7A=2;while(C7A!==7){y1c="v";y1c+="b";Y1c="hist_bi";Y1c+="tr";Y1c+="at";Y1c+="e";switch(C7A){case 5:return a.sfa?g(a,b,c):m(a,b,c);break;case 1:C7A=void 0===d?5:4;break;case 4:a=new O();a.Lb=B(c.reverse(),function(a){var T7A;T7A=2;while(T7A!==1){switch(T7A){case 2:return a.J<=d;break;case 4:return a.J>=d;break;T7A=1;break;}}})||c[0];a.reason=Y1c;return a;break;case 2:d=y.storage.get(y1c);C7A=1;break;}}}function b(a,b){var H7A,c,d;H7A=2;while(H7A!==13){switch(H7A){case 2:H7A=a.BO?1:14;break;case 1:c=a.BO,d=t(c,function(a){var X7A;X7A=2;while(X7A!==1){switch(X7A){case 4:return b<a.r;break;X7A=1;break;case 2:return b<=a.r;break;}}});H7A=5;break;case 4:return c[0].d;break;case 5:H7A=0===d?4:3;break;case 3:H7A=-1===d?9:8;break;case 14:return a.pq;break;case 9:return c[c.length-1].d;break;case 8:v7AA.o9c(1);a=c[v7AA.H9c(1,d)];c=c[d];return Math.floor(a.d+(c.d-a.d)*(b-a.r)/(c.r-a.r));break;}}}}());},function(f,c,a){var h,l,g,m,p,r,u,v,z,w,k,x;function b(a){b=k.Gb;c.dAa=a.appendBuffer?"appendBuffer":"append";c.DC=!g.config.sNa&&!!a.remove;c.QT=!!a.addEventListener;}function d(a,d,f,u,x,z){var y,C;y=this;this.L=a;this.sca=x;this.By=!1;this.Mu={data:[],state:"",operation:""};this.type=d;this.bi=new p.Ci();d=f(this.type);this.Mda={Type:this.type};g.config.uA&&(C=!0,this.o_=new m.sd(!1));z.trace("Adding source buffer",this.Mda,{TypeId:d});this.Wc=u.addSourceBuffer(d);b(this.Wc);c.QT&&(this.Wc.addEventListener("updatestart",function(){y.Mu.state="updatestart";}),this.Wc.addEventListener("update",function(){y.Mu.state="update";}),this.Wc.addEventListener("updateend",function(){y.By=!1;y.wca&&y.wca();y.Mu.state="updateend";C&&y.Wc.buffered.length&&(C=!1,y.o_.set(!0));}),this.Wc.addEventListener("error",function(b){var c;try{c=b.target.error&&b.target.error.message;(b.message||c)&&z.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(V){}a.Hh(new l.rj(v.v.wCa,h.L_(y.type)));}),this.Wc.addEventListener("abort",function(){}));a.addEventListener(r.YJ,function(){y.Wc=void 0;});}Object.defineProperty(c,"__esModule",{value:!0});h=a(181);l=a(51);g=a(4);m=a(180);p=a(57);r=a(16);u=a(3);a(83);v=a(2);a(7);z=a(8);w=a(307);k=a(14);x=a(15);d.prototype.Nj=function(){return this.By;};d.prototype.updating=function(){return this.Wc?this.Wc.updating:!1;};d.prototype.era=function(a){this.wca=a;};d.prototype.buffered=function(){return this.Wc.buffered;};d.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};d.prototype.toJSON=function(){return{type:this.type};};d.prototype.WN=function(){var a,b,d,g,h,p,m;try{a=this.Wc.buffered;h=0;if(a)for(b=[],d=0,g=a.length,d=0;d<g;d++){p=a.start(d);m=a.end(d);h=h+(m-p);z.ea(m>p);b.push(p+"-"+m);}c.DC&&z.ea(85>h,"Source buffer is too big, size is "+h+", should not be more than 85");if(b)return{Buffered:h.toFixed(3),Ranges:b.join("|")};}catch(O){}};d.prototype.Nfa=function(a,b){z.ea(this.Wc.buffered&&1>=this.Wc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.WN()));z.ea(!this.By);this.pra("append",a);b=b&&b.mh/1E3;x.da(b)&&this.Wc.timestampOffset!==b&&(this.Wc.timestampOffset=b);this.Wc[c.dAa](a);c.QT&&(this.By=!0);};d.prototype.remove=function(a,b){z.ea(!this.By);try{c.DC&&(this.pra("remove"),this.Wc.remove(a,b),c.QT&&(this.By=!0));}catch(F){u.log.error("SourceBuffer remove exception",F,this.Mda);}};d.prototype.pra=function(a,b){this.Mu.data=b||[];this.Mu.state="init";this.Mu.operation=a;};d.prototype.k5=function(){};d.prototype.appendBuffer=function(a){this.L.bf.uMa(this,a);return!0;};d.prototype.fM=function(a){w.bFa("MediaRequest {0} readystate: {1}",a.oi(),a.readyState);this.L.bf.fM(a);return!0;};d.prototype.endOfStream=function(){};d.prototype.addEventListener=function(a,b,c){this.bi.addListener(a,b,c);};d.prototype.removeEventListener=function(a,b){this.bi.removeListener(a,b);};pa.Object.defineProperties(d.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.type;}},oM:{configurable:!0,enumerable:!0,get:function(){return this.sca.oM;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.sca.sourceId;}}});c.o$=d;},function(f,c,a){var d,h,l,g,m,p,r,u,v,z,w,k;function b(a,b){var p;p=new l.Ci();this.ZF=this.AE=this.BE=void 0;this.addEventListener=p.addListener.bind(this);this.removeEventListener=p.removeListener.bind(this);this.emit=p.mc.bind(this);this.RKa=a;this.Dy=b;this.Zu=w++;this.wa=g.Cc("MediaRequest");"notification"===b?h.config.Qn&&(this.Nr=z.oBa):this.Nr=d.l2a;m.ea(void 0!==this.Nr);this.lV=this.Mf=this.DL=void 0;this.xe=c.Pa.Va.UNSENT;this.aW=this.CV=this.TK=this.WD=void 0;this.Wj=this.Ju=0;this.Kca=this.FV=this.Lu=this.Lr=this.SV=this.rg=this.mL=this.Ge=this.$u=void 0;this.wW=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(284);h=a(4);l=a(57);g=a(3);m=a(8);p=a(14);r=a(5);u=a(6);v=a(15);z=a(282);w=0;(function(){function a(){var a;a={requestId:this.Zu,segmentId:this.wo,isHeader:this.zc,ptsStart:this.hb,ptsOffset:this.mh,responseType:this.DL,duration:this.gd,readystate:this.xe};this.stream&&(a.bitrate=this.stream.J);return JSON.stringify(a);}p.oa(b.prototype,{x3a:function(a){this.xe===c.Pa.Va.OPENED&&(this.ZF=!0,this.mL=this.rg=a.timestamp,this.xe=c.Pa.Va.ur,this.emit(c.Pa.bd.L$,a));},c3:function(a){var b;if(this.xe<c.Pa.Va.sr){this.wW=[];b=a.timestamp-this.mL;!this.zc&&0<b&&(this.Kca=!0,this.wW.push(b));!0!==h.config.bla&&(this.rg=a.timestamp);this.xe=c.Pa.Va.sr;this.emit(c.Pa.bd.K$,a);}},C3a:function(a){this.xe===c.Pa.Va.sr&&(this.SV=this.rg=a.timestamp,a.newBytes=a.bytesLoaded-this.Ju,this.Ju=a.bytesLoaded,v.$a(this.SV)&&this.emit(c.Pa.bd.M$,a));},vi:function(a){if(this.xe===c.Pa.Va.ur||this.xe===c.Pa.Va.sr)this.ZF=!1,this.rg=a.timestamp,this.xe=c.Pa.Va.DONE,a.newBytes=this.Yf-this.Ju,this.Ju=this.Yf,v.$a(this.Lu)&&(this.rg=this.Lu,0===a.newBytes&&(this.SV=this.Lu)),v.$a(this.Lr)&&(this.mL=this.Lr),this.$u=a.response,this.emit(c.Pa.bd.NC,a);},s3a:function(a){this.ZF=!1;this.emit(c.Pa.bd.eBa,a);},e3:function(a){this.rg=a.timestamp;this.WD=a.httpcode;this.TK=a.errorcode;this.CV=c.Pa.dr.name[this.TK];this.aW=a.nativecode;this.emit(c.Pa.bd.uu,a);this.ZF=!1;},open:function(a,b,d,g,h,p,m){this.jx=!1;this.lV=b;this.Mf=a;this.DL=d;if(!a)return!1;this.xe=c.Pa.Va.OPENED;this.Nr.zF(this,b,m);return!0;},ze:function(){-1!==[c.Pa.Va.OPENED,c.Pa.Va.ur,c.Pa.Va.sr].indexOf(this.xe)&&this.abort();return!0;},Nga:function(){this.$u=void 0;this.HE.response=void 0;this.Vka=this.HE.cadmiumResponse.content=void 0;},I5:function(a){this.Mf=a;this.Nr.e6(this);return!0;},abort:function(){this.xe=c.Pa.Va.$l;this.Nr.XW(this);return!0;},pause:u.Gb,getResponseHeader:u.Gb,getAllResponseHeaders:u.Gb,oi:function(){return this.Zu;},toString:a,toJSON:a,YYa:function(){var a,b;if(h.config.l6&&r.cm&&r.cm.getEntriesByType&&(!v.$a(this.Lr)||!v.$a(this.Lu))){a=this.url.split("nflxvideo.net")[0].split("//").pop()+"";a=a+("*nflxvideo.net/range/"+this.BE+"-"+this.AE+"*");b=new RegExp(a);a=r.cm.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];v.$a(a)&&(0<a.startTime&&(this.Lr=a.startTime,0<a.requestStart&&(this.Lr=Math.max(this.Lr,a.requestStart))),0<a.responseStart&&(this.FV=a.responseStart),0<a.responseEnd&&(this.Lu=a.responseEnd));}},R_a:function(){return v.$a(this.Lr)&&v.$a(this.Lu)&&v.$a(this.FV);}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.xe;},set:function(){}},status:{get:function(){return this.WD;}},Mj:{get:function(){return this.TK;}},c_:{get:function(){return this.CV;}},Uk:{get:function(){return this.aW;}},Jc:{get:function(){return this.Ju;}},response:{get:function(){return this.$u;}},track:{get:function(){return this.RKa;}},label:{get:function(){return this.Dy;}},byteLength:{get:function(){return this.AE-this.BE+1;}},url:{get:function(){return this.Mf;}},responseType:{get:function(){return this.DL;}},Yf:{get:function(){return this.lV.end-this.lV.start+1;}},Ed:{get:function(){return this.mL;}},Be:{get:function(){return this.rg;}},W0a:{get:function(){return this.Lr;}},GVa:{get:function(){return this.FV;}},rPa:{get:function(){return this.Lu;}},connect:{get:function(){return this.Kca;}},Iq:{get:function(){return this.wW;}},Dka:{get:function(){return this.response&&0<this.response.byteLength;}}});}());(function(a){a.bd={L$:"mr1",K$:"mr2",M$:"mr3",NC:"mr4",eBa:"mr5",uu:"mr6"};a.Va={UNSENT:0,OPENED:1,ur:2,sr:3,DONE:5,bm:6,$l:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.Ei={el:0,Yo:1,fU:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.dr={NO_ERROR:-1,Yva:0,K7:1,jwa:2,bwa:3,Nua:4,h7:5,lS:6,Oua:7,Pua:8,Qua:9,Kua:10,Mua:11,g7:12,Lua:13,Jua:14,Nxa:15,M8:16,L8:17,uT:18,zJ:19,vT:20,wT:21,Pxa:22,AJ:23,N8:24,Oxa:25,ewa:26,Zva:27,vEa:28,Pva:29,Qva:30,Rva:31,Sva:32,Tva:33,Uva:34,Vva:35,Wva:36,Xva:37,$va:38,awa:39,cwa:40,dwa:41,fwa:42,gwa:43,hwa:44,iwa:45,kwa:46,lwa:47,tEa:48,TIMEOUT:49,sT:50,J8:51,Mxa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};}(k||(k={})));c.Pa=Object.assign(b,k);},function(f,c,a){var b,d,h,l,g,m,p,r,u,v,z;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(6);d=a(4);h=a(60);l=a(17);g=a(2);m=a(8);p=a(3);r=a(19);u=a(5);v=a(120);z=a(15);f.Dd(g.v.k9,function(a){var y,C,w;function f(){var a;f=b.Gb;a=setInterval(x,d.config.d1a);h.Bd.addListener(h.Pj,function(b){b&&b.isPopStateEvent?y.trace("popstate event, Lock timers can stay"):(r.Kb(C,function(a,b){localStorage.removeItem(b.Ql);}),clearInterval(a));},b.ay);}function x(){var a;a=l.On();r.Kb(C,function(b,c){b=localStorage.getItem(c.Ql);b=JSON.parse(b);b.updated=a;localStorage.setItem(c.Ql,JSON.stringify(b));});}m.ea(v.storage);y=p.Cc("StorageLock");C={};w=Date.now()+"-"+Math.floor(1E6*Math.random());c.CB={Yy:function(a,c){var p,m,v,x,k,F,G;function h(a){localStorage.setItem(m,JSON.stringify(a));a={Ql:m};C[m]=a;y.trace("Lock acquired",{Name:a.Ql});f();c({K:!0,eP:a});}if(localStorage){p=l.On();m="lock-"+a;a={updated:p,sessionId:w,count:1};try{if(m in localStorage){v=localStorage.getItem(m);k=JSON.parse(v);z.et(k.updated)&&(x=k.updated);F=u.ru(p-x)*b.pj<d.config.c1a;G=w===k.sessionId;F?G?(k.count+=1,y.debug("Incremented lock count for existing playbackSession",{id:w,count:k.count}),k.updated=p,h(k)):c({K:!1}):(y.error("Lock was expired or invalid, ignoring",{Epoch:p,LockEpoch:x}),h(a));}else h(a);}catch(da){y.error("Error acquiring Lock",{errorSubCode:g.u.te,errorDetails:r.yc(da)});c({K:!0});}}else u.sma?y.error("Local storage access exception",{errorSubCode:g.u.JEa,errorDetails:r.yc(u.sma)}):y.error("No localstorage",{errorSubCode:g.u.KEa}),c({K:!0});},release:function(a,c){var d,g;m.ea(C[a.Ql]==a);if(localStorage){try{d=localStorage.getItem(a.Ql);g=JSON.parse(d);1<g.count?(--g.count,localStorage.setItem(a.Ql,JSON.stringify(g)),y.trace("Lock count decremented",{Name:a.Ql,count:g.count})):(localStorage.removeItem(a.Ql),delete C[a.Ql],y.trace("Lock released",{Name:a.Ql}));}catch(O){y.error("Unable to release Lock",{Name:a.Ql},O);}c&&c(b.cb);}}};d.config.pN?c.CB.Yy("session",function(d){c.CB.dra=d;a(b.cb);}):a(b.cb);});},function(f){f.P=function(c){return{minInitVideoBitrate:c.JA,minHCInitVideoBitrate:c.E2,maxInitVideoBitrate:c.CA,minInitAudioBitrate:c.BG,maxInitAudioBitrate:c.rG,minHCInitAudioBitrate:c.AG,minAcceptableVideoBitrate:c.qP,minRequiredBuffer:c.CG,minPrebufSize:c.Ph,rebufferingFactor:c.g4,useMaxPrebufSize:c.k6,maxPrebufSize:c.EA,maxRebufSize:c.m2,maxBufferingTime:c.pq,minAudioMediaRequestSizeBytes:c.C2,minVideoMediaRequestSizeBytes:c.G2,initialBitrateSelectionCurve:c.BO,initSelectionLowerBound:c.hla,initSelectionUpperBound:c.ila,throughputPercentForAudio:c.AR,bandwidthMargin:c.QX,bandwidthMarginContinuous:c.RX,bandwidthMarginCurve:c.SX,conservBandwidthMargin:c.NY,switchConfigBasedOnInSessionTput:c.J5,conservBandwidthMarginTputThreshold:c.JE,conservBandwidthMarginCurve:c.OY,switchAlgoBasedOnHistIQR:c.Ura,switchConfigBasedOnThroughputHistory:c.Tt,maxPlayerStateToSwitchConfig:c.l2,lowEndMarkingCriteria:c.N1,IQRThreshold:c.AT,histIQRCalcToUse:c.A0,bandwidthMarginScaledRatioUpperBound:c.xNa,maxTotalBufferLevelPerSession:c.qq,highWatermarkLevel:c.Pka,toStableThreshold:c.nsa,toUnstableThreshold:c.HR,skipBitrateInUpswitch:c.t5,watermarkLevelForSkipStart:c.w6,highStreamRetentionWindow:c.u0,lowStreamTransitionWindow:c.O1,highStreamRetentionWindowUp:c.w0,lowStreamTransitionWindowUp:c.Q1,highStreamRetentionWindowDown:c.v0,lowStreamTransitionWindowDown:c.P1,highStreamInfeasibleBitrateFactor:c.t0,lowestBufForUpswitch:c.ow,lockPeriodAfterDownswitch:c.dP,lowWatermarkLevel:c.S1,lowestWaterMarkLevel:c.pw,lowestWaterMarkLevelBufferRelaxed:c.V1,mediaRate:c.t2,maxTrailingBufferLen:c.p2,audioBufferTargetAvailableSize:c.GX,videoBufferTargetAvailableSize:c.r6,maxVideoTrailingBufferSize:c.hna,maxAudioTrailingBufferSize:c.Vma,fastUpswitchFactor:c.zN,fastDownswitchFactor:c.d_,maxMediaBufferAllowed:c.i2,simulatePartialBlocks:c.$Q,simulateBufferFull:c.vra,considerConnectTime:c.PY,connectTimeMultiplier:c.LY,lowGradeModeEnterThreshold:c.Ima,lowGradeModeExitThreshold:c.Jma,maxDomainFailureWaitDuration:c.Xma,maxAttemptsOnFailure:c.Uma,exhaustAllLocationsForFailure:c.Jia,maxNetworkErrorsDuringBuffering:c.cna,maxBufferingTimeAllowedWithNetworkError:c.d2,fastDomainSelectionBwThreshold:c.xN,throughputProbingEnterThreshold:c.R5,throughputProbingExitThreshold:c.dsa,locationProbingTimeout:c.uma,finalLocationSelectionBwThreshold:c.Via,throughputHighConfidenceLevel:c.asa,throughputLowConfidenceLevel:c.csa,locationStatisticsUpdateInterval:c.E1,enablePerfBasedLocationSwitch:c.Lz,probeServerWhenError:c.so,probeRequestTimeoutMilliseconds:c.K3,allowSwitchback:c.zp,probeDetailDenominator:c.Uw,maxDelayToReportFailure:c.gP,countGapInBuffer:c.TY,allowReissueMediaRequestAfterAbort:c.nv,bufferThresholdForAbort:c.ZX,allowCallToStreamSelector:c.qX,pipelineScheduleTimeoutMs:c.y3,maxPartialBuffersAtBufferingStart:c.rw,minPendingBufferLen:c.F2,maxPendingBufferLen:c.DA,maxPendingBufferLenSABCell100:c.kP,maxActiveRequestsSABCell100:c.fP,enableRequestPacing:c.nUa,maxStreamingSkew:c.o2,maxPendingBufferPercentage:c.k2,maxRequestsInBuffer:c.tw,headerRequestSize:c.tO,minBufferLenForHeaderDownloading:c.D2,reserveForSkipbackBufferMs:c.sQ,numExtraFragmentsAllowed:c.h3,pipelineEnabled:c.Pm,maxParallelConnections:c.qw,socketReceiveBufferSize:c.xra,audioSocketReceiveBufferSize:c.KX,videoSocketReceiveBufferSize:c.u6,headersSocketReceiveBufferSize:c.p0,updatePtsIntervalMs:c.MR,bufferTraceDenominator:c.aY,bufferLevelNotifyIntervalMs:c.ez,aseReportDenominator:c.az,aseReportIntervalMs:c.BX,enableAbortTesting:c.sia,abortRequestFrequency:c.qfa,streamingStatusIntervalMs:c.F5,prebufferTimeLimit:c.VA,minBufferLevelForTrackSwitch:c.rP,penaltyFactorForLongConnectTime:c.r3,longConnectTimeThreshold:c.L1,additionalBufferingLongConnectTime:c.lX,additionalBufferingPerFailure:c.mX,rebufferCheckDuration:c.rH,enableLookaheadHints:c.xia,lookaheadFragments:c.Fma,enableOCSideChannel:c.Qn,OCSCBufferQuantizationConfig:c.PJ,updateDrmRequestOnNetworkFailure:c.Gsa,deferAseScheduling:c.SM,maxDiffAudioVideoEndPtsMs:c.hP,useHeaderCache:c.VB,useHeaderCacheData:c.iN,defaultHeaderCacheSize:c.RM,defaultHeaderCacheDataPrefetchMs:c.xZ,headerCacheMaxPendingData:c.n0,recreateHeaderCacheDownloadTracks:c.$6a,headerCachePriorityLimit:c.o0,headerCacheFlushForCircularBuffer:c.BZa,enableUsingHeaderCount:c.mF,networkFailureResetWaitMs:c.S2,networkFailureAbandonMs:c.R2,maxThrottledNetworkFailures:c.lP,throttledNetworkFailureThresholdMs:c.zR,abortUnsentBlocks:c.lm,maxUnsentBlocks:c.q2,abortStreamSelectionPeriod:c.YW,lowThroughputThreshold:c.R1,excludeSessionWithoutHistoryFromLowThroughputThreshold:c.YZ,mp4ParsingInNative:c.Fna,sourceBufferInOrderAppend:c.yra,requireAudioStreamToEncompassVideo:c.Vm,allowAudioToStreamPastVideo:c.Hfa,pruneRequestsFromNative:c.y6a,preciseBufferLevel:c.P5a,enableManagerDebugTraces:c.Zd,managerDebugMessageInterval:c.Oma,managerDebugMessageCount:c.Nma,bufferThresholdToSwitchToSingleConnMs:c.qM,bufferThresholdToSwitchToParallelConnMs:c.$X,netIntrStoreWindow:c.X2a,minNetIntrDuration:c.F2a,fastHistoricBandwidthExpirationTime:c.aVa,bandwidthExpirationTime:c.uNa,failureExpirationTime:c.ZUa,historyTimeOfDayGranularity:c.HZa,expandDownloadTime:c.QUa,minimumMeasurementTime:c.L2a,minimumMeasurementBytes:c.K2a,throughputMeasurementTimeout:c.Lab,initThroughputMeasureDataSize:c.o_a,throughputMeasureWindow:c.Kab,throughputIQRMeasureWindow:c.Jab,IQRBucketizerWindow:c.Mya,connectTimeHalflife:c.APa,responseTimeHalflife:c.j8a,historicBandwidthUpdateInterval:c.GZa,throughputMeasurementWindowCurve:c.Mab,httpResponseTimeWarmup:c.ZZa,responseTimeWarmup:c.k8a,throughputWarmupTime:c.Qab,minimumBufferToStopProbing:c.J2a,throughputPredictor:c.Nab,holtWintersDiscretizeInterval:c.LZa,holtWintersHalfLifeAlpha:c.MZa,holtWintersHalfLifeGamma:c.OZa,holtWintersInitialCounts:c.PZa,holtWintersMinInitialCounts:c.QZa,holtWintersHalfLifeCurveEnabled:c.NZa,holtWintersUpperBoundEnabled:c.RZa,ase_stream_selector:c.IMa,enableFilters:c.eUa,filterDefinitionOverrides:c.qVa,defaultFilter:c.ESa,secondaryFilter:c.E8a,defaultFilterDefinitions:c.FSa,initBitrateSelectorAlgorithm:c.L0,bufferingSelectorAlgorithm:c.cY,debugLocationSelectorFailureSimulation:c.qZ,debugDumpFragments:c.oZ,debugLocationHistoryThroughput:c.pZ,debugNetworkMonitorThroughput:c.rZ,debugVerboseSimulation:c.Nha,secondThroughputEstimator:c.M4,secondThroughputMeasureWindowInMs:c.Lqa,marginPredictor:c.Y1,simplePercentilePredictorPercentile:c.ura,simplePercentilePredictorCalcToUse:c.sra,simplePercentilePredictorMethod:c.tra,IQRBandwidthFactorConfig:c.w9,HistoricalTDigestConfig:c.O8,TputTDigestConfig:c.wFa,maxIQRSamples:c.$ma,minIQRSamples:c.yna,useResourceTimingAPI:c.l6,ignoreFirstByte:c.bla,resetHeuristicStateAfterSkip:c.$7a,periodicHistoryPersistMs:c.PP,saveVideoBitrateMs:c.DQ,needMinimumNetworkConfidence:c.LG,biasTowardHistoricalThroughput:c.VX,maxFastPlayBufferInMs:c.g2,maxFastPlayBitThreshold:c.f2,headerCacheTruncateHeaderAfterParsing:c.Kka,audioFragmentDurationMilliseconds:c.JX,videoFragmentDurationMilliseconds:c.s6,notifyOpenConnectBlackBox:c.B3a,addHeaderDataToNetworkMonitor:c.hX,useMediaCache:c.Bx,mediaCachePartitionConfig:c.s2,diskCacheSizeLimit:c.Ez,mediaCachePrefetchMs:c.nP,appendCachedMediaAsMediaRequest:c.tMa,enablePsd:c.jN,psdCallFrequency:c.S3,psdReturnToNormal:c.T3,psdThroughputThresh:c.lH,discardLastNPsdBins:c.cF,psdPredictor:c.Vf,enableRl:c.Tp,rlLogParam:c.jB,hindsightDenominator:c.z0,hindsightDebugDenominator:c.y0,hindsightParam:c.OF,enableSessionHistoryReport:c.lF,earlyStageEstimatePeriod:c.KZ,lateStageEstimatePeriod:c.fma,maxNumSessionHistoryStored:c.jP,minSessionHistoryDuration:c.tP,enableInitThroughputEstimate:c.kF,initThroughputPredictor:c.N0,appendMediaRequestOnComplete:c.wX,waitForDrmToAppendMedia:c.YR,forceAppendHeadersAfterDrm:c.s_,startMonitorOnLoadStart:c.y5,reportFailedRequestsToNetworkMonitor:c.t4,reappendRequestsOnSkip:c.qH,maxActiveRequestsPerSession:c.qG,limitAudioDiscountByMaxAudioBitrate:c.v1,appendFirstHeaderOnComplete:c.vX,maxAudioFragmentOverlapMs:0,maxNumberTitlesScheduled:c.dH?c.dH.maxNumberTitlesScheduled:1,editAudioFragments:c.Sp,editVideoFragments:c.Rv,declareBufferingCompleteAtSegmentEnd:c.sZ};};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(8);d=a(19);h=a(15);(function(){var g,m,p;function a(a){b.ea(void 0!==g[a]);return g[a];}g={'"':'""',"\r":"","\n":" "};m=/["\r\n]/g;p=/[", ]/;c.iSa=function(b){return h.$a(b)?h.da(b)?b:h.oc(b)?b.replace(m,a):h.ula(b)?b:isNaN(b)?"NaN":"":"";};c.W1=function(a){var b,g;b=c.iSa;g="";d.Kb(a,function(a,c){a=b(a)+"="+b(c);p.test(a)&&(a='"'+a+'"');g=g?g+(","+a):a;});return g;};}());},function(f,c,a){var d,h,l;function b(a,b,c,d,h,l,f){this.platform=a;this.xc=b;this.Cg=c;this.Za=d;this.config=h;this.Kk=l;this.iq=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(7);h=a(69);a=a(0);b.prototype.eG=function(a){return void 0!==a.error;};b.prototype.Pk=function(a,b,c,d,h){var g,p;try{g=this.zE(d,c,h);p=this.Ip(a,b,g);return Promise.resolve({context:p,request:g});}catch(w){return Promise.reject(w);}};b.prototype.zE=function(a,b,c){return h.xE(this.iq.As(),a,this.Cg().$d,this.config,this.platform,b,c);};b.prototype.Ip=function(a,b,c){return{Za:this.Za,log:a,$g:this.name,url:h.yE(this.xc,this.config,this.name),profile:b,ex:3,timeout:d.ij(59),xQ:c.url,headers:{"Content-Type":"text/plain"}};};l=b;l=f.__decorate([a.N()],l);c.or=l;},function(f){function c(){this.qb=this.qb||{};this.ID=this.ID||void 0;}function a(a){return"function"===typeof a;}function b(a){return"object"===typeof a&&null!==a;}f.P=c;c.EventEmitter=c;c.prototype.qb=void 0;c.prototype.ID=void 0;c.GSa=10;c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this.ID=a;return this;};c.prototype.emit=function(c){var d,l,g,m;this.qb||(this.qb={});if("error"===c&&(!this.qb.error||b(this.qb.error)&&!this.qb.error.length)){d=arguments[1];if(d instanceof Error)throw d;l=Error('Uncaught, unspecified "error" event. ('+d+")");l.context=d;throw l;}l=this.qb[c];if(void 0===l)return!1;if(a(l))switch(arguments.length){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),l.apply(this,d);}else if(b(l))for(d=Array.prototype.slice.call(arguments,1),m=l.slice(),l=m.length,g=0;g<l;g++)m[g].apply(this,d);return!0;};c.prototype.addListener=function(d,h){if(!a(h))throw TypeError("listener must be a function");this.qb||(this.qb={});this.qb.qqb&&this.emit("newListener",d,a(h.listener)?h.listener:h);this.qb[d]?b(this.qb[d])?this.qb[d].push(h):this.qb[d]=[this.qb[d],h]:this.qb[d]=h;b(this.qb[d])&&!this.qb[d].Qcb&&(h=void 0===this.ID?c.GSa:this.ID)&&0<h&&this.qb[d].length>h&&(this.qb[d].Qcb=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.qb[d].length),"function"===typeof console.trace&&console.trace());return this;};c.prototype.on=c.prototype.addListener;c.prototype.once=function(b,c){var g;function d(){this.removeListener(b,d);g||(g=!0,c.apply(this,arguments));}if(!a(c))throw TypeError("listener must be a function");g=!1;d.listener=c;this.on(b,d);return this;};c.prototype.removeListener=function(c,h){var d,g,m;if(!a(h))throw TypeError("listener must be a function");if(!this.qb||!this.qb[c])return this;d=this.qb[c];m=d.length;g=-1;if(d===h||a(d.listener)&&d.listener===h)delete this.qb[c],this.qb.removeListener&&this.emit("removeListener",c,h);else if(b(d)){for(;0<m--;)if(d[m]===h||d[m].listener&&d[m].listener===h){g=m;break;}if(0>g)return this;1===d.length?(d.length=0,delete this.qb[c]):d.splice(g,1);this.qb.removeListener&&this.emit("removeListener",c,h);}return this;};c.prototype.removeAllListeners=function(b){var c;if(!this.qb)return this;if(!this.qb.removeListener)return 0===arguments.length?this.qb={}:this.qb[b]&&delete this.qb[b],this;if(0===arguments.length){for(c in this.qb)"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this.qb={};return this;}c=this.qb[b];if(a(c))this.removeListener(b,c);else if(c)for(;c.length;)this.removeListener(b,c[c.length-1]);delete this.qb[b];return this;};c.prototype.listeners=function(b){return this.qb&&this.qb[b]?a(this.qb[b])?[this.qb[b]]:this.qb[b].slice():[];};c.prototype.listenerCount=function(b){if(this.qb){b=this.qb[b];if(a(b))return 1;if(b)return b.length;}return 0;};c.listenerCount=function(a,b){return a.listenerCount(b);};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Mwa=function(){this.AUDIO=0;this.VIDEO=1;this.cT=2;this.Pf=function(){};};c.V7="DownloadTrackConstructorFactorySymbol";},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.Ova="display";a.Rua="console";a.Hib="remote";a.JT="memory";a.YFa="writer";c.Ux=a;},function(f,c,a){var b,d,h,l,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(2);h=a(330);l=a(329);g=a(32);c.C6=function(a,c){var p,m;try{p=h.cdb(a);}catch(v){b.log.error("xml2xmlDoc exception",v);}g.Xa(function(){if(p&&p.documentElement)try{m=l.ddb(p);}catch(v){b.log.error("xmlDoc2js exception",v);}g.Xa(function(){m?c({K:!0,object:m}):c({K:!1,R:d.u.y8});});});};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.$gb="ManifestEncoderSymbol";c.BC="ManifestTransformerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.yC="LicenseProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.iJ="DeviceParametersSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.QI="BookmarkSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Q8="IDBDatabaseFactorySymbol";c.y9="IndexedDBFactorySymbol";c.CT="IndexedDBStorageFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.MAa="NativeLocalStorageSymbol";c.E$="NativeLocalStorageFactorySymbol";c.R8="IDBFactorySymbol";},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(34);c.Meb=function(){this.kM=[];this.DI=[];this.IX=b.au.du;this.UR=b.Fi.du;};c.hJ="DeviceCapabilitiesConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.jJ="DownloadsAvailabilitySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.mK="Utf8EncoderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.MI="Base16EncoderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.qn='video/mp4; codecs="avc1.640028"';c.Vx='audio/mp4; codecs="mp4a.40.5"';c.HS="DrmTraitsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.aba="ReportSyncSymbol";c.$aa="ReportApiErrorSyncSymbol";c.C8="FtlProbeConfigSymbol";c.D8="FtlProbeSymbol";},function(f,c,a){f=a(228);a=a(227);c.async=new a.fS(f.eS);},function(f,c,a){function b(a){var b,d;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){d=b[c];if("entries"!==d&&"size"!==d&&a.prototype[d]===a.prototype.entries)return d;}return"@@iterator";}f=a(76);c.etb=b;c.iterator=b(f.root);c.kdb=c.iterator;},function(f,c,a){var b,d,h,l,g,m,p,r;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(11);f=a(55);h=a(70);l=a(408);g=a(407);m=a(230);p=function(a){function c(b){a.call(this,b);this.destination=b;}b(c,a);return c;}(f.zh);c.eFa=p;a=function(a){function c(){a.call(this);this.wq=[];this.NF=this.Ze=this.closed=!1;this.S5=null;}b(c,a);c.prototype[m.fx]=function(){return new p(this);};c.prototype.af=function(a){var b;b=new r(this,this);b.Jw=a;return b;};c.prototype.next=function(a){if(this.closed)throw new l.cy();if(!this.Ze)for(var b=this.wq,c=b.length,b=b.slice(),d=0;d<c;d++)b[d].next(a);};c.prototype.error=function(a){if(this.closed)throw new l.cy();this.NF=!0;this.S5=a;this.Ze=!0;for(var b=this.wq,c=b.length,b=b.slice(),d=0;d<c;d++)b[d].error(a);this.wq.length=0;};c.prototype.complete=function(){if(this.closed)throw new l.cy();this.Ze=!0;for(var a=this.wq,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.wq.length=0;};c.prototype.unsubscribe=function(){this.closed=this.Ze=!0;this.wq=null;};c.prototype.NW=function(b){if(this.closed)throw new l.cy();return a.prototype.NW.call(this,b);};c.prototype.Ve=function(a){if(this.closed)throw new l.cy();if(this.NF)return a.error(this.S5),h.tj.EMPTY;if(this.Ze)return a.complete(),h.tj.EMPTY;this.wq.push(a);return new g.xba(this,a);};c.prototype.CMa=function(){var a;a=new d.pa();a.source=this;return a;};c.create=function(a,b){return new r(a,b);};return c;}(d.pa);c.yh=a;r=function(a){function c(b,c){a.call(this);this.destination=b;this.source=c;}b(c,a);c.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};c.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};c.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};c.prototype.Ve=function(a){return this.source?this.source.subscribe(a):h.tj.EMPTY;};return c;}(a);c.tdb=r;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.mS="CachedDrmDataSymbol";},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.tn="com.microsoft.playready";a.Hd="com.microsoft.playready.hardware";a.TC="com.microsoft.playready.software";a.wib="com.chromecast.playready";a.xib="org.chromium.external.playready";a.qfb="com.apple.fps.2_0";a.ZFa="com.widevine.alpha";c.Eb=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.WJ="PlatformConfigDefaultsSymbol";},function(f){var c;c=function(){return this;}();try{c=c||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof t&&(c=t);}f.P=c;},function(f){f.P={Ko:{QU:0,eba:1,SJ:2,name:["transient","semiTransient","permanent"]},Jo:{x8:0,cba:1,bK:2,QC:3,Ro:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},Tjb:{Ajb:0,Ugb:1,leb:2,Ro:100,name:["trailer","montage","content"]},rn:{J9:0,Xaa:1,JFa:2,mwa:3,Ro:100,name:["left","right","up","down"]},wC:{Wua:0,bK:1,sfb:2,hfb:3,ydb:4,rfb:5,Wta:6,Ro:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},Sx:{QC:0,E7:1,Ro:100,name:["playFocused","detailsOpened"]}};},function(f,c,a){c=a(280);f.P="undefined"!==typeof c&&"undefined"!==typeof nrdp?nrdp.la:Date.now;},function(f,c,a){var b,d,h,l,g,m,p,r,u,v;Object.defineProperty(c,"__esModule",{value:!0});b=a(51);d=a(4);h=a(57);l=a(242);g=a(17);m=a(3);p=a(373);r=a(218);a(83);u=a(46);a(14);v=a(36);c.PFa=function(a,c,f,x,y){var G,n,q,O,B,t,V;function z(a,b){b=b&&0<b.length?b[0]:{};b.type=a;b.target=B;O.mc(a,b);}function k(a){var b,c,d;q.info("Next episode added",a);d=a.playbackParams;d&&(b=d.playbackState,b={Zf:d.trackingId,jf:d.sessionParams,pm:d.authParams,Bz:d.disableTrackStickiness||!1,KR:d.uiPlayStartTime,ZO:d.loadImmediately||!1,Qf:d.isBranching||!1,playbackState:b?{currentTime:b.currentTime}:void 0},c=d.uiLabel);return V.YLa({M:a.movieId,NG:a.nextStartPts,uz:a.currentEndPts,mb:b,Oc:c||a.uiLabel,pe:a.manifestData,SA:y});}function w(){return V.xd.cc;}G=u.Qa;n=[{event:G.aP,Cd:function(){z(G.aP,arguments);}},{event:G.$O,Cd:function(){z(G.$O,arguments);}},{event:G.loaded,Cd:function(){z(G.loaded,arguments);}},{event:G.error,Cd:function(){z(G.error,arguments);}},{event:G.closed,Cd:function(){z(G.closed,arguments);}},{event:G.Ik,Cd:function(){z(G.Ik,arguments);}},{event:G.tE,Cd:function(){z(G.tE,arguments);}},{event:G.gN,Cd:function(){z(G.gN,arguments);}},{event:G.VR,Cd:function(){z(G.VR,arguments);}},{event:G.MP,Cd:function(){z(G.MP,arguments);}},{event:G.D3,Cd:function(){z(G.D3,arguments);}},{event:G.oN,Cd:function(){z(G.oN,arguments);}},{event:G.gz,Cd:function(){z(G.gz,arguments);}},{event:G.iE,Cd:function(){z(G.iE,arguments);}},{event:G.hE,Cd:function(){z(G.hE,arguments);}},{event:G.Do,Cd:function(){z(G.Do,arguments);}},{event:G.jI,Cd:function(){z(G.jI,arguments);}},{event:G.Zt,Cd:function(){z(G.Zt,arguments);}},{event:G.xP,Cd:function(){z(G.xP,arguments);}},{event:G.WR,Cd:function(){z(G.WR,arguments);}},{event:G.XQ,Cd:function(){z(G.XQ,arguments);}},{event:G.mQ,Cd:function(){z(G.mQ,arguments);}},{event:G.ZR,Cd:function(){z(G.ZR,arguments);}},{event:G.LQ,Cd:function(){z(G.LQ,arguments);}},{event:G.MQ,Cd:function(){z(G.MQ,arguments);}},{event:G.NX,Cd:function(){z(G.NX,arguments);}},{event:G.OX,Cd:function(){z(G.OX,arguments);}}];q=m.Cc("VideoPlayer");O=new h.Ci();B={addEventListener:O.addListener,removeEventListener:O.removeListener,getReady:function(){V.qYa();},getXid:function(){return w().aa;},getElement:function(){return w().element;},getPlaying:function(){return w().kYa();},getPaused:function(){return w().gYa();},getMuted:function(){return w().WXa();},getVolume:function(){return w().eZa();},getEnded:function(){return w().lXa();},getBusy:function(){return w().Nj();},getError:function(){return w().getError();},getCurrentTime:function(){return w().Un();},getBufferedTime:function(){return w().F_();},getSegmentTime:function(){return w().fO();},getDuration:function(){return w().kXa();},getVideoSize:function(){return w().dZa();},getAudioTrackList:function(){return w().tWa();},getAudioTrack:function(){return w().sWa();},getTimedTextTrackList:function(){return w().UYa();},getTimedTextTrack:function(){return w().TYa();},getAdditionalLogInfo:function(){return w().pWa();},getTrickPlayFrame:function(a){return w().ZYa(a);},getSessionSummary:function(){return w().oka();},getCongestionInfo:function(a){a?w().ZN().then(function(b){a(b);})["catch"](function(b){a(b);}):w().ZN();},getTimedTextVisibility:function(){return w().JF();},setMuted:function(a){w().E9a(a);},setVolume:function(a){w().R9a(a);},setPlaybackRate:function(a){w().I9a(a);},setAudioTrack:function(a){w().r9a(a);},setTimedTextTrack:function(a){w().O9a(a);},setTimedTextBounds:function(a){return w().KH(a);},setTimedTextMargins:function(a){return w().LH(a);},setTimedTextVisibility:function(a){return w().MH(a);},prepare:function(){return w().Dt();},load:function(){return w().load();},close:function(a){a?V.close().then(function(b){a(b);})["catch"](function(b){a(b);}):V.close();},play:function(){return w().play();},pause:function(){return w().pause();},seek:function(a){return w().seek(a);},engage:function(a,b){b?w().Rn(a).then(function(a){b(a);})["catch"](function(a){b(a);}):w().Rn(a);},induceError:function(a){return w().k_a(a);},loadCustomTimedTextTrack:function(a,b,c){return w().P0a(a,b,c);},tryRecoverFromStall:function(){return w().pI();},addEpisode:k,playNextEpisode:function(a){a=void 0===a?{}:a;a={Zf:a.trackingId,pm:a.authParams,jf:a.sessionParams,Bz:a.disableTrackStickiness,KR:a.uiPlayStartTime,IN:a.forceAudioTrackId,KN:a.forceTimedTextTrackId,Qf:a.isBranching,v6:a.vuiCommand,playbackState:a.playbackState};q.info("Playing the next episode",a);return V.transition(a);},playSegment:function(a){return w().t5a(a);},queueSegment:function(a){return w().J6a(a);},updateNextSegmentWeights:function(a,b){return w().Uq(a,b);},getCropAspectRatio:function(){return w().UWa();}};t=m.Z.get(p.qba).Zp(!1,"6.0011.853.011",g.ir,v.Yh,d.config);V=m.Z.get(r.KU).QRa(t,function(a,c,d){return new b.rj(a,c,d);},l.URa,function(a,b){B&&w()&&(B.diagnostics=w().fXa());n.forEach(function(c){b&&b.removeEventListener(c.event,c.Cd);a.addEventListener(c.event,c.Cd);});a.getError()?z(G.gz,a.getError().GR()||{}):(z(G.iE),z(G.hE),z(G.Do),z(G.jI),z(G.Zt),z(G.gz));});k({movieId:a,playbackParams:c,uiLabel:f,manifestData:x});return B;};c.Irb=u.Qa.aP;c.C6a=u.Qa.$O;c.Hrb=u.Qa.loaded;c.Grb=u.Qa.error;c.Erb=u.Qa.closed;c.B6a=u.Qa.Ik;c.Crb=u.Qa.tE;c.Frb=u.Qa.gN;c.Rrb=u.Qa.VR;c.vpa=u.Qa.MP;c.upa=u.Qa.oN;c.Drb=u.Qa.gz;c.Brb=u.Qa.iE;c.Arb=u.Qa.hE;c.Prb=u.Qa.Do;c.Orb=u.Qa.jI;c.Qrb=u.Qa.Zt;c.Jrb=u.Qa.xP;c.Srb=u.Qa.WR;c.Nrb=u.Qa.XQ;c.Krb=u.Qa.mQ;c.Trb=u.Qa.ZR;c.Lrb=u.Qa.LQ;c.Mrb=u.Qa.MQ;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.Sg||(c.Sg={});f[f.Ara=1]="sourceopen";f[f.Ik=2]="currentTimeChanged";f[f.lB=3]="seeked";f[f.Ona=4]="needlicense";f[f.lma=5]="licenseadded";f[f.zra=6]="sourceBuffersAdded";f[f.moa=7]="onNeedKey";},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(6);d=a(4);h=a(2);l=a(3);g=a(14);m=a(5);f.Dd(h.v.W8,function(a){var h,f,z;function p(){z&&clearTimeout(z);a(b.cb);p=g.Gb;}h=l.Cc("BatteryManager");c.Hp={Fua:"chargingchange",Vja:function(){return f?f.level:null;},H_:function(){return f?f.charging:null;},addEventListener:function(a,b){f&&f.addEventListener(a,b);},removeEventListener:function(a,b){f&&f.removeEventListener(a,b);}};if(d.config.DE){z=setTimeout(p,d.config.EWa);try{m.Tg.getBattery().then(function(a){f=a;p();})["catch"](function(a){h.error("getBattery promise rejected",a);p();});}catch(w){h.error("exception on getBattery api call",w);p();}}else p();});},function(f,c,a){var b,d;b=a(169);d={};f.P={xnb:function(a){a=a.map(b.nq);return a.slice(0,a.length/2);},wnb:function(a,b){var c;c=b/a.length;return a.slice(0,a.length/2).map(function(a,b){return b*c;});},a_:function(a,b){var c;c=a/b*Math.PI*-2;d[b]=d[b]||{};d[b][a]=d[b][a]||[Math.cos(c),Math.sin(c)];return d[b][a];}};},function(f){f.P={add:function(c,a){return[c[0]+a[0],c[1]+a[1]];},ie:function(c,a){return[c[0]-a[0],c[1]-a[1]];},multiply:function(c,a){return[c[0]*a[0]-c[1]*a[1],c[0]*a[1]+c[1]*a[0]];},nq:function(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1]);}};},function(f,c,a){var b,d,h;b=a(169);d=a(168);h=a(472);f.P={f_:function g(a){var c,h,m,z,w;c=[];h=a.length;if(1==h)return Array.isArray(a[0])?[[a[0][0],a[0][1]]]:[[a[0],0]];m=g(a.filter(function(a,b){return 0==b%2;}));a=g(a.filter(function(a,b){return 1==b%2;}));for(var f=0;f<h/2;f++){z=m[f];w=b.multiply(d.a_(f,h),a[f]);c[f]=b.add(z,w);c[f+h/2]=b.ie(z,w);}return c;},Tia:function(a){var f,v,z;for(var c=a.length,g=h.SPa(c),r=0;r<c;r++){f=h.reverse(r)>>>h.Dya-g;if(f>r){v=[a[r],0];a[r]=a[f];a[f]=v;}else a[f]=[a[f],0];}for(g=2;g<=c;g+=g)for(r=0;r<g/2;r++)for(f=d.a_(r,g),v=0;v<c/g;v++){z=b.multiply(f,a[v*g+r+g/2]);a[v*g+r+g/2]=b.ie(a[v*g+r],z);a[v*g+r]=b.add(a[v*g+r],z);}}};},function(f){f.P={c$:{code:-1,description:"MediaCache is not supported."},Iib:{code:100,description:"Resource was not found"},Gza:{code:101,description:"Resource Metadata was not found"},WC:{code:102,description:"Read failed",Zl:function(c,a){return{code:this.code,description:c,cause:a};}},rK:{code:200,description:"Daily write limit exceeded"},Kx:{code:201,description:"Capacity has been exceeded"},qK:{code:202,description:"Write failed, cause unknown",Zl:function(c,a){return{code:this.code,description:c,cause:a};}},Zjb:{code:203,description:"Write failed, cause unknown"},Jva:{code:300,description:"Failed to delete resource",Zl:function(c,a){return{code:this.code,description:c,cause:a};}},lu:{code:900,description:"Invalid partition name"},Iya:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},J7:{code:701,description:"Failed to initialize underlying disk cache."},Fza:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(f,c,a){var d,h,l;function b(a,b,c,d){l.call(this,a,b,c,d);h.call(this,a,b);this.yb=[];this.Pu={};this.oq();this.Nf=!1;}d=a(21);c=a(71);a(9);a(117);h=a(67);l=a(265);a(30);b.prototype=Object.create(l.prototype);c(h.prototype,b.prototype);b.prototype.fw=function(){return!this.Nf&&this.yb.length&&this.yb.every(function(a){return a.fw();});};b.prototype.$y=function(a){d(!this.Nf);return this.Nf=this.yb.every(function(b){return b.fw()?b.$y(a,void 0,void 0):!1;});};b.prototype.z7a=function(){this.yb.forEach(function(a){a.lQ();});};b.prototype.xt=function(a){l.prototype.xt.call(this,a);};b.prototype.wi=function(a){l.prototype.wi.call(this,a);};b.prototype.oi=function(){return this.yb[0].oi()+"-"+this.yb[this.yb.length-1].oi();};b.prototype.toString=function(){return h.prototype.toString.call(this)+"(aggregate)";};b.prototype.toJSON=b.prototype.toString;f.P=b;},function(f,c,a){var d,h;function b(a,b,c,p,r,f){h.call(this,a,p);d.call(this,a,b,c,p,r,f);}c=a(71);d=a(264);h=a(174);b.prototype=Object.create(d.prototype);c(h.prototype,b.prototype);f.P=b;},function(f,c,a){var h;function b(a,b){this.Hc=a.B_a?a:new AseStream(b);this.pf=b.ga;this.Zb=b.offset;}function d(){h(!1);}h=a(21);b.prototype={};Object.defineProperties(b.prototype,{stream:{get:function(){return this.Hc;},set:d},ga:{get:function(){return this.pf;},set:d},offset:{get:function(){return this.Zb;},set:d},Da:{get:function(){return this.Hc.Da;},set:d},M:{get:function(){return this.Hc.M;},set:d},O:{get:function(){return this.Hc.O;},set:d},ib:{get:function(){return this.Hc.ib;},set:d},J:{get:function(){return this.Hc.J;},set:d},profile:{get:function(){return this.Hc.profile;},set:d},jb:{get:function(){return this.Hc.jb;},set:d},bc:{get:function(){return this.Hc.bc;},set:d},Kn:{get:function(){return this.Hc.Kn;},set:d},Mn:{get:function(){return this.Hc.Mn;},set:d},pla:{get:function(){return this.Hc.pla;},set:d}});f.P=b;},function(f){f.P={DAa:"6674654e-696c-5078-6966-665374726d21",EAa:"6674654e-696c-4878-6165-6465722e7632",A$:"6674654e-696c-5078-6966-66496e646578",bU:"6674654e-696c-4d78-6f6f-6653697a6573",aU:"6674654e-696c-5378-6565-6b506f696e74",CBa:"cedb7489-e77b-514c-84f9-7148f9882554",Q$:"524f39a2-9b5a-144f-a244-6c427c648df4"};},function(f,c,a){var l,g,m;function b(a,b){this.tl=a;this.hv=a.view;this.wl=b;this.Zb=16*b;}function d(){g(!1);}function h(a,b,c,d){this.buffer=a;this.O=b;this.view=new DataView(a,0);this.length=a.byteLength/16;this.jb=c;this.If=d;this.Qda=this.dfa=void 0;this.length&&(this.X=this.Nq(0),this.fa=this.get(this.length-1).fa,this.bz=Math.floor((this.fa-this.X)/this.length));}a(10);a(13);l=new(a(9)).Console("FRAGMENTS","media|asejs");g=a(21);a(72);m=a(503);Object.defineProperties(b.prototype,{index:{get:function(){return this.wl;},set:d},ga:{get:function(){return this.hv.getUint32(this.Zb);},set:d},X:{get:function(){return this.hv.getUint32(this.Zb+4);},set:d},duration:{get:function(){return this.hv.getUint16(this.Zb+14);},set:d},fa:{get:function(){return this.X+this.duration;},set:d},Ad:{get:function(){return this.hv.getUint32(this.Zb+4);},set:d},ON:{get:function(){return this.hv.getUint16(this.Zb+14);},set:d},mi:{get:function(){return this.Ad+this.ON;},set:d},offset:{get:function(){return 65536*this.hv.getUint32(this.Zb+8)+this.hv.getUint16(this.Zb+12);},set:d},HG:{get:function(){return this.tl.vP&&this.tl.vP[this.wl];},set:d},Fh:{get:function(){return this.tl.Fh&&this.tl.Fh.get(this.wl);},set:d},je:{get:function(){return this.tl.en&&this.tl.en[this.wl];},set:d},bc:{get:function(){return this.tl.bc;},set:d},Kn:{get:function(){return this.tl.bc.Bf;},set:d},Mn:{get:function(){return this.tl.bc.jb;},set:d}});b.prototype.constructor=b;b.prototype.toJSON=function(){return{ga:this.ga,offset:this.offset,X:this.X,fa:this.fa,duration:this.duration,index:this.index};};h.constructor=h;h.Jdb=16;Object.defineProperties(h.prototype,{Yf:{get:function(){return this.dfa||this.IGa();},set:d},Zma:{get:function(){return this.Qda||this.EGa();},set:d},vP:{get:function(){return this.rL;},set:d},Fh:{get:function(){return this.oy;},set:d},bc:{get:function(){return this.If;},set:d}});h.from=function(a,b,c,d,g){var l,r,f;for(var p=new DataView(new ArrayBuffer(16*a.length)),m=0;m<a.length;++m){l=16*m;r=b?b(a[m],m,a):a[m];p.setUint32(l,r.ga);p.setUint32(l+4,r.X);f=r.offset;p.setUint32(l+8,f/65536|0);p.setUint16(l+12,f&65535);p.setUint16(l+14,r.duration);}return new h(p.buffer,c,d,g);};h.prototype.IGa=function(){for(var a=0,b=0;b<this.length;++b)a+=this.sizes(b);return this.dfa=a;};h.prototype.spa=function(a,b,c,d){a&&void 0===this.If&&(this.If=a);a=this.If;b&&c&&d&&(this.rL=b,this.oy=new m(c,d,a,this.Nq.bind(this)));};h.prototype.sizes=function(a){return this.view.getUint32(16*a);};h.prototype.Nq=function(a){return this.view.getUint32(16*a+4);};h.prototype.nN=function(a){return this.view.getUint32(16*a+4)+this.view.getUint16(16*a+14);};h.prototype.i3=function(a){return 65536*this.view.getUint32(16*a+8)+this.view.getUint16(16*a+12);};h.prototype.hF=function(a){return this.view.getUint16(16*a+14);};h.prototype.get=function(a){return new b(this,a);};h.prototype.A$a=function(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}(h.prototype.Nq);h.prototype.slice=function(a,b){g(void 0===a||0<=a&&a<this.length);g(void 0===b||b>a&&b<=this.length);a=this.buffer.slice(16*(a||0),16*(b||this.length));return new h(a,this.jb);};h.prototype.concat=function(){var a,b,c;a=Array.prototype.concat.apply(Array(this),arguments);b=a.reduce(function(a,b){return a+b.length;},0);c=new Uint8Array(16*b);a.reduce(function(a,b){c.set(new Uint8Array(b.buffer),a);return a+b.buffer.byteLength;},0);return new h(c.buffer,this.O,this.jb);};h.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};h.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};h.prototype.reduce=function(a,b){var c;c=void 0!==b?b:this.get(0);for(b=void 0!==b?0:1;b<this.length;++b)c=a(c,this.get(b),b,this);return c;};h.prototype.Ll=function(a,b,c){if(0>a||0===this.length)return-1;a=Math.max(a,b||0);for(var d=0,g=this.length-1,h,p;g>=d;)if(h=d+(g-d>>1),p=this.Nq(h),a<p)g=h-1;else if(a>=p+this.hF(h))d=h+1;else{for(;b&&h<this.length&&this.Nq(h)<b;)++h;return h<this.length?h:c?this.length-1:-1;}return c?this.length-1:-1;};h.prototype.j_=function(a,b,c){a=this.Ll(a,b,c);return 0<=a?this.get(a):void 0;};h.prototype.xMa=function(a){var b;a=a.Sq(1E3).Bf;b=4;for(0>this.view.getUint32(4)+a&&(this.view.setUint32(4,0),this.view.setUint16(14,this.view.getUint32(20)+a),b=20);b<16*this.length;b+=16)this.view.setUint32(b,Math.max(0,this.view.getUint32(b)+a));};h.prototype.toJSON=function(){return{length:this.length,bz:this.bz};};h.prototype.dump=function(){var b;l.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.bz+"ms");for(var a=0;a<this.length;++a){b=this.get(a);l.trace("StreamFragments: "+a+": ["+b.X+"-"+b.fa+"] @ "+b.offset+", "+b.ga+" bytes");}};h.prototype.EGa=function(){for(var a=0,b,c=0;c<this.length;c++)b=this.hF(c),b>a&&(a=b);return this.Qda=a;};f.P=h;},function(f,c,a){var d,h;function b(a){this.H={sG:a.maxc||25,IY:a.c||.5,W6a:a.rc||"none",hZa:a.hl||7200};this.UD();this.XJa=this.H.W6a;this.wD=this.H.hZa;this.gV=Math.exp(Math.log(2)/this.wD);this.gV=Math.max(this.gV,1);this.JK=1;}d=a(10);h=a(178).TDigest;new(a(9)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.ae=function(){var a;if(0===this.ed.size())return null;a=this.ed.cf([.25,.75]);if(a[0]===a[1])return null;this.ed.size()>this.H.sG&&this.ed.Np();a=this.ed.sx(!1).reduce(function(a,b){d.da(b.Qd)&&d.da(b.n)&&a.push({mean:b.Qd,n:b.n/this.JK});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.qh=function(a){var b;if(d.Ja(a)||!d.has(a,"tdigest")||!d.oc(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(m){return!1;}b.forEach(function(a){d.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{Qd:a.mean,n:a.n};});this.JK=1;this.ed.W3(a);void 0===this.ed.cf(0)&&this.UD();};b.prototype.get=function(){var a,b;a=this.ed;b=a.cf([0,.1,.25,.5,.75,.9,1]);return{min:b[0],WG:b[1],jh:b[2],Tf:b[3],kh:b[4],XG:b[5],max:b[6],tf:a.sx(!1)};};b.iYa=function(a){var c;c=new b({});d.Ja(a)||d.S(a)||!d.isArray(a.tf)||(c.ed.W3(a.tf),void 0===c.ed.cf(0)&&c.UD());a=c.ed.cf([.25,.75]);return a[0]===a[1]?null:function(a){return c.ed.cf(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.XJa&&(this.JK=b=this.JK*this.gV);this.ed.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.ed.summary()+")";};b.prototype.UD=function(){this.ed=new h(this.H.IY,this.H.sG);};f.P=b;},function(f,c,a){var g;function b(a,b,c){this.Dz=!1===a;this.aF=a||.01;this.F9=void 0===b?25:b;this.k7=void 0===c?1.1:c;this.tf=new g(d);this.reset();}function d(a,b){return a.Qd>b.Qd?1:a.Qd<b.Qd?-1:0;}function h(a,b){return a.io-b.io;}function l(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.aF:!1);this.pTa=this.config.ratio||.9;this.qTa=this.config.Zra||1E3;this.yP=0;}g=a(513).XDa;b.prototype.reset=function(){this.tf.clear();this.s1=this.n=0;};b.prototype.size=function(){return this.tf.size;};b.prototype.sx=function(a){var b;b=[];a?(this.KK(!0),this.tf.Kc(function(a){b.push(a);})):this.tf.Kc(function(a){b.push({Qd:a.Qd,n:a.n});});return b;};b.prototype.summary=function(){return[(this.Dz?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.cf(0),"Q1  = "+this.cf(.25),"Q2  = "+this.cf(.5),"Q3  = "+this.cf(.75),"max = "+this.cf(1)].join("\n");};b.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.dda(a[c],b);};b.prototype.W3=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.dda(a[b].Qd,a[b].n);};b.prototype.KK=function(a){var b;if(!(this.n===this.s1||!a&&this.k7&&this.k7>this.n/this.s1)){b=0;this.tf.Kc(function(a){a.io=b+a.n/2;b=a.tz=b+a.n;});this.n=this.s1=b;}};b.prototype.DVa=function(a){var b,c;if(0===this.size())return null;b=this.tf.lowerBound({Qd:a});c=null===b.data()?b.Tw():b.data();return c.Qd===a||this.Dz?c:(b=b.Tw())&&Math.abs(b.Qd-a)<Math.abs(c.Qd-a)?b:c;};b.prototype.Gy=function(a,b,c){a={Qd:a,n:b,tz:c};this.tf.jA(a);this.n+=b;return a;};b.prototype.uK=function(a,b,c){b!==a.Qd&&(a.Qd+=c*(b-a.Qd)/(a.n+c));a.tz+=c;a.io+=c/2;a.n+=c;this.n+=c;};b.prototype.dda=function(a,b){var c,d,g;c=this.tf.min();d=this.tf.max();g=this.DVa(a);g&&g.Qd===a?this.uK(g,a,b):g===c?this.Gy(a,b,0):g===d?this.Gy(a,b,this.n):this.Dz?this.Gy(a,b,g.tz):(c=g.io/this.n,Math.floor(4*this.n*this.aF*c*(1-c))-g.n>=b?this.uK(g,a,b):this.Gy(a,b,g.tz));this.KK(!1);!this.Dz&&this.F9&&this.size()>this.F9/this.aF&&this.Np();};b.prototype.ONa=function(a){var b,c;this.tf.Gi=h;b=this.tf.upperBound({io:a});this.tf.Gi=d;c=b.Tw();a=c&&c.io===a?c:b.next();return[c,a];};b.prototype.cf=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.IJa,this);return Array.isArray(a)?b:b[0];};b.prototype.IJa=function(a){var b,c;if(0!==this.size()){this.KK(!0);this.tf.min();this.tf.max();a*=this.n;b=this.ONa(a);c=b[0];b=b[1];return b===c||null===c||null===b?(c||b).Qd:this.Dz?a<=c.tz?c.Qd:b.Qd:c.Qd+(a-c.io)*(b.Qd-c.Qd)/(b.io-c.io);}};b.prototype.Np=function(){var a;if(!this.eha){a=this.sx();this.reset();for(this.eha=!0;0<a.length;)this.W3(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.KK(!0);this.eha=!1;}};l.prototype=Object.create(b.prototype);l.prototype.constructor=l;l.prototype.push=function(a){b.prototype.push.call(this,a);this.YOa();};l.prototype.Gy=function(a,c,d){this.yP+=1;b.prototype.Gy.call(this,a,c,d);};l.prototype.uK=function(a,c,d){1===a.n&&--this.yP;b.prototype.uK.call(this,a,c,d);};l.prototype.YOa=function(){!("auto"!==this.mode||this.size()<this.qTa)&&this.yP/this.size()>this.pTa&&(this.mode="cont",this.Dz=!1,this.aF=this.config.aF||.01,this.Np());};f.P={TDigest:b,Digest:l};},function(f){function c(a){this.mIa=a;this.zl=[];this.Yr=!1;this.FW=void 0;this.Ki={};}c.prototype.jX=function(a){this.zl.length===this.mIa&&this.zl.shift();Array.isArray(a)?this.zl=this.zl.concat(a):this.zl.push(a);this.Yr=!0;};c.prototype.Zz=function(){return this.zl.length;};c.prototype.yga=function(){var a;a=this.zl;return 0<a.length?a.reduce(function(a,c){return a+c;},0)/this.zl.length:void 0;};c.prototype.zOa=function(){var a,b;a=this.zl;if(0<a.length){b=this.yga();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};c.prototype.rs=function(a){var b,c,h;if(this.Yr||void 0===this.FW)this.FW=this.zl.slice(0).sort(function(a,b){return a-b;}),this.Ki={},this.Yr=!1;if(void 0===this.Ki[a]){b=this.FW;c=Math.floor(a/100*(b.length-1)+1)-1;h=(a/100*(b.length-1)+1)%1;this.Ki[a]=c===b.length-1?b[c]:b[c]+h*(b[c+1]-b[c]);}return this.Ki[a];};f.P=c;},function(f,c,a){var d,h,l;function b(a,b){this.wn=b?[b]:[];this.Hr="$op$"+l++;this.l=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(6);h=a(8);l=0;b.prototype.addListener=function(a,b){var c;c=this;h.Lha(a);h.ea(0>this.wn.indexOf(a));a[d.QJ+this.Hr]=b;this.wn=this.wn.slice();this.wn.push(a);this.wn.sort(function(a,b){return c.o$a(a,b);});};b.prototype.removeListener=function(a){var b;h.Lha(a);this.wn=this.wn.slice();0<=(b=this.wn.indexOf(a))&&this.wn.splice(b,1);};b.prototype.set=function(a,b){if(this.l!==a){b=Object.assign({oldValue:this.l,newValue:a},b);this.l=a;a=this.wn;for(var c=a.length,d=0;d<c;d++)a[d](b);}};b.prototype.o$a=function(a,b){return(a[d.QJ+this.Hr]||0)-(b[d.QJ+this.Hr]||0);};pa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.l;}}});c.sd=b;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(2);c.L_=function(a){return a===b.Df.Gf.AUDIO?d.u.e$:d.u.f$;};c.cK=50;c.bEa=1E3;},function(f,c,a){var b,d,h,l,g,m,p,r,u,v;Object.defineProperty(c,"__esModule",{value:!0});b=a(81);d=a(28);h=a(135);l=a(4);g=a(57);m=a(191);p=a(17);a(3);a(83);r=a(8);u=a(2);v=a(15);c.RT=function(){var a;a=new g.Ci();return{addEventListener:a.addListener,removeEventListener:a.removeListener,download:function(a,c){var z,k;function g(a){var b;b=a.mediaRequest.bj;b.readyState=h.Pa.Va.sr;a.connect?(a.mediaRequest=b,a.readyState=b.readyState):a={mediaRequest:b,readyState:b.readyState,timestamp:p.Ra(),connect:!1};b.c3(a);}function f(a){var b,c,d,g;b=a.mediaRequest;c=a.errorcode;d=a.httpcode;g=h.Pa.dr;if(void 0!==b&&(b=b.bj,void 0!==b&&b.readyState!==h.Pa.Va.bm))if(c===u.u.No)b.readyState=h.Pa.Va.$l,a.mediaRequest=b,a.readyState=b.readyState,b.s3a(a);else{b.readyState=h.Pa.Va.bm;switch(c){case u.u.sC:d=g.lS;break;case u.u.xT:d=g.uT;break;case u.u.Ox:d=400<d&&500>d?g.zJ:500<=d?g.wT:g.uT;break;case u.u.Px:d=g.vT;break;case u.u.yJ:d=g.g7;break;case u.u.rC:d=g.AJ;break;case u.u.ku:d=g.AJ;break;case u.u.tT:d=g.N8;break;case u.u.K8:d=g.zJ;break;case u.u.pwa:d=g.vT;break;default:d=g.AJ;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=c;b.e3(a);}}a.L&&a.Ya&&l.config.Poa&&(z={Qoa:new m.f7(a.L.Ys),Yma:l.config.qw,g3:0,Ya:a.Ya});l.config.Vq&&a.bj&&b.vh&&b.vh.EOa(a.bj.M,a.bj.ib)&&(k=a.bj.ib,r.ea(k,"streamId not available in mediaRequestAse"),k=b.vh.download(a.bj.M,a,k,c));k||(k=d.Za.download(a,c,z));a.bj&&(c=a.bj,c.readyState===h.Pa.Va.OPENED||c.readyState===h.Pa.Va.bm)&&(c.readyState=h.Pa.Va.ur,z={mediaRequest:c,timestamp:p.Ra()},c.x3a(z));k.cX(function(b){var c,d;c=b.request.bj;void 0!==c&&(b.K?a.L&&c.readyState!==h.Pa.Va.DONE&&c.readyState!==h.Pa.Va.$l&&(c.readyState!==h.Pa.Va.bm&&c.readyState===h.Pa.Va.ur&&g({mediaRequest:b.request}),c.readyState=h.Pa.Va.DONE,c.zc||(d={mediaRequest:c,readyState:c.readyState,timestamp:p.Ra(),cadmiumResponse:b},a.L.a6+=1,c.YYa(),c.R_a()&&(a.L.A4+=1,b.xf.hf=Math.ceil(c.GVa),b.xf.Zj=Math.ceil(c.rPa),b.xf.requestTime=Math.floor(c.W0a)),c.HE=d,c.vi(d))):c.readyState!==h.Pa.Va.$l&&(d={mediaRequest:b.request,timestamp:p.Ra(),errorcode:b.R,httpcode:b.Fg},f(d)));});k.J9a(function(a){var b,c;b=a.mediaRequest.bj;c=a.bytes;void 0!==b&&(b.readyState===h.Pa.Va.ur&&g(a),v.da(c)&&(a.mediaRequest=b,a.timestamp=p.Ra(),c>b.Jc&&(a.newBytes=c-b.Jc,a.bytesLoaded=c,b.C3a(a))));});k.x9a(f);return k;}};};},function(f,c,a){var l,g,m,p,r,u,v,z,k,G,x,y,C,F,N,T,n,q,O,B,ja,V;function b(a,b){var u,y;function c(b){return p.VAa(a,u,b);}function g(){var a,b,d;b=F.Cc("Eme");a=new C.Ne.cr(b,void 0,c,{Ke:!1,dt:!1});d=F.Z.get(q.ky);return C.Ne.kn(b,"cenc",void 0,{Ke:!1,dt:!1,Mla:z.config.Sh,Qqa:{ona:z.config.I8a,Iga:z.config.O4,ytb:z.config.H8a},Ta:a,$P:z.config.iH,UB:z.config.UB,Dx:z.config.QZ,Yqb:z.config.J8a,Yfa:d.HM(),t6:d.QE([]),eA:z.config.eA});}function l(a,b){var c;c={aa:b.xid,Us:function(){return 0;},M:b.movieId,nG:!1};z.config.Sh&&(y.info("secure stop is enabled"),b=a.K?{success:a.K,persisted:!0,ss_km:a.z2,ss_sr:a.qB,ss_ka:a.HY}:{success:a.K,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.tb,ErrorExternalCode:a.Sc,ErrorEdgeCode:a.Jj,ErrorDetails:a.cause&&a.cause.za},b.browserua=B.Ug,a=new x.Zx(c,"securestop",a.K?"info":"error",b),t._cad_global.logBatcher.Vl(a));}function f(){function c(b,c){var h,f;h=m.He.Xn(c.profileId);if(!h)return y.warn("profile not found in release drm session, this is an orphan drmSession"),d(b,c);if(!c.Ob||0===c.Ob.length||!c.Ob[0].kt)return y.error("releaseDrmSession exception: missing valid keySessionData"),d(b,c);u={Za:r.Za,log:y,profile:h};if(0<c.Ob.length){y.info("Sending the deferred playdata and secure stop data");f=g();return f.create(z.config.ce).then(function(){return f.RSa(c);}).then(function(a){y.info("Sent the deferred playdata and secure stop data");l(a,c);return d(b,c);})["catch"](function(a){a&&a.code===n.v.mEa&&d(b,c);a&&a.code===n.v.lEa&&d(b,c);y.error("Unable to send last stop",a);l(a,c);throw a;});}y.info("No key session so just send the playdata");return p.UAa(!1,a,u,c).then(function(){y.trace("Successfully sent stop command for previous session");return d(b,c);})["catch"](function(a){y.error("Unable to send stop command for previous session",a);throw a;});}h(y).then(function(a){var d;d=a.dN.filter(function(a){return!1===a.active;}).map(function(b){return c(a,b);});Promise.all(d).then(function(){y.info("release drm session completed for "+d.length+" entries");b(v.cb);})["catch"](function(a){a=a||{};a.DrmCacheSize=d.length;y.error("Unable to release one or more DRM session data",a);b(v.cb);});})["catch"](function(a){y.error("Unable to load DRM session data",a);b(v.cb);});}y=F.Cc("PlayDataManager");b=b||v.Gb;z.config.dn?b(v.cb):f();}function d(a,b){return a?a.o4(b):Promise.resolve();}function h(a){var b;if(!c.iia){b=F.Z.get(O.mS);c.iia=new Promise(function(c,d){b.Epa().then(function(){c(b);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);d(b);});});}return c.iia;}Object.defineProperty(c,"__esModule",{value:!0});f=a(18);l=a(102);g=a(189);m=a(89);p=a(184);r=a(28);u=a(51);v=a(6);z=a(4);k=a(16);G=a(60);x=a(92);y=a(17);C=a(36);F=a(3);N=a(201);T=a(8);n=a(2);q=a(107);O=a(159);B=a(5);ja=a(23);V=a(121);c.fDa=function(a){var O,D,A,H,Pa,wa,na,P,mb,ta,db;function c(){na||(a.Yc("pdsb"),na=ta.oh.events&&ta.oh.events.active?F.Z.get(V.VJ)().then(function(b){mb=b;a.Yc("pdsc");return b;})["catch"](function(b){O.error("Unable to initialize the playdata services",b);a.Yc("pdse");throw b;}):F.Z.get(N.DU)().then(function(b){mb=b;a.Yc("pdsc");return b;})["catch"](function(b){O.error("Unable to initialize the playdata services",b);a.Yc("pdse");throw b;}));return na;}function p(){T.ea(a.dj,"Control protocol is not initialized for playdata");a.Tb.addListener(function(){w(a.Tb.value==k.em?l.Mna:l.Nna,a.Tb.value==k.pr?500:0);});x()&&q(B.ig(z.config.r0,g.JG.s0));}function m(){a.Yc("pdb");c().then(function(b){a.ge?b.s$a({FF:a.dj.aZ}):b.t$a({FF:a.dj.aZ});})["catch"](function(a){O.error("Unable to initialize the playdata services",a);});}function r(){G.Bd.removeListener(G.Pj,f);ca();}function f(){P=!0;mb&&mb.close();G.Bd.removeListener(G.Pj,f);}function x(){return g.JG.a9a&&a.state.value==k.lk&&!wa&&(0<g.JG.s0||D!=l.uq);}function w(a,b){a=a||l.uq;a!=l.uq&&(D=a);x()&&(a=D!=l.uq?z.config.r0:B.ig(z.config.r0,g.JG.s0),a=B.ig(a-(y.Ra()-A),b||0),!b&&(!A||500>=a||H==l.uq&&D!=l.uq)?Z():(T.tSa(a),q(a)));}function ca(){Pa&&(clearTimeout(Pa),Pa=void 0);}function q(a){ca();Pa=setTimeout(w,a);}function Z(){var b;if(x()){ca();wa=!0;b=D;D=l.uq;a.dj.q0(b,function(c){c.K||(O.error("Heartbeat failed",{Type:b},F.jk(c)),c.ne&&a.Hh(new u.rj(n.v.GT,c)));H=b;A=y.Ra();wa=!1;w();});}}O=F.Je(a,"PlayDataManager");D=l.uq;A=0;P=!1;ta=F.Z.get(ja.Oe);if(!C.Ne.kn||!C.Ne.cr){db=C.T$();C.Ne.kn=db.ph;C.Ne.cr=db.request;}a.Yc("pdctor");ta.oh.events&&ta.oh.events.active||(a.addEventListener(k.mg,p,v.by),a.addEventListener(k.mg,m),a.addEventListener(k.VC,m),a.addEventListener(k.Qe,r));a.addEventListener(k.VC,function(){var b;if(!z.config.dn&&a.bh){b=a.dj.sha();h(O).then(function(a){return a.wfa(b);})["catch"](function(){O.error("Unable to load/add cached DRM data");});}});a.addEventListener(k.Qe,function(){var b;if(!P){a.Ocb();b=[function(){return z.config.dn||!a.bh?Promise.resolve():new Promise(function(b){var c;O.info("Sending the expedited playdata and secure stop data");c=a.dj.sha();a.bh.Mia(c).then(function(b){O.info("Sent the expedited playdata and secure stop data");z.config.Sh&&a.KA.KQ({success:b.K,persisted:!1,ss_km:b.z2,ss_sr:b.qB,ss_ka:b.HY});return h(O);}).then(function(a){return d(a,c);}).then(function(){b();})["catch"](function(c){O.error("Unable to send the expedited playdata and secure stop data",c);z.config.Sh&&a.KA.KQ({success:c.K,state:c.state,ErrorCode:c.code,ErrorSubCode:c.tb,ErrorExternalCode:c.Sc,ErrorEdgeCode:c.Jj,ErrorDetails:c.cause&&c.cause.za});b();});});}(),function(){return ta.oh.events&&ta.oh.events.active&&a?c().then(function(b){return b.C5(a);}).then(function(){O.info("Sent the playdata");})["catch"](function(a){O.error("Unable to send the playdata",a);}):a&&a.dj&&!a.background?new Promise(function(b){c().then(function(b){return b.C5(a.dj.aZ());}).then(function(){O.info("Sent the playdata");b();})["catch"](function(a){O.error("Unable to send the playdata",a);b();});}):Promise.resolve();}(),function(){if(t._cad_global.logBatcher)return new Promise(function(a){t._cad_global.logBatcher.flush(!1)["catch"](function(){O.error("Unable to send logblob");a();}).then(function(){a();});});Promise.resolve();}()];Promise.all(b).then(function(){a.Xna();})["catch"](function(){a.Xna();});}});G.Bd.addListener(G.Pj,f);return{V8a:function(d){a.Yc("pdpb");z.config.RQ||c().then(function(b){return b.send(a.M);}).then(function(){z.config.dn?(a.Yc("pdpc"),d(v.cb)):b(a,function(){a.Yc("pdpc");d(v.cb);});})["catch"](function(){a.Yc("pdpe");d(v.cb);});}};};c.gDa=function(){return new Promise(function(a){b({},function(b){a(b);});});};f.Dd(n.v.jl,function(a){a(v.cb);});},function(f,c,a){var l,g,m,p,r,u,v,z,k,G,x,y,C,F,N,T,n,q,O,B,ja;function b(a,b,c,d,g){return g?Promise.resolve({K:!0}):a||b.Dc&&b.aa?l.ti.stop(c,Object.assign({},d,{Dc:b.Dc,aa:b.aa})):d.Dc&&d.aa?l.ti.stop(c,d):Promise.resolve({K:!0});}function d(a,b,c,d){var g;g=z.Z.get(q.yC);if(b.aa&&h(b.Ob))return g.release(Object.assign({},d,{aa:b.aa,Ob:b.Ob}),c);if(d.aa&&h(d.Ob))return g.release(d,c);a&&z.log.error("playback started but no keySessionData");return Promise.resolve({K:!0});}function h(a){return a&&0<a.length&&a[0].kt;}Object.defineProperty(c,"__esModule",{value:!0});l=a(102);g=a(81);m=a(187);p=a(6);r=a(4);u=a(16);v=a(17);z=a(3);k=a(8);G=a(202);x=a(413);a(19);y=a(2);C=a(58);F=a(36);N=a(32);T=a(15);n=a(203);q=a(145);O=a(104);B=a(23);ja=a(121);c.TAa=function(a){var ea,V,ka,ua,la,A,H,ub,Pa,wa,na,P,mb,ta;function h(){h=p.Gb;a.fireEvent(u.waa);ta.oh.events&&ta.oh.events.active&&z.Z.get(ja.VJ)().then(function(b){b.jR(a);});}function f(){f=p.Gb;c.F$(V,ea);a.fireEvent(u.VC);}function w(b){return new Promise(function(c,d){var g,h,p;g=v.Ra();h=[];p=C.tc.mha(b.Rf);b.Fj.forEach(function(a){h.push({sessionId:a.sessionId,dataBase64:z.Dp(a.data)});});p={Dc:a.Dc,Rf:T.is.Eh(b.Rf)?b.Rf:p,cN:[a.Is],Fj:h,aa:a.aa,ii:b.ii};a.CM&&(p.wG=a.CM);mb.Yy(p,V).then(function(b){H=v.Ra()-g;a.Ob=b.Ob;c(b);f();})["catch"](function(a){d(a);});});}function F(){var b,c;b=na.create();b.type=a.ge?"offline":"online";b.profileId=a.profile.id;b.Dc=a.Dc;b.xi=a.xi;b.aa=a.aa;b.M=a.M;b.Jg=ca();b.timestamp=l.ti.mka();b.L.ni(U());(a.ge||a.xi)&&T.da(a.pc.value)&&(b.position=a.Ts());c=a.Gg;c&&T.kq(c.Fz)&&(b.K=!1,b.hnb=c.Fz);return b;}function U(){if(ka)return{startPosition:ua,startEpoch:la,playTimes:a.Sl.dka()};if(a.ge)return{startEpoch:v.On(),playTimes:{total:0}};if(a.Dc&&a.aa)return{playTimes:{total:0}};}function ca(){var b,c,d,g;b=a.gc.value;c=a.Ud.value;d=a.Fc.value;if(b&&c&&d){g=a.Sa.media.find(function(a){return a.tracks.AUDIO===b.Ab&&a.tracks.VIDEO===c.Ab&&a.tracks.TEXT===d.Ab;});return g?g.id:void 0;}}function Z(){var a;a=F();a.Jg&&a.xi&&l.ti.m2a(a,V,function(b){b.K?ea.trace("Spliced new mediaId "+a.Jg):ea.error("Media splice failed",z.jk(b));});}ea=z.Je(a,"NccpPlayback");V={Za:a.Ys,log:z.Je(a,"Nccp"),profile:a.profile};ub=r.config.gs||v.ir;Pa=r.config.sessionId||v.ir;na=z.Z.get(G.CU);P=z.Z.get(n.MT);mb=z.Z.get(q.yC);ta=z.Z.get(B.Oe);k.ea(r.config);k.ea(l.ti);k.ea(V.Za);r.config.dn||(wa=z.Z.get(x.W7));a.addEventListener(u.mg,function(){ka=!0;ua=a.pc.value;la=v.On();k.Es(ua);});a.Fc.addListener(function(){a.Pb.Bz?ea.trace("stickiness is disabled for timedtext"):Z();});a.gc.addListener(function(){a.Pb.Bz?ea.trace("stickiness is disabled for audio"):Z();});return{P2:V,kE:function(b){var l,f,u;function c(c){A=v.Ra()-l;ea.trace("Auth Delay: "+A);try{m.R4a(c,a,a.IN,a.KN);b(p.cb);h();}catch(hb){ea.error("Exception processing authorization response",hb);b({K:!1,R:y.u.AAa});}}function d(){var d,g;d=r.config.bQ.enabled?C.tc.vu.SDa:a.KO()?C.tc.vu.MEa:C.tc.vu.vr;g=a.Pb;d={jf:P.Zga(g.pm,g.jf),dg:a.M,$s:!!g.Qf,eja:d};r.config.bQ.enabled&&T.kq(r.config.bQ.oo)&&(d.oo=r.config.bQ.oo);g=z.Z.get(O.ey)();P.Xz(d,g).then(function(a){c(a);})["catch"](function(a){b(a);});}k.Es(a.M);k.Es(a.Zf);l=v.Ra();f=a.pe;if(f)if(f.willExpireOn){u=f.willExpireOn-v.Ra();18E5<u?N.Xa(function(){c(f);a.uM=!0;}):(ea.error("manifestData is expired",{gap:u}),d());}else N.Xa(function(){c(f);a.uM=!0;});else if(a.ge)if(u=g.vh.Qnb(a.M)){ea.info("manifest consumed from video cache");try{m.G4a(u,a,a.IN,a.KN);b(p.cb);h();}catch(gb){ea.error("Exception processing manifest from video cache",gb);b({K:!1,R:y.u.nwa});}a.uM=!0;}else ea.error("video cache can play, but manifest not in video cache",a.M),b({K:!1,R:y.u.owa});else r.config.Rm&&t._cad_global.videoPreparer?(u=t._cad_global.videoPreparer.Ui(a.M,"manifest"))&&u.then(function(b){c(b);a.uM=!0;})["catch"](function(a){ea.warn("manifest not in cache",a);d();}):d();},$v:w,start:function(){return new Promise(function(b,c){var d;d={Dc:a.Dc,Jg:ca(),aa:a.aa,gs:ub,sessionId:Pa,jf:a.Pb.jf,pm:a.Pb.pm,Ab:a.Zf,kR:ua,A5a:"standard"};l.ti.start(V,d).then(function(d){d.K?(a.xi=d.xi,b(p.cb)):c(d);})["catch"](function(a){c(a);});});},Usb:function(b){return d(ka,a,V,b);},stop:function(c){return b(ka,a,V,c,a.background);},release:function(b){return d(ka,a,V,b);},kd:function(a,b){w(a).then(function(a){b(a);})["catch"](function(a){b(a);});},q0:function(a,b){var c;c=F();c.Jg&&c.xi?l.ti.q0(c,a,V,function(a){b&&b(a);}):b&&b({K:!0});},Rn:function(a){var b;b=F();if(!b.Jg||!b.xi)return Promise.resolve({K:!0});b.action=a;return l.ti.Rn(V,b);},Qh:function(a,b){l.ti.Qh(a,V,function(a){b&&b(a);});},aZ:F,sha:function(){var b;b=wa.create();b.profileId=a.profile.id;a.bh&&(b.ce=a.bh.Vz());b.Ob=a.Ob;b.aa=a.aa;b.M=a.M;return b;},wWa:function(){return A;},OXa:function(){return H;}};};c.F$=function(a,b){c.F$=p.Gb;F.KAa&&r.config.jcb&&l.ti.WX(a).then(function(){b.trace("Updated NetflixId");})["catch"](function(a){b.error("NetflixId upgrade failed",z.jk(a));});};c.VAa=function(a,b,c){return d(!1,a,b,c);};c.Phb=b;c.UAa=d;},function(f,c,a){var b,d,h,l,g,m,p,r,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(81);d=a(73);h=a(4);l=a(16);g=a(3);m=a(19);p=a(286);r=a(5);u=a(28);c.AFa=function(a,f,k,G,x,y,C,F,N){var n,q,t,V,D,S,da,X;function v(a){var b;m.Kb(a,function(a,c){var d;if(!b){d=D[c];d?d<h.config.vsa+1&&(D[c]++,b={url:c,iz:a}):(D[c]=1,b={url:c,iz:a});}});return b;}function z(d){function h(b){if(b.K)try{da=p.Z4a(b.content);t=c.WU;q.trace("TrickPlay parsed",{Images:da.images.length},V);a.fireEvent(l.xDa);}catch(ea){t=c.Sba;q.error("TrickPlay parse failed.",ea);}else t=c.Rba,q.error("TrickPlay download failed.",g.jk(b),V);}a.ge?b.vh.cq(a.M,N,0,-1,function(a){a.K?q.info("VideoCache trickplay track served from cache"):q.error("VideoCache failed to get trickplay track from cache");h(a);}):(q.trace("Downloading",d.url,V),a.Ys.download({responseType:u.Xs,Ya:w(d.iz),url:d.url,track:n},h));}function w(b){var d;for(var c=0;c<a.Ej.length;c++){d=a.Ej[c];if(d&&d.id==b)return d;}}n=this;q=g.Je(a,"TrickPlay");t=c.Rba;V={};D={};S=!0;X=0;m.oa(n,{type:d.m7,id:f,download:function(){var b;if(a.ge)X<h.config.vsa?z(""):S=!1,X++;else{b=v(F);b?(t=c.XU,z(b)):S=!1;}},sXa:function(a){if(da&&(a=r.Xh(a/da.pi.jsa),0<=a&&a<da.images.length))return{image:da.images[a],time:a*da.pi.jsa,height:k,width:G,pixelAspectHeight:x,pixelAspectWidth:y};},wYa:function(){return S;},ae:function(){return t;},pka:function(){switch(t){case c.WU:return"downloaded";case c.XU:return"loading";case c.BFa:return"downloadfailed";case c.Sba:return"parsefailed";default:return"notstarted";}},Zi:V,size:C});};c.Rba=0;c.XU=1;c.WU=2;c.BFa=3;c.Sba=4;},function(f,c,a){var b,d,h,l,g,m,p,r,u,v,z,k,G;Object.defineProperty(c,"__esModule",{value:!0});b=a(196);d=a(81);h=a(28);l=a(4);g=a(16);m=a(73);p=a(3);r=a(64);u=a(8);v=a(193);z=a(5);k=a(15);G=a(534);c.SU=function(a,f,C,w,N,T,n,q,O,B,ja,V,D,S){var la,A,H,ub,Pa,wa,na,P,mb,ta;function x(d){function h(){a.state.removeListener(h);m();}function m(){a.state.value==g.lk?Pa?ca(function(a){a.K?la.info("Loaded image subtitle manager"):(la.error("Unable to load image subtitles manager",a),A=c.TU,ub=b.pJ(x));d(a);}):y(function(a){a.K?(la.trace("Entries parsed",{Length:a.entries.length},H),ta.Ya=a.Ya,A=c.sFa):(la.error("Unable to retreive timed text track",p.jk(a),H,{url:a.url}),A=c.TU,ub=b.pJ(x));d(a);}):d({});}A=c.Lba;a.state.value!=g.qj?m():a.state.addListener(h);}function y(b){var d,g,h;function c(p){var m,r,f,u,x,v,y;m={};if(p.K)b(p);else{if(!p.O0){m=ia(g,h,"text");m.errorstring=p.reason;if(!ua(m)){b({K:!1,Dn:!0});return;}g&&d[g]<=l.config.W5&&(r=!0,f="retry with current cdn");}for(v=0;v<a.iI.length;v++)if(u=a.iI[v],x=w[u.id],d[u.id]>l.config.W5||!x)u=null;else break;if(a.ge)la.info("load timedtext track from video cache"),F("",{},c);else if(u&&x)if(g!==u.id&&(f="retry with next cdn",r=!0),g=u.id,h=x,d[u.id]=(d[u.id]||0)+1,p.O0)F(x,u,c);else{y=1E3*z.ue(z.GJ(2,d[u.id]-1),8);setTimeout(function(){la.trace("retry timed text download after "+y,ia(u.id,"","text"));F(x,u,c);},y);}else r=!1,f="all cdns tried",b(p);p.K||p.O0||ka(m,r,f);}}if(k.oc(w))F(w,void 0,b);else if(k.isArray(w))b({K:!0,entries:w,track:ta});else{d={};c({K:!1,O0:!0});}}function F(b,c,g){var f;function m(b){var d;d=a.Gx;u.ea(d);v.Doa(b,d.width/d.height,l.config.hsa,l.config.isa,function(a){var b,d;if(a.K){a=a.entries;b=l.config.Zab;if(b){d=0;a.forEach(function(a){a.startTime=d;a.endTime=d+=b;});}P=a;g({K:!0,entries:a,Ya:c,track:ta});}else a.url=f.url,a.reason="parseerror",a.track=ta,g(a);});}function r(a){var b;b={name:"AES-CBC"};return t.netflix.crypto.importKey("raw",p.Pi(D),b,!1,["encrypt","decrypt"]).then(function(c){var d;b={name:"AES-CBC",iv:new Uint8Array(a,0,16)};d=new Uint8Array(a,16);return t.netflix.crypto.decrypt(b,c,d).then(function(a){a=new Uint8Array(a);return p.XB(a);});});}if(a.ge)d.vh.cq(a.M,C,0,-1,function(a){var b,c;if(a.K){la.info("VideoCache timed text track served from cache");b="";try{c=new Uint8Array(a.content);b=p.XB(c);}catch(Db){la.error("failed to utf8 encode timedtext track",Db);g({K:!1,reason:"parse failed"});return;}m(b);}else la.error("VideoCache failed to get timed text track from cache"),a.reason="cachefailed",g(a);});else{la.trace("Downloading",c&&{cdn:c.id},H);f={responseType:D?h.Xs:h.VZa,url:b,track:ta,Ya:c,Az:"tt-"+N};a.Ys.download(f,function(a){a.K?D?r(a.content).then(function(a){m(a);})["catch"](function(){a.K=!1;a.reason="decrypt failed";a.track=ta;g(a);}):m(a.content):(a.reason="downloadfailed",a.url=f.url,a.track=ta,g(a));});}}function ca(b){var d,g,h,m,r,f,u,x;function c(a){var g;if(k.$a(a))if(x||ua(ia(na,"","image"))){x=!1;B.url=w[na];d.url=B.url;u[a]=(u[a]||0)+1;g=new p.fFa(h,d);g.on("ready",function(){wa=g;b({K:!0,track:ta});});g.on("error",function(d){var g,h,p;g={success:!1};for(h in d)g[h]=d[h];d=ia(na,B.url,"image");d.details={midxoffset:B.offset,midxsize:B.length};d.errorstring=g.errorString;p=1E3*z.ue(z.GJ(2,u[a]-1),8);u[a]<=l.config.W5?(ka(d,!0,"retry with current cdn"),setTimeout(function(){la.trace("retry timed text download after "+p,ia(na,"","image"));c(na);},p)):(na=r[f++])?(ka(d,!0,"retry with next cdn"),setTimeout(function(){la.trace("retry timed text download after "+p,ia(na,"","image"));c(na);},p)):(ka(d,!1,"all cdns tried"),b({K:!1,msg:"all cdns failed for image subs",track:ta}));});g.start();}else b({K:!1,Dn:!0});else b({K:!1,msg:"cdnId is not defined for image subs downloadUrl"}),ka(ia("","","image"),!1,"cdnId is undefined");}d={mNa:!1,profile:O,rna:B.offset,sna:B.length,Qb:a.pc.value||0,bufferSize:l.config.g_a,crypto:t.netflix.crypto,key:D&&p.Pi(D),Bsb:{bk:a.XN()}};g=p.Je(a,"TimedTextTrack");g.warn=g.trace.bind(g);g.info=g.debug.bind(g);h=G.$Ra(a,g,Z);m=a.iI.reduce(function(a,b){a[b.id]=b;return a;},{});r=Object.keys(w).sort(function(a,b){return m[a].Fd-m[b].Fd;});f=0;u={};x=!0;na=r[f++];c(na);}function Z(b,c){var g;la.trace("Downloading",b);g={url:b.url,offset:b.offset,length:b.size,responseType:h.Xs,headers:{},Ya:ea(na)};a.ge?d.vh.cq(a.M,C,b.offset,b.size,function(a){a.K?(la.info("VideoCache image based timed text track served from cache"),c(null,new Uint8Array(a.content))):(la.error("VideoCache failed to get image based timed text track from cache"),c({errorSubCode:"",errorExternalCode:""}));}):a.Ys.download(g,function(a){la.trace("imgsub: request status "+a.K);a.K?c(null,new Uint8Array(a.content)):c({errorSubCode:a.R,errorExternalCode:a.ub});});}function ea(b){if(a.iI)return a.iI.filter(function(a){return a.id==b;})[0];}function ia(a,b,c){var d;d={};try{d={currentCdnId:a,url:b,profile:O,dlid:C,subtitletype:c,bcp47:N,cdnCount:Object.keys(w).length};}catch(zb){la.warn("Error accummulating data",zb);}return d;}function ka(b,c,d){b.willRetry=c;b.status=d;a.fireEvent(g.Faa,b);la.warn("subtitleerror event",b);}function ua(b){return 0<=[g.wu,g.fy].indexOf(a.state.value)?(la.info("playback is closing, abort timed text retry",b),!1):a.Fc.value!==ta?(la.info("timed text track was changed, abort timed text retry",b),!1):!0;}la=p.Je(a,"TimedTextTrack");A=c.tFa;H={bcp47:N,trackId:f,downloadableId:C};ub=b.pJ(x);Pa=O&&(O==r.uj.Xx||O==r.uj.JJ);Pa&&(H.isImageBased=!0);ta={type:m.nS,Ab:f,b6:n,zP:q,Q2:O,ac:C,Dl:N,displayName:T,getEntries:function(a){ub(function(b){a(b);});},ae:function(){return A;},Zi:H,W0:Pa,DXa:function(){return wa;},Vs:function(a,b){var c;try{Pa?c=wa?wa.Vs(a,b):void 0:P&&(c=P.filter(function(c){var d;d=c.startTime;c=c.endTime;return d>=a&&d<=b||d<=a&&a<=c;}));}catch(Ra){la.error("error in getSubtitles",Ra,{start:a,end:b,isImageBased:Pa});}return c;},Cla:function(){return ja;},yla:function(){return V;},HYa:function(){var a;if(!k.$a(mb)){try{mb=Pa?(a=this.Vs(0,72E7)[0])&&a.displayTime:(a=P[0])&&a.startTime;}catch(Ba){la.error("exception in getStartPts",Ba);}}return mb;},zla:S};return ta;};c.Fjb=10;c.tFa=0;c.Lba=1;c.sFa=2;c.TU=3;},function(f,c,a){var l,g,m,p,r,u,v,z,k,G,x,y;function b(a,b,c){var r;function d(a,b){a[b.type]=b.id;return a;}function g(a,b){var d;for(var c=0;c<a.length;c++){d=a[c];if(d.Ab==b)return d;}return null;}for(var h=[],p=a.defaultMedia,m={},l=0;l<a.media.length;l++){r=a.media[l];if(r.mediaId==p){m=r.tracks.reduce(d,m);break;}}h.push({gc:g(b,m.AUDIO),Fc:g(c,m.TEXT),krb:0});return h;}function d(a){a.audio_tracks.forEach(function(a){a.track_id=a.new_track_id;});a.video_tracks.forEach(function(a){a.track_id=a.new_track_id;});}function h(a,c,d,h,f){var n,X,U,q,ca,ea,t,ka,ua,la,A,H;function x(a,b){return a.filter(function(a){if(a.downloadables&&0<a.downloadables.length)return!0;b&&b(a);return!1;});}function y(a,b,c){var d,g,h;d=p.config.QOa;g=p.config.POa;h=[];a&&a.forEach(function(a){var c,p;c=a.id;p=b?b.find(function(b){return b.id===a.locationId;}):void 0;(!d.length||0<=d.indexOf(c))&&0>g.indexOf(c)&&h.push({id:a.id,name:a.name,Fd:a.rank,type:a.type,kpb:a.isLowgrade,kA:a.isExclusive,D1:a.locationId,location:p?{id:p.id,Fd:p.rank,level:p.level,weight:p.weight,Ej:[]}:{}});});h.sort(function(a,b){return a.Fd-b.Fd;});h.forEach(function(a){return a.location.Ej=h.filter(function(b){return b.D1===a.D1;});});n.trace("Transformed cdns",{Count:h.length});if(c&&!h.length)throw Error("no valid cdns");return h;}function w(a,b){var c;c=[];if(!a)return n.warn("There are no media streams for "+b.type+" track - "+b.Ab),c;a.forEach(function(a){var g;g=new r.bva(d,b,b.type,a.downloadableId,a.bitrate,a.vmaf,a.size,a.urls,a.contentProfile,a.frameRate/a.frameRateScale);g.S9a(a.width,a.height);g.u9a(a.cropParamsX,a.cropParamsY,a.cropParamsWidth,a.cropParamsHeight);a.decryptionKey&&(g.Pha=a.decryptionKey);b.Is&&(g.Is=b.Is);if(b.type===r.ar||b.type===r.$q)X=X?k.ue(X,a.validFor):a.validFor;b.kia&&(g.kia=b.kia.map(function(a){var b;b={};b.htb=a.systemType;a.bytes&&(b.ga=a.bytes);a.checksum&&(b.Flb=a.checksum);a.keyId&&(b.NO=a.keyId);return b;}));a.contentProfile&&(g.le=a.contentProfile);g.x4=!(!a.hdcpVersions||"none"==a.hdcpVersions[0]);g.x4&&"never"==p.config.DOa||c.push(g);});c.sort(function(a,b){return a.J-b.J;});r.WI(c);c.sort(function(a,b){return a.J-b.J;});r.WI(c);return c;}function C(b,c){return N(b,c,a.orderedAudioTracks);}function F(b,c){return N(b,c,a.orderedTextTracks);}function N(a,b,c){return c?a?b?c.indexOf(a.displayName+("CLOSEDCAPTIONS"===a.zP?" [CC]":""))-c.indexOf(b.displayName+("CLOSEDCAPTIONS"===b.zP?" [CC]":"")):1:-1:0;}function T(a,b){var c;c=0;a.some(function(a,d){return a.track_id==b?(c=d,!0):!1;});return c;}n=v.Je(d,"ParseManifest");X=0;U=y(a.cdns,a.locations,!0);q=y(a.timedTextCdns,void 0,!1);ca=function(){var b,c;b=x(a.trickPlayTracks);c=[];0<b.length?(b=b[0].downloadables)&&(c=b.map(function(a){return new g.AFa(d,a.id,a.resHeight,a.resWidth,a.pixHeight,a.pixWidth,a.size,a.urls,a.downloadableId);})):n.warn("There are no trickplay tracks");c.sort(function(a,b){return a.size-b.size;});n.trace("Transformed trick play tracks",{Count:c.length});return c;}();ea=function(){var r;function b(a){var b;a=a.downloadables;b=[];if(!a||0===a.length)return b;a.forEach(function(a){var c,d,g;c=a.contentProfile;d=p.config.LB.indexOf(c);g=a.size;c={id:a.id,ac:a.downloadableId,profile:a.contentProfile,size:a.size||0,Vc:0<p.config.DR&&c===z.uj.vS&&g>p.config.DR?p.config.LB.length+1:0<=d?d:p.config.LB.length,offset:a.offset||0,n5a:a.pixWidth,Roa:a.pixHeight,ag:a.urls,type:a.type};a.decryptionKey&&(c.Pha=a.decryptionKey);b.push(c);});b.sort(function(a,b){return a.Vc-b.Vc;});return b;}function c(a){var b,c;b=p.config.h_a||g();c=a.filter(function(a){return a.profile===z.uj.Xx||a.profile===z.uj.JJ;}).filter(function(a){return a.Roa===b;})[0];if(c)return c;n.warn("none of the downloadables match the intended resolution",{screenHeight:k.dm.height,intendedResolution:b});return a[0];}function g(){var a;a=k.dm&&k.dm.height;if(G.da(a))return 1080<=a?1080:720;n.error("screen height not available",k.Ug);return 720;}function h(a){try{return{isNone:a.isNone,isForced:a.isForced,bcp47:a.bcp47,id:a.id};}catch(ta){}}r=[];a.textTracks.forEach(function(a){var g,p,f;f=b(a);!1!==a.isNone||f.length||n.error("track without downloadables",h(a));!0!==a.isForced||f.length||n.error("forced track without downloadables",h(a));if(0<f.length){g=f[0];p=g.profile;if(p==z.uj.Xx||p==z.uj.JJ)g=c(f);p=g.profile===z.uj.Xx||g.profile===z.uj.JJ?{offset:g.offset,length:g.size,gsb:{width:g.n5a,height:g.Roa}}:void 0;a=l.SU(d,a.id,g.ac,g.ag,a.bcp47,a.language,m.UU[a.trackType.toLowerCase()]||m.Eu,a.trackType,g.profile,p,a.isNone,a.isForced,g.Pha,a.isLanguageLeftToRight);}else a=l.SU(d,a.id,void 0,{},a.bcp47,a.language,m.Eu,a.trackType,void 0,{},a.isNone,a.isForced,void 0,a.isLanguageLeftToRight);r.push(a);n.trace("Transformed timed text track",a);});r.sort(F);n.trace("Transformed timed text tracks",{Count:r.length});return r;}();t=function(b,c){var g,h;function d(a,b,c){return b.filter(function(b){return 0<b.tracks.filter(function(b){return"AUDIO"===b.type&&b.id===a;}).length;}).map(function(a){var b;b=a.tracks.filter(function(a){return"TEXT"===a.type;})[0];a=c.filter(function(a){return a.Ab===b.id;});return 0<a.length?a[0]:void 0;}).filter(Boolean).sort(F);}g=x(a.audioTracks,function(a){n.warn("Audio track is missing downloadables",{language:a.language,bcp47:a.bcp47});});h=[];g&&g.forEach(function(a){var g;g=a.trackType;if(0===p.config.Qra.length||0<=p.config.Qra.indexOf(g))g={type:r.$q,Ab:a.id,b6:m.UU[g.toLowerCase()]||m.Eu,zP:g,Dl:a.bcp47,displayName:a.language,kz:a.channels,Blb:a.channelsLabel,Alb:a.channelsCount,Ym:d(a.id,b,c),Hpb:{Bcp47:a.language,TrackId:a.id},Db:[]},g.Db=w(a.downloadables,g),n.trace("Transformed audio track",g,{StreamCount:g.Db.length,AllowedTimedTextTracks:g.Ym.length}),g.Db.length?(g.iPa=m.bNa[g.Db[0].le],h.push(g)):n.warn("Audio track has no streams",g);});if(!h.length)throw Error("no valid audio tracks");h.sort(C);n.trace("Transformed audio tracks",{Count:h.length});return h;}(a.media,ea);ka=function(){var b,c;b=x(a.videoTracks,function(a){n.warn("Video track is missing downloadables",{trackId:a.id});});c=[];b&&b.forEach(function(a){var b;b=a.trackType;b={type:r.ar,Ab:a.id,b6:m.UU[b.toLowerCase()]||m.Eu,zP:b,Db:[]};b.Db=w(a.downloadables,b);n.trace("Transformed video track",{StreamCount:b.Db.length});b.Db.length?c.push(b):n.warn("Video track has no streams");});if(!c.length)throw Error("No valid video tracks");n.trace("Transformed video tracks",{Count:c.length});return c;}();ua=b(a,t,ea);la=ua[0]||{};A=ka[0];H=function(a){if(p.config.t_){if((a=a.filter(function(a){return a.Dl==p.config.t_||a.Ab==p.config.t_;}))&&a.length)return a[0];}else if(h&&(a=a.filter(function(a){return a.Ab==h;}))&&a.length)return a[0];}(t)||la.gc||t[0];la=function(a){if(p.config.JN){if((a=a.filter(function(a){return a?a.Dl==p.config.JN||a.Ab==p.config.JN:"none"==p.config.JN.toLowerCase();}))&&a.length)return a[0];}else if(f&&(a=a.filter(function(a){return a.Ab==f;}))&&a.length)return a[0];}(H.Ym)||la.Fc||H.Ym[0];d.ZA=a.psshb64;d.Ej=U;d.iI=0<q.length?q:U;d.js=t;d.EI=ka;d.Ym=ea;d.vx=ca;d.Dc=c.playbackContextId;d.o9a=c.clientIpAddress;d.knb=c.duration;d.rm=1E3*c.bookmark;d.g1=c.hasDrmStreams;d.Is=c.drmContextId;d.DSa=T(c.audio_tracks,H.Ab);d.JSa=T(c.video_tracks,A.Ab);d.Sa=c;d.lrb=ua;d.Ud.set(A);d.gc.set(H);d.Fc.set(la);c=1E3*X;1E4<c?(a.willExpireOn||("undefined"===typeof a.clientGenesis&&(a.clientGenesis=Date.now()),U=a.clientGenesis-u.Rga(),a.willExpireOn=U+c),d.Ppb=a.willExpireOn):d.ge||a.pboExpiration||n.error("Invalid url expiration, ignoring");}Object.defineProperty(c,"__esModule",{value:!0});l=a(186);g=a(185);m=a(6);p=a(4);r=a(73);u=a(17);v=a(3);z=a(64);k=a(5);G=a(15);x=a(144);y=a(104);c.S4a=b;c.R4a=function(a,b,c,d){var g;g=v.Z.get(x.BC).decode(a);h(a,g,b,c,d);};c.G4a=function(a,b,c,g){var p;p=v.Z.get(y.ey);a.mt=p();a.mt.bE(a.links);d(a);p=v.Z.get(x.BC).encode(a);h(p,a,b,c,g);};},function(f,c,a){var b,d,h,l,g,m,p,r;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(28);d=a(4);h=a(6);l=a(17);g=a(2);m=a(3);p=a(289);r=a(27);f.Dd(g.v.s9,function(a){var g;g=m.Z.get(r.lf);d.config.hN&&(c.Ev=new p.YI({tX:g.endpoint+d.config.zPa,Za:b.Za,Na:{aO:l.On},uP:600,log:m.Cc("Congestion")}));a(h.cb);});},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(6);d=a(3);h=a(146);l=a(7);a=a(2);f.Dd(a.v.e9,function(a){var g;g=d.Z.get(h.iJ);c.JG={Ipb:g.xA,f3:g.f3,a9a:g.S8a,s0:g.Oka.qa(l.Ma)};a(b.cb);});},function(f,c,a){var b,d,h,l,g,m,p,r,u,v,z,k,G,x,y,C;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);d=a(136);h=a(90);l=a(4);g=a(6);m=a(91);f=a(36);p=a(2);r=a(8);u=a(3);v=a(95);z=a(58);k=a(56);G=a(19);x=a(5);y=a(15);C=a(25);c.Tk={};t._cad_global||(t._cad_global={});t._cad_global.msl=c.Tk;f.g$&&b.Dd(p.v.c9,function(a){var n,q,B,ja,V,D,S,da,X,U,ha,ba,ea,ia;function f(c){c&&c.userList&&l.config.X9a&&(c.userList=[]);ja({esn:h.Bg.$d,esnPrefix:h.Bg.zm,authenticationType:l.config.jE,authenticationKeyNames:l.config.aga,systemKeyWrapFormat:l.config.Bab,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ea,storeState:c,notifyMilestone:b.lG,log:S,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:p.u.k$,MSL_READ_TIMEOUT:p.u.Tza}},{result:function(a){w(a);},timeout:function(){a({R:p.u.j$});},error:function(b){a(F(p.u.j$,void 0,b));}});}function w(b){var h,f,x;function d(){ba&&u.Z.get(k.fk).create().then(function(a){return a.save(U,f,!1);})["catch"](function(a){S.error("Error persisting msl store",u.jk(a));});}h=new m.dD(100);x=V.extend({init:function(a){this.Yda=a;},getResponse:function(a,b,c){var d,g;b=this.Yda;d=b.IG.Za||d;a=y.Qla(a.body)?u.XB(a.body):a.body;r.VE(a,"Msl should not be sending empty request");a={url:b.url,apa:a,withCredentials:!0,Az:"nccp-"+b.method,headers:b.headers};b=this.Yda.timeout;a.MY=b;a.X2=b;g=d.download(a,function(a){try{if(a.K)c.result({body:a.content});else if(400===a.Fg&&a.za)c.result({body:a.za});else throw G.oa(new D("HTTP error, SubCode: "+a.R+(a.Fg?", HttpCode: "+a.Fg:"")),{cadmiumResponse:a});}catch(ta){c.error(ta);}});return{abort:function(){g.abort();}};}});X&&b.addEventHandler("shouldpersist",function(a){f=a.storeState;h.lb(d);});G.oa(c.Tk,{cla:function(){ha=!0;},send:function(a){function c(){var b,c;b=a.IG;c={method:a.method,nonReplayable:a.CP,encrypted:a.mN,userId:a.WB,body:a.body,timeout:2*a.timeout,url:new x(a),allowTokenRefresh:ba,sendUserAuthIfRequired:ia,shouldSendUserAuthData:l.config.d$a};b.Tv?(c.email=b.Tv,c.password=b.password||""):b.psa?(c.token=b.psa,c.mechanism=b.i2a,b.Aw&&(c.netflixId=b.Aw,c.secureNetflixId=b.IQ),b.Kg&&(c.profileGuid=b.Kg)):b.Aw?(c.netflixId=b.Aw,c.secureNetflixId=b.IQ):b.ina?(c.mdxControllerToken=b.ina,c.mdxPin=b.e2a,c.mdxNonce=b.d2a,c.mdxEncryptedPinB64=b.c2a,c.mdxSignature=b.f2a):ha||b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.Kg&&(c.profileGuid=b.Kg);return c;}return new Promise(function(a,d){var g;g=c();b.send(g).then(function(b){ha&&(ha=!1);a({K:!0,body:b.body});})["catch"](function(a){var c,g;if(a.error){c=a.error.cadmiumResponse&&a.error.cadmiumResponse.R?a.error.cadmiumResponse.R:b.isErrorReauth(a.error)?p.u.LT:b.isErrorHeader(a.error)?p.u.h$:p.u.KT;g=b.getErrorCode(a.error);d(F(c,g,a.error));}else S.error("Unknown MSL error",a),a.tb=a.subCode,d({R:a.tb?a.tb:p.u.Uza});});});},nlb:function(a,c){b.buildPlayDataRequest({nccpMethod:a.V2a,nonReplayable:a.CP,encrypted:a.mN,userId:a.WB,body:a.body,serviceTokens:a.Jsb,timeout:a.timeout,allowTokenRefresh:!1},{result:function(a){c({K:!0,body:a});},timeout:function(){c({R:p.u.k$});},error:function(a){var d,g;d=b.isErrorReauth(a)?p.u.LT:b.isErrorHeader(a)?p.u.h$:p.u.KT;g=b.getErrorCode(a);c(F(d,g,a));}});},Le:b});a(g.cb);}function F(a,b,c){var d,g,h,p;p={R:a,Ms:b};if(c){d=function(a){var b;a=a||""+c;if(c.stack){b=""+c.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(h=c.cadmiumResponse){if(g=h.ub&&h.ub.toString())h.ub=g;h.R=a;h.Ms=b;h.za=d(c.message);h.error={tb:a,Sc:g,sq:b,data:c.cause,message:c.message};return h;}d=d(c.errorMessage);g=G.Zc(c.internalCode)||G.Zc(c.error&&c.error.internalCode);h=void 0!==c.IUa?C.eoa(c.IUa):void 0;}d&&(p.za=d);g&&(p.ub=g);p.error={tb:a,Sc:g.toString(),sq:b,data:h,message:d};return p;}r.ea(l.config);n=u.Z.get(v.xr);q=z.tc.og;if(x.mr&&x.Gl&&x.Gl.unwrapKey){try{B=t.netflix.msl;ja=B.createMslClient;V=B.IHttpLocation;D=B.MslIoException;}catch(ka){a({R:p.u.Oza});return;}S=u.Cc("Msl");da=l.config.P2a;X=l.config.Q2a;U=l.config.Jl?"mslstoretest":"mslstore";B=d.CB.dra;ha=l.config.i_a;ba=!B||B.K;ea=u.Pi(l.config.Jl?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ia=!!l.config.a5;u.Z.get(k.fk).create().then(function(b){da?b.remove(U).then(function(){f();})["catch"](function(a){S.error("Unable to delete MSL store",u.jk(a));f();}):X?b.load(U).then(function(a){n.mark(q.Qza);f(a.value);})["catch"](function(c){c.R==p.u.sj?(n.mark(q.Sza),f()):(S.error("Error loading msl store",u.jk(c)),n.mark(q.Rza),b.remove(U).then(function(){f();})["catch"](function(b){a(b);}));}):f();})["catch"](function(b){S.error("Error creating app storage while loading msl store",u.jk(b));a(b);});}else a({R:p.u.Pza});});},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);d=a(28);c.f7=function(a){function c(a,b,c){if(b.EZ[a.id])return{responseType:d.Xs,url:b.EZ[a.id],o:selectCdn$_verifyResponse,offset:b.pi.Glb[c?c.index:0].offset,length:8,Ya:a,track:b.track,stream:b,Az:c.type+"-"+c.index+"-ping",fY:!0};}this.Ys=a;this.ping=function(a){var h,l,f,z,k;function d(a){clearTimeout(k);g(a);}function g(b){(b=b&&b.K)&&a.kab();!b&&a.Qia();}h=this.Ys;l=a.stream;f=a.yM;if(a.g3>a.Yma)a.Qia();else if(f&&!f.media){(l=c(a.Ya,l,f))&&(z=h.download(l,d));k=setTimeout(function(){g();z&&z.abort();},b.config.k5a);}};};},function(f,c,a){var b,d,h,l,g,m,p,r,u,v;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(298);d=a(4);h=a(6);l=a(2);g=a(3);m=a(8);p=a(5);f.Dd(l.v.X8,function(a){var f;f=g.Cc("FileSystem");"fs"!=d.config.qR?a(h.cb):(m.ea(0<b.v3),p.GAa(p.PERSISTENT,b.v3,function(b){c.CN=b;a(h.cb);},function(){f.error("Error calling requestFileSystem");a({R:l.u.jba});}));});r={};u={create:!0};v={create:!0,exclusive:!0};c.hVa=function(a){c.CN.root.getDirectory("netflix.player.namedatapair",u,function(b){a({K:!0,rTa:b});},function(){a({R:l.u.FEa});});};c.Anb=function(a,b){a.createReader().readEntries(function(a){var g;for(var c=[],d=a.length;d--;){g=a[d];g.isFile&&c.push(g.name);}b({K:!0,znb:c});},function(){b({R:l.u.HEa});});};c.iVa=function(a,b,c){function d(){c({R:l.u.CEa});}a.getFile(b,r,function(a){a.file(function(b){var g;g=new FileReader();g.onloadend=function(){c({K:!0,text:g.result,g_:a});};g.onerror=d;g.readAsText(b);},d);},d);};c.kVa=function(a,b,c,d,g){function h(){g&&g({R:l.u.EEa});}function m(a){a.createWriter(function(b){try{b.onwriteend=function(){b.onwriteend=null;b.onerror=null;b.truncate(b.position);g&&g({K:!0,g_:a});};b.onerror=h;b.write(new p.B$([c]));}catch(ca){h();}},h);}b.createWriter?m(b):a.getFile(b,d?v:u,m,h);};c.jVa=function(a,b,c){function d(){c&&c({R:l.u.DEa});}function g(a){a.remove(function(){c&&c(h.cb);},d);}b.remove?g(b):a.getFile(b,r,g,d);};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(194);d=a(143);c.Doa=function(a,c,g,m,p){d.C6(a,function(a){a.K?b.H4a(a.object,c,g,m,function(a){a.K?p({K:!0,entries:a.entries}):p(a);}):p(a);});};},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(8);d=a(14);h=a(6);l=a(122);g=a(5);m=a(15);c.H4a=function(){var B,t,V,D,S,da,X,U,ha,ba,ea,ia;function a(a){if(d.kq(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return c.N4a[a];}}function f(a,b,c){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return g.ue(b,c);}function u(a,b){var c,d;c=a.length;d=a[c-1];if("t"===d)return parseFloat(a)*b|0;if("s"===d)return"m"===a[c-2]?parseFloat(a)|0:parseFloat(a)*h.pj|0;if((a=a.match(ha))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*h.pj|0;throw Error("dfxp-badtime");}function v(a,b,c,d,g){var h,p,m,l,f,r,u,x;if(a){p=a.style;c=p?c[p]:void 0;d=(p=a.region)?d[p]:void 0;p=g.length;for(m=0;m<p;m++)if(l=g[m],f=a[l],void 0===f&&c&&(f=c[l]),void 0===f&&d&&(f=d[l]),void 0!==f&&f!==b[l]){if(!h)for(h={},r=0;r<p;r++)u=g[r],x=b[u],void 0!==x&&(h[u]=x);h[l]=f;}}return h||b;}function z(a,b,c,g,h,p,m,f,r){var x,z;function u(a,k,w){var C,F,G,N,U,T;C=a[l.Vh];F=C.style||k.style||"";G=C.region||k.region||"";F||G?(N=F+"/"+G,U=c[N]):U=b;if(!U){U=b;T=d.NH(g);d.oa(T,h[F]);U=y(U,T,m,f,r);c[F+"/"]=U;G&&(d.oa(T,p[G]),d.oa(T,h[F]),U=y(U,T,m,f,r),c[N]=U);}if(!w)a:{for(w=da.length;w--;)if(void 0!==C[da[w]]){w=!0;break a;}w=void 0;}w&&(C=v(C,k,h,p,X),U=y(U,C,m,f,r));k=(a=a[l.$R])&&a.length;for(F=0;F<k;F++)G=a[F],d.Pd(G)?ba.test(G[l.aS])?z++:u(G,C,w):(x.push({text:G,lineBreaks:z,style:U}),z=0);}x=[];z=0;u(a,g,!1);0<z&&x.push({text:"",lineBreaks:z,style:b});return x;}function k(a,b,c,d,g,h,p,m){var l,f;c&&(c=t[c]||"top",a.verticalAlignment!==c&&(a.verticalAlignment=c));d&&(c=V[d]||"left",a.horizontalAlignment!==c&&(a.horizontalAlignment=c));g?((f=m[g])?(d=f.marginLeft,c=f.marginTop):(l=g.split(" "),d=N(l[0],p.x)||0,c=N(l[1],p.y)||0,f={Tn:0,marginLeft:d,marginTop:c,iMa:d*b.l0+b.MF,kMa:c*b.n6+b.SR},30>m.Tn&&(m.Tn++,m[g]=f)),a.marginLeft=f.iMa,a.marginTop=f.kMa):(c=d=0,(f=m["default"])||(m["default"]=f={Tn:0}));h&&(g=f[h],g||(l=h.split(" "),g={jMa:(1-(d+(N(l[0],p.x)||0)))*b.l0+b.MF,hMa:(1-(c+(N(l[1],p.y)||0)))*b.n6+b.SR},30>f.Tn&&(f.Tn++,f[h]=g)),a.marginRight=g.jMa,a.marginBottom=g.hMa);}function G(a,b,c,g,h){var p,m,l;p=a.displayAlign;m=a.textAlign;l=a.origin;a=a.extent;c=d.NH(c);k(c,b,p,m,l,a,g,h);c.id=B++;return c;}function x(b,g,h,p){var m,l,r,u,x,v;m=f(h.characterSize||g.characterSize,c.O4a,2)||1;l=(l=b.fontSize)&&ea.test(l)?d.ll(d.Zc(l),25,200):void 0;m*=l/100||1;l=b.textOutline;if(l&&"none"!=l){u=l.split(" ");ia.test(u)?(v=0,x=b.color):(v=1,x=a(u[0]));r=F(u[v]);u=F(u[v+1]);}return{characterStyle:h.characterStyle||c.P4a[b.fontFamily]||g.characterStyle,characterSize:m*p,characterColor:a(h.characterColor||b.color||g.characterColor),characterOpacity:f(d.zg(h.characterOpacity,b.opacity,g.characterOpacity),c.p3,1),characterEdgeAttributes:h.characterEdgeAttributes||l&&("none"===l?c.L4a:u?c.o3:c.Coa)||g.characterEdgeAttributes,characterEdgeColor:a(h.characterEdgeColor||x||g.characterEdgeColor),characterEdgeWidth:r,characterEdgeBlur:u,characterItalic:"italic"===b.fontStyle,characterUnderline:"underline"===b.textDecoration,backgroundColor:a(h.backgroundColor||b.backgroundColor||g.backgroundColor),backgroundOpacity:f(d.zg(h.backgroundOpacity,b.opacity,g.backgroundOpacity),c.p3,1)};}function y(a,b,c,h,p){var m;b=x(b,c,h,p);d.Kb(b,function(b,c){c!==a[b]&&(m||(m=g.OC(a)),m[b]=c);});return m||a;}function C(a,b,c,d,h,p,m,f){var r;r=a[l.Vh];c=v(a[l.Vh],b,c,h,U);b=c.region;a=r.displayAlign;c=c.textAlign;h=r.origin;r=r.extent;b||a||c||h||r?((d=d[b])?d=g.OC(d):a||h||r?(d=g.OC(S),d.id=B++):d=g.OC(D),k(d,p,a,c,h,r,m,f)):d=D;return d;}function F(a){a=d.Zc(a);return m.et(a,0,100)?a:0;}function N(a,b){var c;c=a[a.length-1];if("%"===c)return d.ll(.01*parseFloat(a),0,1);if("c"===c)return d.ll(d.Zc(a)/b,0,1);}function T(a){for(var b=a.length,c=a[--b].endTime;b--;)c=g.ue(a[b].endTime,c);return c;}function n(b){d.Kb(b,function(c,d){0<=c.toLowerCase().indexOf("color")&&(b[c]=a(d));});}function q(a,c){var d,h,p,m;d=a.pixelAspectRatio;m={MF:0,l0:1,SR:0,n6:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(d=(d||"").split(" "),h=parseFloat(a[0])*(parseFloat(d[0])||1),p=parseFloat(a[1])*(parseFloat(d[1])||1));h=0<h&&0<p?h/p:1280/720;c=c||1280/720;d=h/c;.01<g.ru(c-h)&&(c>=h?(m.MF=(1-d)/2,m.l0=d):b.ea(!1,"not implemented"));return m;}function O(a){var b,g,h,p,m;if(b=a.cellResolution)if(b=b.split(" "),2<=b.length){g=d.Zc(b[0]);b=d.Zc(b[1]);if(0<g&&0<b)return{x:g,y:b};}b=a.extent;if(b&&(b=b.split(" "),2<=b.length)){g=d.Zc(b[0]);m=d.Zc(b[1]);if(a=a.pixelAspectRatio)b=a.split(" "),h=d.Zc(b[0]),p=d.Zc(b[1]);if(g&&m&&1.5<g*(h||1)/(m*(p||1)))return c.J4a;}return c.I4a;}B=1;t={before:"top",center:"center",after:"bottom"};V={left:"left",start:"left",center:"center",right:"right",end:"right"};D={id:B++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};S={id:B++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};da="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");X=da.concat(["style","region"]);U=["region","textAlign","displayAlign","extent","origin"];ha=/^([0-9]+):([0-9]+):([0-9.]+)$/;ba=/^br$/i;ea=/^[0-9]{1,3}%$/;ia=/^[0-9]/;return function(b,p,m,r,y){var N,ca,Z,ha,D,ba,ea,t,V,ja,ia,ka,da,ua,la,A,H,Sa,vb,P,Oc,Eb,aa,fa,ga,ma,oa,pa,ra,sa;function k(){try{for(var a;aa;)if(V=aa[l.Vh],fa.push({id:B++,startTime:u(V.begin,Z),endTime:u(V.end,Z),region:C(aa,ma,ba,t,ea,ha,ua,Sa),textNodes:z(aa,oa,pa,ga,ba,ea,A,H,la)}),aa=aa[l.$B],a=g.fJ(),100<a-ra){ra=Date.now();sa=setTimeout(k,1);return;}}catch(wf){F({R:d.u.oJ,za:d.yc(wf)});return;}sa=setTimeout(w,1);}function w(){var b,c,g,h,p,m,l;function a(a,g){for(var h,p=[],m={},l,f=c.length;f--;)h=c[f],l=h.region.id,m[l]||(m[l]=1,p.unshift(h));(h=b[b.length-1])&&h.endTime==a&&d.ws(h.blocks,p)?h.endTime=g:b.push({id:B++,startTime:a,endTime:g,blocks:p});}try{if(!fa.length){F({K:!0,entries:[]});return;}d.BMa(fa);b=[];c=[];g=fa[0];p=fa[0].startTime;for(m=1;c.length||g;){for(;!c.length||g&&g.startTime==p;)c.push(g),p=g.startTime,g=fa[m++];h=T(c);if(!g||h<=g.startTime)for(a(p,h),p=h,l=c.length;l--;)c[l].endTime<=p&&c.splice(l,1);else a(p,g.startTime),p=g.startTime,c.push(g),g=fa[m++];}for(m=b.length;m--;)b[m].index=m,b[m].previous=b[m-1],b[m].next=b[m+1];}catch(xf){F({R:d.u.oJ,za:d.yc(xf)});return;}F({K:!0,entries:b});}function F(a){setTimeout(function(){N.abort=d.Gb;y(a);},1);}N={abort:function(){sa&&clearTimeout(sa);}};try{ca=b[l.Vh];Z=h.pj/(d.Zc(ca.tickRate)||1);ha=q(ca,p);D=d.oa(S,{marginLeft:ha.MF,marginTop:ha.SR,marginRight:ha.MF,marginBottom:ha.SR});ba={};ea={};t={};ka=b.head;da=b.body;ua=O(ca);la=1/ua.y*ha.n6;A=d.oa({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:c.o3,characterEdgeColor:"#000000",characterSize:1},m,{no:!0});H=r||{};Sa={Tn:0};if(ka){vb=ka.styling;if(vb)for(ia=vb.style;ia;)V=ia[l.Vh],n(V),ba[V.id]=V,ia=ia[l.$B];P=ka.layout;if(P)for(var Y=P.region;Y;){V=Y[l.Vh];Oc=V.id;ja=d.NH(ba[V.style]);ja=d.oa(ja,V);for(ia=Y.style;ia;)d.oa(ja,ia[l.Vh]),ia=ia[l.$B];n(ja);ea[Oc]=ja;t[Oc]=G(ja,ha,D,ua,Sa);Y=Y[l.$B];}}Eb=da.div;aa=Eb.p;fa=[];ga={};ga=v(da[l.Vh],ga,ba,ea,X);ga=v(Eb[l.Vh],ga,ba,ea,X);ma={};ma=v(da[l.Vh],ma,ba,ea,U);ma=v(Eb[l.Vh],ma,ba,ea,U);oa=x(ga,A,H,la);d.oa(oa,{windowColor:a(H.windowColor||A.windowColor),windowOpacity:f(d.zg(H.windowOpacity,A.windowOpacity),c.p3,1),cellResolution:ua},{no:!0});pa={};Eb.p=void 0;Eb[l.$R]=[];}catch(vf){F({R:d.u.oJ,za:d.yc(vf)});return;}ra=g.fJ();sa=setTimeout(k,1);return N;};}();c.P4a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};c.O4a={SMALL:.5,MEDIUM:1,LARGE:2};c.p3={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};c.N4a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};c.L4a="NONE";c.M4a="RAISED";c.K4a="DEPRESED";c.Coa="UNIFORM";c.o3="DROP_SHADOW";c.I4a={x:40,y:19};c.J4a={x:52,y:19};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zaa=function(a,b){var c;this.j5=function(){c||(c=setInterval(b,a));};this.xY=function(){c&&(clearInterval(c),c=void 0);};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.pJ=function(a){var h,l,g,m;function b(){if(g)for(var a;a=h.pop();)a(m);}function c(a){g=!0;m=a;b();}h=[];return function(d){h.push(d);l||(l=!0,a(c));b();};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.sU="PboPublisherSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.uU="PlayPredictionDeserializerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.UJ={MO:"keepAlive",resume:"resume",pause:"pause",splice:"splice"};c.dy="PboEventSenderSymbol";},function(f,c,a){var g,m,p,r,u;function b(a,b,c){this.Na=a;this.vka=b;this.gb=c;}function d(){}function h(){}function l(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);g=a(0);m=a(52);p=a(7);r=a(29);a=a(38);l.prototype.encode=function(a){return{downloadableId:a.ac,duration:a.duration};};l.prototype.decode=function(a){return{ac:a.downloadableId,duration:a.duration};};h.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new l().encode),video:a.video.map(new l().encode),text:a.text.map(new l().encode)};};h.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new l().decode),video:a.video.map(new l().decode),text:a.text.map(new l().decode)};};d.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.aa,movieId:a.M,position:a.position,clientTime:a.GE,sessionStartTime:a.IH,mediaId:a.Jg,playTimes:new h().encode(a.po),trackId:a.Ab,sessionId:a.sessionId,appId:a.gs,sessionParams:a.jf,mdxControllerEsn:a.r2,persistentlicense:a.w3,cachedcontent:a.jY};};d.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,aa:a.xid,M:a.movieId,position:a.position,GE:a.clientTime,IH:a.sessionStartTime,Jg:a.mediaId,po:new h().decode(a.playTimes),Ab:a.trackId,sessionId:a.sessionId,gs:a.appId,jf:a.sessionParams,r2:a.mdxControllerEsn,w3:a.persistentlicense,jY:a.cachedcontent};};c.qU=d;b.prototype.zs=function(a,b){var c;c={href:a.Sa&&a.Sa.mt?a.Sa.mt.GF("events").href:"",type:a.ge?"offline":"online",profileId:a.profile.id,aa:a.aa.toString(),M:a.M,position:a.Ts()||0,GE:this.Na.Eg.qa(p.Ma),IH:a.kla?a.kla.qa(p.Ma):-1,Jg:this.YWa(a),po:this.jYa(a),Ab:void 0!==a.Zf?a.Zf.toString():"",sessionId:this.vka().sessionId||this.gb.id,gs:this.vka().gs||this.gb.id,jf:a.Pb.jf||{}};b&&(c=Object.assign({},c,{r2:a.CM,w3:a.ge,jY:a.ge}));return c;};b.prototype.load=function(a){return new d().decode(a);};b.prototype.YWa=function(a){var b,c,d;b=a.gc.value;c=a.Ud.value;d=a.Fc.value;return b&&c&&d?(a=a.Sa.media.find(function(a){return a.tracks.AUDIO===b.Ab&&a.tracks.VIDEO===c.Ab&&a.tracks.TEXT===d.Ab;}))?a.id:"":"";};b.prototype.X_=function(a){return a.map(function(a){return{ac:a.downloadableId,duration:a.duration};});};b.prototype.jYa=function(a){return(a=a.Sl)?(a=a.dka(),{total:a.total,audio:this.X_(a.audio),video:this.X_(a.video),text:this.X_(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};u=b;u=f.__decorate([g.N(),f.__param(0,g.j(m.mj)),f.__param(1,g.j(r.Ef)),f.__param(2,g.j(a.eg))],u);c.ZCa=u;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jaa="PlaydataServicesSymbol";c.DU="PlaydataServicesProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.CU="PlaydataFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.MT="ManifestProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.sS="ControlProtocolSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.OJ="NetworkMonitorFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.YU="UuidProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.X9="LogMessageRulerConfigSymbol";c.Y9="LogMessageRulerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.V9="LogMessageFilterConfigSymbol";c.W9="LogMessageFilterSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.ZT="MslDispatcherSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.dC||(c.dC={});f[f.P$=0]="PAUSE";f[f.Waa=1]="RESUME";f[f.ieb=2]="CAPTIONS_ON";f[f.heb=3]="CAPTIONS_OFF";f[f.jeb=4]="CAPTION_LANGUAGE_CHANGED";f[f.qdb=5]="AUDIO_LANGUAGE_CHANGED";f[f.Bhb=6]="NEXT_EP";f[f.rib=7]="PREV_EP";f[f.nEa=8]="SEEK";f[f.$C=9]="STOP";c.q7="CastInteractionTrackerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.vba="load save remove removeAll loadAll loadKeys".split(" ");c.M6="AppStorageStatsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.iu||(c.iu={});f.Unknown="unknown";f.Absent="absent";f.Present="present";f.Error="error";c.v8="ExternalDisplayLogHelperSymbol";},function(f,c,a){var d,h,l;function b(){this.type=d.au.su;}Object.defineProperty(c,"__esModule",{value:!0});d=a(34);f=a(96);h=a(160);l=new f.Cu();b.XY=function(){return{isTypeSupported:function(a){var c;try{if(-1==a.toLowerCase().indexOf("codec"))return t.MSMediaKeys.isTypeSupported(a);c=a.split("|");return 1===c.length?t.MSMediaKeys.isTypeSupported(h.Eb.tn,a):"probably"===b.G5(c[0],c[1]);}catch(p){return!1;}}};};b.JM=function(a,c,d){c=l.format(b.SB,c);if(0===d.length)return c;d=l.format('features="{0}"',d.join());return l.format("{0}|{1}{2}",a,c,d);};b.G5=function(a,b){var c;try{c=t.MSMediaKeys.isTypeSupportedWithFeatures?t.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(r){c="exception";}return c;};b.SB='video/mp4;codecs="{0},mp4a";';c.tu=b;},function(f,c,a){var d,h,l,g,m,p;function b(a,c,d,m){var f;f=h.ik.call(this,a,c,d)||this;f.cast=m;f.type=l.Fi.oS;a=b.CFa;f.YB[l.Jd.jK]=g.od.mC+"; "+a;f.YB[l.Jd.Mo]=g.od.Mo+"; "+a;a=g.od.hva.find(function(a){return f.Jp(p(b.SB,a));});f.YB[l.Jd.Ff]=a;return f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(64);h=a(123);l=a(34);f=a(96);g=a(124);m=a(365);p=new f.Cu().format;oa(b,h.ik);b.XY=function(a,c){return(c=b.rqa(c))?{isTypeSupported:c}:a;};b.rqa=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.Co=function(a){var c,d;c=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().Rsa){d={};if(c)return d[l.Qg.pn]="1.4",d[l.Qg.nu]="2.2",c().then(function(b){return b===d[a];});c=this.Pma(a);c=p(b.SB,g.od.mC)+" hdcp="+c;c=this.Jp.bind(this,c);return Promise.resolve(c());}return Promise.resolve(!1);};b.prototype.YN=function(a){return this.YB[a];};b.prototype.Yz=function(){var a;a=this;return this.config().Rsa?this.Co(l.Qg.nu).then(function(b){return b?Promise.resolve(l.Qg.nu):a.Co(l.Qg.pn).then(function(a){return a?Promise.resolve(l.Qg.pn):Promise.resolve(void 0);});}).then(function(b){return a.OE(b);}):Promise.resolve(void 0);};b.prototype.Iv=function(){var a,c;a=h.ik.prototype.Iv.call(this);c=b.Jka;a[d.$.US]=["hev1.2.6.L90.B0",c];a[d.$.VS]=["hev1.2.6.L93.B0",c];a[d.$.WS]=["hev1.2.6.L120.B0",c];a[d.$.XS]=["hev1.2.6.L123.B0",c];a[d.$.YS]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[d.$.$S]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[d.$.sJ]=["hev1.2.6.L90.B0",c];a[d.$.tJ]=["hev1.2.6.L93.B0",c];a[d.$.uJ]=["hev1.2.6.L120.B0",c];a[d.$.vJ]=["hev1.2.6.L123.B0",c];a[d.$.ZS]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[d.$.aT]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[d.$.lT]="hev1.1.6.L90.B0";a[d.$.mT]="hev1.1.6.L93.B0";a[d.$.nT]="hev1.1.6.L120.B0";a[d.$.oT]="hev1.1.6.L123.B0";a[d.$.pT]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[d.$.qT]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[d.$.dT]="hev1.2.6.L90.B0";a[d.$.fT]="hev1.2.6.L93.B0";a[d.$.hT]="hev1.2.6.L120.B0";a[d.$.jT]="hev1.2.6.L123.B0";a[d.$.pC]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[d.$.qC]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.P0=function(){h.ik.prototype.P0.call(this);!b.rqa(this.cast)&&this.Tm.push(m.il.Mo);};b.Jka="eotf=smpte2084";b.pob="video/mp4;codecs={0}; "+b.Jka;b.CFa="width=3840; height=2160; ";c.r7=b;c.pS="CastSDKSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.C9="IsTypeSupportedProviderFactorySymbol";c.qaa="PlatformIsTypeSupportedSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Kba="ThroughputTrackerSymbol";c.RU="ThroughputTrackerFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.rU="PboPlaydataFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.KU="SegmentManagerFactorySymbol";},function(f,c,a){var d,h,l;function b(a,b,c,d){this.gb=a;this.zv=b;this.ck=c;this.Ck=void 0===d?"General":d;}Object.defineProperty(c,"__esModule",{value:!0});d=a(12);h=a(376);l=a(729);b.prototype.fatal=function(a){this.as(d.wh.txa,a,l.fz(this.zv,arguments));};b.prototype.error=function(a){this.as(d.wh.ERROR,a,l.fz(this.zv,arguments));};b.prototype.warn=function(a){this.as(d.wh.bca,a,l.fz(this.zv,arguments));};b.prototype.info=function(a){this.as(d.wh.yT,a,l.fz(this.zv,arguments));};b.prototype.trace=function(a){this.as(d.wh.PU,a,l.fz(this.zv,arguments));};b.prototype.debug=function(){};b.prototype.log=function(a){this.debug.apply(this,arguments);};b.prototype.write=function(a,b){this.as(a,b,l.fz(this.zv,arguments,2));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Ck};};b.prototype.as=function(a,b,c){a=new h.T9(a,this.Ck,this.gb.oe(),b,c);b=Na(this.ck.ck);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.zC=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.OU="StringUtilsSymbol";},function(f,c,a){var d,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);d={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<b.length;c++)b[c]=this.osa(a.substr(2*c,2));return b;};b.prototype.encode=function(a){for(var b="",c=a.length,d=0;d<c;d++)var h=a[d],b=b+("0123456789ABCDEF"[h>>>4]+"0123456789ABCDEF"[h&15]);return b;};b.prototype.yF=function(a,b){var c;c="";for(b<<=1;b--;)c=("0123456789ABCDEF"[a&15]||"0")+c,a>>>=4;return c;};b.prototype.osa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var c=0,h=0;h<b;h++)c=16*c+d[a[h]];return c;};h=b;h=f.__decorate([a.N()],h);c.hS=h;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.SS="EmeApiSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.IS||(c.IS={});f[f.drb=0]="playready";f[f.Ucb=1]="widevine";f[f.unb=2]="fairplay";f[f.Ilb=3]="clearkey";c.a8="DrmTypeSymbol";},function(f,c,a){var b,d;b=a(393);d=a(847);c.pt=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.HA(d.c_a,null,a);};},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.value=b;this.ha=c;this.hp=!0;c&&(this.hp=!1);}b(c,a);c.create=function(a,b){return new c(a,b);};c.Xa=function(a){var b,c;b=a.value;c=a.Ce;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.lb(a)));};c.prototype.Ve=function(a){var b,d;b=this.value;d=this.ha;if(d)return d.lb(c.Xa,0,{done:!1,value:b,Ce:a});a.next(b);a.closed||a.complete();};return c;}(a(11).pa);c.JU=f;},function(f,c,a){a(11);f=function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.Cm="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.eF=function(a,b,c){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c();}};a.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):this.eF(a,b,c);};a.$Y=function(b){return"undefined"!==typeof b?new a("N",b):a.Wbb;};a.tha=function(b){return new a("E",void 0,b);};a.WY=function(){return a.qPa;};a.qPa=new a("C");a.Wbb=new a("N",void 0);return a;}();c.Notification=f;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);this.Ni=[];this.active=!1;}b(c,a);c.prototype.flush=function(a){var b,c;b=this.Ni;if(this.active)b.push(a);else{this.active=!0;do if(c=a.Pf(a.state,a.Rc))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return c;}(a(862).PEa);c.fS=f;},function(f,c,a){var b,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(76);f=function(a){function c(b,c){a.call(this,b,c);this.ha=b;this.HI=c;this.aH=!1;}b(c,a);c.prototype.lb=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.aH=!0;a=this.id;c=this.ha;null!=a&&(this.id=this.iQ(c,a,b));this.Rc=b;this.id=this.id||this.pQ(c,this.id,b);return this;};c.prototype.pQ=function(a,b,c){void 0===c&&(c=0);return d.root.setInterval(a.flush.bind(a,this),c);};c.prototype.iQ=function(a,b,c){void 0===c&&(c=0);return null!==c&&this.Rc===c&&!1===this.aH?b:(d.root.clearInterval(b),void 0);};c.prototype.Pf=function(a,b){if(this.closed)return Error("executing a cancelled action");this.aH=!1;if(a=this.SK(a,b))return a;!1===this.aH&&null!=this.id&&(this.id=this.iQ(this.ha,this.id,null));};c.prototype.SK=function(a){var b,c;b=!1;c=void 0;try{this.HI(a);}catch(r){b=!0;c=!!r&&r||Error(r);}if(b)return this.unsubscribe(),c;};c.prototype.rp=function(){var a,b,c,d;a=this.id;b=this.ha;c=b.Ni;d=c.indexOf(this);this.state=this.HI=null;this.aH=!1;this.ha=null;-1!==d&&c.splice(d,1);null!=a&&(this.id=this.iQ(b,a,null));this.Rc=null;};return c;}(a(864).Jta);c.eS=f;},function(f,c,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}f=a(76);c.kob=b;c.observable=b(f.root);c.ldb=c.observable;},function(f,c,a){f=a(76).root.Symbol;c.fx="function"===typeof f&&"function"===typeof f["for"]?f["for"]("rxSubscriber"):"@@rxSubscriber";c.mdb=c.fx;},function(f,c){c.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(f,c,a){var d,h;function b(a,b,c,d,h){this.version=a;this.QA=b;this.Mra=c;this.md=d;this.Gd=h;this.um=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(2);h=a(48);b.prototype.load=function(a){return this.N0a(a);};b.prototype.add=function(a){this.um.push(a);return this.s3();};b.prototype.remove=function(a,b){a=this.Eja(this.Ui(a,b));return 0<=a?(this.um.splice(a,1),this.s3()):Promise.resolve();};b.prototype.update=function(a,b){b=this.Eja(this.Ui(a,b));return 0<=b?(this.um[b]=a,this.s3()):Promise.resolve();};b.prototype.N0a=function(a){var b;b=this;this.pma||(this.pma=new Promise(function(c,g){function h(a){b.SSa().then(function(){g(a);})["catch"](function(){g(a);});}b.c0().then(function(a){b.storage=a;return b.storage.load(b.QA);}).then(function(d){var g;d=d.value;try{g=a(d);b.version=g.version;b.um=g.data;c();}catch(z){h(z);}})["catch"](function(a){a.R!==d.u.sj?g(a):c();});}));return this.pma;};b.prototype.s3=function(){var a,b,c,d,h;a=this;if(!this.Mra)return Promise.resolve();if(this.rR){d=new Promise(function(a,d){b=a;c=d;});h=function(){a.rR=d;a.Lra().then(function(){b();})["catch"](function(a){c(a);});};this.rR.then(h)["catch"](h);return d;}return this.rR=this.Lra();};b.prototype.Lra=function(){var a,c;a=this;c=this.Gd();return new Promise(function(g,h){a.c0().then(function(b){return b.save(a.QA,c,!1);}).then(function(){g();})["catch"](function(a){h(b.kI(d.v.gCa,a));});});};b.prototype.SSa=function(){var a;a=this;return this.Mra?new Promise(function(b,c){a.c0().then(function(b){return b.remove(a.QA);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};b.prototype.c0=function(){return this.storage?Promise.resolve(this.storage):this.md.create();};b.prototype.Ui=function(a,b){for(var c=0;c<this.um.length;++c)if(b(this.um[c],a))return this.um[c];};b.prototype.Eja=function(a){return a?this.um.indexOf(a):-1;};b.kI=function(a,b,c){return b.R&&b.cause?new h.nb(a,b.R,void 0,void 0,void 0,c,void 0,b.cause):void 0!==b.tb?(c=(b.message?b.message+" ":"")+(c?c:""),b.code=a,b.message=""===c?void 0:c,b):b instanceof Error?new h.nb(a,d.u.te,void 0,void 0,void 0,c,b.stack,b):new h.nb(a,d.u.Vg,void 0,void 0,void 0,c,void 0,b);};c.BT=b;},function(f,c,a){var h;function b(){}function d(a){a?(this.active=!1,this.ni(a)):this.active=!0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);d.prototype.ni=function(a){this.profileId=a.profileId;this.Ob=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,kt:a.licenseContextId,tA:a.licenseId};}):[];this.aa=a.xid;this.M=a.movieId;};d.prototype.Gd=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.Ob?this.Ob.map(function(a){return{id:a.id,licenseContextId:a.kt,licenseId:a.tA};}):[],xid:this.aa,movieId:this.M}));};c.GS=d;b.prototype.create=function(){return new d();};b.prototype.load=function(a){return new d(a);};h=b;h=f.__decorate([a.N()],h);c.Owa=h;},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(114);d=a(413);h=a(233);l=a(159);g=a(875);m=a(874);c.eme=new f.dc(function(a){a(d.W7).to(h.Owa).Y();a(l.mS).to(g.$ua).Y();a(b.kJ).OB(m.v6a);});c.NZ=new f.eC();},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(63);d=a(876);c.Yg=new f.dc(function(a){a(b.gn).OB(d.u6a);});c.$W=new f.eC();},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.DT="Injector";c.pu=145152E5;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(238);d=a(416);f=function(){function a(a){this.ob=a;}a.prototype.GI=function(){this.ob.Fv=function(a){return null!==a.target&&!a.target.Y0()&&!a.target.c1();};return new b.OI(this.ob);};a.prototype.ZB=function(a,c){this.ob.Fv=d.N5(a)(c);return new b.OI(this.ob);};return a;}();c.jS=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(237);f=function(){function a(a){this.ob=a;}a.prototype.mo=function(a){this.ob.mo=a;return new b.jS(this.ob);};return a;}();c.OI=f;},function(f,c,a){var l;function b(a,b,c,d,h,l,f){this.zI=d;this.nta=a;this.Una=b;this.J2=c;this.Y_a=l;this.Kt=f;this.split=h;}function d(){this.I={};this.I["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.I["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.I["3"]=new b("7","8","7","10","1.5",0,0);this.I["7"]=new b("15","16","15","9","4.5",0,0);this.I["15"]=new b("31","32","31","2","5.5",0,0);this.I["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.I["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.I["123"]=new b("123","124","123","0","0",1,.207298);this.I["124"]=new b("123","124","123","0","0",1,.49076);this.I["64"]=new b("125","126","125","4","40.5",0,0);this.I["125"]=new b("125","126","125","0","0",1,-.00157835);this.I["126"]=new b("125","126","125","0","0",1,.934205);this.I["32"]=new b("65","66","65","135","5.5",0,0);this.I["65"]=new b("127","128","128","4","1272.5",0,0);this.I["127"]=new b("127","128","128","0","0",1,-.510333);this.I["128"]=new b("127","128","128","0","0",1,.18363);this.I["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.I["129"]=new b("129","130","129","0","0",1,-.0464542);this.I["130"]=new b("129","130","129","0","0",1,.458833);this.I["16"]=new b("33","34","34","10","2.00001",0,0);this.I["33"]=new b("67","68","67","0","29.5",0,0);this.I["67"]=new b("131","132","131","2","39.5",0,0);this.I["131"]=new b("131","132","131","0","0",1,-.37577);this.I["132"]=new b("131","132","131","0","0",1,.512087);this.I["68"]=new b("133","134","134","140","1.5",0,0);this.I["133"]=new b("133","134","134","0","0",1,.321272);this.I["134"]=new b("133","134","134","0","0",1,-.675396);this.I["34"]=new b("69","70","70","2","24.5",0,0);this.I["69"]=new b("135","136","136","9","28.5",0,0);this.I["135"]=new b("135","136","136","0","0",1,-.0573845);this.I["136"]=new b("135","136","136","0","0",1,-.507455);this.I["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.I["137"]=new b("137","138","137","0","0",1,-.503909);this.I["138"]=new b("137","138","137","0","0",1,.450886);this.I["8"]=new b("17","18","17","4","44189.5",0,0);this.I["17"]=new b("35","36","35","2","21.5",0,0);this.I["35"]=new b("71","72","72","0","19.5",0,0);this.I["71"]=new b("139","140","140","9","2.5",0,0);this.I["139"]=new b("139","140","140","0","0",1,.00403497);this.I["140"]=new b("139","140","140","0","0",1,-.312656);this.I["72"]=new b("141","142","141","135","96",0,0);this.I["141"]=new b("141","142","141","0","0",1,-.465786);this.I["142"]=new b("141","142","141","0","0",1,.159633);this.I["36"]=new b("73","74","73","130","89.5",0,0);this.I["73"]=new b("143","144","144","10","4.5",0,0);this.I["143"]=new b("143","144","144","0","0",1,-.76265);this.I["144"]=new b("143","144","144","0","0",1,-.580804);this.I["74"]=new b("145","146","146","10","16.5",0,0);this.I["145"]=new b("145","146","146","0","0",1,.296357);this.I["146"]=new b("145","146","146","0","0",1,-.691659);this.I["18"]=new b("37","38","38","9","1.5",0,0);this.I["37"]=new b("37","38","38","0","0",1,.993951);this.I["38"]=new b("75","76","75","0","19",0,0);this.I["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.I["147"]=new b("147","148","147","0","0",1,-.346535);this.I["148"]=new b("147","148","147","0","0",1,-.995745);this.I["76"]=new b("147","148","147","0","0",1,-.99978);this.I["4"]=new b("9","10","9","5","4.5",0,0);this.I["9"]=new b("19","20","19","2","4.5",0,0);this.I["19"]=new b("39","40","39","140","7.5",0,0);this.I["39"]=new b("77","78","78","134","6.5",0,0);this.I["77"]=new b("149","150","150","7","11.5",0,0);this.I["149"]=new b("149","150","150","0","0",1,.729843);this.I["150"]=new b("149","150","150","0","0",1,.383857);this.I["78"]=new b("151","152","151","133","4.5",0,0);this.I["151"]=new b("151","152","151","0","0",1,.39017);this.I["152"]=new b("151","152","151","0","0",1,.0434342);this.I["40"]=new b("79","80","79","133","3.5",0,0);this.I["79"]=new b("153","154","154","8","4.5",0,0);this.I["153"]=new b("153","154","154","0","0",1,-.99536);this.I["154"]=new b("153","154","154","0","0",1,-.00943396);this.I["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.I["155"]=new b("155","156","155","0","0",1,.266272);this.I["156"]=new b("155","156","155","0","0",1,.959904);this.I["20"]=new b("41","42","42","10","65.5",0,0);this.I["41"]=new b("81","82","82","7","10.5",0,0);this.I["81"]=new b("157","158","158","2","37.5",0,0);this.I["157"]=new b("157","158","158","0","0",1,-.701873);this.I["158"]=new b("157","158","158","0","0",1,.224649);this.I["82"]=new b("159","160","159","133","9.5",0,0);this.I["159"]=new b("159","160","159","0","0",1,.0955181);this.I["160"]=new b("159","160","159","0","0",1,-.58962);this.I["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.I["83"]=new b("161","162","161","135","31",0,0);this.I["161"]=new b("161","162","161","0","0",1,-.229692);this.I["162"]=new b("161","162","161","0","0",1,.88595);this.I["84"]=new b("163","164","164","1","13.5",0,0);this.I["163"]=new b("163","164","164","0","0",1,-.992157);this.I["164"]=new b("163","164","164","0","0",1,.922159);this.I["10"]=new b("21","22","22","4","486",0,0);this.I["21"]=new b("43","44","44","133","4.5",0,0);this.I["43"]=new b("85","86","86","10","4.5",0,0);this.I["85"]=new b("165","166","166","4","158.5",0,0);this.I["165"]=new b("165","166","166","0","0",1,-.127778);this.I["166"]=new b("165","166","166","0","0",1,.955189);this.I["86"]=new b("165","166","166","0","0",1,-.994012);this.I["44"]=new b("87","88","88","1","3.5",0,0);this.I["87"]=new b("167","168","168","135","7",0,0);this.I["167"]=new b("167","168","168","0","0",1,-.997015);this.I["168"]=new b("167","168","168","0","0",1,.400821);this.I["88"]=new b("169","170","169","130","36",0,0);this.I["169"]=new b("169","170","169","0","0",1,-.898638);this.I["170"]=new b("169","170","169","0","0",1,.56129);this.I["22"]=new b("45","46","45","9","2.5",0,0);this.I["45"]=new b("89","90","90","9","1.5",0,0);this.I["89"]=new b("171","172","171","10","10.5",0,0);this.I["171"]=new b("171","172","171","0","0",1,.573986);this.I["172"]=new b("171","172","171","0","0",1,-.627266);this.I["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.I["173"]=new b("173","174","173","0","0",1,.925273);this.I["174"]=new b("173","174","173","0","0",1,-.994805);this.I["46"]=new b("91","92","91","136","5.5",0,0);this.I["91"]=new b("175","176","175","10","10.5",0,0);this.I["175"]=new b("175","176","175","0","0",1,.548352);this.I["176"]=new b("175","176","175","0","0",1,-.879195);this.I["92"]=new b("177","178","178","8","14.5",0,0);this.I["177"]=new b("177","178","178","0","0",1,.457305);this.I["178"]=new b("177","178","178","0","0",1,-.998992);this.I["2"]=new b("5","6","5","10","2.5",0,0);this.I["5"]=new b("11","12","11","9","4.5",0,0);this.I["11"]=new b("23","24","24","10","4.00001",0,0);this.I["23"]=new b("47","48","48","133","5.5",0,0);this.I["47"]=new b("93","94","93","3","13.5",0,0);this.I["93"]=new b("179","180","179","138","15.5",0,0);this.I["179"]=new b("179","180","179","0","0",1,.658398);this.I["180"]=new b("179","180","179","0","0",1,-.927007);this.I["94"]=new b("181","182","182","3","15.5",0,0);this.I["181"]=new b("181","182","182","0","0",1,-.111351);this.I["182"]=new b("181","182","182","0","0",1,-.99827);this.I["48"]=new b("95","96","95","7","167",0,0);this.I["95"]=new b("183","184","183","132","36.5",0,0);this.I["183"]=new b("183","184","183","0","0",1,.895161);this.I["184"]=new b("183","184","183","0","0",1,-.765217);this.I["96"]=new b("185","186","186","137","6.00001",0,0);this.I["185"]=new b("185","186","186","0","0",1,-.851095);this.I["186"]=new b("185","186","186","0","0",1,.674286);this.I["24"]=new b("49","50","49","137","5.5",0,0);this.I["49"]=new b("97","98","97","5","23.5",0,0);this.I["97"]=new b("187","188","187","3","28.5",0,0);this.I["187"]=new b("187","188","187","0","0",1,.951654);this.I["188"]=new b("187","188","187","0","0",1,-.993808);this.I["98"]=new b("187","188","187","0","0",1,-.99705);this.I["50"]=new b("187","188","187","0","0",1,-.997525);this.I["12"]=new b("25","26","25","8","8.5",0,0);this.I["25"]=new b("51","52","52","10","4.00001",0,0);this.I["51"]=new b("99","100","100","133","5.5",0,0);this.I["99"]=new b("189","190","190","7","40.5",0,0);this.I["189"]=new b("189","190","190","0","0",1,.151839);this.I["190"]=new b("189","190","190","0","0",1,-.855517);this.I["100"]=new b("191","192","192","133","14.5",0,0);this.I["191"]=new b("191","192","192","0","0",1,.86223);this.I["192"]=new b("191","192","192","0","0",1,.544394);this.I["52"]=new b("101","102","101","135","47.5",0,0);this.I["101"]=new b("193","194","194","4","24.5",0,0);this.I["193"]=new b("193","194","194","0","0",1,.946185);this.I["194"]=new b("193","194","194","0","0",1,.811859);this.I["102"]=new b("193","194","194","0","0",1,-.991561);this.I["26"]=new b("53","54","54","132","6.5",0,0);this.I["53"]=new b("103","104","103","131","85",0,0);this.I["103"]=new b("195","196","196","134","16.5",0,0);this.I["195"]=new b("195","196","196","0","0",1,.0473538);this.I["196"]=new b("195","196","196","0","0",1,-.999401);this.I["104"]=new b("197","198","198","8","15.5",0,0);this.I["197"]=new b("197","198","198","0","0",1,.816129);this.I["198"]=new b("197","198","198","0","0",1,-.99322);this.I["54"]=new b("105","106","105","133","3.5",0,0);this.I["105"]=new b("105","106","105","0","0",1,-.998783);this.I["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.I["199"]=new b("199","200","199","0","0",1,.528588);this.I["200"]=new b("199","200","199","0","0",1,-.998599);this.I["6"]=new b("13","14","14","10","7.5",0,0);this.I["13"]=new b("27","28","28","133","7.5",0,0);this.I["27"]=new b("55","56","56","10","4.5",0,0);this.I["55"]=new b("107","108","107","3","3.5",0,0);this.I["107"]=new b("201","202","201","4","17.5",0,0);this.I["201"]=new b("201","202","201","0","0",1,-.379512);this.I["202"]=new b("201","202","201","0","0",1,.15165);this.I["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.I["203"]=new b("203","204","203","0","0",1,-.884606);this.I["204"]=new b("203","204","203","0","0",1,.265406);this.I["56"]=new b("109","110","109","136","6.5",0,0);this.I["109"]=new b("205","206","205","4","157.5",0,0);this.I["205"]=new b("205","206","205","0","0",1,-.0142737);this.I["206"]=new b("205","206","205","0","0",1,.691279);this.I["110"]=new b("205","206","205","0","0",1,-.998086);this.I["28"]=new b("57","58","58","138","11.5",0,0);this.I["57"]=new b("111","112","112","2","6.5",0,0);this.I["111"]=new b("207","208","208","7","67.5",0,0);this.I["207"]=new b("207","208","208","0","0",1,.763925);this.I["208"]=new b("207","208","208","0","0",1,-.309645);this.I["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.I["209"]=new b("209","210","209","0","0",1,-.306635);this.I["210"]=new b("209","210","209","0","0",1,.556696);this.I["58"]=new b("113","114","113","138","50.5",0,0);this.I["113"]=new b("211","212","212","8","25.5",0,0);this.I["211"]=new b("211","212","212","0","0",1,.508234);this.I["212"]=new b("211","212","212","0","0",1,.793551);this.I["114"]=new b("211","212","212","0","0",1,-.998438);this.I["14"]=new b("29","30","29","134","27.5",0,0);this.I["29"]=new b("59","60","60","7","17.5",0,0);this.I["59"]=new b("115","116","115","135","5.5",0,0);this.I["115"]=new b("213","214","214","137","5.5",0,0);this.I["213"]=new b("213","214","214","0","0",1,.401747);this.I["214"]=new b("213","214","214","0","0",1,.0367503);this.I["116"]=new b("215","216","216","8","5.5",0,0);this.I["215"]=new b("215","216","216","0","0",1,-.0241984);this.I["216"]=new b("215","216","216","0","0",1,-.999046);this.I["60"]=new b("117","118","117","0","12.5",0,0);this.I["117"]=new b("217","218","218","132","5.5",0,0);this.I["217"]=new b("217","218","218","0","0",1,-.997294);this.I["218"]=new b("217","218","218","0","0",1,.210398);this.I["118"]=new b("219","220","219","137","1.5",0,0);this.I["219"]=new b("219","220","219","0","0",1,-.55763);this.I["220"]=new b("219","220","219","0","0",1,.074493);this.I["30"]=new b("61","62","62","133","42.5",0,0);this.I["61"]=new b("119","120","119","135","5.5",0,0);this.I["119"]=new b("221","222","222","4","473.5",0,0);this.I["221"]=new b("221","222","222","0","0",1,-.920213);this.I["222"]=new b("221","222","222","0","0",1,-.17615);this.I["120"]=new b("223","224","224","5","144",0,0);this.I["223"]=new b("223","224","224","0","0",1,-.954295);this.I["224"]=new b("223","224","224","0","0",1,-.382538);this.I["62"]=new b("121","122","121","133","50",0,0);this.I["121"]=new b("225","226","226","10","18.5",0,0);this.I["225"]=new b("225","226","226","0","0",1,-.0731343);this.I["226"]=new b("225","226","226","0","0",1,.755454);this.I["122"]=new b("227","228","228","0","30",0,0);this.I["227"]=new b("227","228","228","0","0",1,.25);this.I["228"]=new b("227","228","228","0","0",1,-.997101);}function h(a,b,c,d,h,l){this.yQ=h;this.BM=l;}c=a(256);l=a(164);a={};a.$Ma=new function(){this.uHa=l();this.l=0;this.update=function(){this.l=l()-this.uHa;};this.getValue=function(){return this.l;};this.type="num";}();a.x0a=new function(){this.getValue=function(a,b,c){return this.l="becauseYouAdded"===c.sa[a].context||null;};this.type="cat";}();a.y0a=new function(){this.getValue=function(a,b,c){return this.l="becauseYouLiked"===c.sa[a].context||null;};this.type="cat";}();a.A0a=new function(){this.getValue=function(a,b,c){return this.l="billboard"===c.sa[a].context||null;};this.type="cat";}();a.B0a=new function(){this.getValue=function(a,b,c){return this.l="continueWatching"===c.sa[a].context||null;};this.type="cat";}();a.z0a=new function(){this.getValue=function(a,b,c){return this.l="bigRow"===c.sa[a].context||null;};this.type="cat";}();a.C0a=new function(){this.getValue=function(a,b,c){return this.l="genre"===c.sa[a].context||null;};this.type="cat";}();a.D0a=new function(){this.getValue=function(a,b,c){return this.l="netflixOriginals"===c.sa[a].context||null;};this.type="cat";}();a.E0a=new function(){this.getValue=function(a,b,c){return this.l="newRelease"===c.sa[a].context||null;};this.type="cat";}();a.F0a=new function(){this.getValue=function(a,b,c){return this.l="popularTitles"===c.sa[a].context||null;};this.type="cat";}();a.G0a=new function(){this.getValue=function(a,b,c){return this.l="queue"===c.sa[a].context||null;};this.type="cat";}();a.H0a=new function(){this.getValue=function(a,b,c){return this.l="recentlyAdded"===c.sa[a].context||null;};this.type="cat";}();a.I0a=new function(){this.getValue=function(a,b,c){return this.l="similars"===c.sa[a].context||null;};this.type="cat";}();a.K0a=new function(){this.getValue=function(a,b,c){return this.l="trendingNow"===c.sa[a].context||null;};this.type="cat";}();a.L0a=new function(){this.getValue=function(a,b,c){return this.l="ultraHD"===c.sa[a].context||null;};this.type="cat";}();a.M0a=new function(){this.getValue=function(a,b,c){return this.l="watchAgain"===c.sa[a].context||null;};this.type="cat";}();a.J0a=new function(){this.getValue=function(a,b,c){return this.l="topTen"===c.sa[a].context||null;};this.type="cat";}();a.BNa=new function(){this.update=function(a){for(var b in a.sa)if("becauseYouAdded"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.CNa=new function(){this.update=function(a){for(var b in a.sa)if("becauseYouLiked"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.ENa=new function(){this.update=function(a){for(var b in a.sa)if("billboard"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.JPa=new function(){this.update=function(a){for(var b in a.sa)if("continueWatching"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.DNa=new function(){this.update=function(a){for(var b in a.sa)if("bigRow"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.mWa=new function(){this.update=function(a){for(var b in a.sa)if("genre"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.a3a=new function(){this.update=function(a){for(var b in a.sa)if("netflixOriginals"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.e3a=new function(){this.update=function(a){for(var b in a.sa)if("newRelease"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.G5a=new function(){this.update=function(a){for(var b in a.sa)if("popularTitles"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Eq=new function(){this.update=function(a){for(var b in a.sa)if("queue"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.X6a=new function(){this.update=function(a){for(var b in a.sa)if("recentlyAdded"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.j$a=new function(){this.update=function(a){for(var b in a.sa)if("similars"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Jbb=new function(){this.update=function(a){for(var b in a.sa)if("trendingNow"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Ubb=new function(){this.update=function(a){for(var b in a.sa)if("ultraHD"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Rcb=new function(){this.update=function(a){for(var b in a.sa)if("watchAgain"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.jbb=new function(){this.update=function(a){for(var b in a.sa)if("topTen"===a.sa[b].context){this.l=Math.max(a.sa[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.UPa=new function(){this.getValue=function(a,b,c){return this.l="AR"===c.va||null;};this.type="cat";}();a.VPa=new function(){this.getValue=function(a,b,c){return this.l="AT"===c.va||null;};this.type="cat";}();a.WPa=new function(){this.getValue=function(a,b,c){return this.l="AU"===c.va||null;};this.type="cat";}();a.XPa=new function(){this.getValue=function(a,b,c){return this.l="AZ"===c.va||null;};this.type="cat";}();a.YPa=new function(){this.getValue=function(a,b,c){return this.l="BB"===c.va||null;};this.type="cat";}();a.ZPa=new function(){this.getValue=function(a,b,c){return this.l="BE"===c.va||null;};this.type="cat";}();a.$Pa=new function(){this.getValue=function(a,b,c){return this.l="BO"===c.va||null;};this.type="cat";}();a.aQa=new function(){this.getValue=function(a,b,c){return this.l="BR"===c.va||null;};this.type="cat";}();a.bQa=new function(){this.getValue=function(a,b,c){return this.l="BS"===c.va||null;};this.type="cat";}();a.cQa=new function(){this.getValue=function(a,b,c){return this.l="CA"===c.va||null;};this.type="cat";}();a.dQa=new function(){this.getValue=function(a,b,c){return this.l="CH"===c.va||null;};this.type="cat";}();a.eQa=new function(){this.getValue=function(a,b,c){return this.l="CL"===c.va||null;};this.type="cat";}();a.fQa=new function(){this.getValue=function(a,b,c){return this.l="CO"===c.va||null;};this.type="cat";}();a.gQa=new function(){this.getValue=function(a,b,c){return this.l="CR"===c.va||null;};this.type="cat";}();a.hQa=new function(){this.getValue=function(a,b,c){return this.l="CW"===c.va||null;};this.type="cat";}();a.iQa=new function(){this.getValue=function(a,b,c){return this.l="DE"===c.va||null;};this.type="cat";}();a.jQa=new function(){this.getValue=function(a,b,c){return this.l="DK"===c.va||null;};this.type="cat";}();a.kQa=new function(){this.getValue=function(a,b,c){return this.l="DM"===c.va||null;};this.type="cat";}();a.lQa=new function(){this.getValue=function(a,b,c){return this.l="DO"===c.va||null;};this.type="cat";}();a.mQa=new function(){this.getValue=function(a,b,c){return this.l="EC"===c.va||null;};this.type="cat";}();a.nQa=new function(){this.getValue=function(a,b,c){return this.l="EE"===c.va||null;};this.type="cat";}();a.oQa=new function(){this.getValue=function(a,b,c){return this.l="EG"===c.va||null;};this.type="cat";}();a.pQa=new function(){this.getValue=function(a,b,c){return this.l="ES"===c.va||null;};this.type="cat";}();a.qQa=new function(){this.getValue=function(a,b,c){return this.l="FI"===c.va||null;};this.type="cat";}();a.rQa=new function(){this.getValue=function(a,b,c){return this.l="FR"===c.va||null;};this.type="cat";}();a.sQa=new function(){this.getValue=function(a,b,c){return this.l="GB"===c.va||null;};this.type="cat";}();a.tQa=new function(){this.getValue=function(a,b,c){return this.l="GF"===c.va||null;};this.type="cat";}();a.uQa=new function(){this.getValue=function(a,b,c){return this.l="GP"===c.va||null;};this.type="cat";}();a.vQa=new function(){this.getValue=function(a,b,c){return this.l="GT"===c.va||null;};this.type="cat";}();a.wQa=new function(){this.getValue=function(a,b,c){return this.l="HK"===c.va||null;};this.type="cat";}();a.xQa=new function(){this.getValue=function(a,b,c){return this.l="HN"===c.va||null;};this.type="cat";}();a.yQa=new function(){this.getValue=function(a,b,c){return this.l="HR"===c.va||null;};this.type="cat";}();a.zQa=new function(){this.getValue=function(a,b,c){return this.l="HU"===c.va||null;};this.type="cat";}();a.AQa=new function(){this.getValue=function(a,b,c){return this.l="ID"===c.va||null;};this.type="cat";}();a.BQa=new function(){this.getValue=function(a,b,c){return this.l="IE"===c.va||null;};this.type="cat";}();a.CQa=new function(){this.getValue=function(a,b,c){return this.l="IL"===c.va||null;};this.type="cat";}();a.DQa=new function(){this.getValue=function(a,b,c){return this.l="IN"===c.va||null;};this.type="cat";}();a.EQa=new function(){this.getValue=function(a,b,c){return this.l="IT"===c.va||null;};this.type="cat";}();a.FQa=new function(){this.getValue=function(a,b,c){return this.l="JE"===c.va||null;};this.type="cat";}();a.GQa=new function(){this.getValue=function(a,b,c){return this.l="JM"===c.va||null;};this.type="cat";}();a.HQa=new function(){this.getValue=function(a,b,c){return this.l="JP"===c.va||null;};this.type="cat";}();a.IQa=new function(){this.getValue=function(a,b,c){return this.l="KE"===c.va||null;};this.type="cat";}();a.JQa=new function(){this.getValue=function(a,b,c){return this.l="KN"===c.va||null;};this.type="cat";}();a.KQa=new function(){this.getValue=function(a,b,c){return this.l="KR"===c.va||null;};this.type="cat";}();a.LQa=new function(){this.getValue=function(a,b,c){return this.l="LU"===c.va||null;};this.type="cat";}();a.MQa=new function(){this.getValue=function(a,b,c){return this.l="MK"===c.va||null;};this.type="cat";}();a.NQa=new function(){this.getValue=function(a,b,c){return this.l="MU"===c.va||null;};this.type="cat";}();a.OQa=new function(){this.getValue=function(a,b,c){return this.l="MX"===c.va||null;};this.type="cat";}();a.PQa=new function(){this.getValue=function(a,b,c){return this.l="MY"===c.va||null;};this.type="cat";}();a.QQa=new function(){this.getValue=function(a,b,c){return this.l="NI"===c.va||null;};this.type="cat";}();a.RQa=new function(){this.getValue=function(a,b,c){return this.l="NL"===c.va||null;};this.type="cat";}();a.SQa=new function(){this.getValue=function(a,b,c){return this.l="NO"===c.va||null;};this.type="cat";}();a.TQa=new function(){this.getValue=function(a,b,c){return this.l="NZ"===c.va||null;};this.type="cat";}();a.UQa=new function(){this.getValue=function(a,b,c){return this.l="OM"===c.va||null;};this.type="cat";}();a.VQa=new function(){this.getValue=function(a,b,c){return this.l="PA"===c.va||null;};this.type="cat";}();a.WQa=new function(){this.getValue=function(a,b,c){return this.l="PE"===c.va||null;};this.type="cat";}();a.XQa=new function(){this.getValue=function(a,b,c){return this.l="PF"===c.va||null;};this.type="cat";}();a.YQa=new function(){this.getValue=function(a,b,c){return this.l="PH"===c.va||null;};this.type="cat";}();a.ZQa=new function(){this.getValue=function(a,b,c){return this.l="PK"===c.va||null;};this.type="cat";}();a.$Qa=new function(){this.getValue=function(a,b,c){return this.l="PL"===c.va||null;};this.type="cat";}();a.aRa=new function(){this.getValue=function(a,b,c){return this.l="PT"===c.va||null;};this.type="cat";}();a.bRa=new function(){this.getValue=function(a,b,c){return this.l="PY"===c.va||null;};this.type="cat";}();a.cRa=new function(){this.getValue=function(a,b,c){return this.l="QA"===c.va||null;};this.type="cat";}();a.dRa=new function(){this.getValue=function(a,b,c){return this.l="RO"===c.va||null;};this.type="cat";}();a.eRa=new function(){this.getValue=function(a,b,c){return this.l="RS"===c.va||null;};this.type="cat";}();a.fRa=new function(){this.getValue=function(a,b,c){return this.l="RU"===c.va||null;};this.type="cat";}();a.gRa=new function(){this.getValue=function(a,b,c){return this.l="SA"===c.va||null;};this.type="cat";}();a.hRa=new function(){this.getValue=function(a,b,c){return this.l="SE"===c.va||null;};this.type="cat";}();a.iRa=new function(){this.getValue=function(a,b,c){return this.l="SG"===c.va||null;};this.type="cat";}();a.jRa=new function(){this.getValue=function(a,b,c){return this.l="SV"===c.va||null;};this.type="cat";}();a.kRa=new function(){this.getValue=function(a,b,c){return this.l="SX"===c.va||null;};this.type="cat";}();a.lRa=new function(){this.getValue=function(a,b,c){return this.l="TH"===c.va||null;};this.type="cat";}();a.mRa=new function(){this.getValue=function(a,b,c){return this.l="TR"===c.va||null;};this.type="cat";}();a.nRa=new function(){this.getValue=function(a,b,c){return this.l="TT"===c.va||null;};this.type="cat";}();a.oRa=new function(){this.getValue=function(a,b,c){return this.l="TW"===c.va||null;};this.type="cat";}();a.pRa=new function(){this.getValue=function(a,b,c){return this.l="US"===c.va||null;};this.type="cat";}();a.qRa=new function(){this.getValue=function(a,b,c){return this.l="UY"===c.va||null;};this.type="cat";}();a.rRa=new function(){this.getValue=function(a,b,c){return this.l="VE"===c.va||null;};this.type="cat";}();a.sRa=new function(){this.getValue=function(a,b,c){return this.l="ZA"===c.va||null;};this.type="cat";}();a.a7a=new function(){this.getValue=function(a,b,c){return this.l=1===c.gf||null;};this.type="cat";}();a.b7a=new function(){this.getValue=function(a,b,c){return this.l=10===c.gf||null;};this.type="cat";}();a.c7a=new function(){this.getValue=function(a,b,c){return this.l=11===c.gf||null;};this.type="cat";}();a.d7a=new function(){this.getValue=function(a,b,c){return this.l=12===c.gf||null;};this.type="cat";}();a.e7a=new function(){this.getValue=function(a,b,c){return this.l=13===c.gf||null;};this.type="cat";}();a.f7a=new function(){this.getValue=function(a,b,c){return this.l=14===c.gf||null;};this.type="cat";}();a.g7a=new function(){this.getValue=function(a,b,c){return this.l=15===c.gf||null;};this.type="cat";}();a.h7a=new function(){this.getValue=function(a,b,c){return this.l=16===c.gf||null;};this.type="cat";}();a.i7a=new function(){this.getValue=function(a,b,c){return this.l=17===c.gf||null;};this.type="cat";}();a.j7a=new function(){this.getValue=function(a,b,c){return this.l=18===c.gf||null;};this.type="cat";}();a.k7a=new function(){this.getValue=function(a,b,c){return this.l=19===c.gf||null;};this.type="cat";}();a.l7a=new function(){this.getValue=function(a,b,c){return this.l=2===c.gf||null;};this.type="cat";}();a.m7a=new function(){this.getValue=function(a,b,c){return this.l=20===c.gf||null;};this.type="cat";}();a.n7a=new function(){this.getValue=function(a,b,c){return this.l=21===c.gf||null;};this.type="cat";}();a.o7a=new function(){this.getValue=function(a,b,c){return this.l=22===c.gf||null;};this.type="cat";}();a.p7a=new function(){this.getValue=function(a,b,c){return this.l=23===c.gf||null;};this.type="cat";}();a.q7a=new function(){this.getValue=function(a,b,c){return this.l=3===c.gf||null;};this.type="cat";}();a.r7a=new function(){this.getValue=function(a,b,c){return this.l=4===c.gf||null;};this.type="cat";}();a.s7a=new function(){this.getValue=function(a,b,c){return this.l=5===c.gf||null;};this.type="cat";}();a.t7a=new function(){this.getValue=function(a,b,c){return this.l=6===c.gf||null;};this.type="cat";}();a.u7a=new function(){this.getValue=function(a,b,c){return this.l=7===c.gf||null;};this.type="cat";}();a.v7a=new function(){this.getValue=function(a,b,c){return this.l=8===c.gf||null;};this.type="cat";}();a.w7a=new function(){this.getValue=function(a,b,c){return this.l=9===c.gf||null;};this.type="cat";}();a.lab=new function(){this.update=function(a){"down"===a.direction&&this.l++;};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.nab=new function(){this.update=function(a){"right"===a.direction&&this.l++;};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.mab=new function(){this.update=function(a){"left"===a.direction&&this.l++;};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.oab=new function(){this.update=function(a){"up"===a.direction&&this.l++;};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Z1a=new function(){this.l=0;this.update=function(a){this.l=Math.max(this.l,a.rowIndex);};this.getValue=function(){return this.l;};this.type="num";}();a.$1a=new function(){this.l=0;this.update=function(a){this.l=Math.max(this.l,a.DY);};this.getValue=function(){return this.l;};this.type="num";}();a.g2a=new function(){this.pD=this.l=0;this.update=function(a){this.pD++;this.l=1*(this.l+a.rowIndex)/this.pD;};this.getValue=function(){return this.l;};this.type="num";}();a.h2a=new function(){this.pD=this.l=0;this.update=function(a){this.pD++;return this.l=1*(this.l+a.DY)/this.pD;};this.getValue=function(){return this.l;};this.type="num";}();a.b6a=new function(){this.getValue=function(a,b,c){return this.l=c.DY+b;};this.type="num";}();a.c6a=new function(){this.getValue=function(a,b,c){return this.l=c.rowIndex+a;};this.type="num";}();d.prototype.Kt=function(a){return this.Vea(this.I["0"].Kqa(a),a);};d.prototype.Vea=function(a,b){return"string"==typeof a?this.Vea(this.I[a].Kqa(b),b):a;};b.prototype.Kqa=function(a){switch(this.Y_a){case 0:switch(a.zd[this.zI].type){case"cat":return null===a.zd[this.zI].value?this.Una:"missing"==a.zd[this.zI].value?this.J2:this.nta;case"num":return null===a.zd[this.zI].value?this.J2:a.zd[this.zI].value<this.split?this.nta:this.Una;default:return this.J2;}case 1:return this.Kt;default:return this.Kt;}};c.declare({DG:["modelSelector","modelone"],jPa:["colEpisodeList",5],KZa:["holdDuration",15E3],xqa:["rowFirst",2],Xga:["colFirst",5],zqa:["rowScroll",2],Yga:["colScroll",6],r8a:["rowScrollHorizontal",6],D8a:["searchTop",3],Iha:["cwFirst",2],PF:["horizontalItemsFocusedMode",3],Z_a:["itemsPerRank",1],W1a:["maxNumberPayloadsStored",10],dna:["maxNumberTitlesScheduled",5],Ymb:["enableDetailedLogging",!0],lsb:["rowStep",20],Jlb:["colStep",15],Lqb:["pageRows",100],Kqb:["pageColumns",75],Z1:["maskParamsList",new function(){var a,b;this.Z1=[];this.Zoa={};this.yQ=20;this.BM=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.yQ)+"_"+Math.floor(b/this.BM)in this.Zoa||(this.Zoa[Math.floor(a/this.yQ)+"_"+Math.floor(b/this.BM)]=1,this.Z1.push(new h(0,0,0,0,Math.floor(a/this.yQ),Math.floor(b/this.BM))));}().Z1],I:["nodes",new d().I],mapping:["mapping",{$1a:"0",h2a:"1",Z1a:"2",g2a:"3",$Ma:"4",oab:"5",mab:"6",nab:"7",lab:"8",c6a:"9",b6a:"10",x0a:"11",y0a:"12",A0a:"13",B0a:"14",z0a:"15",C0a:"16",D0a:"17",E0a:"18",F0a:"19",G0a:"20",H0a:"21",I0a:"22",J0a:"23",K0a:"24",L0a:"25",M0a:"26",a7a:"27",b7a:"28",c7a:"29",d7a:"30",e7a:"31",f7a:"32",g7a:"33",h7a:"34",i7a:"35",j7a:"36",k7a:"37",l7a:"38",m7a:"39",n7a:"40",o7a:"41",p7a:"42",q7a:"43",r7a:"44",s7a:"45",t7a:"46",u7a:"47",v7a:"48",w7a:"49",UPa:"50",VPa:"51",WPa:"52",XPa:"53",YPa:"54",ZPa:"55",$Pa:"56",aQa:"57",bQa:"58",cQa:"59",dQa:"60",eQa:"61",fQa:"62",gQa:"63",hQa:"64",iQa:"65",jQa:"66",kQa:"67",lQa:"68",mQa:"69",nQa:"70",oQa:"71",pQa:"72",qQa:"73",rQa:"74",sQa:"75",tQa:"76",uQa:"77",vQa:"78",wQa:"79",xQa:"80",yQa:"81",zQa:"82",AQa:"83",BQa:"84",CQa:"85",DQa:"86",EQa:"87",FQa:"88",GQa:"89",HQa:"90",IQa:"91",JQa:"92",KQa:"93",LQa:"94",MQa:"95",NQa:"96",OQa:"97",PQa:"98",QQa:"99",RQa:"100",SQa:"101",TQa:"102",UQa:"103",VQa:"104",WQa:"105",XQa:"106",YQa:"107",ZQa:"108",$Qa:"109",aRa:"110",bRa:"111",cRa:"112",dRa:"113",eRa:"114",fRa:"115",gRa:"116",hRa:"117",iRa:"118",jRa:"119",kRa:"120",lRa:"121",mRa:"122",nRa:"123",oRa:"124",pRa:"125",qRa:"126",rRa:"127",sRa:"128",Rcb:"129",X6a:"130",j$a:"131",Eq:"132",JPa:"133",mWa:"134",Jbb:"135",jbb:"136",ENa:"137",e3a:"138",Ubb:"139",G5a:"140",BNa:"141",DNa:"142",CNa:"143",a3a:"144"}],zd:["features",a],ukb:["_modelName","tree"],mkb:["_format","xgboost"],tkb:["_itemsToKeep",5],skb:["_itemsThreshold",null],rlb:["cacheLimit",20]});f.P={config:c,Rpb:h,mmb:b};},function(f,c,a){var d;function b(a){for(var b="",c=0;c<a.length;c++)b+=a[c].dg+"|";return b;}d=a(163);f.P={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},Yob:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},SWa:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===d.wC.Wua){b=a[c].list;break;}return b;},GWa:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===d.wC.Wta){b=a[c].list;break;}return b;},gTa:function(a,c){for(var d=0,h,p,l,f=0,v=a.length-1;f<v;f++){h=b(a[f].list||[]);l=!1;for(var z=0,k=c.length;z<k;z++)if(p=b(c[z].list||[]),p==h){l=!0;break;}if(!1===l){d=f;break;}}return d;},U3a:function(a,b,c){for(var d=[],g,h=0;h<Math.min(b,a.length);h++)g=a[h].list||[],d=d.concat(g.slice(0,c));return d;},T3a:function(a,b){for(var c=[],d,h=0;h<a.length&&(d=a[h].list||[],d=d.slice(0,Math.min(d.length,b)),b-=d.length,c=c.concat(d),0!==b);h++);return c;},S3a:function(a,b,c){var d;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(d=a[c]));return d;},$ia:function(a){for(var b={},c=a.length,h,p=0;p<c;p++){h=a[p].list||[];for(var f=0;f<h.length;f++)if(h[f].property===d.Sx.QC||h[f].property===d.Sx.E7){b.Mg=p;b.gi=f;break;}}void 0===b.Mg&&void 0===b.gi&&(b.Mg=0,b.gi=0);return b;}};},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(165);d=a(180);h=a(57);l=a(19);g=a(80);m=a(5);c.ARa=function(a,c,f){var y,C,F,N,T;function p(){N.set(!1);k()<f-1&&a.play();}function r(){N.set(!0);a.pause();}function u(){var b;b=k()>=f||a.getEnded();b&&a.pause();N.value?r():p();T.set(b);}function k(){return g.ll(a.getCurrentTime()-c,0,f);}function x(b){a.seek(g.ll(c+b,c,c+f-2E3));u();}y=Object.create(a);C=new h.Ci();F=l.Sfa([b.vpa,b.upa]);N=new d.sd(!1,function(){C.mc(b.vpa);});T=new d.sd(!1,function(){C.mc(b.upa);});x(c||0);a.addEventListener(b.C6a,function(){var b;b=a.getDuration();c=m.ue(b-2E3,c||0);f=m.ue(b-c,f||b);x(0);});a.addEventListener(b.B6a,u);l.oa(y,{addEventListener:function(b){(F[b]?C.addListener:a.addEventListener).apply(null,arguments);},removeEventListener:function(b){(F[b]?C.removeListener:a.removeEventListener).apply(null,arguments);},play:p,pause:r,getPaused:function(){return N.value;},getEnded:function(){return T.value;},getCurrentTime:k,getDuration:function(){return f;},seek:x});return y;};},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);d=a(3);h=a(37);l=a(244);c.Voa={};c.URa=function(a,f,p,r){var m,z;function g(h){h.newValue===b.wu&&(d.log.trace("removing movieId from playback map ",a),z.state.removeListener(g),delete c.Voa[a]);}m=d.Z.get(h.Rg);z=new l.CDa(a,f,p,r,m);c.Voa[a]=z;d.log.trace("adding movieId to playback map",a);z.state.addListener(g);return z;};},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(51);d=a(4);h=a(60);l=a(16);g=a(19);m=a(2);c.pxa=function(a,c){function p(h){var p,f;p=h.error||h;f=g.yc(p);c.error("uncaught exception",p,f);(p=(p=p&&p.stack)&&d.config.Bsa&&d.config.Ybb?0<=p.indexOf(d.config.Bsa):void 0)&&(h&&h.stopImmediatePropagation&&h.stopImmediatePropagation(),a.Hh(new b.rj(m.v.HFa)));}function f(){h.Bd.removeListener(h.j0,p);a.removeEventListener(l.Qe,f);a.removeEventListener(l.mg,f);}try{h.Bd.addListener(h.j0,p);a.addEventListener(l.Qe,f);d.config.f_a&&a.addEventListener(l.mg,f);}catch(z){c.error("exception in exception handler ",z);}};},function(f,c,a){var d,h,l,g,m,p,r,u,v,z,k,G,x,y,C,F,N,T,n,q,O;function b(){var a;a=O.Z6.apply(this,[].concat(Xc(arguments)))||this;a.EMa=void 0;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(18);h=a(89);l=a(184);g=a(119);m=a(136);p=a(167);r=a(6);u=a(243);v=a(4);z=a(16);k=a(25);G=a(17);x=a(3);a(83);y=a(2);C=a(19);F=a(8);N=a(147);T=a(7);n=a(5);q=a(15);O=a(285);oa(b,O.Z6);b.prototype.load=function(a){var b;b=this;this.load=r.T6;this.$oa=a;this.state.value==z.gy&&(this.log.info("Playback loading",this),this.w3a(),this.Yc("asl_load_start"),q.$a(d.YO)?q.$a(d.z1)?this.Yc("asl_ended"):this.Yc("asl_in_progress"):this.Yc("asl_not_started"),d.kG(function(a){b.Yc("asl_load_complete");a.K?b.DRa():b.Wk(a.errorCode||y.v.U8,a);}));};b.prototype.H5a=function(){var a;try{if(this.state.value==z.qj){this.n2=this.duration=this.Sa.duration;a={width:1,height:1};this.Ud.value.Db.forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.Gx=a;this.rm=x.Z.get(N.QI).nX({TB:T.Cb(this.rm),M:this.M,bH:T.Cb(this.duration),Pb:this.Pb}).qa(T.Ma);this.gSa();}}catch(ja){this.Wk(y.v.wya,{R:y.u.te,za:C.yc(ja)});}};b.prototype.DRa=function(){try{this.profile=h.He.profile;this.dj=l.TAa(this);this.KA=new g.PAa(this);v.config.JOa&&new u.pxa(this,this.log);v.config.DE&&this.DE(this);this.zcb();}catch(B){this.Wk(y.v.vya,{R:y.u.te,za:C.yc(B)});}};b.prototype.zcb=function(){this.Gg?this.Hh(this.Gg):q.Gla(this.M)?this.XOa():this.Wk(y.v.kya);};b.prototype.XOa=function(){var a;a=m.CB.dra;a?a.K?this.BY():this.Wk(y.v.v9,a):(F.ea(!v.config.pN),this.aX());};b.prototype.BY=function(){var a;a=this;!this.background&&v.config.BY?z.xaa(function(){a.aX();},this):this.aX();};b.prototype.aX=function(){var a;a=this;this.state.value==z.qj&&(v.config.UZ&&!this.KO()?m.CB.Yy(z.kDa,function(b){b.K?(a.eP=b.eP,v.config.RQ?a.kE():a.mB()):a.Wk(y.v.u9);}):v.config.RQ?this.kE():this.mB());};b.prototype.mB=function(){var a;a=this;this.state.value==z.qj&&(this.Yc("ic"),this.q5a.V8a(function(b){b.error&&a.log.error("Error sending persisted playdata",x.jk(b));try{a.kE();}catch(V){a.log.error("playback.authorize threw an exception",V);a.Wk(y.v.Ita,{R:y.u.te,za:C.yc(V)});}}));};b.prototype.kE=function(){var a,b;a=this;if(this.state.value==z.qj){this.log.info("Authorizing",this);b=G.Ra();this.Yc("ats");this.dj.kE(function(c){var d,g,h,p;if(a.state.value==z.qj){a.Yc("at");d=a.Sa;a.G0({pr_ats:d&&q.$a(d.ax)?d.ax:b,pr_at:d&&q.$a(d.eB)?d.eB:G.Ra()});if(!c.K)switch(c.method){case"register":a.Wk(y.v.xAa,c);return;case"authenticationrenewal":a.Wk(y.v.wAa,c);return;default:a.Wk(y.v.y$,c);return;}c=function(b){C.Kb(b.EZ,function(b,c){q.e1(c)&&a.Ej.forEach(function(a){a.id===b&&k.O6(g,a);});});};try{a.gA=v.config.gA;a.hA=v.config.hA;a.lOa&&(a.gA=[a.lOa.J]);a.mOa&&(a.hA=[a.mOa.J]);a.gA=a.gc.value.Db.ksa(a.gA);a.hA=a.Ud.value.Db.ksa(a.hA);a.p_a=a.gc.value.Db.Uga(a.gA[0]||0);a.t_a=a.Ud.value.Db.Uga(a.hA[0]||0);g=[];n.map.call(a.gc.value.Db,c);n.map.call(a.Ud.value.Db,c);n.sort.call(g,function(a,b){return a.Fd-b.Fd;});a.mpa=g[0];a.Wsb=g;h={};g.forEach(function(a){var b;b=a.location.id;h[b]||(h[b]=[]);h[b].push(a);});p=[];C.Kb(h,function(a,b){a=b[0].location;a.Ej=b;p.push(a);});a.Xsb=p.sort(function(a,b){return a.Fd-b.Fd;});a.mpa!=a.Ej[0]&&a.log.error("Primary CDN does not have downloadUrls for a/v streams",{CdnId:a.Ej[0].id});}catch(U){a.log.error("Exception while picking initial streams",U);}a.p_a&&a.t_a&&g.length?a.o6a():a.Wk(y.v.yAa);}});}};b.prototype.o6a=function(){var a;a=this;this.$oa?(this.log.info("Processing post-authorize",this),this.$oa(this,function(b){b.K?a.Fsa():a.Wk(y.v.Aya,b);})):this.Fsa();};b.prototype.DE=function(a){var c,d;function b(){var b,d;b=p.Hp.H_()+"";d=a.UX[b];d||(d=a.UX[b]=[]);d.push(G.Ra());c.log.trace("charging change event",{level:p.Hp.Vja(),charging:p.Hp.H_()});}c=this;d=p.Hp.Fua;p.Hp.addEventListener(d,b);a.addEventListener(z.Qe,function(){p.Hp.removeEventListener(d,b);});};c.CDa=b;},function(f,c,a){var b,d,h,l,g,m,p,r,u,v,z,k,G,x,y;Object.defineProperty(c,"__esModule",{value:!0});b=a(90);d=a(292);h=a(16);l=a(4);g=a(60);m=a(91);p=a(14);r=a(80);u=a(3);v=a(107);z=a(138);k=a(19);G=a(5);x=a(15);y=a(46);c.zDa=function(c){var V,D,S,da,X,U,ha,ba,ea,ia,ka,ua,la,A,H,P;function f(){if(!X){ia=setInterval(O,1E3);c.Xf.appendChild(D);for(var a=ha.length;a--;)ha[a].addListener(B);for(a=ba.length;a--;)c.addEventListener(ba[a],B);X=!0;}q();}function w(){if(X){clearInterval(ia);ua=ka=void 0;c.Xf.removeChild(D);for(var a=ha.length;a--;)ha[a].removeListener(B);for(a=ba.length;a--;)c.removeEventListener(ba[a],B);V.lb();X=!1;}}function C(){X?w():f();}function n(){var a,g,p,f,m,y,w,C,X,F,N,T,n,q,ca,B,ha,Z,O,D,ba,t;a=[];a.push({Version:"6.0011.853.011",Esn:b.Bg?b.Bg.$d:"UNKNOWN",PBCID:c.DM,UserAgent:G.Ug});try{p={MovieId:c.M,TrackingId:c.Zf,Xid:c.aa+" ("+h.Uo.map(function(a){return a.aa;}).join(", ")+")",Position:r.kg(c.pc.value),Duration:r.kg(c.duration),Volume:G.ve(100*c.volume.value)+"%"+(c.muted.value?" (Muted)":"")};c.Pb.Qf&&(p["Segment Position"]=r.kg(c.Ts()),p.Segment=c.W_());a.push(p);}catch(Wb){}try{f=c.Sk?c.Sk.TZa():void 0;a.push({"Player state":la[c.state.value],"Buffering state":A[c.Bl.value]+(x.da(f)?", ETA:"+r.kg(f):""),"Rendering state":H[c.Tb.value]});}catch(Wb){}try{m=c.q6()+c.FX();y=l.config.c2;w=c.Et.value;C=w&&w.stream;X=c.Tl.value;F=X&&X.stream;N=F?F.je:"";T=c.Ai.value?c.Ai.value.je:"";n=c.Ya[U.G.VIDEO].value;q=c.Ya[U.G.AUDIO].value;a.push({"Playing bitrate (a/v)":C&&F?C.J+" / "+F.J+" ("+F.width+"x"+F.height+")":"?","Playing/Buffering vmaf":N+"/"+T,"Buffering bitrate (a/v)":c.lM.value.J+" / "+c.Ai.value.J,"Buffer size in Bytes (a/v)":c.FX()+" / "+c.q6(),"Buffer size in Bytes":m+(y?" ("+(100*m/y).toFixed(0)+"% of max)":""),"Buffer size in Seconds (a/v)":r.kg(c.sv())+" / "+r.kg(c.Ex()),"Current CDN (a/v)":(q?q.name+", Id: "+q.id:"")+" / "+(n?n.name+", Id: "+n.id:"")});}catch(Wb){}try{if(c.Et.value&&c.Tl.value){ca=c.Et.value.stream.track;B=c.Tl.value.stream;ha=c.up.value;Z=u.Z.get(v.ky);O=Z.QE(c.Ud.value.Db);D=Z.HM();ba=B.le;t=/hevc/.test(ba)?"hevc":/vp9/.test(ba)?"vp9":/h264hpl/.test(ba)?"avchigh":"avc";/hdr/.test(ba)&&(t+=", hdr");/dv/.test(ba)&&(t+=", dv");/prk/.test(ba)&&(t+=", prk");a.push({"Audio Track":ca.Dl+", Id: "+ca.Ab+", Channels: "+ca.kz+", Codec: "+D,"Video Track":"Codec: "+O+" ("+t+")","Timed Text Track":ha?ha.Dl+", Profile: "+ha.Q2+", Id: "+ha.Ab:"none"});}}catch(Wb){}try{a.push({Framerate:c.Ai.value.RN.toFixed(3),"Current Dropped Frames":x.da(ka)?ka:"","Total Frames":c.bf.bO(),"Total Dropped Frames":c.bf.Zv(),"Total Corrupted Frames":c.bf.CF(),"Total Frame Delay":c.bf.cO(),"Main Thread stall/sec":d.Lma?d.Lma.yXa().join(" "):"DISABLED",VideoDiag:z.W1(c.kO())});}catch(Wb){}try{a.push({Throughput:c.ia+" kbps"});}catch(Wb){}try{c.ge&&a.push({PlaybackOffline:!!c.ge});}catch(Wb){}try{k.Kb(ea,function(a,b){g=g||{};g[a]=JSON.stringify(b);});g&&a.push(g);}catch(Wb){}return a;}function q(){var a;if(S.selectionStart==S.selectionEnd){a="";n().forEach(function(b){a=a?a+"\n":"";k.Kb(b,function(c){a+=c+": "+b[c]+"\n";});});S.style.fontSize=r.ll(G.Xh(D.clientHeight/60),8,18)+"px";S.value=a;}}function O(){var a;if(c.bf){a=c.bf.Zv();ka=a-ua;ua=a;B();}}function B(){V.lb(q);}function t(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(68==a.keyCode||81==a.keyCode)&&C();}V=new m.dD(1E3);D=p.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});S=p.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");da=p.createElement("DIV","position:absolute;top:2px;right:2px");ba=[h.NT,y.Ea.yNa];ea={};U=a(13);ha=[c.pc,c.Ya[U.G.AUDIO],c.Ya[U.G.VIDEO],c.Et,c.Tl,c.lM,c.Ai,c.up,c.state,c.Bl,c.Tb,c.volume,c.muted];this.v9a=function(a){ea.DFR=a;};la={};la[h.gy]="Not Loaded";la[h.qj]="Loading";la[h.lk]="Normal";la[h.wu]="Closing";la[h.fy]="Closed";A={};A[h.hk]="Normal";A[h.Zq]="Pre-buffering";A[h.e7]="Network stalled";H={};H[h.Zh]="Waiting for decoder";H[h.em]="Playing";H[h.Vo]="Paused";H[h.pr]="Media ended";S.setAttribute("readonly","readonly");D.appendChild(S);D.appendChild(da);P=p.createElement("BUTTON",null,"X");P.addEventListener("click",w,!1);da.appendChild(P);g.Bd.addListener(g.cw,t);c.addEventListener(h.Qe,function(){g.Bd.removeListener(g.cw,t);w();});k.oa(this,{toggle:C,show:f,dw:w,tXa:n});};},function(f,c,a){var d,h,l,g,m,p,r,u,v,z,k,G,x,y,C,F,N,T,n,q,O,B,t,V;function b(a){var b;b=this;this.L=a;this.Sb=this.L.Sb;this.tD=k.Z.get(B.oj);this.rea=k.Z.get(V.Oe);this.wa=k.Je(this.L,"MediaPresenterASE");this.aea=this.ada=this.vk=0;this.Ic=this.Sb.Ba;this.sea=this.HW=this.lW=this.XL=this.yK=this.nW=!1;this.sk={type:u.$q,yz:[],Lm:[]};this.km={type:u.ar,yz:[],Lm:[]};this.fv={};this.Wda=g.config.D2a;this.tL=g.vPa(!!this.L.Pb.Qf).roa;this.YV=g.config.e2;this.OKa=new z.dD(O.cK);this.ke={};this.Sda={};this.uD={};this.L.vv=!1;this.fv[k.Df.Gf.AUDIO]=this.sk;this.fv[k.Df.Gf.VIDEO]=this.km;y.ea(this.YV>this.Wda,"bad config");y.ea(this.YV>this.tL,"bad config");y.ea(g.config.N5a>=this.tL,"bad config");y.ea(g.config.O5a>=this.tL,"bad config");this.Sb.addEventListener(t.Sg.zra,function(){b.wa.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.SHa();}catch(da){b.wa.error("Exception while initializing",da);b.dd(G.v.iCa);}});}Object.defineProperty(c,"__esModule",{value:!0});d=a(134);h=a(51);l=a(6);g=a(4);m=a(16);p=a(60);r=a(25);u=a(73);v=a(17);z=a(91);k=a(3);a(83);G=a(2);x=a(380);y=a(8);C=a(80);F=a(103);N=a(14);T=a(32);n=a(46);q=a(15);O=a(181);B=a(47);t=a(166);V=a(23);b.prototype.Mja=function(){return this.Sb.Un(!1);};b.prototype.bO=function(){return this.Sb.bO();};b.prototype.Zv=function(){return this.Sb.Zv();};b.prototype.CF=function(){return this.Sb.CF();};b.prototype.cO=function(){return this.Sb.cO();};b.prototype.J_=function(){return this.Sb.J_();};b.prototype.SHa=function(){var a,b;a=this;this.wa.trace("Video element initializing");b=this.Sb.sourceBuffers;b.forEach(function(b){return a.rKa(b);});g.config.Zcb&&(b.filter(function(a){return a.type===k.Df.Gf.AUDIO;})[0]||this.wa.error("unexpected: audio source buffer is not available yet"));a.THa(a.L.g1);};b.prototype.THa=function(a){var h;function b(){function a(){var a;h.L.Tb.value==m.Zh&&h.L.state.value==m.lk&&h.L.Bl.value==m.hk&&h.L.zi.value==m.hk&&h.L.bb.qO()?(h.sV.Sn(),a="ensureTimer"):(h.sV.Og(),a="stopTimer");h.wa.trace("Timer update: "+a,{presentingState:h.L.Tb.value,playbackState:h.L.state.value,avBufferingState:h.L.Bl.value,textBufferingState:h.L.zi.value});}g.config.Oha&&(y.ea(!h.sV),h.sV=new F.my(g.config.Oha,function(){var a;a=k.Z.get(x.Q7).nTa(h.L);h.dd(a.code,a);}),h.L.Tb.addListener(a),h.L.Bl.addListener(a),h.L.zi.addListener(a),h.L.state.addListener(a),a());}function c(){h.FK||(c=l.T6,h.Sb.addEventListener(t.Sg.lB,h.ke[t.Sg.lB]=function(){return h.hW();}),h.Sb.addEventListener(t.Sg.Ik,h.ke[t.Sg.Ik]=function(){return h.pJa();}),h.Ic.addEventListener("ended",h.ke.ended=function(){return h.qJa();}),h.Ic.addEventListener("play",h.ke.play=function(){return h.uJa();}),h.Ic.addEventListener("pause",h.ke.pause=function(){return h.tJa();}),h.Ic.addEventListener("playing",h.ke.playing=function(){return h.vJa();}),h.yD=!0,h.UL(),h.wa.trace("Video element initialization complete"),h.L.Yc("vi"),g.config.Vha?setTimeout(function(){h.eW=!0;h.ei();},g.config.Vha):h.eW=!0,b(),T.Xa(function(){return h.ei();}));}function d(){h.L.ge||h.L.dj.start()["catch"](function(a){h.dd(G.v.HU,a);});h.L.removeEventListener(m.mg,d);}h=this;a?this.wa.trace("Waiting for needkey"):this.wa.warn("Movie is not DRM protected",{MovieId:this.L.M});this.wa.trace("Waiting for loadedmetadata");this.rea.oh.events&&this.rea.oh.events.active||this.L.addEventListener(m.mg,d,this.tD.vI?l.by:void 0);a?this.Sb.addEventListener(t.Sg.lma,function(){h.L.Yc("ld");h.L.fireEvent(m.oDa);h.L.bb.GZ(h.L.M);}):this.L.bb.GZ(this.L.M);r.$La(this.Ic,function(){h.wa.trace("Video element event: loadedmetadata");h.L.Yc("md");});p.Bd.addListener(p.Pj,this.uD[p.Pj]=function(){return h.Jca();},l.ay);this.L.addEventListener(m.Qe,function(){return h.Jca();},l.ay);this.L.paused.addListener(function(){return h.ei();});this.L.muted.addListener(function(){return h.RW();});this.L.volume.addListener(function(){return h.RW();});this.L.playbackRate.addListener(function(){return h.cLa();});this.L.Bl.addListener(function(){return h.ei();});this.L.zi.addListener(function(){return h.ei();});this.RW();this.sk.Wl.era(function(){return h.pL();});this.km.Wl.era(function(){return h.pL();});this.pL();T.Xa(function(){c();});};b.prototype.fM=function(a){var b,c;b=this;c=this.fv[a.O];c?c.Lm.push(a):y.ea(!1);this.LGa(a).then(function(){b.pL();b.L.fireEvent(m.NT);})["catch"](function(a){b.dd(G.v.nCa,{za:N.yc(a)});});};b.prototype.uMa=function(a,b){var c;b={O:a.type,zc:!0,response:b,oi:function(){return"header";}};c=this.fv[a.type];c?c.Lm.push(b):y.ea(!1);this.sea||a.type!==k.Df.Gf.VIDEO||(this.seek(this.L.rm||0,m.UC),this.sea=!0);};b.prototype.rKa=function(a){var b;b=this.fv[a.type];if(b)try{b.Wl=a;}catch(da){this.dd(G.v.nU,{R:O.L_(a.type),za:N.yc(da)});}};b.prototype.pL=function(){this.yD?this.ei():g.config.vMa&&this.UL();};b.prototype.D3a=function(){var a;a=this.L.Ts()||0;this.L.Pb.Qf||(a=Math.max(a-g.config.K8a,this.bIa));this.seek(a,m.yU);};b.prototype.a3=function(a){var b;b=this;a.mediaType===k.Df.Gf.AUDIO?this.yK=!0:a.mediaType===k.Df.Gf.VIDEO&&(this.XL=!0);T.Xa(function(){return b.ei();});};b.prototype.HXa=function(){return{zSa:this.ada,c3a:this.aea};};b.prototype.LGa=function(a){var b;b=this.Sb&&this.Sb.Zja();return void 0===this.kW&&b&&a.yf&&a.yf.jc&&a.yf.jc.na&&Infinity!=a.yf.jc.na.fa&&b<(a.yf.jc.na.fa+a.mh)/1E3?(this.kW=2*b,this.SJa()):Promise.resolve();};b.prototype.SJa=function(){var a;a=this;return new Promise(function(b,c){function d(){return g().then(function(a){if(!1===a)return d();});}function g(){return new Promise(function(b){setTimeout(function(){if(!a.sk.Wl.Nj()&&!a.km.Wl.Nj())try{a.Sb.C9a(a.kW);a.HW=!1;a.kW=void 0;b(!0);}catch(ba){b(!1);}b(!1);},0);});}a.HW=!0;d().then(function(){b();})["catch"](function(b){a.wa.error("Unable to change the duration",b);c(b);});});};b.prototype.ei=function(){var a,b,c,h,p,f,l;a=this;this.L.Vra=v.Ra();if(!this.Kd()&&this.yD){b=this.Sb.yYa();b||this.UL();d.DC||this.UL();c=this.L.Bl.value==m.hk&&this.L.zi.value==m.hk;h=this.L.Tb.value;p=h==m.Zh?this.tL:this.Wda;f=this.eda(this.sk,p)&&this.eda(this.km,p);this.L.paused.value||!f||!c||b||this.yj?this.xW():this.nW||this.Uea();if(!b)if(this.yj&&c&&f)this.Sb.seek(this.vk),this.yj=!1,d.DC||this.uW(),T.Xa(function(){return a.ei();});else{l=this.Sb.Un(!0);this.Kd()||(this.yj||b?h=m.Zh:this.Ic&&this.Ic.ended?h==m.em&&(this.vk=this.L.duration,h=m.pr,this.xW()):c&&f?this.Sb.oTa()?h=this.Ic&&this.Ic.paused?m.Vo:m.em:this.OKa.lb(function(){return a.NKa();}):h=m.Zh,h!=m.Zh&&h!=m.pr&&(l<this.vk?(b=this.vk-l,g.config.e5a&&l&&b>O.cK&&(l={ElementTime:C.kg(l),MediaTime:C.kg(this.vk)},b>O.bEa?(this.wa.error("VIDEO.currentTime became much smaller",l),this.dd(G.v.xCa)):this.wa.warn("VIDEO.currentTime became smaller",l))):this.vk=N.ll(l,0,this.L.duration)),this.jfa(),this.EK(),l=h==m.Zh&&0<=[m.em,m.Vo].indexOf(this.L.Tb.value),this.L.Tb.set(h,{epb:!0}),l&&(h=this.QKa()>p,this.L.zi.value!==m.hk?this.L.up.value?(h=m.jDa,this.L.fireEvent(m.XJ,{cause:h}),this.wa.warn("rebuffer due to timed text",this.L.up.value.Zi)):this.L.fireEvent(m.Haa):(h?(h=m.raa,this.ada++):(h=m.saa,this.aea++),this.L.fireEvent(m.XJ,{cause:h}))));}}};b.prototype.QKa=function(){var a,b;a=0;b=0;this.km.Lm.filter(function(a){return!a.zc;}).forEach(function(b){a+=b.gd;});this.sk.Lm.filter(function(a){return!a.zc;}).forEach(function(a){b+=a.gd;});return Math.min(a,b);};b.prototype.NKa=function(){this.Kd()||(g.config.E3a&&(this.sk.Wl.Nj()||this.sk.Wl.Nfa(new Uint8Array([0,0,0,8,102,114,101,101]))),this.ei());};b.prototype.eda=function(a,b){var c;c=a.PM;c=c&&c.yG;return 0===a.Lm.length&&(a.type===u.$q&&this.yK||a.type===u.ar&&this.XL)?!0:c&&c.Lg-this.vk>=b;};b.prototype.hW=function(){this.ei();};b.prototype.pJa=function(){this.ei();this.L.fireEvent(m.ST);};b.prototype.qJa=function(){this.wa.trace("Video element event: ended");this.ei();};b.prototype.uJa=function(){this.wa.trace("Video element event: play");this.ei();};b.prototype.tJa=function(){this.wa.trace("Video element event: pause");this.ei();};b.prototype.vJa=function(){this.wa.trace("Video element event: playing");this.ei();};b.prototype.RW=function(){this.Kd()||(this.Ic&&this.Ic.volume!==this.L.volume.value&&(this.Ic.volume=this.L.volume.value),this.Ic&&this.Ic.muted!==this.L.muted.value&&(this.Ic.muted=this.L.muted.value));};b.prototype.cLa=function(){!this.Kd()&&this.Ic&&(this.Ic.playbackRate=this.L.playbackRate.value);};b.prototype.UL=function(){this.HW||(this.hfa(this.sk),this.hfa(this.km));this.Kd()||!this.yK||!this.XL||this.sk.Wl.Nj()||this.km.Wl.Nj()||this.zV||(this.zV=!0,this.Sb.endOfStream());};b.prototype.hfa=function(a){var b,c;if(!this.Kd()){b=a.Wl;c=a.yz;!b.Nj()&&0<c.length&&(a.PM=c[c.length-1]);if(a.n5){if(b.Nj())return;a.n5=!1;b.remove(0,this.Sb.Zja());}for(var d=a.Lm[0];d&&d.response&&(d.zc||d.hb-this.vk<=this.YV);)if(this.zV=!1,this.YKa(d))a.Lm.shift(),d=a.Lm[0];else break;!b.Nj()&&0<c.length&&(a.PM=c[c.length-1]);}};b.prototype.YKa=function(a){var b,c,h;y.ea(a&&a.response);b=a.response;c=a.O;h=this.fv[c];if(!this.Kd()&&!h.Wl.Nj()){try{this.wa.trace("Feeding media segment to decoder",{Bytes:b.byteLength});h.Wl.Nfa(b,a);a.zc||h.yz.push(this.TGa(a));g.config.tTa&&!a.zc&&(this.yj&&!d.DC||a.Nga());}catch(U){"QuotaExceededError"!=U.name?(this.wa.error("Exception while appending media",a,U),this.dd(G.v.vCa,O.L_(c))):this.L.QM=this.L.QM?this.L.QM+1:1;return;}return!0;}};b.prototype.SGa=function(a){var b;this.L.Ej.forEach(function(c){a.Ec==c.id&&(b=c);});b||(this.wa.error("Could not find CDN",{cdnId:a.Ec}),b={id:a.Ec,D1:a.location});return b;};b.prototype.VGa=function(a){var b,c;c=a.ib;a.O===k.Df.Gf.AUDIO?this.L.gc.value.Db.forEach(function(a){a.ac==c&&(b=a);}):a.O===k.Df.Gf.VIDEO&&this.L.Ud.value.Db.forEach(function(a){a.ac==c&&(b=a);});b||this.wa.error("Could not find stream",{stream:c});return b;};b.prototype.TGa=function(a){var b;b=this.VGa(a);return{yG:a,stream:b,yM:{startTime:Math.floor(a.hb),endTime:Math.floor(a.Lg)},Ya:this.SGa(a)};};b.prototype.Uea=function(){var a;a=this;this.Kd()||!q.$a(this.Ic)||this.Ic.ended||!this.eW||!this.Ty&&void 0!==this.Ty||(this.wa.trace("Calling play on element"),Promise.resolve(this.Ic.play()).then(function(){a.Ty=!1;a.nW=!1;a.Ic.style.display=null;a.L.fireEvent(n.Ea.bga,a.L);})["catch"](function(b){"NotAllowedError"===b.name?(a.wa.warn("Playback is blocked by the browser settings",b),a.L.vv=!0,a.nW=!0,a.Ic.style.display="none",a.L.fireEvent(n.Ea.vv,{player:{play:function(){return a.Uea();}}})):(a.Ty=!1,a.wa.error("Play promise rejected",b));}));};b.prototype.xW=function(){this.Kd()||!q.$a(this.Ic)||this.Ic.ended||!this.eW||this.Ty&&void 0!==this.Ty||(this.wa.trace("Calling pause on element"),this.Ic.pause(),this.Ty=!0);};b.prototype.EK=function(a){if(q.$a(a)){for(var b=this.fv[a],c=b.yz,d,g;(d=c[0])&&d.yG.hb<=this.vk;)if(this.vk<d.yG.Lg){a=a===k.Df.Gf.AUDIO?this.L.Et:this.L.Tl;r.aha(d,a.value)||(g=!0,a.set(d));break;}else c.shift();!g&&!this.lW||this.zV||(d=d&&d.yG.hb-d.yG.gd-1,0<d&&(b=b.Wl,b.Nj()?this.lW=!0:(b.remove(0,d/N.pj),this.lW=!1)));}else this.EK(k.Df.Gf.AUDIO),this.EK(k.Df.Gf.VIDEO);};b.prototype.jfa=function(a){this.L.pc.set(this.vk);a&&this.L.NVa();};b.prototype.hTa=function(a,b){var c,d;if(!(b===m.xU||this.L.Pb.Qf&&this.yj)&&(b=this.L.bb)){c=b.fka();d=a+c.Ub;if(a>=c.Ri&&a<c.Ij&&b.Cga(d))return d;}};b.prototype.seek=function(a,b){var c,d,h;b=void 0===b?m.taa:b;if(!this.Kd()){c=N.ll(a,0,this.L.n2);!this.L.Pb.Qf&&g.config.jta&&(c=N.ll(a,0,this.L.n2-g.config.jta));d=this.EHa(c);this.ZHa()&&(d=Math.round(c));g.config.Rqa&&(d+=g.config.Rqa);b==m.UC&&(this.L.lga=d);h=this.hTa(d,b);(c=void 0!==h)&&(d=h);this.EK();h=this.vk;this.wa.info("Seeking",{Requested:C.kg(a),Actual:C.kg(d),Cause:b,Skip:c});this.L.fireEvent(m.BU,{RG:h,Bw:d,cause:b,skip:c});this.L.Tb.set(m.Zh);b!=m.UC&&(this.uW(),this.sk.n5=!0,this.km.n5=!0);this.bIa=this.vk=d;this.L.Et.set(null);this.L.Tl.set(null);this.jfa(!0);this.L.fireEvent(m.AU,{RG:h,Bw:d,cause:b,skip:c});this.yj=!0;this.ei();}};b.prototype.ZHa=function(){return g.config.Q5a?navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?g.config.R5a:!0:!1;};b.prototype.uW=function(){this.sk.yz=[];this.sk.PM=void 0;this.sk.Lm=[];this.km.yz=[];this.km.PM=void 0;this.km.Lm=[];this.XL=this.yK=!1;this.L.fireEvent(m.NT);};b.prototype.EHa=function(a){var b;b=this.L.bb.vz.Vb[k.Df.Gf.VIDEO].T.fa;return this.L.Pb.Qf&&a<b?a:this.L.bb.AOa(a);};b.prototype.dd=function(a,b,c){this.FK||this.L.Hh(new h.rj(a,b,c));};b.prototype.Jca=function(){if(!this.FK){this.wa.info("Closing.");this.Sb.removeEventListener(t.Sg.lB,this.Sda[t.Sg.lB]);this.Sb.removeEventListener(t.Sg.Ik,this.Sda[t.Sg.Ik]);this.Ic.removeEventListener("ended",this.ke.ended);this.Ic.removeEventListener("play",this.ke.play);this.Ic.removeEventListener("pause",this.ke.pause);this.Ic.removeEventListener("playing",this.ke.playing);p.Bd.removeListener(p.Pj,this.uD[p.Pj]);this.FK=!0;try{g.config.T2a&&(this.Ic.volume=0,this.Ic.muted=!0);this.xW();this.Sb.close();}catch(D){}this.Ic=void 0;this.uW();}};b.prototype.Kd=function(){return this.FK?!0:q.$a(this.Ic)?!1:(this.wa.error("MediaPresenter not closed and _videoElement is not defined"),!0);};c.eAa=b;},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(3);c.nua=function(a){this.VYa=this.Nl=function(){var b;if(-1===a.ia){b=a.jj.ej.get();b.he&&(a.he=b.he.ta);b.ia&&(a.ia=b.ia.ta);}return a.ia;};this.sOa=function(b){var c;if(-1===a.he||-1===a.ia){c=a.jj&&a.jj.ej.get();c&&c.he&&(a.he=c.he.ta);c&&c.ia&&(a.ia=c.ia.ta);}return-1===a.he||-1===a.ia?Number.MAX_VALUE:a.he+8*b/a.ia;};};},function(f,c,a){var b,d,h,l,g,m,p,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);d=a(16);h=a(4);l=a(17);g=a(80);m=a(5);p=a(32);r=a(15);c.nDa=function(a){var k,x,y,C,F,N;function c(){return a.state.value==d.qj||a.state.value==d.lk&&a.Tb.value==d.Zh;}function f(){c()?N||(N=setInterval(u,100)):N&&(clearInterval(N),N=void 0,p.Xa(u));}function u(){var b,p,f,u,v,z,w,G;b=l.Ra();p=k.value;f=p?p.Rh:0;v=a.state.value==d.qj||c()&&b-x>h.config.bOa;v&&a.state.value==d.lk?(a.rM.value==d.e7?(w=f,z=!0):(u=b+(a.Sk&&a.Sk.TZa()||0),y=y||b,C=C||y+h.config.C2a+1,r.da(u)&&(u=m.ig(u,C),w=a.Sk?a.Sk.Wnb():.99,w=m.ve(1E3*g.ll((b-y)/(u-y),0,w))/1E3)),w<f&&(f-w<h.config.s6a/100?(w=f,F=void 0):F?b-F>h.config.r6a?(G=!0,F=void 0):w=f:(F=b,w=f))):F=C=y=void 0;b=v?{hR:z,Rh:w,t6a:G}:null;(!b||!k||!k.value||r.da(b.Rh)&&!r.da(k.value.Rh)||r.da(b.Rh)&&r.da(k.value.Rh)&&.01<m.ru(b.Rh-k.value.Rh)||b.hR!==p.hR)&&k.set(b);}k=a.eY;x=0;a.state.addListener(function(){f();u();},b.by);a.Tb.addListener(function(a){if(a.oldValue!=d.Zh||a.newValue!=d.Zh)x=l.Ra();f();});a.rM.addListener(function(){f();});a.Bl.addListener(function(){f();});a.zi.addListener(function(){f();});N||(N=setInterval(u,100));};},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);d=a(16);h=a(60);l=a(301);g=a(8);m=a(6);c.qFa=function(a){var p,f,z;function c(){f.G7a();}p=a.Xf;f=new l.oFa(b.config.X5,a.Fc.value?a.Fc.value.zla:void 0);z=a.Gx;g.ea(.1<z.width/z.height);f.q9a(z.width/z.height);p.appendChild(f.Lja());a.V5.addListener(function(a){f.w9a(a.newValue);});a.Fc.addListener(function(a){f.z9a(a.newValue.zla);});a.addEventListener(d.Qe,function(){h.Bd.removeListener(h.k0,c);p.removeChild(f.Lja());},m.ay);h.Bd.addListener(h.k0,c);this.KH=f.KH;this.LH=f.LH;this.JF=f.JF;this.MH=f.MH;};},function(f,c,a){var p,r,u,v,z,k,G,x;function b(a,b){var c,d,g,h,p,f,l,m;c=[];h={};l=a.length;for(m=0;m<l;m++)p=a[m],f=b(p),g=f.key,d=h[g],p=p.endTime-p.startTime,d?d.duration+=p:(delete f.key,d=f,d.duration=p,c.push(d),h[g]=d);return c;}function d(a){var b,c,d;d=a.stream;d?(a=d.ac,b=d.J,c=d.je):a=a.track.ac;return{key:a+"$"+(b||0),downloadableId:a,bitrate:b,vmaf:c};}function h(a){var b;b=d(a);a=a.Ya.id;b.key+="$"+a;b.cdnId=a;return b;}function l(a){a=(a=a.stream)?a.J:0;return{key:a,A2:a};}function g(a){a=(a=a.stream)?a.je:0;return{key:a,A2:a};}function m(a){var b,c,d,g;d=0;for(c=a.length;c--;)if(b=a[c],x.$a(b.duration)&&x.$a(b.A2))d+=b.duration;else throw Error("invalid arguments");if(!d)return 0;g=0;for(c=a.length;c--;)b=a[c],g+=b.A2*b.duration/d;return g;}Object.defineProperty(c,"__esModule",{value:!0});p=a(4);r=a(6);u=a(16);v=a(19);z=a(3);k=a(8);a(80);G=a(5);x=a(15);c.iDa=function(a){var O,B,t,V,D,S,da,X,U,ha,ba,ea,ia,ka;function c(){w(a.pc.value);for(var b=0,c=S.length;c--;)b+=S[c].endTime-S[c].startTime;k.ea(b===G.Xh(b),"Value of totalPlayTime is not an integer.");return parseInt(G.Xh(b));}function f(a){w(a.RG);X=a.Bw;t=B=void 0;V&&(V.startTime=X);}function y(b){q(V,da,a.pc.value);V=b.newValue?{Ya:b.newValue.Ya,track:b.newValue,startTime:a.pc.value,endTime:r.pu}:void 0;}function w(a){B&&t&&(a=G.ue(a,B.endTime),a=G.ue(a,t.endTime),q(B,D,a),B.startTime=a,q(t,S,a),t.startTime=a,V&&(q(V,da,a),V.startTime=a),X=a);}function n(b,c,d){b&&q(b,c,G.ue(b.endTime,a.pc.value));if(d)return b=d.yM,c=d.stream,{Ya:d.Ya,track:c.track,stream:c,startTime:G.ig(b.startTime,X),endTime:b.endTime};}function q(a,b,c){a&&c>=a.startTime&&(a={Ya:a.Ya,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c},(c=b[b.length-1])&&c.track==a.track&&c.stream==a.stream&&c.Ya==a.Ya&&c.endTime==a.startTime?c.endTime=a.endTime:b.push(a));}O=z.Je(a,"PlayTimeTracker");D=[];S=[];da=[];X=a.pc.value;U={};ha=!1;ba={};ea=0;ia=p.config.uLa;ka=ia.length;(function(){a.addEventListener(u.BU,f);a.Et.addListener(function(a){B=n(B,D,a.newValue);});a.Tl.addListener(function(a){t=n(t,S,a.newValue);});a.up.addListener(y);}());for(U.abrdel=0;ka--;)ba["abrdel"+ia[ka]]=0,U["abrdel"+ia[ka]]=0;v.oa(this,{h0:c,uWa:function(){w(a.pc.value);return{audio:b(D,h),video:b(S,h)};},dka:function(){var a;a={total:c(),audio:b(D,d),video:b(S,d),timedtext:b(da,d)};k.ea(a.audio&&a.video);return a;},Aja:function(){var c,d;w(a.pc.value);c=b(S,l);try{d=m(c);}catch(Sa){return O.warn("Failed to calc average bitrate"),null;}U.abrdel=G.ve(d);return U.abrdel;},AWa:function(){var c,d;w(a.pc.value);c=b(S,g);try{d=m(c);}catch(Sa){return O.warn("Failed to calc average vmaf"),null;}return G.ve(d);},yWa:function(){var d;if(!ha){for(var a=ia.length,b=c();a--;){d=ia[a];if(0==ba["abrdel"+d]&&b>d*r.pj){for(var g=0,h=S.length,p,f=0,l=0;l<h&&!(p=S[l],g+=p.stream.J*(p.endTime-p.startTime),f+=p.endTime-p.startTime,p=p.stream.J,f>d*r.pj);l++);g&&(ba["abrdel"+d]=G.ve((g-p*(f-d*r.pj))/(d*r.pj)));}}0!==ba["abrdel"+ia[ia.length-1]]&&(ha=!0);v.Kb(ba,function(a,b){U[a]=0==b?U.abrdel:b;});}return U;},NLa:function(a){ea+=a;},IXa:function(){return ea;},yZa:function(){return!!(S[0]&&S[0].stream&&x.$a(S[0].stream.je));}});};c.yib=b;c.Bib=d;c.Cib=h;c.Aib=l;c.Dib=g;c.zib=m;},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(60);d=a(16);h=a(14);l=a(19);g=a(3);m=a(47);c.BDa=function(c){var N,T,n,q,O,B,t,V,D,S,da;function p(){t||(G(),c.Xf.appendChild(N),t=!0);}function f(){t&&(c.Xf.removeChild(N),t=!1);}function v(){t?f():p();}function z(){var d,g,h;function a(a,b,c){var d,g,h;h=[];b.filter(function(b){return b.le===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===d?d=a.J:g=a.J,void 0===g&&(g=a.J)):void 0!==d&&void 0!==g&&(h.push({min:d,max:g}),d=g=void 0);});void 0!==d&&void 0!==g&&(h.push({min:d,max:g}),d=g=void 0);return h;}function b(a,b,c){var d;d=[];b.filter(function(b){return b.le===a;}).forEach(function(a){-1===c.indexOf(a)&&d.push({stream:{bitrate:a.J},disallowedBy:["manual"]});});return d;}d=c.Fl();g=c.Ud.value.Db.sort(function(a,b){return a.J-b.J;});h=g.reduce(function(a,b){0>a.indexOf(b.le)&&a.push(b.le);return a;},[]).map(function(c){return{profile:c,ranges:a(c,g,d),disallowed:b(c,g,d)};});c.bb.VQ(h);}function k(){var a;a=c.Ud.value.Db.filter(function(a){return V[a.J];});a.length||a.push(c.vrb);return a;}function G(){var a,b,d;a=c.gc.value;b=c.Ud.value;d=c.Ej;a&&(d=d.slice(),d.sort(function(a,b){return a.Fd-b.Fd;}),C(q,a.Db.map(function(a){return{value:a.J,caption:a.J,selected:a==c.lM.value};})));b&&(C(O,b.Db.map(function(a){var b,d;b=c.v2.Mq(a);d=a=a.J;b&&(d+=" ("+b.join("|")+")");return{value:a,caption:d,selected:c.Fl!=k?!b:V[a]};})),O.removeAttribute("disabled"));d&&(C(B,d.map(function(a){return{value:a.id,caption:"["+a.id+"] "+a.name,selected:a==c.Ya[D.G.VIDEO].value};})),B.removeAttribute("disabled"));}function x(){t&&G();}function y(a){var b,c;b=h.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=h.createElement("DIV",void 0,a);c=h.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);T.appendChild(b);return c;}function C(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=h.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});}function F(a){a.ctrlKey&&a.altKey&&a.shiftKey&&83==a.keyCode&&S.gG&&v();}N=h.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});T=h.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");n=h.createElement("DIV","width:100%;text-align:center");q=y("Audio Bitrate");O=y("Video Bitrate");B=y("CDN");V={};D=a(13);S=g.Z.get(m.oj);N.appendChild(T);T.appendChild(n);da=h.createElement("BUTTON",void 0,"Override");da.addEventListener("click",function(){var d,g,a,b;V={};for(var a=O.options,b=a.length;b--;){d=a[b];d.selected&&(V[d.value]=1);}c.Fl=k;z();if(a=c.Ej){g=B.value;a=a.filter(function(a){return a.id==g;})[0];b=c.Ya[D.G.VIDEO].value;a&&a!=b&&(a.ylb={testreason:"streammanager",selreason:"userselection"},c.Ya[D.G.VIDEO].set(a));}f();},!1);n.appendChild(da);da=h.createElement("BUTTON",void 0,"Reset");da.addEventListener("click",function(){delete c.Fl;z();f();},!1);n.appendChild(da);b.Bd.addListener(b.cw,F);c.addEventListener(d.Qe,function(){b.Bd.removeListener(b.cw,F);});c.Ya.forEach(function(a){a.addListener(x);});c.gc.addListener(x);c.Ud.addListener(x);l.oa(this,{toggle:v,show:p,dw:f});};},function(f,c,a){var b,d,h,l,g,m,p,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);d=a(16);h=a(17);l=a(103);g=a(2);m=a(195);p=a(5);r=a(15);c.Qya=function(a){var f,u,k,x;function c(){a.state.value!=d.lk||a.Tb.value!=d.Vo&&a.Tb.value!=d.pr?u.Og():u.Sn();}f=b.config.b5a;if(!a.KO()&&f){u=new l.my(f,function(){a.fireEvent(d.Aaa,g.v.RJ);});a.Tb.addListener(c);a.state.addListener(c);if(b.config.J0){x=h.Ra();k=new m.Zaa(b.config.J0,function(){var c,l;c=h.Ra();l=c-x;l>f&&(a.fireEvent(d.Aaa,g.v.BJ),k.xY());l>2*b.config.J0&&(a.K0=p.ig(l,a.K0||0));x=c;});k.j5();}a.addEventListener(d.Qe,function(){u.Og();r.$a(k)&&k.xY();});}};},function(f,c,a){var b,d,h,l,g,m,p,r,u,v,z,k,G,x,y,C,F,N,T,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(186);d=a(51);h=a(6);l=a(57);g=a(4);m=a(16);p=a(25);r=a(3);u=a(303);v=a(452);z=a(8);k=a(19);G=a(2);x=a(5);y=a(32);C=a(15);F=a(46);c.pFa=function(a){var H,P,Pa,wa,na,Y,aa,ta,db,Ba,Ya,Ra,zb,gc,gb,hb;function c(){return a.V_();}function f(){hb&&(na.start(),a.Tb.value!=m.em&&na.stop());}function w(){var b,d;b=c();q();ta&&(H.info("Deactivating",ta),Ya.pSa(c()));a.up.set(null);na.ira(wa=void 0);X();d=a.Fc.value;d&&d.Cla()&&!d.yla()&&(d=void 0);d&&a.Tb.value!==m.Zh&&Ya.BLa(b,d);d?(H.info("Activating",d),a.zi.set(m.Zq),hb||a.Yc("tt_start"),d.getEntries(ca)):a.zi.set(m.hk);ta=d;t();}function q(){gc=0;clearTimeout(gb);}function ca(b){var h,p;if(!zb){h=b.track;h==a.Fc.value&&(h.W0?b.K?(q(),Ba=h.DXa(),A("addListener"),H.info("Activated",h),a.up.set(h),hb?y.Xa(function(){Ba.cn(c());}):Ba.pause()):((p=!!(gc<g.config.gna))&&(gb=setTimeout(Z.bind(null,h),g.config.gsa)),H.error("Failed to activate img subtitle",{retry:p},b,h)):((p=b.entries)?(q(),na.ira(wa=p),H.info("Activated",h),a.up.set(h)):((p=!!(gc<g.config.gna))&&(gb=setTimeout(Z.bind(null,h),g.config.gsa)),H.error("Failed to activate",{retry:p},r.jk(b),h)),t()));hb||a.Yc(b.K?"tt_comp":"tt_err");b.K?(g.config.Bqa?setTimeout(function(){a.zi.set(m.hk);},g.config.Bqa):a.zi.set(m.hk),h.W0||t()):b.Dn?H.warn("aborted timed text track loading"):g.config.cVa?(H.error("fatal playback error, failed to load subtitles",b.track?b.track.Zi:{}),a.Hh(new d.rj(G.v.Cya))):(H.error("ignore subtitle initialization error",b),a.zi.set(m.hk));}}function Z(a){gc++;a.getEntries(ca);}function t(){var b;a.state.value==m.lk&&a.Tb.value!=m.Zh&&(wa?b=na.oWa():a.Fc.value&&(b=Pa[a.Fc.value.ae()]));b&&C.$a(b.startTime)&&(Y++,aa+=na.S_()-b.startTime,P.PX=x.l$(aa/(Y+0)));a.V5.set(b);}function X(){Ba&&(Ba.stop(),A("removeListener"));Ba=void 0;}function U(a){Ba&&Ba.F9a&&Ba.F9a(a.Gha,a.g3a);}function ha(a){Ba&&Ba.Uq&&Ba.Uq(a.wo,a.icb);}function ba(a){P.fireEvent(T,a);a&&a.id&&(Ya.Msa(a.id),Ra[a.id]=1);H.trace("showsubtitle",ia(a));}function ea(a){P.fireEvent(n,a);a&&a.id&&delete Ra[a.id];H.trace("removesubtitle",ia(a));}function ia(a){return{currentPts:c(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};}function ka(){hb&&Ba.cn(c());}function ua(){H.warn("imagesubs buffer underflow",a.Fc.value.Zi);a.zi.set(m.Zq);}function la(){H.info("imagesubs buffering complete",a.Fc.value.Zi);a.zi.set(m.hk);}function A(b){Ba[b]("showsubtitle",ba);Ba[b]("removesubtitle",ea);Ba[b]("underflow",ua);Ba[b]("bufferingComplete",la);"addListener"==b?(a.addEventListener(m.ST,ka),a.addEventListener(F.Ea.U2,U),a.addEventListener(F.Ea.Uq,ha)):(a.removeEventListener(m.ST,ka),a.removeEventListener(F.Ea.U2,U),a.removeEventListener(F.Ea.Uq,ha));}H=r.Je(a,"TimedTextManager");P=this;Pa={};na=new u.rFa();Y=0;aa=0;db=new l.Ci();Ya=new v.gFa(r.Je(a,"SubtitleTracker"),g.config.pUa,{oa:k.oa,Of:z.ea});Ra=Object.create(null);zb=!1;gc=0;hb=!1;this.PX=null;P.addEventListener=db.addListener;P.removeEventListener=db.removeListener;P.fireEvent=db.mc;this.dX=function(c,d){var g,f;g="custom"+ ++N;f=b.SU(a,g,"1",c,"xx",d||g,h.Eu,"primary","custom",{},!1,!1,void 0,void 0);a.Ym.push(f);a.js.forEach(function(a){p.O6(a.Ym,f);});a.fireEvent(m.wDa);return f;};this.LYa=function(a){return Ya.xYa(a);};this.d0=function(a){return Ya.d0(a);};Pa[b.Lba]={Fpb:!0};Pa[b.TU]={Xv:!0};na.S_=c;na.m3=t;a.Fc.addListener(w);g.config.K5a?(a.addEventListener(m.mg,function(){hb=!0;y.Xa(function(){Ba?Ba.cn(c()):f();t();});}),w()):(a.zi.set(m.hk),a.addEventListener(m.mg,function(){hb=!0;w();}));a.Tb.addListener(function(b){var d,g;d=b.newValue;b=b.oldValue;if(0<=[m.em,m.Vo].indexOf(d)){g=a.Fc.value;0<=[m.em,m.Vo].indexOf(b)||g&&g.Cla()&&!g.yla()||Ya.Rna(c(),g,"presentingstate:"+d);}else 0<=[m.Zh,m.pr].indexOf(d)&&Ya.TZ(c(),"presentingstate:"+d);});a.Tb.addListener(f);a.addEventListener(m.Gaa,f);a.V5.addListener(function(a){(a=a.newValue)&&C.$a(a.id)&&Ya.Msa(a.id);});a.addEventListener(m.Qe,function(){wa=void 0;X();na.stop();t();zb=!0;q();});};N=0;T="showsubtitle";n="removesubtitle";},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});a(28);a(16);b=a(57);a(17);d=a(8);h=a(32);a(15);a(46);c.HDa=function(){var f,p,r,u,v;function a(){v=!1;for(var a=f.length,b;a--;)b=f[a],u[b]&&(u[b]=!1,r.mc(b+"changed",{getModel:p[b]}));}function c(b){u[b]=!0;v||(v=!0,h.Xa(a));}f=[];p={};r=new b.Ci();u={};v=!1;return{register:function(a,b){d.ea(!(0<=f.indexOf(a)),"panel already registered");p[a]=b;f.push(a);},f3:c,Znb:function(a){return(a=p[a])?a():void 0;},addEventListener:function(a,b){r.addListener(a,b);p[a]&&c(a);},removeEventListener:function(a,b){r.removeListener(a,b);}};};},function(f,c,a){var g,m,p,r,u,v,z,k,G,x,y,C,F,N,T,n,q,O,B,ja,V,D,S,da,X,U;function b(a){var b;b=this;this.L=a;this.ita=Promise.resolve();this.RS=t.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Bn=[];this.bi=new v.Ci();this.Wca=this.eV=0;this.HK=[];this.wa=x.Je(this.L,"MediaElementASE");this.Sea=O.Gb;this.tV=!1;this.ke={};this.uD={};this.bO=this.IK(function(){var a;if(b.Ba){a=b.bL();return a?a.totalVideoFrames:b.Ba.webkitDecodedFrameCount;}});this.Zv=this.IK(function(){var a;if(b.Ba){a=b.bL();return a?a.droppedVideoFrames:b.Ba.webkitDroppedFrameCount;}});this.CF=this.IK(function(){var a;if(b.Ba){a=b.bL();return a&&a.corruptedVideoFrames;}});this.cO=this.IK(function(){var a;if(b.Ba){a=b.bL();return a&&ja.ve(a.totalFrameDelay*O.pj);}});this.Kda=function(){return b.bi.mc(S.Sg.lma);};this.xj=new(x.Z.get(D.N9))(this,this.L);u.config.uA&&(this.ita=new Promise(function(a){b.Sea=a;b.L.addEventListener(z.Qe,a);}));this.wa.trace("Created Media Element");this.addEventListener=this.bi.addListener;this.removeEventListener=this.bi.removeListener;this.Ba=d(this.L.Gx);this.sourceBuffers=this.Bn;}function d(a){var b,c;b=x.Z.get(da.fca).rYa();a=a.width/a.height*b.height;c=(b.width-a)/2;return u.config.Q9a?O.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):O.createElement("VIDEO","position:absolute;width:100%;height:100%");}function h(a){a.preventDefault();return!1;}function l(a,b){var c,d,g;c=a.target;c=c&&c.error;d=a.errorCode;g=c&&c.code;O.$a(g)||(g=d&&d.code);d=c&&c.msExtendedCode;O.$a(d)||(d=c&&c.systemCode);O.$a(d)||(d=a.systemCode);a=O.oa({},{code:g,systemCode:d},{no:!0});b={R:b(g),za:B.W1(a)};try{c&&c.message&&(b.xG=c.message);}catch(ua){}d=O.Zc(d);V.da(d)&&(b.ub=x.mM(d,4));return{Nz:b,f1a:a};}Object.defineProperty(c,"__esModule",{value:!0});g=a(181);m=a(134);p=a(51);r=a(6);u=a(4);v=a(57);z=a(16);k=a(60);G=a(25);x=a(3);y=a(2);C=a(107);F=a(8);N=a(80);T=a(305);n=a(103);q=a(19);O=a(14);B=a(138);ja=a(5);V=a(15);D=a(310);S=a(166);da=a(315);X=!!(ja.JC&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);U=X&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||ja.IC);b.prototype.Un=function(a){try{this.Ba&&(this.Wca=this.Ba.currentTime);}catch(ba){this.wa.error("Exception while getting VIDEO.currentTime",ba);a&&this.sy(y.v.tCa,ba);}return ja.ve(this.Wca*O.pj);};b.prototype.seek=function(a){var b;F.ea(!this.wk);this.Jea();b=this.Un(!0);if(ja.ru(b-a)<=g.cK)this.wa.trace("Seek delta too small",{currentTime:b,seekTime:a,min:g.cK});else try{this.wa.trace("Setting video elements currentTime",{From:N.kg(b),To:N.kg(a)});this.wk={};this.Ba.currentTime=a/O.pj;this.bi.mc(S.Sg.Ik);}catch(ea){this.wa.error("Exception while setting VIDEO.currentTime",ea);this.sy(y.v.uCa,ea);}};b.prototype.yYa=function(){return!!this.wk;};b.prototype.addSourceBuffer=function(a){var c,d,g,h;function b(a){return c.DKa(g,c.L.gc,a);}c=this;d=O.Zc(this.eV.toString()+this.Bn.length.toString());d={sourceId:this.eV,oM:d};g=x.Z.get(C.ky).QE(this.L.Ud.value.Db);try{h=new m.o$(this.L,a,b,this.Kf,d,this.wa);}catch(la){h=O.yc(la);this.wa.error("Unable to add source buffer.",{mime:b(a),error:h});this.L.Hh(new p.rj(y.v.nU,{R:a===x.Df.Gf.AUDIO?O.u.e$:O.u.f$,za:h}));return;}this.Bn.push(h);a==r.FJ&&h.o_&&h.o_.addListener(this.Sea);return h;};b.prototype.kX=function(a){for(var b=a.length,c=0;c<b;c++)this.addSourceBuffer(a[c]);this.bi.mc(S.Sg.zra);return!0;};b.prototype.removeSourceBuffer=function(a){for(var b=this.Bn.length,c=0;c<b;c++)G.aha(a,this.Bn[c])&&(this.Bn=this.Bn.splice(c,1));this.Kf.removeSourceBuffer(a);};b.prototype.endOfStream=function(){u.config.kY&&this.Kf.endOfStream();};b.prototype.ym=function(a){this.Bn=[];a&&a.Hqb();return!0;};b.prototype.p9a=function(a){this.eV=a;};b.prototype.Zja=function(){if(this.Kf)return this.Kf.duration;};b.prototype.C9a=function(a){this.Kf&&(this.L.duration=1E3*a,this.L.n2=1E3*a,this.Kf.duration=a);};b.prototype.oTa=function(){var a;if(!this.tV&&this.Ba&&2<=this.Ba.readyState){a=this.Ba.webkitDecodedFrameCount;if(void 0===a||0<a||u.config.Scb)this.tV=!0;}return this.tV;};b.prototype.J_=function(){var a;a=this.yda();return!(!a||1!=a.constrictionActive);};b.prototype.open=function(){var a,b,c;a=this;this.L.addEventListener(z.Daa,function(b){return a.yJa(b);});if(X){if(this.L.g1){if(!U){this.dd(y.v.X$);return;}if(ja.IC&&ja.IC.isTypeSupported&&this.xj.ce)try{if(!ja.IC.isTypeSupported(this.xj.ce,"video/mp4")){this.UKa(function(b){a.dd(y.v.lU,b);});return;}}catch(ia){this.sy(y.v.lU,ia);return;}}try{this.Kf=new ja.JC();}catch(ia){this.sy(y.v.kCa,ia);return;}try{this.Mf=URL.createObjectURL(this.Kf);}catch(ia){this.sy(y.v.lCa,ia);return;}try{this.xj.PLa(this.Kda);this.Kf.addEventListener("sourceopen",function(b){return a.lea(b);});this.Kf.addEventListener(this.RS+"sourceopen",function(b){return a.lea(b);});this.Ba.addEventListener("error",this.ke.error=function(b){return a.KD(b);});this.Ba.addEventListener("seeking",this.ke.seeking=function(){return a.xJa();});this.Ba.addEventListener("seeked",this.ke.seeked=function(){return a.hW();});this.Ba.addEventListener("timeupdate",this.ke.timeupdate=function(){return a.zJa();});this.Ba.addEventListener("loadstart",this.ke.loadstart=function(){return a.gW();});this.Ba.addEventListener("volumechange",this.ke.volumechange=function(b){return a.AJa(b);});this.Ba.addEventListener(this.xj.KG,this.ke[this.xj.KG]=function(b){return a.sJa(b);});b=this.L.Xf;c=b.lastChild;c?b.insertBefore(this.Ba,c):b.appendChild(this.Ba);u.config.$ha&&this.Ba.addEventListener("contextmenu",h);if(this.L.ge)try{this.Ba.msAudioCategory="Other";}catch(ia){this.wa.error("videoElement.msAudioCategory threw an exception.");}this.Ba.src=this.Mf;k.Bd.addListener(k.LF,this.uD[k.LF]=function(){return a.kea();});this.kea();}catch(ia){this.sy(y.v.mCa,ia);}}else this.dd(y.v.Z$);};b.prototype.close=function(){var b;function a(){b.Mf&&(b.Jea(),k.Bd.removeListener(k.LF,b.uD[k.LF]),b.QGa());}b=this;this.Ba.removeEventListener(this.xj.KG,this.ke[this.xj.KG]);this.Ba.removeEventListener("error",this.ke.error);this.Ba.removeEventListener("seeking",this.ke.seeking);this.Ba.removeEventListener("seeked",this.ke.seeked);this.Ba.removeEventListener("timeupdate",this.ke.timeupdate);this.Ba.removeEventListener("loadstart",this.ke.loadstart);this.Ba.removeEventListener("volumechange",this.ke.volumechange);this.xj.E7a(this.Kda);this.xj.dn?this.xj.f5a().then(function(){return a();}):a();this.xj.dqa&&clearTimeout(this.xj.dqa);};b.prototype.sJa=function(a){return this.xj.moa(a);};b.prototype.bL=function(){if(this.Ba)return this.Ba.getVideoPlaybackQuality&&this.Ba.getVideoPlaybackQuality()||this.Ba.videoPlaybackQuality||this.Ba.playbackQuality;};b.prototype.wKa=function(){var a;a=this.L.Gg;return(a=a&&a.errorCode)&&0<=[y.v.RJ,y.v.BJ].indexOf(a);};b.prototype.QGa=function(){var a;a=!1;u.config.e6a&&this.wKa()&&(a=!0);u.config.yY&&!a&&(this.Ba.removeAttribute("src"),this.Ba.load&&this.Ba.load());URL.revokeObjectURL(this.Mf);u.config.$ha&&this.Ba.removeEventListener("contextmenu",h);!a&&this.Ba&&this.L.Xf.removeChild(this.Ba);this.Ba=this.Kf=void 0;this.Mf="";};b.prototype.kea=function(){!0===ja.cd.hidden?this.HK.forEach(function(a){a.refresh();a.q$a();}):this.HK.forEach(function(a){a.refresh();a.F$a();});};b.prototype.IK=function(a){var c;function b(){var b;b=a();V.da(b)&&c.ULa(b);}c=new T.lBa();this.HK.push(c);c.refresh=b;return function(){b();return c.TWa();};};b.prototype.DKa=function(a,b,c){var d;switch(c){case x.Df.Gf.VIDEO:d=a;break;case x.Df.Gf.AUDIO:d="AAC"==b.value.iPa?r.Vx:r.Eza;}return d;};b.prototype.sy=function(a,b){var c,d;c={R:O.u.te,za:O.yc(b)};try{(d=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==d.length&&(c.ub=d);}catch(ka){}this.L.Hh(new p.rj(a,c));};b.prototype.Jea=function(){this.HK.forEach(function(a){a.refresh();});};b.prototype.yda=function(){return this.Ba&&this.Ba.msGraphicsTrustStatus;};b.prototype.dd=function(a,b,c){this.L.Hh(new p.rj(a,b,c));};b.prototype.UKa=function(a){var c,d;function b(d){b=O.Gb;c.Og();a(d);}c=new n.my(500,function(){b();});c.Sn();try{d=this.L.Ai.value.pi.fqb.children.filter(function(a){return"pssh"==a.type&&a.OTa==r.Rwa;})[0];new ja.IC(this.xj.ce).createSession("video/mp4",d.raw,null).addEventListener(this.RS+"keyerror",function(a){a=l(a,x.t8);b(a.Nz);});}catch(ka){b();}};b.prototype.yJa=function(a){var b,d,g,h,p,f,l;if(this.Ba){a=a.CI;b=this.yda();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Ba.readyState;a.currentTime=""+this.Ba.currentTime;a.pbRate=""+this.Ba.playbackRate;}catch(ub){}for(var b=this.Bn.length,c;b--;){c=this.Bn[b];d="";c.type==r.b$?d="audio":c.type==r.FJ&&(d="video");O.oa(a,c.WN(),{prefix:d});u.config.jUa&&this.L.Gg&&r.FJ==c.type&&(d=O.NH(c.Mu),3E3>(d.data&&d.data.length)&&(d.data=q.PPa(d.data).join(),O.oa(a,d,{prefix:c.type})));}this.Kf&&(b=this.Kf.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(u.config.g1a)try{g=this.L.bh;h=g&&g.$e;if(h){p=h.expiration;isNaN(p)||(a.exp=p);f=h.keyStatuses.entries();if(f.next){l=f.next().value;l&&(a.keyStatus=l[1]);}}}catch(ub){}}};b.prototype.lea=function(a){this.EKa||(this.EKa=!0,this.bi.mc(S.Sg.Ara,a));};b.prototype.xJa=function(){this.wa.trace("Video element event: seeking");this.wk?this.wk.P3a=!0:(this.wa.error("unexpected seeking event"),u.config.eVa&&this.dd(y.v.zCa));};b.prototype.hW=function(){this.wa.trace("Video element event: seeked");this.wk?(F.ea(this.wk.P3a),this.wk.O3a=!0,this.gfa()):(this.wa.error("unexpected seeked event"),u.config.dVa&&this.dd(y.v.yCa));};b.prototype.zJa=function(){this.wk&&(this.wk.Q3a=!0,this.gfa());this.bi.mc(S.Sg.Ik);};b.prototype.gW=function(){this.wa.trace("Video element event: loadstart");};b.prototype.AJa=function(a){this.wa.trace("Video element event:",a.type);try{this.L.volume.set(this.Ba.volume);this.L.muted.set(this.Ba.muted);}catch(ba){this.wa.error("error updating volume",ba);}};b.prototype.KD=function(a){a=l(a,x.nxa);this.wa.error("Video element event: error",a.f1a);this.dd(y.v.sCa,a.Nz);};b.prototype.gfa=function(){this.wk&&this.wk.O3a&&this.wk.Q3a&&(this.wk=void 0,this.bi.mc(S.Sg.lB));};c.cAa=b;},function(f,c,a){var p,r,u,v,z,k,G,x;function b(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function d(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function h(a,c,g){var f;if("string"===typeof a)return h.call(this,b(a),c,g);f=0;Object.keys(a).forEach(function(b){var h,l,m;h=z[b];l=a[b];if(h){if(m=k[b]||x[typeof p[h]])try{l=m(l);}catch(B){g&&g.error("Failed to convert value '"+l+"' for config '"+b+"' : "+B.toString());return;}m=v[h];this[h]=l;v[h]!==m&&(g&&g.debug("Config changed for '"+b+"' from "+d(m)+" ("+typeof m+") to "+d(l)+" ("+typeof l+")"),++f);}else c?(h=(h=G[b])?h.filter(function(a){return a[0]!==this;},this):[],h.push([this,l]),G[b]=h):g&&g.error("Attempt to change undeclared config option '"+b+"'");},this);f&&v.emit("changed");return f;}function l(){return Object.keys(z).reduce(function(a,b){var c,d;c=z[b];d=a[c];d?(d.push(b),a[c]=d.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function g(a,b){return a.hasOwnProperty(b)?d(a[b]):void 0;}function m(a,b){return"undefined"===typeof a?b:a;}c=a(44);a=a(31).EventEmitter;p={};r=Object.create(p);u=Object.create(r);v=Object.create(u);z={};k={};G={};v.declare=function(a){Object.keys(a).forEach(function(b){var c,d,g,f;c=a[b];d=c[0];g=c[1];f=c[2];if(p.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof d&&(d=[d]);d.forEach(function(a){var c;if(z.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");p.hasOwnProperty(b)||("function"===typeof g&&(g=g()),p[b]=g);z[a]=b;"function"===typeof f&&(k[a]=f);if(c=G[a])c.forEach(function(b){var c,d;c=b[0];d={};d[a]=b[1];h.call(c,d,!1);}),delete G[a];});});return v;};x={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};v.set=h.bind(r);v.Lw=h.bind(u);v.dump=function(a,b){var h,f,x,y;function c(){y&&a&&a.log("===========================================");}h=Object.keys(G).sort();f={};x=l();b=m(b,!0);Object.keys(z).sort().forEach(function(h){var l,k,w;h=z[h];!f[h]&&(f[h]=!0,k=g(r,h),w=g(u,h),b||"undefined"!==typeof k||"undefined"!==typeof w)&&(l=x[h].join(","),l+=" = "+d(v[h])+" ("+typeof v[h]+") [",l+=m(w,"<unset>")+",",l+=m(k,"<unset>")+",",l+=g(p,h)+"]",y||(y=!0,a&&a.log("Current config values"),c()),a&&a.log(l));});(b||h.length)&&a&&a.log("<undeclared> :",h);c();};v.SY=function(a){var b,c;b={};c={};Object.keys(z).forEach(function(a){a=z[a];c[a]||(c[a]=!0,b[a]=v[a]);});a&&h.call(b,a);return b;};v.Noa=function(){var a;a=l();return Object.getOwnPropertyNames(r).reduce(function(b,c){b[a[c][0]]=r[c];return b;},{});};v.reset=function(){Object.keys(r).forEach(function(a){delete r[a];});};v.uk={};c(a,v);f.P=Object.freeze(v);},function(f,c,a){var l,g,m;function b(a,b,c){this.VP=b;this.Bk=c;this.Rt=this.yO=this.NP=this.Ioa=this.Hoa=this.LA=this.Nc=this.B5a=this.Bk=this.Ao=this.Ka=this.X=this.AI=this.T=this.mla=this.MX=void 0;}function d(a,b,c){this.fa=b;this.Kla=c;this.Rfa=this.gta=this.ZW=this.AI=this.iP=this.Ks=void 0;}function h(a,c,d,g,h){var f;f=new b(0,c,a.Bk);a.forEach(function(a){var b,d;b=a.buffer;d=b.T;a.O===l.G.AUDIO?f.MX=d.length?d[0].J:void 0:a.O===l.G.VIDEO&&(f.mla=d.length?d[0].J:void 0,f.T=d,f.AI=b.Qi-b.me,f.X=b.me,f.Ka=b.Ka,f.Ao=a.al,f.Bk=a.Bk,f.B5a=c-a.Bk,f.Nc=a.Nc.filter(function(a){return m(a);}),f.LA=d.filter(function(a){return f.X<=a.Lg;}).length);});this.BB=f;this.Uv=void 0;this.vSa=g;this.UNa=h;this.f4=this.hQ=this.qoa=this.Eo=this.Zy=this.Wia=this.BI=this.Nc=this.Uv=void 0;}l=a(13);c=a(41);g=c.assert;m=c.iw;b.prototype.constructor=b;d.prototype.constructor=d;h.prototype.constructor=h;h.prototype.sVa=function(a,b){var c,g,h,f,p,m,r,k,F,N,n,q,Z,O,B,V,D,S,da,X,U;c=this.BB;g=[];f=a[l.G.VIDEO];p=a[l.G.AUDIO];if(void 0===f||void 0===p)return!1;m=f.buffer;r=p.buffer;k=f.headers;F=c.Nc.filter(function(a){return k&&k[a.id]&&k[a.id].T;});if(void 0===m||void 0===r||void 0===k||void 0===F||0===F.length)return!1;h=new d(0,f.me,b===l.xa.qr);N=0;n=0;q=0;O=c.X;a=a[l.G.VIDEO].me;B=c.T;Z=c.LA;for(var t=0;t<Z;t++){V=B[t];D=V.offset;S=V.offset+V.ga-1;X=V.gd;da=V.hb;U=da+X;V&&da<=a&&U>O&&(X=V.gd,da=Math.min(X,Math.min(a,U)-Math.max(da,O)+1),q+=da,N+=da/X*(S-D+1),n+=V.J*da);}c.Hoa=N;c.Ioa=q;c.NP=0<q?n/q:0;c.yO||(c.yO=0,F.some(function(a,b){if(a.J===c.mla)return c.yO=b,!0;}));F.forEach(function(a){var b,d;a=k[a.id].T;b=[];c.Rt||(c.Rt=a.Ll(c.X,void 0,!0));h.Ks||(h.Ks=a.Ll(h.fa,void 0,!0),h.iP=a.length-1);c.Ao!==c.Rt+c.LA&&(c.Ao=c.Rt+c.LA);Z=Math.min(h.iP,h.Ks+1);for(var f=c.Rt;f<=Z;f++)d=a.get(f),b[f]=d;g.push(b);});b===l.xa.qr&&(h.AI=m.Qi-m.me,h.ZW=r.Qi-r.me,h.gta=f.Npa,h.Rfa=p.Npa);this.Uv=h;this.Nc=F;this.BI=g;return this.Wia=!0;};h.prototype.aq=function(){var a,b,c,d,h,f,l,m;if(this.yA)return this.yA;c=this.Eo;a=this.BB;d=this.Uv;h=this.Nc;g(void 0!==c,"throughput object must be defined before retrieving the logdata from PlaySegment");b=c.trace&&0===c.trace.length||void 0===c.timestamp?d.Kla?{gw:!1,Cw:!0,BP:!0}:d.Ks-a.Rt+1<=a.LA?{gw:!0,Cw:!0,BP:!0}:{gw:!0,Cw:!1,BP:!0}:this.qoa;a={f:b&&b.gw||!1,bst:a.Bk,pst:a.VP,s:a.Rt,e:d.Ks,prebuf:a.LA,brsi:a.Ao,pbdlbytes:a.Hoa,pbdur:a.Ioa,pbtwbr:a.NP};this.f4&&(a.rr=this.f4);this.hQ&&(a.ra=this.hQ);if(!b.Cw&&b.eR&&(a.dltwbr=b.yTa,a.dlvdur=b.BTa,a.dlvbytes=b.ATa,a.dlabytes=b.xTa,this.vSa)){c=b.eR.filter(function(a){return a;}).map(function(a){return a.se;});f=0;l=[];a.bitrate=h.map(function(a){return a.J;});c.forEach(function(a){l.push(a-f);f=a;});a.strmsel=l;c=this.Eo;h=c.trace;m=[];f=0;h.forEach(function(a){a=Number(a).toFixed(0);m.push(a-f);f=a;});a.tput={ts:c.timestamp,trace:m,bkms:c.dz};}b.BP&&(a.nt=b.BP);b.Cw&&(a.nd=b.Cw);return this.yA=a;};f.P=h;},function(f,c,a){var h,l,g,m,p,r;function b(a,b,c,d){m(!h.S(d),"Must have at least one selected stream");return new r(d);}function d(a,b,c,d){m(!h.S(d),"Must have at least one selected stream");return new r(d);}h=a(10);c=a(41);l=c.console;g=c.debug;m=c.assert;p=c.iw;r=c.gm;f.P={STARTING:function(a,b,c){var h,f,m;function d(c,d){var h,f,p,m;h=c.id;f=c.J;p=c.ia||0;m=!!p;g&&l.log("Checking feasibility of ["+d+"] "+h+" ("+f+" Kbps)");if(!c.Ye)return g&&l.log("  Not available"),!1;if(!c.inRange)return g&&l.log("  Not in range"),!1;if(c.fh)return g&&l.log("  Failed"),!1;if(f>a.rG)return g&&l.log("  Above maxInitAudioBitrate ("+a.rG+" Kbps)"),!1;if(!(f*a.sP/8<b.buffer.Av))return g&&l.log("  audio buffer too small to handle this stream"),!1;if(m){g&&l.log("  Have throughput history = "+m+" : available throughput = "+p+" Kbps");if(f<p)return g&&l.log(" +FEASIBLE: bitrate less than available throughput"),!0;g&&l.log(" bitrate requires more than available throughput");return!1;}c=a.BG;b.V0&&(c=Math.max(c,a.AG));if(f<=c)return g&&l.log("  Bitrate is less than max of minInitAudioBitrate ("+a.BG+" Kbps) "+(b.V0?" and also minHCInitAudioBitrate ("+a.AG+" Kbps)":"")),g&&l.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;g&&l.log("  No throughput history");return!1;}h=new r();for(m=c.length-1;0<=m;--m){f=c[m];if(d(f,m)){h.se=m;break;}p(f)&&(h.se=m);}return h;},BUFFERING:b,REBUFFERING:b,PLAYING:d,PAUSED:d};},function(f,c,a){f.P=a(489);},function(f,c,a){f.P=a(490);},function(f,c,a){var l,g;function b(a,b,c,d,g,f){return new h(a,b,c,d,g,f);}function d(a){return a&&0<=a.indexOf(".__metadata__");}function h(a,b,c,d,g,h){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=d;this.creationTime=g;this.lastRefresh=h;return this.qsa();}l=a(10);g=a(100);a(116);new g.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=g.time.now();return this.qsa();};h.prototype.mra=function(a){this.size=a;};h.prototype.fha=function(){var a;a=g.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};h.prototype.qsa=function(){this.lastMetadataUpdate=g.time.now();return this;};h.prototype.constructor=h;f.P={create:b,w_:function(a){var c;c=a;"string"===typeof a&&(c=JSON.parse(a));if(c&&c.partition&&!l.S(c.lifespan)&&c.resourceIndex&&c.creationTime&&c.lastRefresh)return a=b(c.partition,c.resourceIndex,c.lifespan,-1,c.creationTime,c.lastRefresh),c.lastMetadataUpdate&&(a.lastMetadataUpdate=c.lastMetadataUpdate),!l.S(c.size)&&0<=c.size&&a.mra(c.size),a.fha(),a;},YY:function(a){return a+".__metadata__";},Oia:function(a){return d(a)?a.slice(0,a.length-13):a;},mA:d};},function(f,c,a){var k,w,G,x,y,C,F,N,n,q,Z;function b(){}function d(a,c){var d,g,h,f;d=k.wb(c)?c:b;this.H=a||{};(function(a,b,c){this.ci[a].Ld[b]=c;}.bind(this));(function(a,b){return this.ci[a].Ld?this.ci[a].Ld[b]:void 0;}.bind(this));this.on=this.addEventListener=q.addEventListener;this.removeEventListener=q.removeEventListener;this.emit=this.Ha=a.anb?q.Ha:b;g=x.FRa(a);h=this.H.dailyDiskCacheWriteLimit;if(g){this.bp=g;f=r(a.s2||Z,x.gXa());this.$r=function(a){return k.S(f)||null===f?!1:!k.S(f[a]);};f?(this.ci={},w.Promise.all(Object.keys(f).map(function(b){return new w.Promise(function(c){var d;d=f[b];d.Vsa=a.Vsa;new y(b,g,d,function(a){c(a);},h);});})).then(function(a){a.map(function(a){var b;b=a.Pr;this.ci[b]=a;f[b].WVa=f[b].Av-a.sp;this.ci[b].on(y.bd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ha("mediacache",a);}.bind(this));this.ci[b].on(y.bd.dca,function(a){a=a||{};a.partition=b;a.type="save";this.Ha("mediacache",a);}.bind(this));this.ci[b].on(y.bd.ERROR,function(a){a=a||{};a.partition=b;a.type=y.bd.ERROR;this.Ha("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this),function(a){this.iA=n.J7;d(a,this);}.bind(this)).then(function(a){m(g,w.storage.Yx,Object.keys(f));return a;}.bind(this)).then(function(a){a.vkb=f;Object.keys(a.ci).map(function(b){a.ci[b].Pja().map(function(c){a["delete"](b,c);});});a.Wi=!0;d(null,a);}.bind(this))):(this.iA=n.Iya,d(this.iA,this));}else this.iA=n.J7,d(this.iA,this);}function h(a,b,c,d,g){var h;h=g?"mediacache-error":"mediacache";b={partition:c,type:b,resource:d,time:w.time.now()};g&&(b.error=g);try{a.Ha(h,b);}catch(da){G.warn("caught exception while emitting basic event",da);}}function l(a){return!k.S(a)&&!k.Ja(a)&&k.da(a.lifespan);}function g(a){return!C.mA(a)&&!N.J_a(a);}function m(a,c,d){a.query(c,"",function(g){Object.keys(g).filter(function(a){return 0>d.indexOf(a.slice(0,a.indexOf(".")));}).map(function(d){a.remove(c,d,b);});});}function p(a,b,c){var g,h;function d(b){a["delete"](g,function(d){d?c(d):(d=Object.keys(b.resourceIndex),w.Promise.all(d.map(function(b){return new w.Promise(function(c,d){a["delete"](b,function(a){a?d(a):c(b);});});})).then(function(){delete a.Ld[h];c();},function(a){c(a);}));});}C.mA(b)?(g=b,h=C.Oia(b)):(g=C.YY(b),h=b);(b=a.Ld[h])?d(b):a.read(g,function(a,b){a?c(a):d(b);});}function r(a,b){var c,d,g;c={};d=a.partitions.reduce(function(a,b){return a+b.capacity;},0);g=b/d;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Av=Math.floor(g*a.capacity);c[b].mSa=a.dailyWriteFactor||1;c[b].Jqb=a.owner;c[b].MUa=a.evictionPolicy;});return c;}function u(a,b,c){if(c)return N.uTa(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function v(a,b,c,d,g,h,f,p,l,m,r){return function(u,x){var v;if(u&&0<Object.keys(u).length)x=Object.keys(u).map(function(a){return u[a];}),x.some(function(a){return a.code===n.Kx.code;})&&!x.some(function(a){return a.code===n.rK.code;})?r(m,u,function(){l.save(b,c,d,g,h,f);}):(m["delete"](p),delete m.Ld[c],h(u));else{v=x.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.LO;},0);m.Ld[c].mra(v);h(null,{WVa:x.Lh,nmb:x.wz});}};}k=a(10);w=a(100);G=new w.Console("MEDIACACHE","media|asejs");x=a(497);y=a(496);C=a(261);F=a(116);N=a(491);n=a(171);q=a(31).EventEmitter;Z={Uqb:[]};d.prototype.aB=function(a,c){var d;d=k.wb(c)?c:b;this.$r("billboard")?this.ci.billboard.query(a,function(a){d(a.filter(g));}):d([]);};d.prototype.read=function(a,c,d){var g,f,p;g=k.wb(d)?d:b;if(this.$r(a)){f=this.ci[a];if(!C.mA(c)&&this.H.j2a){p=function(b){f.gQ(Object.keys(b),function(b,d){b?g(n.WC.Zl("Failed to read "+c,b)):(h(this,"read",a,c),g(null,N.v_a(d)));}.bind(this),b);}.bind(this);(d=f.Ld[c])?p(d.resourceIndex):this.P6a(a,c,function(a,b){a?g(n.WC.Zl("Failed to read "+c,a)):p(b.resourceIndex);});}else f.read(c,function(b,d){b?g(n.WC.Zl("Failed to read "+c,b)):(h(this,"read",a,c),g(null,d));}.bind(this));}else g(n.lu);};d.prototype.gQ=function(a,c,d){var g,h;g=k.wb(d)?d:b;if(this.$r(a)){h={};w.Promise.all(c.map(function(b){return new w.Promise(function(c,d){this.read(a,b,function(a,g){a?(g={},g[b]=a,d(g)):(h[b]=g,c());});}.bind(this));}.bind(this))).then(function(){g(null,h);},function(a){g(a);});}else g(n.lu);};d.prototype.Fqa=function(a,c){var d;d=k.wb(c)?c:b;this.$r("billboard")?"[object Object]"!==Object.prototype.toString.call(a)?d(n.qK.Zl("items must be a map of keys to objects")):w.Promise.all(Object.keys(a).map(function(b){return new w.Promise(function(c,d){this.save("billboard",b,a[b].Jt,a[b].Uc,function(a,g){a?(G.error("Received an error saving",b,a),d(a)):c(g);},!0);}.bind(this));}.bind(this))).then(function(b){var c,g,h;try{c=Number.MAX_VALUE;g=Number.MAX_VALUE;h=b.reduce(function(a,b){b.Lh&&b.Lh<c&&(c=b.Lh);b.wz&&b.wz<g&&(g=b.wz);c<Number.MAX_VALUE&&(a.freeSize=c);g<Number.MAX_VALUE&&(a.dailyBytesRemaining=g);return a;},{partition:"billboard",type:"saveMultiple",keys:Object.keys(a),time:w.time.now()});this.Ha("mediacache",h);d(null,h);}catch(X){d(err);}}.bind(this),function(a){this.Ha("mediacache-error",{partition:"billboard",type:"saveMultiple",error:a});d(a);}.bind(this)):(k.wb(c)?c:b)(n.lu);};d.prototype.save=function(a,c,d,g,h,f){var p,m,r,x,y,z,N,T;p=k.wb(h)?h:b;if(this.$r(a)){m=this.ci[a];r=C.YY(c);m.Pja().map(function(b){b!==c&&this["delete"](a,b);}.bind(this));if(l(g)){x=u(c,d,this.H.j2a);h=m.Ld[c]||{};y=h.resourceIndex;y&&Object.keys(y).map(function(a){k.S(x[a])&&m["delete"](a);});y=w.time.now();z={};z.partition=a;z.resourceIndex=Object.keys(x).reduce(function(a,b){a[b]=F.i0(x[b]);return a;},{});z.creationTime=h.creationTime||y;z.lastRefresh=y;z.lifespan=g.lifespan;z.lastMetadataUpdate=y;z.size=h.size;N=function(a,b,c){a.USa(function(d,g){d&&G.error("Evicting","Failed to delete some orphaned records",d);g.j4?c():(d=a.oXa())?this["delete"](a.getName(),d,function(a){a?p(b):c();}.bind(this)):p(n.Kx);}.bind(this));}.bind(this);T=function(){var a,b,c;a=this.ci;b=0;c=w.time.now();if(!k.S(a))for(var d in a)b+=a[d].IWa(c);return b;}.bind(this);m.replace(r,z,function(b,h){h?(m.Ld[c]=C.w_(z),m.J7a(x,v(x,a,c,d,g,p,f,r,this,m,N),f,T)):b.code===n.Kx.code?N(m,b,function(){this.save(a,c,d,g,p,f);}.bind(this)):p(b);}.bind(this),f,T);}else p(n.Fza);}else p(n.lu);};d.prototype["delete"]=function(a,c,d){var g;g=k.wb(d)?d:b;this.$r(a)?p(this.ci[a],c,function(b){h(this,"delete",a,c,b);g(b);}.bind(this)):g(n.lu);};d.prototype.clear=function(a,c){var d;d=k.wb(c)?c:b;this.$r(a)?this.ci[a].clear(function(a){d(a.filter(g));}):d(n.lu);};d.prototype.P6a=function(a,c,d){var g,h;g=k.wb(d)?d:b;if(this.$r(a)){d=C.YY(c);h=this.ci[a];h.read(d,function(a,b){var d;if(a)g(n.Gza);else{d=C.w_(b)||{};h.cka(Object.keys(d.hsb),function(a){d.size=a;(a=h.Ld[c])&&(d.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=d.lastMetadataUpdate?h.Ld[c]=d:a.lastMetadataUpdate&&(a.lastMetadataUpdate>d.lastMetadataUpdate||k.S(d.lastMetadataUpdate))&&(d=a));g(null,d);});}});}else g(n.lu);};d.prototype.Ksa=function(a){w.UF(a);};d.prototype.constructor=d;f.P=d;},function(f,c,a){(function(){var f1c,c,h,l,g,m,p,r,u,v,k,w,G;function b(a,b,c,d,h,f){var Z1c,l,b1c,T1c;Z1c=2;while(Z1c!==8){b1c="e";b1c+="d";b1c+="it";T1c="cac";T1c+="h";T1c+="e";switch(Z1c){case 2:r.call(this,a,c);l=[T1c,b1c].filter(function(a,b){var L1c;L1c=2;while(L1c!==1){switch(L1c){case 2:return[h,c.yd][b];break;case 4:return[h,c.yd][b];break;L1c=1;break;}}});l=l.length?"("+l.join(",")+")":"";Z1c=3;break;case 3:void 0===c.responseType&&(c.responseType=c.yd||g.Zg&&!g.Zg.tQ.Yo?g.Ei.el:g.Ei.Yo);p.call(this,a,b,l,c,d,f);Z1c=8;break;}}}f1c=2;while(f1c!==35){switch(f1c){case 2:a(21);c=a(71);h=a(13);f1c=3;break;case 12:k=a(499);w=a(72);G=a(30).Dv;b.prototype=Object.create(p.prototype);f1c=19;break;case 3:l=a(9);g=l.Pa;m=l.MediaSource;p=a(264);r=a(67);u=a(79).HJ;v=a(172);f1c=12;break;case 24:b.prototype.$y=function(a,b,c,d){var U1c,g;U1c=2;while(U1c!==6){switch(U1c){case 4:return!1;break;case 5:U1c=this.Nf?4:3;break;case 3:a=this.nja?a.appendBuffer(G(this.pia),this):this.yd&&!this.Hm?this.iHa(a,b,d):this.yd&&this.Hm?this.jHa(a,c,d):this.O===h.G.AUDIO&&g.Vm&&b&&this.Ut&&b.df>=this.df&&this.Ij-this.Ut<this.Ut-this.Ri?!0:a.appendBuffer(this.response,this);this.Nf=!0;this.lQ();return a;break;case 2:g=this.ph.H;U1c=5;break;}}};b.prototype.iHa=function(a,b,c){var K1c,d,g,f,d1c,C1c;K1c=2;while(K1c!==7){d1c=" ";d1c+="f";d1c+="rom ";d1c+="[";d1c+=" ";C1c="AseFragmentMediaRequest: F";C1c+="ragme";C1c+="nt ";C1c+="edi";C1c+="t failed for ";switch(K1c){case 4:f=!1;this.O===h.G.AUDIO&&b&&(-1!=d.L4.indexOf(this.profile)?c&&(this.Lc?(this.Lc.Rd+=1,this.Lc.Qb+=this.stream.bc.hh):this.Lc={Rd:1,Qb:this.stream.bc.hh},this.Li+=this.stream.bc.hh,this.wd-=this.stream.bc.hh):this.Lca(b)?b.Lc&&this.Lc&&this.Lc.Rd!==b.Lc.Rd&&this.oq({Rd:b.Lc.Rd,Qb:b.Ij},!1):g=this.GGa());this.qc>this.Ad||g.ix?(c=this.Lc&&this.Lc.Rd,b=new u(this.stream,this.response),(g=b.aqa(c,this.jb,g.ix,g.q5))?(f=a.appendBuffer(G(g.Xp),this),this.SD(),this.yL(g.Xp)):this.V.Yb(C1c+this.toString()+d1c+this.Ad+"-"+this.mi+"]")):f=a.appendBuffer(this.response,this);return f;break;case 2:d=this.ph.H;g={ix:0};K1c=4;break;}}};b.prototype.jHa=function(a,b,c){var r1c,d,g,f,p,v1c,g1c;r1c=2;while(r1c!==6){v1c=" ";v1c+="fr";v1c+="om [";v1c+=" ";g1c="As";g1c+="eFra";g1c+="gmentMediaRe";g1c+="quest: Fragment";g1c+=" edit failed for ";switch(r1c){case 4:f=!1;p=!0;r1c=9;break;case 9:this.O===h.G.AUDIO&&(-1!=d.L4.indexOf(this.profile)?c&&(this.wd-=this.stream.bc.hh,this.Lc?(--this.Lc.Rd,this.Lc.Qb-=this.stream.bc.hh):this.Lc={Rd:new Timescale(this.wd,1E3).Gz(this.stream.bc)-1,Qb:this.Ij},p=0<this.Lc.Rd):this.Lca(b)?b.Lc&&0!=b.Lc.Rd?this.oq({Rd:b.Lc.Rd,Qb:b.Ri},!0):p=!1:(g=this.HGa(),d.Vm||(p=this.pGa(b))));p?this.df<this.mi||g.ix?(c=this.Lc&&this.Lc.Rd,b=new u(this.stream,this.response),(g=b.bqa(c,this.jb,g.ix,g.q5))?(f=a.appendBuffer(G(g.Xp),this),this.SD(),this.yL(g.Xp)):this.V.Yb(g1c+this.toString()+v1c+this.Ad+"-"+this.mi+"]")):f=a.appendBuffer(this.response,this):f=!0;return f;break;case 2:d=this.ph.H;g={ix:0};r1c=4;break;}}};f.P=b;f1c=35;break;case 19:c(r.prototype,b.prototype);b.prototype.toString=function(){var q1c;q1c=2;while(q1c!==1){switch(q1c){case 2:return g.prototype.toString.call(this)+" "+r.prototype.toString.call(this);break;}}};b.create=function(a,c,d,f,p,l){var h1c,m,r,u;h1c=2;while(h1c!==10){switch(h1c){case 1:h1c=d.yd&&a.O===h.G.VIDEO&&g.Zg&&g.Zg.tQ.Yo?5:4;break;case 5:return new k(a,c,d,f,p,l);break;case 4:h1c=d.uG&&d.ga>d.uG?3:11;break;case 2:h1c=1;break;case 13:d.offset=r,d.ga=Math.min(u,m),r+=d.ga,u-=d.ga,f.push(new b(a,c,d,f,p,l));h1c=14;break;case 12:return f;break;case 6:m=Math.ceil(d.ga/m);h1c=14;break;case 3:m=Math.ceil(d.ga/d.uG);r=d.offset;u=d.ga;f=new v(a,d,f,l);h1c=6;break;case 14:h1c=0<u?13:12;break;case 11:return new b(a,c,d,f,p,l);break;}}};b.prototype.SD=function(){var t1c,a,D1c,o1c,I1c,a1c,H1c;t1c=2;while(t1c!==3){D1c="a";D1c+="r";D1c+="r";D1c+="ay";o1c="video";o1c+="edi";o1c+="t";I1c="a";I1c+="u";I1c+="dioe";I1c+="dit";a1c="en";a1c+="d";a1c+="pl";a1c+="a";a1c+="y";H1c="l";H1c+="o";H1c+="gda";H1c+="ta";switch(t1c){case 4:this.ph.emit(a.type,a);t1c=3;break;case 2:a={type:H1c,target:a1c,fields:{}};a.fields[this.O===h.G.AUDIO?I1c:o1c]={type:D1c,value:{pts:this.Ad===this.qc?this.mi:this.Ad,offset:this.Ad===this.qc?this.df-this.mi:this.qc-this.Ad}};t1c=4;break;}}};b.prototype.Lca=function(a){var G1c;G1c=2;while(G1c!==1){switch(G1c){case 2:return a&&a.M===this.M&&a.Ad===this.Ad?!0:!1;break;}}};f1c=27;break;case 27:b.prototype.GGa=function(){var p1c,a,b,c,c1c,J1c;p1c=2;while(p1c!==9){c1c="d";c1c+="ef";c1c+="au";c1c+="l";c1c+="t";J1c="def";J1c+="a";J1c+="u";J1c+="lt";switch(p1c){case 2:p1c=1;break;case 1:a=0;c=this.ph.H;void 0!==c.Zs&&null!==c.Zs&&(a=(void 0!==c.Q0?c.Q0:c.Zs)||0,c=c.EO&&c.EO[this.stream.profile])&&(b=c.name,a=void 0!==c.onEntry?c.onEntry:void 0!==c[J1c]?c[c1c]:a);return{ix:a,q5:b};break;}}};b.prototype.HGa=function(){var N1c,a,b,c,e1c,m1c;N1c=2;while(N1c!==9){e1c="d";e1c+="e";e1c+="fau";e1c+="lt";m1c="d";m1c+="e";m1c+="f";m1c+="a";m1c+="ult";switch(N1c){case 1:a=0;c=this.ph.H;N1c=4;break;case 2:N1c=1;break;case 4:void 0!==c.Zs&&null!==c.Zs&&(a=(void 0!==c.R0?c.R0:c.Zs)||0,c=c.EO&&c.EO[this.stream.profile])&&(b=c.name,a=void 0!==c.onExit?c.onExit:void 0!==c[m1c]?c[e1c]:a);return{ix:a,q5:b};break;}}};b.prototype.pGa=function(a){var l1c,b,c,d,g,h,f;l1c=2;while(l1c!==19){switch(l1c){case 2:b=this.ph.H;c=this.bc.hh;d=!0;l1c=3;break;case 13:a.ie(g).gma(w.u4a)&&0<c&&(--c,g=f.O2(c));this.wd=Math.min(this.wd,g.hh);this.PK={Rd:c,Qb:this.Ij};c<(b.I2a||1)&&(d=!1);return d;break;case 3:g=b.vna;h=m.Zg&&m.Zg.vna;f=this.bc;a=w.aWa((a?a.qc:this.df-2*c)-(void 0!==g?g:void 0!==h?h:100)-this.Ad).Sq(f.jb);c=Math.floor(a.Gz(f));g=f.O2(c);l1c=13;break;}}};f1c=24;break;}}}());},function(f,c,a){var h,l,g,m,p,r;function b(a,b,c,d,h,f){p.call(this,b,c);r.call(this,a,d,h,f);this.gGa=a.url||d.url;this.eGa=d.responseType;this.fGa=d.YQ;this.sf=new g();this.sf.on(this,p.bd.L$,this.gW);this.sf.on(this,p.bd.K$,this.rJa);this.sf.on(this,p.bd.M$,this.wJa);this.sf.on(this,p.bd.NC,this.fW);this.sf.on(this,p.bd.uu,this.KD);this.yl=this.pk=this.sK=!1;}function d(){l(!1);}h=a(10);l=a(21);c=a(71);g=a(31).kC;m=a(9);p=m.Pa;r=a(117);a(88);new m.Console("ASEJS","media|asejs");b.prototype=Object.create(p.prototype);c(r.prototype,b.prototype);Object.defineProperties(b.prototype,{active:{get:function(){return this.pk;},set:function(a){return function(){this.V.ba("Property '"+a+"' is read-only and should not be set.");};}("active")},h4:{get:function(){return this.yl;},set:d},complete:{get:function(){return this.readyState===p.Va.DONE;},set:d},Dn:{get:function(){return this.sK;},set:d},l1:{get:function(){return this.ip;},set:d}});b.prototype.Xc=function(a,b){r.prototype.Xc.call(this,a,b);this.Hb||!a.H.hX&&this.zc||(this.Hb=a.La.Hb,this.active&&(this.Hb.gqa(m.time.now()),this.yl&&(this.Hb.T7a(m.time.now()),this.connect&&0<this.Iq.length&&this.Hb.yp(this.Iq[0]))));};b.prototype.fw=function(){return this.responseType===p.Ei.Yo?this.readyState>=p.Va.sr:this.readyState==p.Va.DONE;};b.prototype.$y=function(a){return this.Nf=a.appendBuffer(this.response,this);};b.prototype.rla=function(){return this.Dn;};b.prototype.open=function(){return p.prototype.open.call(this,this.gGa,{start:this.offset,end:this.offset+this.ga-1},this.eGa,{},this.ekb,this.fkb,this.fGa);};b.prototype.abort=function(){var a;if(this.Dn)return!0;a=this.pk;this.Hb&&a&&this.Hb.jqa(m.time.la());this.sK=!0;this.yl=this.pk=!1;p.prototype.abort.call(this);this.MN(this,a);return!0;};b.prototype.ze=function(){this.readyState!==p.Va.UNSENT&&this.readyState!==p.Va.$l&&this.readyState!==p.Va.DONE&&(this.V.ba("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());p.prototype.ze.call(this);};b.prototype.KD=function(){var a,b,c,d;this.V.ba("AseMediaRequest._onError:",this.toString());a=this.Be;this.ip=m.time.la()-this.Be;b=this.status;c=this.Mj;d=this.Uk;this.complete?this.V.ba("Error on a done request "+this.toString()+", failurecode: "+c):this.Dn?this.V.ba("Error on an aborted request "+this.toString()+", failurecode: "+c):h.da(c)?(this.Hb&&this.ph&&this.ph.H.t4&&this.Ed&&void 0===b&&this.Hb.eX(this.Wj?this.Jc-this.Wj:this.Jc,this.Ul?this.Ul:this.Ed,a),this.NN(this)):this.V.ba("ignoring undefined request error (nativecode: "+d+")");};b.prototype.gW=function(){var a;a=this.Be||this.Ed;this.nA=this.track.nA();this.pk||(this.pk=!0,this.Hb&&this.Hb.gqa(a));this.Rz(this);this.Wj=0;this.Ul=this.Be;};b.prototype.rJa=function(){var a,b,c;a=this.Be;b=this.connect;c=this.Iq;this.ip=m.time.la()-this.Be;this.yl||(this.yl=!0);b&&0<c.length&&this.Hb&&this.Hb.yp(c[0]);this.Qz(this);this.Ul=a;};b.prototype.wJa=function(){var a,b;a=this.Be;b=this.Jc-this.Wj;this.ip=m.time.la()-this.Be;this.Hb&&(this.Hb.eX(b,this.Ul,a),this.Iq&&this.Iq.length&&this.Iq.forEach(function(a){this.Hb.vp(a);}.bind(this)));this.xF(this);this.Ul=a;this.Wj=this.Jc;};b.prototype.fW=function(){var a,b;a=this.Be;b=this.Jc-this.Wj;this.ip=m.time.la()-this.Be;this.Hb&&(0<b&&this.Hb.eX(b,this.Ul,a),this.Iq&&this.Iq.length&&this.Iq.forEach(function(a){this.Hb.vp(a);}.bind(this)),this.Hb.jqa(a));this.yl=this.pk=!1;this.wF(this);this.Ul=a;this.Wj=this.Jc;this.sf&&this.sf.clear();this.ze();};f.P=b;},function(f,c,a){var h,l,g,m;function b(a,b,c,d){m.call(this,a,b,c,d);this.yb=[];this.yl=this.pk=this.yD=this.iW=!1;this.Pu={};}function d(){h(!1);}h=a(21);a(71);l=a(9);g=l.Pa;m=a(117);a(67);a(30);b.prototype=Object.create(m.prototype);Object.defineProperties(b.prototype,{active:{get:function(){return this.pk;},set:d},h4:{get:function(){return this.yl;},set:d},complete:{get:function(){return this.qf||(this.qf=this.yb.every(function(a){return a.complete;}));},set:d},Dn:{get:function(){return this.sK;},set:d},Yf:{get:function(){return this.yb.reduce(function(a,b){return a+b.Yf;},0);},set:d},Jc:{get:function(){return this.yb.reduce(function(a,b){return a+b.Jc;},0);},set:d},Be:{get:function(){return this.rg;},set:d},l1:{get:function(){return this.ip;},set:d},url:{get:function(){return this.yb[0]&&this.yb[0].url;},set:d},readyState:{get:function(){return this.xe||this.yb.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},set:d},status:{get:function(){return this.Pu.WD;},set:d},Mj:{get:function(){return this.Pu.TK;},set:d},c_:{get:function(){return this.Pu.CV;},set:d},Uk:{get:function(){return this.Pu.aW;},set:d}});b.prototype.push=function(a){this.yD&&a.Xc(this.ph,this.yf);this.yb.push(a);this.iW&&a.open();};b.prototype.Xc=function(a,b){m.prototype.Xc.call(this,a,b);this.yb.forEach(function(c){c.Xc(a,b);});this.yD=!0;};b.prototype.rla=function(){return this.xe===g.Va.$l;};b.prototype.open=function(){return this.iW=this.yb.every(function(a){return a.open();});};b.prototype.ze=function(){this.yb.forEach(function(a){a.ze();});};b.prototype.I5=function(a){this.Mf=a;this.Pu={};this.xe=void 0;return this.yb.every(function(b){return b.readyState!==g.Va.DONE&&b.readyState!==g.Va.$l?b.I5(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.xe=g.Va.$l;this.sK=!0;this.yl=this.pk=!1;b=this.yb.map(function(a){return a.abort();}).every(function(a){return a;});this.MN(this,a);return b;};b.prototype.getResponseHeader=function(a){var b;this.yb.some(function(c){return b=c.getResponseHeader(a);});return b;};b.prototype.getAllResponseHeaders=function(){var a;this.yb.some(function(b){return a=b.getAllResponseHeaders();});return a;};b.prototype.Iw=function(a){this.pk||(this.pk=!0);this.xHa||(this.xHa=!0,this.Wj=0,this.rg=this.Ul=a.Be,this.ip=l.time.la()-this.rg,this.Rz(this));};b.prototype.xt=function(a){this.yl||(this.yl=!0);this.wHa||(this.wHa=!0,this.rg=a.Be,this.ip=l.time.la()-this.rg,this.Qz(this));};b.prototype.TG=function(a){this.rg=a.Be;this.xF(this);this.Wj=this.Jc;this.Ul=a.Be;};b.prototype.wi=function(a){this.rg=a.Be;this.ip=l.time.la()-this.rg;this.complete?(this.qf=!0,this.xe=g.Va.DONE,this.yl=this.pk=!1,this.wF(this)):this.xF(this);this.Wj=this.Jc;this.Ul=a.Be;};b.prototype.MA=function(a){this.rg=a.Be;this.ip=l.time.la()-this.rg;this.Pu=a;this.xe=g.Va.bm;this.NN(this);};b.prototype.FP=function(){};b.prototype.oi=function(){return this.yb[0].oi()+"-"+this.yb[this.yb.length-1].oi();};b.prototype.toString=function(){return"Compound["+this.yb.map(function(a){return a.toString();}).join(",")+"]";};f.P=b;},function(f,c,a){var h,l,g,m,p,r,u,v,k;function b(a,b,c,d,h,f,l){g.call(this,a,d);m.call(this,a,d,h,l);this.H=b;this.OK=c;this.vHa=!!d.Qs;this.hHa=!!d.Qv;this.yB=!!d.yB;this.BJa=d.ga;this.Dy=(f?"(cache)":"")+this.ib+" header";this.Oy(a.url||d.url,d.offset,d.ga);}function d(){h(!1);}h=a(21);c=a(71);l=a(9).Pa;g=a(267);m=a(265);p=a(173);r=a(13);u=a(30).Dv;v=a(79).YT;k=a(79).Mba;b.prototype=Object.create(m.prototype);c(g.prototype,b.prototype);Object.defineProperties(b.prototype,{track:{get:function(){return this.OK;},set:d},Qs:{get:function(){return this.vHa;},set:d},Qv:{get:function(){return this.hHa;},set:d},y4a:{get:function(){return this.BJa;},set:d},parseError:{get:function(){return this.vL;},set:d},Eoa:{get:function(){return this.qea;},set:d},o:{get:d,set:d}});b.prototype.H7a=function(){if(!this.TL)return!0;this.TL=!1;return this.nea();};b.prototype.Oy=function(a,b,c){a=new p(this.stream,this.OK,this.Dy+" ("+this.yb.length+")",{offset:b,ga:c,url:a,location:this.location,Ec:this.Ec,responseType:l.Ei.el},this,this.V);this.push(a);this.pf=this.yb.reduce(function(a,b){return a+b.ga;},0);};b.prototype.wi=function(a){this.Hi=this.Hi?u(this.Hi,a.response):a.response;a.lQ();this.nea()?m.prototype.wi.call(this,this):this.oca?(this.Oy(a.url,a.offset+a.ga,this.oca),m.prototype.wi.call(this,this)):this.NN(this);};b.prototype.nea=function(){var a,b,c;b=void 0!==this.Fx?this.Fx:this.H.Fx;c=void 0!==this.tv?this.tv:this.H.tv;this.O===r.G.VIDEO&&b?a=b:this.O===r.G.AUDIO&&c&&(a=c);a=new v(this.stream,this.Hi,["sidx"],this.O===r.G.VIDEO&&this.H.Rv||this.O===r.G.AUDIO&&this.H.Sp,{truncate:this.$m,Pt:a,dNa:this.O===r.G.AUDIO,d6:this.H.d6,xX:this.H.xX,ZP:this.H.ZP});a.addEventListener("error",this.AIa.bind(this));a.addEventListener("requestdata",this.FIa.bind(this));a.addEventListener("fragments",this.BIa.bind(this));a.addEventListener("vmafs",this.HIa.bind(this));a.addEventListener("sampledescriptions",this.GIa.bind(this));a.addEventListener("drmheader",this.zIa.bind(this));a.addEventListener("nflxheader",this.EIa.bind(this));a.addEventListener("keyid",this.DIa.bind(this));a.addEventListener("free",this.CIa.bind(this));a.addEventListener("done",this.yIa.bind(this));a.parse();this.xL&&(this.stream.T=this.tl,(this.If||this.bda)&&this.stream.y9a(this.If||new k(this.bda,this.ZD)),this.stream.T.spa(this.stream.bc,this.rL,this.oy,this.pca),this.pca=this.oy=this.rL=void 0);return this.xL;};b.prototype.AIa=function(a){this.xL=!1;this.vL=a.errormsg;};b.prototype.FIa=function(a){this.xL=!1;this.oca=a.bytes;};b.prototype.BIa=function(a){this.tl=a.fragments;this.rL=a.movieDataOffsets;this.oy=a.additionalSAPs;this.pca=a.additionalSAPsTimescale;this.TL=a.truncated;this.bda=a.defaultSampleDuration;this.ZD=a.timescale;};b.prototype.HIa=function(a){this.lfa=a.vmafs;};b.prototype.GIa=function(a){a.framelength&&a.samplerate&&(this.If=new k(a.framelength,a.samplerate));};b.prototype.zIa=function(a){var b;b=this.xy||{};b.source="mp4";b.ii=a.drmType;b.pi=a.header;this.xy=b;};b.prototype.EIa=function(a){this.bW=a.header;};b.prototype.DIa=function(a){var b;b=this.xy||{};b.jha=a.keyId;b.c0a=(b.c0a||[]).concat(a.offset);b.upb=a.flipped;this.xy=b;};b.prototype.CIa=function(a){this.kda=a.data;};b.prototype.yIa=function(a){var b;this.xL=!0;b=a.moovEnd;this.qea=a.parsedEnd;this.Hi=this.Hi.slice(0,b||this.qea);};f.P=b;},function(f,c,a){var h,l;function b(a,b){l.call(this,a,b);this.Hi=b.hq;this.tl=b.T;this.lfa=b.en;this.xy=b.Ti;this.bW=b.W2;this.kda=b.DN;this.TL=!!b.$m;}function d(){h(!1);}h=a(21);l=a(174);a(117);a(13);a(30);a(79);b.prototype=Object.create(l.prototype);Object.defineProperties(b.prototype,{zc:{get:function(){return!0;},set:d},data:{get:function(){return this.Hi;},set:d},hq:{get:function(){return this.Hi;},set:d},T:{get:function(){return this.stream.T;},set:d},en:{get:function(){return this.lfa;},set:d},Ti:{get:function(){return this.xy;},set:d},W2:{get:function(){return this.bW;},set:d},DN:{get:function(){return this.kda;},set:d},$m:{get:function(){return this.TL;},set:d},MTa:{get:function(){return!(!this.xy&&!this.bW);},set:function(){h(!1);}}});b.prototype.lMa=function(a){h(this.Hc.ib==a.ib);a.T||(a.T=this.T,this.bc&&(a.If=this.bc),a.T.spa(a.bc));!a.location&&this.Hc.location&&(a.location=this.Hc.location,a.Wb=this.Hc.Wb,a.HH=this.Hc.HH,a.url=this.Hc.url,a.ma=this.Hc.ma);this.Hc=a;};f.P=b;},function(f,c,a){var g,m,p,r,u,v;function b(a,b,c,d,g,h,f,l,p){this.vGa=a;this.zn=b;this.Nu=c;this.PL=d;this.Wu=p;this.stream=h;f instanceof ArrayBuffer?(this.data=f,this.offset=0,this.lZ=f.byteLength):(this.data=f.data,this.offset=f.offset||0,this.lZ=f.length||this.data.byteLength);this.level=p?p.level+1:0;this.qE={};this.IB=void 0;g&&(this.ic={});this.config=l||{};this.truncate=this.config.truncate;this.Pt=this.config.Pt;this.a5a=this.offset;this.YG=this.a5a+this.lZ;this.view=new DataView(this.data);this.zw=this.nM=0;}function d(a,b,c){return{type:"done",ctxt:c,moovEnd:a,parsedEnd:b};}function h(a,c,d,h,f,l){var m;h=h?[r.bU,r.aU]:void 0;m=Object.create(p.ic);f&&f.d6&&g(p.Gbb,m);f&&f.dNa&&g(p.eNa,m);b.call(this,m,d,h,["moof",r.A$],!1,a,c,f,l);}function l(a,c,d){b.call(this,p.ic,void 0,void 0,void 0,!0,a,c,void 0,d);}a(21);g=a(44);c=a(31).EventEmitter;m=new(a(9)).Console("MP4","media|asejs");p=a(269);r=a(175);u=a(68).Nca;v=a(68).Mca;a(68);b.prototype=Object.create(c);b.prototype.constructor=b;Object.defineProperties(b.prototype,{O:{get:function(){return this.stream.O;}},url:{get:function(){return this.stream.url;}},profile:{get:function(){return this.stream.profile;}},J:{get:function(){return this.stream.J;}}});b.prototype.wc=function(a){m.trace("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.ba=function(a){m.warn("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.uRa=function(a,b,c){var d;d=this.vGa[a];if(d)return new d(this,a,b,c);};b.prototype.eqa=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.qE[b]=a[b],this.PL&&-1!==this.PL.indexOf(b)&&(void 0===this.IB||a[b].offset<this.IB)&&(this.IB=a[b].offset));};b.prototype.parse=function(a){var b,c,d,g;for(this.wj=a;;){b=function(a,b,c,d,g){var h;if(a){h=a.indexOf(b);-1!=h&&(g.wc(d+" box "+b+" found at offset: 0x"+c.toString(16)),a.splice(h,1));}};this.xv=this.offset;if(8>this.YG-this.xv){this.zn&&0<this.zn.length&&this.Qea();break;}this.XX=this.Ua();c=this.Ua();d=u(c);if(0===this.XX){this.vL("MP4: invalid zero length box");break;}if(null===d){this.vL("MP4: invalid box type: "+c);break;}c=this.xv+this.XX;if(c>this.YG){this.wc("more data needed: 0x"+c.toString(16)+" > 0x"+this.YG.toString(16));this.Qea(d,c);break;}"uuid"===d&&(d=this.QD());if(this.PL&&-1!==this.PL.indexOf(d)){this.IB=this.xv;break;}g=this.uRa(d,this.xv,this.XX);if(g){if(!g.parse(a)){this.wc("box parser failed: "+d);break;}this.ic&&(void 0===this.ic[d]&&(this.ic[d]=[]),this.ic[d].push(g));}b(this.Nu,d,this.xv,"desired",this);b(this.zn,d,this.xv,"required",this);if(this.zn&&0===this.zn.length&&!(this.Nu&&this.Nu.length&&this.Nu.some(function(a){return this.qE[a];}.bind(this))))return this.wc("done: moov end offset: "+this.M2+", parsing end offset: "+c),this.oea(this.M2,c),!0;this.offset=c;if(this.IB===this.offset)break;}if(this.offset>=this.IB||this.offset>this.YG-8)return this.oea(this.M2,this.offset),!0;this.offset=this.xv;return!1;};b.prototype.Qea=function(a,b){a?(this.zn&&this.zn.length&&(1<this.zn.length||this.zn[0]!==a)?b=this.ykb||b+4096:this.Nu&&this.Nu.length&&(b=this.Nu.filter(function(a){return this.qE[a];}.bind(this)).reduce(function(a,b){return Math.max(a,this.qE[b].offset+this.qE[b].size||0);}.bind(this),b)),this.pea(b-this.YG)):this.pea(4096);};b.prototype.vL=function(a){this.ba("ERROR: "+a);a={type:"error",ctxt:this.wj,errormsg:a};this.Ha(a.type,a);};b.prototype.oea=function(a,b){var c;if(this.en){c={type:"vmafs",ctxt:this.wj,vmafs:this.en};this.Ha(c.type,c);}this.T&&(c={type:"fragments",ctxt:this.wj,fragments:this.T,truncated:this.$m,movieDataOffsets:this.vP,additionalSAPs:this.Fh,additionalSAPsTimescale:this.gMa||this.T.jb,timescale:this.jb,defaultSampleDuration:this.XE},this.Ha(c.type,c));c=d(a,b,this.wj);this.Ha(c.type,c);};b.prototype.pea=function(a){a={type:"requestdata",ctxt:this.wj,bytes:a};this.Ha(a.type,a);};b.prototype.Wr=function(a){if(this.Wu)this.Wu.o.Wr(a);else for(var b in a)this[b]=a[b];};b.prototype.Ue=function(a){for(;this.zw<a;)this.nM=(this.nM<<8)+this.Te(),this.zw+=8;this.zw-=a;return this.nM>>>this.zw&(1<<a)-1;};b.prototype.Te=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};b.prototype.Md=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};b.prototype.Ua=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};b.prototype.sW=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};b.prototype.zk=function(a,b,c){this.view.setUint32(void 0!==c?c:this.offset,a,b);this.offset+=4;};b.prototype.nfa=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};b.prototype.FJa=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);!b&&c&1&&this.ba("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};b.prototype.Ch=function(a,b){a=this.FJa(a,b);this.offset+=8;return a;};b.prototype.GJa=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);(0<a?a:-a)&1&&this.ba("Warning: read signed value > 56 bits");return 4294967296*a+b;};b.prototype.VJa=function(){var a;a=this.GJa();this.offset+=8;return a;};b.prototype.nLa=function(a,b){var c;c=Math.floor(a/4294967296);a&=4294967295;void 0!==b?(this.view.setUint32(b,c,!1),this.view.setUint32(b+4,a,!1)):(this.view.setUint32(this.offset,c,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};b.prototype.BL=function(){return u(this.Ua());};b.prototype.mLa=function(a){this.zk(v(a));};b.prototype.QD=function(){var b,c,d,g,h,f;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.Ua(!0);c=this.Md(!0);d=this.Md(!0);g=this.Md();h=this.Md();f=this.Ua();return[a(b,4),a(c,2),a(d,2),a(g,2),a(h,2)+a(f,4)].join("-");};b.prototype.Fea=function(a){var b;b=new DataView(this.data,this.offset,a);this.offset+=a;return b;};b.prototype.rW=function(a){for(var b=new Uint8Array(a),c=0;c<a;++c)b[c]=this.Te();return b;};b.prototype.UJa=function(a){for(var b=new Uint32Array(a),c=0;c<a;++c)b[c]=this.Ua();return b;};b.prototype.Gea=function(a){for(var b=this.Te(),c=this.Te(),d=c&127;c&128;)c=this.Te(),d=(d<<7)+(c&127);b=new(p.Hl[b]||p.Hl.base)(this,b,d);b.parse(a);return b;};h.prototype=Object.create(b.prototype);h.prototype.eZ=function(a,b,c,d){a=new h(this.stream,{data:this.data,offset:b,length:c},void 0,!1,this.config,a);d&&(a.ic={});return a;};l.prototype=Object.create(b.prototype);l.prototype.eZ=function(a,b,c){return new l(this.stream,{data:this.data,offset:b,length:c},a);};f.P={YT:h,XT:l,tja:d};},function(f,c,a){var wa,na,Y,aa,ta,db;function b(a,b,c,d){if(this.o=a)this.level=a.level;this.type=b;this.startOffset=c;this.OA=this.length=d;}function d(a,b,c){this.o=a;this.tag=b;this.startOffset=a.offset;this.length=c;}function h(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function l(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function g(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function m(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function p(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function r(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function u(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);this.Pt=a.config.Pt;this.YA=new aa(0,1);a.config.xX&&(c=a.config.ZP[a.profile])&&(a=c[a.J])&&(this.YA=new aa(a));}function v(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function k(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function w(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function G(a,c,d,g){b.call(this,a,c,d,g);}function x(a,b,c,d){this.Ga=G;this.Ga.call(this,a,b,c,d);}function y(a,b,c,d){x.call(this,a,b,c,d);}function C(a,b,c,d){x.call(this,a,b,c,d);}function F(a,c,d,g){b.call(this,a,c,d,g);}function N(a,c,d,g){b.call(this,a,c,d,g);}function n(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function q(a,b,c){d.call(this,a,b,c);}function Z(a,b,c){d.call(this,a,b,c);}function O(a,b,c){d.call(this,a,b,c);}function B(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function t(){for(var a=new DataView(this),b="",c,d=0;d<this.byteLength;d++)c=a.getUint8(d),b+=("00"+c.toString(16)).slice(-2);return b;}function V(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function D(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function S(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function da(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function X(a,b,c,d){this.Ga=h;this.Ga.call(this,a,b,c,d);}function U(a,b,c,d){this.Ga=h;this.Ga.call(this,a,b,c,d);}function ha(a){function c(c,d,g,h){this.Ga=b;this.Ga.call(this,c,d,g,h);this.Sna=a;}c.prototype=new b();c.prototype.constructor=c;Object.defineProperties(c.prototype,{L7:{get:function(){return this.Sna;}}});c.prototype.parse=function(){this.o.wc("renaming '"+this.type+"' to draft type '"+this.Sna+"'");this.o.offset=this.startOffset+4;this.o.mLa(this.L7);this.type=this.L7;return!0;};return c;}function ba(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function ea(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function ia(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function ka(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function ua(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function la(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function A(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function H(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function P(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}function Pa(a,c,d,g){this.Ga=b;this.Ga.call(this,a,c,d,g);}wa=a(21);na=a(175);Y=a(9);aa=a(72);ta=a(176);a(68);a(68);db=a(68).RGa;b.prototype.constructor=b;b.prototype.Wf=function(){var a,b,c;this.version=this.o.Te();a=this.o.Te();b=this.o.Te();c=this.o.Te();this.Ie=a<<16|b<<8|c;};b.prototype.parse=function(){return!0;};b.prototype.vF=function(a){this.o.Ha(a.type,a);};b.prototype.e_a=function(){};b.prototype.rz=function(a,b){var c;c=this.o.offset;b=this.o.eZ(this,c,this.length-(c-this.startOffset),b);b.zn=void 0;b.addEventListener("error",this.vF.bind(this));b.addEventListener("drmheader",this.vF.bind(this));b.addEventListener("nflxheader",this.vF.bind(this));b.addEventListener("keyid",this.vF.bind(this));b.addEventListener("requestdata",this.e_a.bind(this));b.addEventListener("sampledescriptions",this.vF.bind(this));this.ic=b.ic;b.parse(a);return!0;};b.prototype.bn=function(a){return void 0!==this.ic[a]&&1===this.ic[a].length?this.ic[a][0]:void 0;};b.prototype.zj=function(a,b){b=void 0===b?this.o.offset:b;wa(b>=this.startOffset+8&&b+a<=this.startOffset+this.OA,"Removal range [0x"+b.toString(16)+"-0x"+(b+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.OA).toString(16)+")");this.length-=a;this.o.zk(this.length,!1,this.startOffset);this.o.zj(a,b);};b.prototype.Ky=function(a,b,c){c=void 0===c?this.o.offset:c;wa(c>=this.startOffset+8&&c+a<=this.startOffset+this.OA,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.OA).toString(16)+")");this.length+=(b?b.byteLength:0)-a;this.o.zk(this.length,!1,this.startOffset);this.o.Ky(a,b,c);};d.prototype.parse=function(){this.o.offset=this.startOffset+this.length;this.o.zw=0;return!0;};d.prototype.skip=d.prototype.parse;d.prototype.Hea=function(){for(this.Hl=[];this.o.offset<this.startOffset+this.length;)this.Hl.push(this.o.Gea(this));};h.prototype=new b();h.prototype.constructor=h;h.prototype.parse=function(a){return this.rz(a);};l.prototype=new b();l.prototype.constructor=l;l.prototype.parse=function(a){var b;a=this.rz(a);b=this.startOffset+this.length;this.o.wc("marking end of moov: 0x"+b.toString(16));this.o.M2=b;return a;};g.prototype=new b();g.prototype.constructor=g;g.prototype.parse=function(a){var b;b=this.o.data.slice(this.o.offset,this.o.offset+this.length-8);a={type:"free",ctxt:a,data:b};this.o.Ha(a.type,a);return!0;};m.prototype=new b();m.prototype.constructor=m;m.prototype.parse=function(){var a;this.Wf();this.fileSize=this.o.Ch();this.jb=this.o.Ch();this.duration=this.o.Ch(!1,!0);this.hoa=this.o.Ch();this.o.Ch();this.Z3a=this.o.Ch();this.j3a=this.o.Ua();this.ioa=this.o.Ch();this.cja=this.o.Ua();this.Uia=this.o.QD();a={moof:{offset:this.hoa},sidx:{offset:this.ioa,size:this.cja}};a[na.A$]={offset:this.Z3a,size:this.j3a};this.o.offset-this.startOffset<=this.length-24&&(this.Y3a=this.o.Ch(),this.$2a=this.o.Ua(),this.X3a=this.o.Ch(),this.Y2a=this.o.Ua(),a[na.bU]={offset:this.Y3a,size:this.$2a},a[na.aU]={offset:this.X3a,size:this.Y2a});this.o.eqa(a);return!0;};p.prototype=new b();p.prototype.constructor=p;p.prototype.parse=function(){var a,d,g;this.Wf();1<=this.version&&(this.Uia=this.o.QD());a=this.o.Ua();this.ic={};for(var b=this.startOffset+this.length,c=0;c<a;++c){d=this.o.BL();"uuid"===d&&(d=this.o.QD());g=this.o.Ch();this.ic[d]={offset:b,size:g};b+=g;}this.o.eqa(this.ic);return!0;};r.prototype=new b();r.prototype.constructor=r;r.prototype.parse=function(){var a;this.Wf();1===this.version?(this.o.Ch(),this.o.Ch(),this.jb=this.o.Ua(),this.duration=this.o.Ch()):(this.o.Ua(),this.o.Ua(),this.jb=this.o.Ua(),this.duration=this.o.Ua());a=this.o.Md()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));this.o.Wr({jb:this.jb});return!0;};u.prototype=new b();u.prototype.constructor=u;u.prototype.DJa=function(){this.Wf();this.o.Ua();this.jb=this.o.Ua();this.YA=this.YA.Sq(this.jb);0===this.version?(this.JZ=this.o.Ua(),this.p_=this.o.Ua()):(this.JZ=this.o.Ch(),this.p_=this.o.Ch());this.X7a=this.o.Md();this.Wpa=this.o.Md();};u.prototype.parse=function(){var a,b,c,d,g,h,f,l,p,m,r,u,y;this.DJa();if(Y.X4a){this.o.wc("using platform segment index parser");this.o.offset=this.startOffset+8;b=this.o.Fea(this.length-8);b=Y.X4a(b,this.startOffset+this.length,this.o.url);if(!b||!b.success)return!1;a=new ta(b.data,this.o.O,this.jb);this.YA.Bf&&a.xMa(this.YA);this.o.Wr({T:a,$m:!1});}else{c=this.jb;d=this.JZ+this.YA.Bf;g=d;l=0;p=this.startOffset+this.length+this.p_;m=(b=this.o.config.truncate&&60<this.Wpa)?60:this.Wpa;r=this.o.Fea(12*m);u=0;if(this.Pt){for(var x=[],v=0;v<m;++v,u+=12){l+=r.getUint32(u);g+=r.getUint32(u+4);h=Math.max(0,db(d,c));f=db(g,c);a=f-h;if(this.Pt&&v<m-1){y=db(r.getUint32(u+4+12),c);if(Math.abs(a-this.Pt)>Math.abs(a+y-this.Pt))continue;}x.push({ga:l,X:h,offset:p,duration:a});p+=l;d=g;l=0;}a=ta.from(x,void 0,this.o.O,c);}else a=ta.from({length:m},function(){var a;l=r.getUint32(u);g=d+r.getUint32(u+4);h=Math.max(0,db(d,c));f=db(g,c);a={ga:l,X:h,offset:p,duration:f-h};p+=l;d=g;u+=12;return a;},this.o.O,c);this.o.Wr({T:a,$m:b});}return!0;};v.prototype=new b();v.prototype.constructor=v;v.prototype.parse=function(){for(var a=[],b=0;b<this.length;b++)a.push(this.o.Md()/100);this.o.Wr({en:a});return!0;};k.prototype=new b();k.prototype.constructor=k;Object.defineProperties(k.prototype,{FAa:{get:function(){return"e41f7029-c73c-344a-8c5b-ae90c7439a47";}},hCa:{get:function(){return"79f0049a-4098-8642-ab92-e65be0885f95";}}});k.prototype.parse=function(a){var b,c;this.Wf();b=this.o.QD();this.o.wc("parsing pssh box ID = "+b);c=this.o.Ua();this.o.wc("pssh size = 0x"+c.toString(16));c=this.o.data.slice(this.o.offset,this.o.offset+c);a={ctxt:a,header:c};if(b==this.hCa)a.type="drmheader",a.drmType="PlayReady";else if(b==this.FAa)a.type="nflxheader";else return this.o.wc("Unrecognized pssh systemID: "+b),!0;this.o.wc("Handling pssh type: "+a.type);this.o.Ha(a.type,a);return!0;};w.prototype=new b();w.prototype.constructor=w;w.prototype.parse=function(a){var b,c;this.Wf();this.o.Ua();if(a=this.rz(a,!0)){b={type:"sampledescriptions",ic:this.ic};c=Object.keys(this.ic);c.length&&this.ic[c[0]].length&&this.ic[c[0]][0]instanceof x&&(b.samplerate=this.ic[c[0]][0].w8a,b.framelength=this.ic[c[0]][0].QN);this.o.Ha(b.type,b);}return a;};G.prototype=Object.create(b.prototype);G.prototype.constructor=G;G.prototype.parse=function(){this.o.offset+=6;this.o.Md();};x.prototype=Object.create(G.prototype);x.prototype.constructor=x;x.prototype.parse=function(a){G.prototype.parse.call(this,a);this.o.offset+=8;this.o.Md();this.o.Md();this.o.offset+=4;this.w8a=this.o.Md();this.o.offset+=2;};y.prototype=Object.create(x.prototype);y.prototype.constructor=y;y.prototype.parse=function(a){var b;x.prototype.parse.call(this,a);if(a=this.rz(a,!0)){b=this.ic.esds;b.length&&3===b[0].Mx.tag&&b[0].Mx.Hl.length&&4===b[0].Mx.Hl[0].tag&&b[0].Mx.Hl[0].Hl.length&&5===b[0].Mx.Hl[0].Hl[0].tag&&(this.QN=this.ic.esds[0].Mx.Hl[0].Hl[0].QN);}return a;};C.prototype=Object.create(x.prototype);C.prototype.constructor=C;C.prototype.parse=function(a){x.prototype.parse.call(this,a);if(a=this.rz(a,!0))this.QN=1536;return a;};F.prototype=Object.create(b.prototype);F.prototype.parse=function(){this.o.Ue(2);this.o.Ue(5);this.o.Ue(3);this.o.Ue(3);this.o.Wrb(1);this.o.Ue(5);this.o.Ue(5);return!0;};N.prototype=Object.create(b.prototype);N.prototype.parse=function(){this.G3a=this.o.Md()&7;for(var a=0;a<this.G3a;a++)this.o.Ue(2),this.o.Ue(5),this.o.Ue(5),this.o.Ue(3),this.o.M6a(1),0<this.o.Ue(4)?this.o.M6a(9):this.o.Ue(1);return!0;};n.prototype=new b();n.prototype.constructor=n;n.prototype.parse=function(){this.Wf();this.Mx=this.o.Gea();return!0;};q.prototype=Object.create(d.prototype);q.prototype.parse=function(){var a;this.o.Md();a=this.o.Te();this.Q$a=!!(a&128);this.KFa=!!(a&64);this.dBa=!!(a&32);this.Q$a&&this.o.Md();this.KFa&&this.o.rW(this.o.Te());this.dBa&&this.o.Md();this.Hea();};Z.prototype=Object.create(d.prototype);Z.prototype.parse=function(){this.M3a=this.o.Te();this.o.Te();this.o.Md();this.o.Te();this.b2=this.o.Ua();this.o.Ua();this.Hea();};O.prototype=Object.create(d.prototype);O.prototype.Dpa=function(){var a;a=this.o.Ue(5);31===a&&(a=32+this.o.Ue(6));return a;};O.prototype.Kpa=function(){15!==this.o.Ue(4)||this.o.Ue(24);};O.prototype.parse=function(a){if(64===a.M3a)switch(this.uv=this.Dpa(),this.Kpa(),this.o.Ue(4),this.UUa=5===this.uv||29===this.uv?5:-1,0<this.UUa&&(this.Kpa(),this.uv=this.Dpa(),22===this.uv&&this.o.Ue(4)),this.uv){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.oja=this.o.Ue(1),(this.VSa=this.o.Ue(1))&&this.o.Ue(14),this.o.Ue(1),this.QN=3===this.uv?256:23===this.uv?this.oja?480:512:this.oja?960:1024;}this.skip();};B.prototype=new b();B.prototype.constructor=B;B.prototype.parse=function(a){this.o.offset+=8;this.o.offset+=16;this.o.Md();this.o.Md();this.o.offset+=14;this.o.offset+=32;this.o.offset+=4;return this.rz(a);};V.prototype=new b();V.prototype.constructor=V;V.prototype.parse=function(a){var b,c;this.Wf();this.o.offset+=4;b=this.o.offset;c=this.o.data.slice(b,b+16);c.toString=t;this.o.wc("read KID: "+c.toString());a={type:"keyid",ctxt:a,keyId:c,offset:b,flipped:!1};this.o.Ha(a.type,a);return!0;};D.prototype=new b();D.prototype.constructor=D;D.prototype.parse=function(){this.Wf();this.o.Ua();this.o.Ua();this.XE=this.o.Ua();this.Tha=this.o.Ua();this.Sha=this.o.Ua();this.o.Wr({XE:this.XE});return!0;};S.prototype=new b();S.prototype.constructor=S;S.prototype.parse=function(){this.Wf();this.Il=this.o.Md();this.b2a=this.o.UJa(this.Il);this.o.Wr({vP:this.b2a});return!0;};da.prototype=new b();da.prototype.constructor=da;da.prototype.parse=function(){var a,b,c,d,g,h,f,l;this.Wf();this.Il=this.o.Md();if(0===this.version)for(this.om=Array(this.Il),a=0;a<this.Il;++a){if(c=this.o.Te(),0!==c)for(this.om[a]=Array(c),b=0;b<c;++b)this.om[a][b]={timestamp:this.o.Ua(),offset:this.o.Ua()};}else if(1===this.version)for(this.om=[],a=0;a<this.Il;++a)f=this.o.Md(),d=this.o.Ua(),g=this.o.Ua(),void 0===this.om[f]&&(this.om[f]=[]),this.om[f].push({timestamp:d,offset:g});else for(this.om=[],this.jb=this.o.Ua(),c=this.o.Md(),a=0;a<c;++a)for(h=this.o.Md(),f=this.o.Md(),b=0;b<h;++b)d=this.o.Ua(),l=d>>>24,d&=16777215,g=this.o.Ua(),f+=l,void 0===this.om[f]&&(this.om[f]=[]),this.om[f].push({timestamp:d,offset:g});this.o.Wr({Fh:this.om,gMa:this.jb});return!0;};X.prototype=Object.create(h.prototype);X.prototype.constructor=X;X.prototype.parse=function(a){return h.prototype.parse.call(this,a);};U.prototype=Object.create(h.prototype);U.prototype.constructor=U;U.prototype.parse=function(a){if(!h.prototype.parse.call(this,a))return!1;if(a=this.bn("tfhd"))this.Fp=a.dga?a.Fp:this.o.Wu.startOffset;return!0;};ba.prototype=new b();ba.prototype.constructor=ba;ba.prototype.parse=function(){var a,b,m,r,d,h;a=this.o;b=a.offset;this.Wf();if(1===this.version){this.o.wc("translating vpcC box to draft equivalent");a.offset+=2;for(var c=a.offset,d=a.Te(),g=a.Te(),h=a.Te(),f=a.Te(),l=a.Md(),p=[],m=0;m<l;++m)p=a.Te();m=(d&240)>>>4;r=(d&14)>>>1;d=d&1;h=16===h?1:0;g!=f&&this.o.ba("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+g+" and matrixCoefficients "+f+" should be the same value!");f=2;switch(g){case 1:f=2;break;case 6:f=1;break;case 9:f=5;break;default:this.o.ba("VP9: Unknown colourPrimaries "+g+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;a.view.setUint8(b,this.version);a.view.setUint8(c++,m<<4|f);a.view.setUint8(c++,r<<4|h<<1|d);l+=2;p.push(0,0);a.view.setUint16(c,l);c+=2;p.forEach(function(b){a.view.setUint8(c++,b);});}return!0;};ea.prototype=new b();ea.prototype.constructor=ea;Object.defineProperties(ea.prototype,{dga:{get:function(){return this.Ie&1;}},v8a:{get:function(){return this.Ie&2;}},LSa:{get:function(){return this.Ie&8;}},OSa:{get:function(){return this.Ie&16;}},MSa:{get:function(){return this.Ie&32;}}});ea.prototype.parse=function(){this.Wf();this.o.Ua();this.Fp=this.dga?this.o.Ch():void 0;this.v8a&&this.o.Ua();this.XE=this.LSa?this.o.Ua():void 0;this.Tha=this.OSa?this.o.Ua():void 0;this.Sha=this.MSa?this.o.Ua():void 0;return!0;};ia.prototype=new b();ia.prototype.constructor=ia;ia.prototype.parse=function(){this.Wf();this.mE=1===this.version?this.o.Ch():this.o.Ua();return!0;};ia.prototype.yd=function(a){var b;b=this.startOffset+12;this.mE+=a;1===this.version?this.o.nLa(this.mE,b):this.o.zk(this.mE,!1,b);};ka.prototype=new b();ka.prototype.constructor=ka;Object.defineProperties(ka.prototype,{Kha:{get:function(){return this.Ie&1;}},r_:{get:function(){return this.Ie&4;}},AQ:{get:function(){return this.Ie&256;}},BQ:{get:function(){return this.Ie&512;}},Dqa:{get:function(){return this.Ie&1024;}},I4:{get:function(){return this.Ie&2048;}}});ka.prototype.parse=function(){this.Wf();this.mga=this.o.offset;this.$c=this.o.Ua();this.Qp=this.Kha?this.o.sW():0;this.r_&&this.o.Ua();this.yH=(this.AQ?4:0)+(this.BQ?4:0)+(this.Dqa?4:0)+(this.I4?4:0);this.FN=this.o.offset;wa(this.Kha,"Expected data offset to be present in Track Run");wa(this.length-(this.o.offset-this.startOffset)===this.$c*this.yH,"Expected remaining data in box to be sample information");return!0;};ka.prototype.PD=function(a,b,c){var d,g,h;d=this.AQ?this.o.Ua():a.XE;g=this.BQ?this.o.Ua():a.Tha;a=this.Dqa?this.o.Ua():a.Sha;h=0===this.version?this.I4?this.o.Ua():0:this.I4?this.o.sW():0;return{u8a:h,vsb:a,srb:c+h-(void 0!==b?b:h),Jq:g,zH:d};};ka.prototype.yd=function(a,b,c,d,g,h,f){var l,p,m,r;l=0;p=0;this.o.offset=this.FN;for(d=0;d<g;++d)r=this.PD(b,m,p),0==d&&(m=r.u8a),l+=r.Jq,p+=r.zH;d=g;g=this.o.offset;r=this.PD(b,m,p);this.wB=d;this.k$a=p;if(f){if(this.dB=this.Qp+l,this.Gq=0,d===this.$c)return!0;}else if(this.dB=this.Qp,this.Gq=l,0===d)return!0;if(0===d||d===this.$c)return!1;this.oia=!0;if(f){this.Gq+=r.Jq;for(f=d+1;f<this.$c;++f)r=this.PD(b,m,p),this.Gq+=r.Jq;this.o.offset=this.mga;this.$c=d;this.o.zk(this.$c);this.o.oL(h);this.r_&&(this.o.offset+=4);this.zj(this.length-(g-this.startOffset),g);}else b=g-this.FN,this.o.offset=this.mga,this.$c-=d,this.o.zk(this.$c),this.Qp+=l,this.o.oL(h),this.o.nfa(this.Qp),this.r_&&(this.o.offset+=4),this.zj(b,this.o.offset);c.zj(this.Gq,a.Fp+this.dB);return!0;};ka.prototype.K7a=function(a,b,c,d,g,h){var l;if(d){d=this.dB;for(var f=this.$c-1;0<=f&&this.$c-f<=g;--f){this.o.offset=this.FN+f*this.yH;l=this.PD(b);if(l.zH!=h.duration){this.o.ba("Could not replace sample of duration "+l.zH+" with silence of duration "+h.duration);break;}if(this.BQ)this.o.offset-=this.yH-(this.AQ?4:0),this.o.zk(h.Qt.byteLength);else if(h.Qt.byteLength!==l.Jq){this.o.ba("Cannot replace sample with default size with silence of different size");break;}d-=l.Jq;c.Ky(l.Jq,h.Qt,a.Fp+d);}}else for(d=this.dB+this.Gq,f=0;f<this.$c&&f<g;++f){this.o.offset=this.FN+(f+this.wB)*this.yH;l=this.PD(b);if(l.zH!=h.duration){this.o.ba("Could not replace sample of duration "+l.zH+" with silence of duration "+h.duration);break;}if(this.BQ)this.o.offset-=this.yH-(this.AQ?4:0),this.o.zk(h.Qt.byteLength);else if(h.Qt.byteLength!==l.Jq){this.o.ba("Cannot replace sample with default size with silence of different size");break;}c.Ky(l.Jq,h.Qt,a.Fp+d);d+=l.Jq;}};ua.prototype=Object.create(b.prototype);ua.prototype.constructor=ua;Object.defineProperties(ua.prototype,{wv:{get:function(){return this.Ie&1;}}});ua.prototype.parse=function(){this.Wf();this.wv&&this.o.BL();this.wv&&this.o.Ua();this.NSa=this.o.Te();this.$c=this.o.Ua();this.o.rW(this.$c);return!0;};ua.prototype.yd=function(a,b){if(a&&0===this.NSa){a=b?this.$c-a:a;this.o.offset=this.startOffset+13+(this.wv?8:0);this.$c-=a;this.o.zk(this.$c);this.H4=0;if(b)this.o.offset+=this.$c;else{for(b=0;b<a;++b)this.H4+=this.o.Te();this.o.offset-=a;}this.zj(a,this.o.offset);}return!0;};la.prototype=Object.create(b.prototype);la.prototype.constructor=la;Object.defineProperties(la.prototype,{wv:{get:function(){return this.Ie&1;}}});la.prototype.parse=function(){this.Wf();this.wv&&this.o.BL();this.wv&&this.o.Ua();this.Il=this.o.Ua();wa(1===this.Il,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Qp=0===this.version?this.o.sW():this.o.VJa();return!0;};la.prototype.yd=function(a,b){this.Qp+=a;this.o.offset=this.startOffset+16+(this.wv?8:0)+(0===this.version?0:4);this.o.oL(b);this.o.nfa(this.Qp);return!0;};A.prototype=Object.create(b.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{Aoa:{get:function(){return this.Ie&1;}},tcb:{get:function(){return this.Ie&2;}}});A.prototype.parse=function(){this.Wf();this.Aoa&&(this.o.Ua(),this.f0a=this.o.rW(16));this.$c=this.o.Ua();return!0;};A.prototype.yd=function(a,b){var c,d;c=b?this.$c-a:a;this.o.offset=this.startOffset+28+(this.Aoa?20:0);this.$c-=c;this.o.zk(this.$c);a=this.o.offset;if(this.tcb)for(c=b?this.$c:c;0<c;--c){this.o.offset+=8;d=this.o.Md();this.o.offset+=6*d;}else this.o.offset+=8*(b?this.$c:c);b?this.zj(this.length-(this.o.offset-this.startOffset),this.o.offset):this.zj(this.o.offset-a,a);};H.prototype=Object.create(b.prototype);H.prototype.constructor=H;H.prototype.parse=function(){this.Wf();return!0;};H.prototype.yd=function(a,b,c){c?this.zj(b-a,this.startOffset+12+a):this.zj(a,this.startOffset+12);return!0;};P.prototype=Object.create(b.prototype);P.prototype.constructor=P;P.prototype.parse=function(){this.Wf();this.o.BL();1===this.version&&this.o.Ua();this.Il=this.o.Ua();this.AH=[];for(var a=0;a<this.Il;++a)for(var b=this.o.Ua(),c=this.o.Ua(),d=0;d<b;++d)this.AH.push(c);return!0;};P.prototype.yd=function(a,b){this.AH=b?this.AH.slice(0,a):this.AH.slice(a);a=this.AH.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.o.offset=this.startOffset+16+(1===this.version?4:0);this.o.zk(a.length);a.forEach(function(a){this.o.zk(a.count);this.o.zk(a.group);}.bind(this));this.Il>a.length&&this.zj(8*(this.Il-a.length));this.Il=a.length;return!0;};Pa.prototype=Object.create(b.prototype);Pa.prototype.constructor=Pa;Pa.prototype.parse=function(){return!0;};c={ic:{encv:B,free:g,moov:l,trak:h,mdia:h,mdhd:r,minf:h,pssh:k,schi:h,sidx:u,sinf:h,stbl:h,stsd:w,tenc:V,mvex:h,trex:D,moof:X,traf:U,tfhd:ea,trun:ka,sbgp:P,sdtp:H,saiz:ua,saio:la,tfdt:ia,mdat:Pa,vmaf:v},Gbb:{vpcC:ba,SmDm:ha("smdm"),CoLL:ha("coll")},eNa:{mp4a:y,"ac-3":C,"ec-3":C,esds:n,dac3:F,dec3:N},Hl:{base:d,3:q,4:Z,5:O}};c.ic[na.DAa]=m;c.ic[na.EAa]=p;c.ic[na.CBa]=V;c.ic[na.bU]=S;c.ic[na.aU]=da;c.ic[na.Q$]=A;f.P=c;},function(f,c,a){var l,g,m,p,r;function b(a){return void 0===a?!0:a;}function d(a,c){this.Mr=a.Sa;this.Bc=a.Da||0;this.iGa=a.cs;this.SKa=a.lj;this.JKa=a.rh;this.xl=a.M;this.Lf=a.O;this.Hr=a.ib||a.id;this.XHa=a.FO;this.uGa=a.J;this.jLa=a.je;this.Yu=a.profile||a.le;this.If=a.bc;this.yKa=a.$k;this.Ye=b(a.Ye);this.inRange=b(a.inRange);this.Cz=a.Cz;this.Ok=b(a.Ok);this.ZQ=!!a.ZQ;this.tG=a.tG;this.ma=a.ma;this.T=a.T;this.Wb=this.location=void 0;this.V=c;}function h(){l(!1);}l=a(21);g=a(44);m=a(13);p=a(79).Mba;r=a(67);d.prototype={};Object.defineProperties(d.prototype,{B_a:{get:function(){return!0;},set:h},Sa:{get:function(){return this.Mr;},set:h},Da:{get:function(){return this.Bc;},set:h},cs:{get:function(){return this.iGa;},set:h},lj:{get:function(){return this.SKa;},set:h},rh:{get:function(){return this.JKa;},set:h},M:{get:function(){return this.xl;},set:h},O:{get:function(){return this.Lf;},set:h},ib:{get:function(){return this.Hr;},set:h},id:{get:function(){return this.Hr;},set:h},FO:{get:function(){return this.XHa;},set:h},J:{get:function(){return this.uGa;},set:h},je:{get:function(){return this.jLa;},set:h},profile:{get:function(){return this.Yu;},set:h},le:{get:function(){return this.Yu;},set:h},bc:{get:function(){return this.If||this.lLa();},set:h},$k:{get:function(){return this.yKa;},set:h},jb:{get:function(){return this.T&&this.T.jb;},set:h},VVa:{get:function(){return this.If.jb;},set:h},UVa:{get:function(){return this.If.Bf;},set:h},Kn:{get:function(){return this.If.Bf;},set:h},Mn:{get:function(){return this.If.jb;},set:h},pla:{get:function(){return this.If.hh;},set:h},X:{get:function(){return 0;},set:h}});d.pja=function(a,b,c,h,f,l,r){var u,x,v,y;u=b[["audio_tracks","video_tracks"][c]][h].streams[f];x=u.content_profile;v=c===m.G.AUDIO?b.video_tracks.length+h:h;y=c===m.G.VIDEO?new p(u.framerate_scale,u.framerate_value):l&&l.bc;return new d(g(l,{Sa:b,M:1*b.movieId,id:u.downloadable_id,J:u.bitrate,je:u.vmaf,le:x,bc:y,$k:u.sidx,Da:a,O:c,cs:v,lj:h,rh:f,FO:-1==x.indexOf("none")}),r);};d.prototype.lLa=function(){return this.Lf===m.G.VIDEO?new p(24,1001):new p(3072,24E3);};d.prototype.Vi=function(a){return new r(this,this.T.get(a));};d.prototype.Nja=function(a){var b,c,d;b=this.Vi(a.index);if(a.Lc){c=a.Lc;if(this.O===m.G.VIDEO&&this!==a.stream){if(b.Fh.some(function(a,b){d=b;return a.Rd===c.Rd;}))c=b.Fh[d];else return b;}b.oq(c,a.mi!==a.fa);b.JH(a.Ut);}return b;};d.prototype.y9a=function(a){this.If=a;};d.prototype.toJSON=function(){return{M:this.M,O:this.O,ib:this.ib,J:this.J};};d.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.ib+":"+this.J;};f.P=d;},function(f){f.P=function(c,a){var b;if(!Array.isArray(c.kha))return c;b=Object.create(c);c.kha.forEach(function(c){if(void 0!==c.H2a&&a.duration>=c.H2a&&c.config)for(var d in c.config)b[d]=c.config[d];});return b;};},function(f,c,a){(function(){var O1c,m,p,r,u,v,k,w,n9W,P9W;function b(a,b,c){var z1c,d,g,h;z1c=2;while(z1c!==3){switch(z1c){case 5:a.some(function(a){var X1c,c;X1c=2;while(X1c!==6){switch(X1c){case 4:X1c=b<=c?3:9;break;case 3:return d=h&&c!==g?h+(a-h)/(c-g)*(b-g):a,!0;break;case 2:c=a.b;a=a.m;X1c=4;break;case 9:g=c;d=h=a;return!1;break;}}});z1c=4;break;case 2:z1c=1;break;case 4:return d;break;case 1:z1c=c?5:9;break;case 9:a.some(function(a){var k1c;k1c=2;while(k1c!==5){switch(k1c){case 2:d=a.m;return b<=a.b;break;}}});z1c=4;break;}}}function g(a,b){var u7c;u7c=2;while(u7c!==7){switch(u7c){case 5:this.tGa=r(a.Cl.threshold||6E3,1,1E5);this.sGa=r(a.Cl.gamma||1,.1,10);this.lda=a.Cl.filter;u7c=9;break;case 9:this.zKa=!!a.Cl.simpleScaling;a.Cl.niqrfilter&&a.Cl.niqrcurve&&(this.cW=a.Cl.niqrfilter,this.JIa=u(a.Cl.niqrcurve,1,0,4));u7c=7;break;case 2:h.call(this,a,b);Array.isArray(a.Cl.curves)?(this.Zca=u(a.Cl.curves[0],0,0,1),this.Yca=u(a.Cl.curves[1],0,0,1)):this.Xca=u(a.Cl.curves,0,0,1);u7c=5;break;}}}O1c=2;while(O1c!==25){n9W="me";n9W+="d";n9W+="i";n9W+="a|ase";n9W+="js";P9W="A";P9W+="SE";P9W+="JS_PREDICTOR";switch(O1c){case 2:m=a(10);a(13);O1c=4;break;case 4:new(a(9)).Console(P9W,n9W);p=a(35);r=p.FE;O1c=8;break;case 8:u=p.Mga;v=p.Hia;k=p.KUa;O1c=14;break;case 15:g.prototype.wea=function(a,b){var n7c;n7c=2;while(n7c!==1){switch(n7c){case 2:return c(this.H,a,b);break;case 4:return c(this.H,a,b);break;n7c=1;break;}}};g.prototype.xea=function(a,b){var Q7c,c,d,g;Q7c=2;while(Q7c!==13){switch(Q7c){case 2:c=a.ia&&a.ia.ta||0;Q7c=5;break;case 5:d=Math.pow(Math.max(1-(a[this.lda]&&a[this.lda].ta||c)/this.tGa,0),this.sGa);g=b.Qi-b.me;Q7c=3;break;case 3:Q7c=a.fpa?9:8;break;case 8:this.Xca?d*=v(this.Xca,g,d):this.zKa?(b=v(this.Zca,g,1),g=v(this.Yca,g,1),d=b*d+g*(1-d)):d=v(w(this.Zca,this.Yca,d),g,1);a=this.cW&&a[this.cW]&&a[this.cW].ut;void 0!==a&&(a=k(this.JIa,a),d=Math.min(d*a,1));v7AA.t9W(0);return this.uV(v7AA.J9W(c,1,d));break;case 9:return this.uV((1-a.fpa)*c);break;}}};f.P=function(a,b){var W7c,j7c,k9W;W7c=2;while(W7c!==5){k9W="m";k9W+="a";k9W+="nifol";k9W+="d";switch(W7c){case 1:return new g(a,b);break;case 2:j7c=a.Y1;W7c=j7c===k9W?1:4;break;case 14:return new l(a,b);break;W7c=5;break;case 4:return new l(a,b);break;}}};O1c=25;break;case 11:l.prototype=Object.create(h.prototype);l.prototype.yHa=function(a,c){var x7c,d,g;x7c=2;while(x7c!==8){switch(x7c){case 9:return g;break;case 2:d=this.H;g=c?d.NY:d.QX;c=c?d.OY:d.SX;m.isArray(c)&&(g=b(c,a.Qi-a.me,d.RX));x7c=9;break;}}};l.prototype.wea=function(a,b){var S7c;S7c=2;while(S7c!==1){switch(S7c){case 4:return c(this.H,a,b);break;S7c=1;break;case 2:return c(this.H,a,b);break;}}};l.prototype.xea=function(a,b){var P7c,c;P7c=2;while(P7c!==3){switch(P7c){case 2:c=this.xKa(a,this.H);a=a.ia?a.ia.ta*(100-this.yHa(b,c))/100|0:0;return this.uV(a);break;}}};O1c=18;break;case 14:w=p.Gqa;h.prototype.sB=function(a){var B7c;B7c=2;while(B7c!==1){switch(B7c){case 4:this.iD=a;B7c=3;break;B7c=1;break;case 2:this.iD=a;B7c=1;break;}}};h.prototype.uV=function(a){var E7c,b,c;E7c=2;while(E7c!==9){switch(E7c){case 1:b=this.H;m.Ja(this.iD)?c=a*(100-b.AR)/100:(c=this.iD,c=a<2*c?a/2:a-c);b.v1&&this.Oda?(b=this.Oda,a=Math.max(a<2*b?a/2:a-b,c)):a=c;return a;break;case 2:E7c=1;break;}}};O1c=11;break;case 18:l.prototype.xKa=function(a,b){var R7c,c,d;R7c=2;while(R7c!==9){switch(R7c){case 3:return c;break;case 2:c=!1;d=b.JE;a.Gm?c=!0:b.J5&&a.ia&&a.ia.ta<d?c=!0:a.Dq&&(c=!0);R7c=3;break;}}};Object.create(l.prototype);g.prototype=Object.create(h.prototype);O1c=15;break;}}function l(a,b){var M7c;M7c=2;while(M7c!==1){switch(M7c){case 4:h.call(this,a,b);M7c=0;break;M7c=1;break;case 2:h.call(this,a,b);M7c=1;break;}}}function c(a,b,c){var A1c;A1c=2;while(A1c!==5){switch(A1c){case 2:b=b.ia?b.ia.ta:0;return a.wNa?(a=v(a.vNa,c.Qi-c.me,1),b*(1-a)):b*a.AR/100;break;}}}function h(a,b){var V1c;V1c=2;while(V1c!==9){switch(V1c){case 2:this.iD=null;this.H=a;this.Oda=b;this.gpa=function(a,b){var i1c;i1c=2;while(i1c!==1){switch(i1c){case 4:return this.wea(a,b);break;i1c=1;break;case 2:return this.wea(a,b);break;}}}.bind(this);V1c=3;break;case 3:this.hpa=function(a,b){var w7c;w7c=2;while(w7c!==1){switch(w7c){case 4:return this.xea(a,b);break;w7c=1;break;case 2:return this.xea(a,b);break;}}}.bind(this);V1c=9;break;}}}}());},function(f,c,a){var d;function b(){this.Ki=void 0;this.Ur=0;}d=a(10);b.prototype.ae=function(){return 0!==this.Ur&&this.Ki?{p25:this.Ki.jh,p50:this.Ki.Tf,p75:this.Ki.kh,c:this.Ur}:null;};b.prototype.qh=function(a){if(!(!d.Ja(a)&&d.has(a,"p25")&&d.has(a,"p50")&&d.has(a,"p75")&&d.has(a,"c")&&d.isFinite(a.p25)&&d.isFinite(a.p50)&&d.isFinite(a.p75)&&d.isFinite(a.c)))return this.Ki=void 0,this.Ur=0,!1;this.Ki={jh:a.p25,Tf:a.p50,kh:a.p75};this.Ur=a.c;};b.prototype.get=function(){return{Om:this.Ki,vo:this.Ur};};b.prototype.set=function(a,b){this.Ki=a;this.Ur=b;};b.prototype.reset=function(){this.Ki=void 0;this.Ur=0;};b.prototype.toString=function(){return"IQRHist("+this.Ki+","+this.Ur+")";};f.P=b;},function(f){function c(){}function a(a){this.efa=a;this.qk=[];this.Vd=null;}c.prototype.clear=function(){this.Qc=null;this.size=0;};c.prototype.find=function(a){var c;for(var b=this.Qc;null!==b;){c=this.Gi(a,b.data);if(0===c)return b.data;b=b.Ae(0<c);}return null;};c.prototype.lowerBound=function(a){var g;for(var b=this.Qc,c=this.iterator(),f=this.Gi;null!==b;){g=f(a,b.data);if(0===g)return c.Vd=b,c;c.qk.push(b);b=b.Ae(0<g);}for(g=c.qk.length-1;0<=g;--g)if(b=c.qk[g],0>f(a,b.data))return c.Vd=b,c.qk.length=g,c;c.qk.length=0;return c;};c.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Gi;null!==b.data()&&0===c(b.data(),a);)b.next();return b;};c.prototype.min=function(){var a;a=this.Qc;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};c.prototype.max=function(){var a;a=this.Qc;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};c.prototype.iterator=function(){return new a(this);};c.prototype.Kc=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c);};a.prototype.data=function(){return null!==this.Vd?this.Vd.data:null;};a.prototype.next=function(){var a;if(null===this.Vd){a=this.efa.Qc;null!==a&&this.Xda(a);}else if(null===this.Vd.right){do if(a=this.Vd,this.qk.length)this.Vd=this.qk.pop();else{this.Vd=null;break;}while(this.Vd.right===a);}else this.qk.push(this.Vd),this.Xda(this.Vd.right);return null!==this.Vd?this.Vd.data:null;};a.prototype.Tw=function(){var a;if(null===this.Vd){a=this.efa.Qc;null!==a&&this.Rda(a);}else if(null===this.Vd.left){do if(a=this.Vd,this.qk.length)this.Vd=this.qk.pop();else{this.Vd=null;break;}while(this.Vd.left===a);}else this.qk.push(this.Vd),this.Rda(this.Vd.left);return null!==this.Vd?this.Vd.data:null;};a.prototype.Xda=function(a){for(;null!==a.left;)this.qk.push(a),a=a.left;this.Vd=a;};a.prototype.Rda=function(a){for(;null!==a.right;)this.qk.push(a),a=a.right;this.Vd=a;};f.P=c;},function(f,c,a){var d,h;function b(a){this.H={sG:a.maxc||25,IY:a.c||.5,Vcb:a.w||15E3,dz:a.b||5E3};d.call(this,this.H.Vcb,this.H.dz);this.UD();}d=a(101);h=a(178).TDigest;b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var a;a=this.$G(0);d.prototype.shift.call(this);null!==a&&(this.ed.push(a,1),this.Yr=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.ed.push(a,1);this.Yr=!0;d.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.ska();};b.prototype.aq=function(){var a;a=this.ska();return{min:a.min,p10:a.WG,p25:a.jh,p50:a.Tf,p75:a.kh,p90:a.XG,max:a.max,centroidSize:a.ROa,sampleSize:a.gx,centroids:a.tf};};b.prototype.ska=function(){var a;if(0===this.ed.size())return null;a=this.ed.cf([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Yr||!this.Gc)this.Yr=!1,this.Gc={min:a[0],WG:a[1],jh:a[2],Tf:a[3],kh:a[4],XG:a[5],max:a[6],cf:this.ed.cf.bind(this.ed),ROa:this.ed.size(),gx:this.ed.n,tf:this.MWa(),aq:this.aq.bind(this)};return this.Gc;};b.prototype.MWa=function(){var a;if(0===this.ed.size())return null;if(!this.Yr&&this.Gc)return this.Gc.centroids;a=this.ed.cf([.25,.75]);if(a[0]===a[1])return null;this.ed.size()>this.H.sG&&this.ed.Np();a=this.ed.sx(!1).map(function(a){return{mean:a.Qd,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.ed.size();};b.prototype.toString=function(){return"btdtput("+this.Uy+","+this.Mb+","+this.wg+"): "+this.ed.summary();};b.prototype.UD=function(){this.ed=new h(this.H.IY,this.H.sG);};f.P=b;},function(f,c,a){var d,h;function b(a,b,c,f){d.call(this,c,f);this.xn=new h(a);this.sIa=b;}d=a(101);h=a(179);b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var a;a=this.$G(0);d.prototype.shift.call(this);null!==a&&this.xn.jX(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.xn.jX(a);d.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.U_();return{gx:this.Zz(),Om:a,ut:a.Tf?(a.kh-a.jh)/a.Tf:void 0};};b.prototype.Zz=function(){return this.xn.Zz();};b.prototype.U_=function(){return this.xn.Zz()<this.sIa?{jh:void 0,Tf:void 0,kh:void 0,gx:void 0,cf:void 0}:{jh:this.xn.rs(25),Tf:this.xn.rs(50),kh:this.xn.rs(75),gx:this.xn.Zz(),cf:this.xn.rs.bind(this.xn)};};b.prototype.toString=function(){return"biqr("+this.Uy+","+this.Mb+","+this.wg+")";};f.P=b;},function(f,c,a){var h;function b(a){this.TW=a;this.reset();}function d(a){this.wg=new b(a);this.Zb=0;this.zb=null;}h=a(10);b.prototype.Dea=function(a,b){this.ya+=a;this.wd+=a;this.pf+=b;this.yn.push({d:a,Cp:b});};b.prototype.Bea=function(){var a;for(;this.wd>this.TW;){a=this.yn.shift();this.pf-=a.Cp;this.wd-=a.d;}};b.prototype.reset=function(){this.yn=[];this.ya=null;this.wd=this.pf=0;};b.prototype.setInterval=function(a){this.TW=a;this.Bea();};b.prototype.start=function(a){h.Ja(this.ya)&&(this.ya=a);};b.prototype.add=function(a,b,c){h.Ja(this.ya)&&(this.ya=b);b>this.ya&&this.Dea(b-this.ya,0);this.Dea(c>this.ya?c-this.ya:0,a);this.Bea();};b.prototype.get=function(){return{ta:Math.floor(8*this.pf/this.wd),cg:0};};d.prototype.reset=function(){this.wg.reset();this.Zb=0;this.zb=null;};d.prototype.add=function(a,b,c){!h.Ja(this.zb)&&c>this.zb&&(b>this.zb&&(this.Zb+=b-this.zb),this.zb=null);this.wg.add(a,b-this.Zb,c-this.Zb);};d.prototype.start=function(a){!h.Ja(this.zb)&&a>this.zb&&(this.Zb+=a-this.zb,this.zb=null);this.wg.start(a-this.Zb);};d.prototype.stop=function(a){this.zb=h.Ja(this.zb)?a:Math.min(a,this.zb);};d.prototype.get=function(){return this.wg.get();};d.prototype.setInterval=function(a){this.wg.setInterval(a);};f.P={seb:b,Gwa:d};},function(f,c,a){var l;function b(a,b){this.reset();this.H9a(a,b);}function d(a,b){this.mea=b;this.mfa=1.25;this.setInterval(a);this.reset();}function h(a,b){this.Gr=new d(a,b);this.Zb=0;this.zb=null;}l=a(10);b.prototype.H9a=function(a,b){this.Gu=Math.pow(.5,1/a);this.wD=a;this.Ir=l.da(b)?b:0;};b.prototype.reset=function(a){a&&a.ta&&l.da(a.ta)?a.cg&&l.da(a.cg)?(this.Ah=this.Ir,this.$h=a.ta,this.un=a.cg+a.ta*a.ta):(this.Ah=this.Ir,this.$h=a.ta,this.un=a.ta*a.ta):this.un=this.$h=this.Ah=0;};b.prototype.add=function(a){var b;if(l.da(a)){this.Ah++;b=this.Ah>this.Ir?this.Gu:1-1/this.Ah;this.$h=b*this.$h+(1-b)*a;this.un=b*this.un+(1-b)*a*a;}};b.prototype.get=function(){var a,b,c;if(0===this.Ah)return{ta:0,cg:0};a=this.$h;b=this.un;if(0===this.Ir)c=1-Math.pow(this.Gu,this.Ah),a=a/c,b=b/c;c=a*a;return{ta:Math.floor(a),cg:Math.floor(b>c?b-c:0)};};b.prototype.ae=function(){var a;if(0===this.Ah)return null;a={a:Math.round(this.$h),s:Math.round(this.un)};this.Ah<this.Ir&&(a.c=this.Ah);this.Ir||(a.n=this.Ah);return a;};b.prototype.qh=function(a){if(l.Ja(a)||!l.has(a,"a")||!l.has(a,"s")||!l.isFinite(a.a)||!l.isFinite(a.s))return this.un=this.$h=this.Ah=0,!1;this.$h=a.a;this.un=a.s;this.Ir?l.has(a,"c")&&l.da(a.c)?this.Ah=a.c:l.has(a,"n")&&l.da(a.n)?(this.Ah=a.n,a=1-Math.pow(this.Gu,a.n),this.$h/=a,this.un/=a):this.Ah=this.Ir:l.has(a,"n")&&l.da(a.n)?this.Ah=a.n:this.Ah=16*this.wD;return!0;};d.prototype.setInterval=function(a){this.wD=a;this.Gu=-Math.log(.5)/a;};d.prototype.reset=function(a){this.ya=this.vc=null;this.ZL=this.mea||0;a&&l.isFinite(a.ta)?(this.mD=0,this.$h=a.ta):this.$h=this.mD=0;};d.prototype.start=function(a){l.Ja(this.vc)&&(this.ya=this.vc=a);};d.prototype.add=function(a,b,c){var d,g;l.Ja(this.vc)&&(this.ya=this.vc=b);this.vc=Math.min(this.vc,b);this.ya<this.vc+this.ZL&&c>this.vc+this.ZL&&0<this.ya-this.vc&&(this.$h=this.mD/(this.ya-this.vc));b=Math.max(c-b,1);a=8*a/b;d=this.Gu;g=c>this.ya?c:this.ya;this.$h=this.$h*(g>this.ya?Math.exp(-d*(g-this.ya)):1)+a*(1-Math.exp(-d*b))*(c>g?Math.exp(-d*(g-c)):1);this.ya=g;this.mD+=a*b;};d.prototype.get=function(a){var b;a=Math.max(a,this.ya);b=this.$h*Math.exp(-this.Gu*(a-this.ya));0===this.ZL?(a=1-Math.exp(-this.Gu*(a-this.vc)),0<a&&(b/=a)):null!==this.ya&&this.ya<=this.vc+this.ZL&&(a=this.mD/Math.max(this.ya-this.vc,1),b=b<a*this.mfa&&b>a/this.mfa?b:a);return{ta:Math.floor(b)};};d.prototype.toString=function(){return"ewmav("+this.wD+","+this.mea+")";};h.prototype.setInterval=function(a){this.Gr.setInterval(a);};h.prototype.reset=function(a){this.Gr.reset(a);this.Zb=0;this.zb=null;};h.prototype.start=function(a){!l.Ja(this.zb)&&a>this.zb&&(this.Zb+=a-this.zb,this.zb=null);this.Gr.start(a-this.Zb);};h.prototype.add=function(a,b,c){!l.Ja(this.zb)&&c>this.zb&&(this.Zb+=b>this.zb?b-this.zb:0,this.zb=null);this.Gr.add(a,b-this.Zb,c-this.Zb);};h.prototype.stop=function(a){this.zb=Math.max(l.Ja(this.Gr.ya)?0:this.Gr.ya+this.Zb,l.Ja(this.zb)?a:Math.min(this.zb,a));};h.prototype.get=function(a){return this.Gr.get((l.Ja(this.zb)?a:this.zb)-this.Zb);};h.prototype.toString=function(){return this.Gr.toString();};f.P={Hwa:b,teb:d,Fwa:h};},function(f,c,a){f.P={mnb:a(278),Psb:a(277),ceb:a(516),beb:a(276),deb:a(275),z8:a(510)};},function(f){var p,r,u,v,k,w;function c(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(p===setTimeout)return setTimeout(a,0);if((p===c||!p)&&setTimeout)return p=setTimeout,setTimeout(a,0);try{return p(a,0);}catch(x){try{return p.call(null,a,0);}catch(y){return p.call(this,a,0);}}}function d(b){if(r===clearTimeout)clearTimeout(b);else if(r!==a&&r||!clearTimeout)try{r(b);}catch(x){try{r.call(null,b);}catch(y){r.call(this,b);}}else r=clearTimeout,clearTimeout(b);}function h(){v&&k&&(v=!1,k.length?u=k.concat(u):w=-1,u.length&&l());}function l(){var a;if(!v){a=b(h);v=!0;for(var c=u.length;c;){k=u;for(u=[];++w<c;)k&&k[w].zQ();w=-1;c=u.length;}k=null;v=!1;d(a);}}function g(a,b){this.gWa=a;this.Jn=b;}function m(){}f=f.P={};try{p="function"===typeof setTimeout?setTimeout:c;}catch(G){p=c;}try{r="function"===typeof clearTimeout?clearTimeout:a;}catch(G){r=a;}u=[];v=!1;w=-1;f.tqb=function(a){var c;c=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];u.push(new g(a,c));1!==u.length||v||b(l);};g.prototype.zQ=function(){this.gWa.apply(null,this.Jn);};f.title="browser";f.klb=!0;f.DUa={};f.Pkb=[];f.version="";f.Ktb={};f.on=m;f.addListener=m;f.once=m;f.Fqb=m;f.removeListener=m;f.removeAllListeners=m;f.emit=m;f.qrb=m;f.rrb=m;f.listeners=function(){return[];};f.ilb=function(){throw Error("process.binding is not supported");};f.lmb=function(){return"/";};f.Clb=function(){throw Error("process.chdir is not supported");};f.xtb=function(){return 0;};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d={Va:{CLOSED:0,OPEN:1,PS:2,name:["CLOSED","OPEN","ENDED"]}};c.fAa=Object.assign(function(c){var h,g;h=a(9);b.Cc("MediaSourceASE").trace("Inside MediaSourceASE");g=c.R_();this.readyState=d.Va.CLOSED;this.sourceBuffers=g.sourceBuffers;this.addSourceBuffer=function(a){return g.addSourceBuffer(a);};this.kX=function(a){return g.kX(a);};this.removeSourceBuffer=function(a){return g.removeSourceBuffer(a);};this.ym=function(a){return g.ym(a);};this.sourceId=h.HF();h.WF();this.duration=void 0;g.p9a(this.sourceId);this.readyState=d.Va.OPEN;},d);},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(6);h=a(28);c.oBa=function(){b.Cc("OpenConnectSideChannel");return{zF:function(a,b,c){h.Za.h$a({url:a.url,A8a:c});},e6:d.Gb};}();},function(f,c,a){var d,h,l,g,m;function b(a){var G;for(var b=l.T4a(a),c,f,p,k=0;k<b.length;k+=2){c=b[k];if("moof"!=c.type||"mdat"!=b[k+1].type)throw l.log.error("data is not moof-mdat box pairs",{boxType:c.type,nextBoxType:b[k+1].type}),Error("data is not moof-mdat box pairs");if(d.config.$cb&&"moof"==c.type&&(f=c.$p("traf/saio"),p=c.$p("traf/"+h.xua),f&&p&&(p=p.nNa.byteOffset-c.raw.byteOffset,f.Cqa[0]!=p))){l.log.error("Repairing bad SAIO",{saioOffsets:f.Cqa[0],auxDataOffsets:p});G=f;f=p;p=new g(G.raw);p.seek(G.size-G.Op);G=p.qd(1);p.qd(3)&1&&(p.Aa(),p.Aa());G=1<=G?8:4;p.Aa();p.lta(f,G);}if(d.config.z6&&"moof"==c.type&&(f=c.$p("traf/tfhd"),(c=f.Rha)&&c.t8a)){c=void 0;p=new g(f.raw);p.seek(f.size-f.Op);G=p.qd(3);p.Aa();switch(f.type){case"tfhd":G&1&&p.ff();G&2&&p.Aa();G&8&&p.Aa();G&16&&p.Aa();G&32&&(c=p.re(2));break;case"trex":p.Aa(),p.Aa(),p.Aa(),c=p.re(2);}m.ea(c);c&&(c[1]&=254);}}return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(4);h=a(6);l=a(3);g=a(94);m=a(8);c.bAa=function(a){return b(new Uint8Array(a));};c.xjb=function(a){return b(a);};c.Pqb=b;},function(f,c,a){var b,d,h,l,g,m,p,r,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(182);d=a(135);h=a(4);l=a(73);g=a(283);m=a(17);p=a(3);r=a(14);u=a(28);c.l2a=function(){var f,k,G;function c(a,b,f){var r,x;function p(){a.removeEventListener(d.Pa.bd.uu,p);a.qF?a.qF++:a.qF=1;a.qF>=h.config.b_.length&&(a.qF=h.config.b_.length-1);setTimeout(function(){c(a,b,f);},h.config.b_[a.qF]);}a.npb=!0;r=k.download({url:a.url,responseType:u.Xs,withCredentials:!1,Az:"media-request-download-service",offset:b.start,length:a.Yf,track:{type:a.O===G.G.AUDIO?l.$q:l.ar},stream:{ac:a.ib,J:a.J},Ya:a.Ec,bj:a,o:a.zc?void 0:g.bAa,YQ:f},function(b){b.K&&a.readyState!==d.Pa.Va.DONE&&a.readyState!==d.Pa.Va.$l&&(a.readyState!==d.Pa.Va.bm&&a.readyState===d.Pa.Va.ur&&(a.readyState=d.Pa.Va.sr,a.c3({mediaRequest:a,readyState:a.readyState,timestamp:m.Ra(),connect:!1})),a.readyState=d.Pa.Va.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:m.Ra(),cadmiumResponse:b,response:b.content},a.HE=b,a.vi(b));});if(a.zc){x={mediaRequest:a,readyState:a.readyState,timestamp:m.Ra(),connect:!1};a.c3(x);}a.addEventListener(d.Pa.bd.uu,p);a.Vka=r.abort;}f=p.Cc("mediaRequestDownloader");k=b.RT(f);G=a(13);return{zF:c,XW:function(a){try{a.Vka();}catch(y){f.warn("exception aborting request");}},e6:r.Gb};}();},function(f,c,a){var d,h,l,g,m,p,r,u,v,k,w,G,x,y,C,F,N,n,q,Z,O,B,ja,V,D,S,da,X,U,ha,ba,ea,ia,ka,ua,la,A,H,P,Pa,wa,na,Y,aa,ta,db,Ba,Ya,Ra,zb,gc,gb;function b(a,b,c,d,h){var m,u,z;function f(a){a.newValue!=gb.fm.hD&&a.newValue!=q.Vo&&(m.Tb.removeListener(f),m.UHa=U.Z.get(gc.mj).Eg,m.dh.mc(q.mg));}function p(a){a.newValue!==gb.fm.hD&&(m.Tb.removeListener(p),m.u5a=da.AM());}m=this;this.M=a;this.Oc=b;this.SA=c;this.UX=[];this.mP=[];this.A5=!1;this.de={};this.yA={};this.A4=this.a6=0;this.dh=new F.Ci();this.CI={};this.Ya=[];this.lM=new y.sd(null);this.Tda=0;this.log=U.Je(this);this.index=q.xu.lDa+1;this.Xf=Ba.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.M});this.wM=0<=P.I7.indexOf("cast")?U.Z.get(ha.q7):void 0;this.tia=this.Kj=!1;this.Fc=new y.sd(null);this.gc=new y.sd(null);this.state=new y.sd(q.gy);this.pc=new y.sd(void 0);this.UP=new y.sd(!1);this.paused=new y.sd(!1);this.muted=new y.sd(!1);this.volume=new y.sd(C.config.KSa/100);this.playbackRate=new y.sd(1);this.Tb=new y.sd(gb.fm.hD);this.rM=new y.sd(q.Zq);this.Bl=new y.sd(q.Zq);this.zi=new y.sd(q.Zq);this.Ud=new y.sd(null);this.up=new y.sd(null);this.V5=new y.sd(null);this.Ai=new y.sd(null);this.Et=new y.sd(null);this.Tl=new y.sd(null);this.cz=new y.sd(null);new y.sd(null);this.eY=new y.sd(void 0);this.Ys=G.Rxa(this);r.RT(U.Cc("MediaHttp"));this.TX=new S.nua(this);this.T$a=this.he=this.ia=-1;this.joa=function(){m.w5();};this.Pb=d||{};this.Zf=this.Pb.Zf||0;this.IN=this.Pb.IN;this.KN=this.Pb.KN;u=new X.dD(1E3);C.config.Rm&&t._cad_global.videoPreparer&&(this.aa=t._cad_global.videoPreparer.KF(a));this.aa||(q.xu.zU?(this.aa=q.xu.zU,q.xu.zU=void 0):this.aa=h.As());q.xu.rDa=this.aa;this.addEventListener=this.dh.addListener;this.removeEventListener=this.dh.removeListener;this.fireEvent=this.dh.mc;this.jd=this.log.VRa();this.v2=new O.hAa(this);this.q5a=l.fDa(this);this.CZ=v.HDa();this.nG=C.config.dta&&!(this.aa%C.config.dta);this.Zi={MovieId:this.M,TrackingId:this.Zf,Xid:this.aa};q.xu.qDa=this.log;q.ZJ||(q.xu.ZJ=this.log);this.jd.info("Playback created",this.Zi);this.nG?this.jd.info("Playback selected for trace playback info logging"):this.jd.trace("Playback not selected for trace playback info logging");C.config.Rm&&t._cad_global.videoPreparer&&(t._cad_global.videoPreparer.pZa(this.M),this.addEventListener(q.mg,function(){t._cad_global.videoPreparer.qZa(m.M);m.Fc.addListener(function(){t._cad_global.videoPreparer.zka();});m.gc.addListener(function(){t._cad_global.videoPreparer.zka();});}),this.addEventListener(q.Qe,function(){t._cad_global.videoPreparer.yka(m.M);}));this.state.addListener(function(a){m.jd.info("Playback state changed",{From:a.oldValue,To:a.newValue});la.ea(a.newValue>a.oldValue);});n.Bd.addListener(n.Pj,this.joa,x.by);this.pc.addListener(function(){u.lb(function(){return m.bja();});});this.paused.addListener(function(a){var b;b=m.bb;!a.r3a&&b&&(!0===a.newValue?b.paused&&b.paused():b.Csa&&b.Csa());m.jd.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:A.kg(m.pc.value)});});this.Tb.addListener(function(a){m.jd.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:A.kg(m.pc.value)},m.FA());});this.Tb.addListener(function(){m.UP.set(m.Tb.value===gb.fm.nf);});this.rM.addListener(function(a){m.jd.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:A.kg(m.pc.value)},m.FA());});this.Bl.addListener(function(a){m.jd.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:A.kg(m.pc.value)},m.FA());});this.zi.addListener(function(a){m.jd.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:A.kg(m.pc.value)},m.FA());});this.gc.addListener(function(a){la.ea(a.newValue);m.jd.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Dl,To:a.newValue.Ab},a.oldValue&&{FromBcp47:a.oldValue.Dl,From:a.oldValue.Ab},{MediaTime:A.kg(m.pc.value)});});this.Ud.addListener(function(){var a,b;a=m.Ud.value.Db;b=a.length;Z.WI(a);for(var c=0;c<b;c++)a[c].lower=a[c-1],a[c].DZa=a[c+1];});this.Fc.addListener(function(a){m.jd.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Dl,To:a.newValue.Ab}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Dl,From:a.oldValue.Ab}:{From:"none"},{MediaTime:A.kg(m.pc.value)});});this.Ya[Ra.G.AUDIO]=new y.sd(null);this.Ya[Ra.G.VIDEO]=new y.sd(null);this.Tb.addListener(p,x.ay);this.Tb.addListener(f);this.addEventListener(q.mg,function(){var a,b,c;m.A5=!0;m.Toa=H.kk(m.Us());m.Yc("start");a=m.Tl.value;if(t._cad_global.prefetchEvents){b=ba.Cb(m.$n?m.$n.audio:0);c=ba.Cb(m.$n?m.$n.video:0);t._cad_global.prefetchEvents.x5a(m.M,m.aa,m.uM,m.uga,m.wlb,b,c);}m.s_a=a.stream.J;});D.nDa(this);q.Uo.push(this);C.config.tH&&(this.RP=new Ya.zDa(this),this.z5a=new B.BDa(this));C.config.Vq&&g.vh&&g.vh.EOa(this.M)&&(this.ge=!0,this.n3=g.vh.cob(this.M),this.goa=g.vh.$nb(),this.addEventListener(q.Qe,function(){g.vh.yka(m.M);},x.by),this.addEventListener(q.mg,function(){m.goa&&(m.Fra=setTimeout(function(){g.vh.Tsb(m.M);},C.config.vh.u$a));}),this.addEventListener(q.Qe,function(){m.Fra&&clearTimeout(m.Fra);}));q.yaa.forEach(function(a){a(m);});this.ZLa=function(a){m.addEventListener(q.BU,function(a){a.cause!==q.UC&&a.cause!==q.xU&&m.bb.stop();});m.addEventListener(q.AU,function(a){a.cause!==q.xU&&(C.config.LVa&&a.cause===q.yU&&m.jj.gY(),a.cause!==q.UC&&(a.skip?m.bb.Cga(a.Bw)?(m.jd.trace("Repositioned. Skipping from "+a.RG+" to "+a.Bw),m.bb.Wm(a.Bw),m.bb.play()):m.log.error("can skip returned false"):(m.jd.trace("Repositioned. Seeking from "+a.RG+" to "+a.Bw),m.bb.seek(a.Bw))));});a.addEventListener("segmentStarting",function(a){m.fireEvent(q.vDa,a);});a.addEventListener("lastSegmentPts",function(a){m.fireEvent(q.tDa,a);});a.addEventListener("segmentPresenting",function(a){m.fireEvent(q.uDa,a);});a.addEventListener("segmentAborted",function(a){m.fireEvent(q.sDa,a);});a.addEventListener("manifestPresenting",function(a){m.fireEvent(q.pDa,a);});a.addEventListener("skip",function(a){m.fireEvent(q.Eaa,a);});a.addEventListener("error",function(a){var b;if("NFErr_MC_StreamingFailure"===a.error)if(m.jd.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),m.jd.trace("StreamingFailure, buffer status:"+JSON.stringify(m.FA())),C.config.bVa&&!m.A5)wa.Xa(function(){m.Hh(new k.rj(ea.v.yta,{R:a.nativeCode,za:a.errormsg,Fg:a.httpCode,AP:a.networkErrorCode}));});else{m.tR>=m.UH.length&&(m.tR=m.UH.length-1);b=m.UH[m.tR];m.tR++;setTimeout(function(){m.bb&&m.bb.lHa&&m.bb.lHa.fB(!0);},b);}});a.addEventListener("headerCacheHit",function(){});a.addEventListener("maxvideobitratechanged",function(a){m.mP.push(a);});a.addEventListener("bufferingStarted",function(){m.Bl.set(q.Zq);});a.addEventListener("locationSelected",function(a){m.fireEvent(q.Baa,a);});a.addEventListener("serverSwitch",function(a){var b;m.fireEvent(q.Caa,a);"video"===a.mediatype?b=Ra.G.VIDEO:"audio"===a.mediatype&&(b=Ra.G.AUDIO);na.$a(b)&&m.t9a(a.server,b);});a.addEventListener("bufferingComplete",function(a){m.jd.trace("Buffering complete",{Cause:"ASE Buffering complete"},m.FA());m.Lk=a.enableHindsightReport;m.tfa=a.actualBW;m.IZa=a.histtd;m.Dob=a.histage;m.Rka=a.histDiscBW;m.gla=a.initSelReason;m.fA=a.initBitrate;m.fla=a.initSelDiscBW;m.Mt=a.selector;m.bG=a.isConserv;m.Pn=a.ccs;m.JO=a.isLowEnd;m.rE=a.buffCompleteReason;m.ge&&m.log.info("VC buffering complete, playback from video cache");m.Bl.set(q.hk);z||(z=!0,m.Yc("pb"));m.bb.play();});a.addEventListener("audioTrackSwitchStarted",function(){m.bb.a4a();});a.addEventListener("audioTrackSwitchRejected",function(){m.bb.$3a();});a.addEventListener("audioTrackSwitchComplete",function(){m.bf.D3a();});a.addEventListener("endOfStream",function(a){m.bf.a3(a);});a.addEventListener("createrequest",function(a){m.fireEvent(gb.Ea.CX,a.mediaRequest);});a.addEventListener("asereportenabled",function(){m.Kj=!0;});a.addEventListener("asereport",function(a){var b;b=na.da(m.Ed)?0:m.Ed;a.strmsel.forEach(function(a){a.seltrace[0][1]-=b;});m.fireEvent(q.vaa,a);});a.addEventListener("aseexception",function(a){m.fireEvent(q.uaa,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=na.da(m.Ed)?0:m.Ed;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});m.x0={Q7a:c,UZa:a.hptwbr,Xka:a.htwbr,NP:a.pbtwbr};a.rr&&(m.x0.Aqa=a.rr);a.ra&&(m.x0.L6a=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;m.ia=a.location.bandwidth;m.he=a.location.httpResponseTime;m.T$a=a.stat.streamingBitrate;m.bG=a.isConserv;m.Pn=a.ccs;b&&(void 0===m.yv&&(m.yv={interval:C.config.ez,startTime:b.startTime,Ln:[],Ho:[]}),m.yv.Ln=m.yv.Ln.concat(b.Ln),m.yv.Ho=m.yv.Ho.concat(b.Ho));a.psdConservCount&&(m.tpa=a.psdConservCount);});C.config.sLa&&a.addEventListener("currentStreamInfeasible",function(a){m.Sk.Ekb(a.newBitrate);});a.addEventListener("headerCacheDataHit",function(a){a.movieId==m.M&&(m.$n=a);});a.addEventListener("startEvent",function(a){t._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&t._cad_global.prefetchEvents.CE(ia.vd.Wh.MEDIA,m.M);});a.addEventListener("requestComplete",function(a){(a=(a=a&&a.mediaRequest)&&a.HE&&a.HE.cadmiumResponse)&&m.fireEvent(gb.Ea.Hz,a);});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===Ra.G.VIDEO?(b=m.Ud.value.Db,c=m.Ai):a.mediaType===Ra.G.AUDIO&&(b=m.gc.value.Db,c=m.lM);(b=b.find(function(b){return b.ac===a.streamId;}))?c.set(b,{Lga:a.movieTime,tNa:a.bandwidth}):m.jd.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=m.yA[a.target];c=na.da(m.Ed)?m.Ed:0;b||(b=m.yA[a.target]={});Object.keys(a.fields).forEach(function(d){var g,h,f,m;g=a.fields[d];if("object"!==typeof g||null===g)b[d]=g;else{h=g.type;if("count"===h)void 0===b[d]&&(b[d]=0),++b[d];else if(void 0!==g.value)if("array"===h){h=b[d];f=g.adjust;m=g.value;h||(h=b[d]=[]);f&&0<f.length&&f.forEach(function(a){m[a]-=c||0;});h.push(m);}else"sum"===h?(void 0===b[d]&&(b[d]=0),b[d]+=g.value):b[d]=g.value;else b[d]=g;}});}});};this.gc.addListener(function(a){m.bb&&(a.reset?m.jd.trace("ASE previously rejected the audio track switch, resetted!"):m.bb.Aab({LX:a.newValue.Ab,toJSON:function(){return a.newValue.Zi;}})?m.jd.trace("ASE accepted the audio track switch"):(m.jd.trace("ASE rejected the audio track switch"),m.gc.set(a.oldValue,{reset:!0})));});this.addEventListener(q.XJ,function(a){a.cause==q.saa&&(m.rM.set(q.Zq),m.bb.Xbb(m.bf.Mja()));});}Object.defineProperty(c,"__esModule",{value:!0});d=a(188);h=a(136);l=a(183);g=a(81);m=a(118);p=a(167);r=a(182);u=a(255);v=a(254);k=a(51);w=a(253);G=a(291);x=a(6);y=a(180);C=a(4);F=a(57);N=a(252);n=a(60);q=a(16);Z=a(73);O=a(87);B=a(251);ja=a(250);V=a(249);D=a(248);S=a(247);da=a(17);X=a(91);U=a(3);ha=a(210);ba=a(7);ea=a(2);ia=a(106);ka=a(26);ua=a(147);la=a(8);A=a(80);H=a(19);P=a(36);Pa=a(5);wa=a(32);na=a(15);Y=a(90);aa=a(246);ta=a(451);db=a(166);Ba=a(14);Ya=a(245);Ra=a(13);zb=a(9);gc=a(52);a(23);a(121);a(65);a(159);gb=a(46);b.prototype.ZN=function(a){var b;if(C.config.hN)return d.Ev.BF(a);a=a||x.Gb;b={success:!1,name:null,isCongested:null};a(b);return b;};b.prototype.Yc=function(a){this.jd.trace("Milestone",{Id:a});this.de[a]=this.Us();};b.prototype.vWa=function(){if(na.da(this.de.ats)&&na.da(this.de.at))return this.de.at-this.de.ats;};b.prototype.HWa=function(){var a,b;a=this.Ex()||0;b=this.sv()||0;return Pa.ue(a,b);};b.prototype.GXa=function(){if(na.da(this.de.shs)&&na.da(this.de.sh))return this.de.sh-this.de.shs;};b.prototype.iR=function(){this.background||(this.jd.info("Starting inactivity monitor for movie "+this.M),new N.Qya(this));};b.prototype.close=function(a){a&&(this.state.value==q.fy?a():this.addEventListener(q.YJ,function(){a();}));this.w5();};b.prototype.Hh=function(a,b){var c,d,g;c=this;if(this.state.value==q.gy)this.Gg||(this.Gg=a,this.load());else{b&&(this.state.value==q.fy?b():this.addEventListener(q.YJ,function(){b();}));d=function(){c.w5(a);};g=C.config.Uha&&a&&C.config.Uha[a.errorCode];na.kq(g)&&(g=H.Zc(g));this.jd.error("Fatal playback error",{Error:""+a,HandleDelay:""+g});0<=g?setTimeout(d,g):d();}};b.prototype.pI=function(){this.dh.mc(q.yDa);};b.prototype.NVa=function(){this.bja();};b.prototype.W_=function(){var a;a=this.bb;return a&&(a=a.ja.yi.na.id,void 0!==a)?a:null;};b.prototype.Ts=function(){return void 0!==this.lha&&void 0===this.bb?this.lha:this.fO(this.pc.value);};b.prototype.V_=function(){return this.fO(this.bf.Mja());};b.prototype.XN=function(){var a;a=this.Sa.choiceMap;if(a)return a.segments;};b.prototype.fcb=function(a){this.Pb=ta.o2a(this.Pb,a);};b.prototype.Fl=function(){var a,b,c,g,h,f,m;a=this;b=void 0;c=a.Ud.value.Db.filter(function(c){var d;d=a.v2.Mq(c);d&&(b=b||[],b.push({stream:c,Cz:d}));return!d;});Z.WI(c);for(var d=0;d<c.length;d++)c[d].lower=c[d-1],c[d].DZa=c[d+1];if(a&&a.bb){g=[];a.Ud.value.Db.forEach(function(a){-1==g.indexOf(a.le)&&g.push(a.le);});h=null;f=null;c.forEach(function(a){null===h?f=h=a.J:f<a.J?f=a.J:h>a.J&&(h=a.J);});m=[];g.forEach(function(a){var c;c={ranges:[]};c.profile||(c.profile=a);h&&f&&(c.ranges.push({min:h,max:f}),b&&(c.disallowed=b.filter(function(b){return b.stream.le===a;})),m.push(c));});a.bb.VQ(m);}return c;};b.prototype.G0=function(a){var b,c;b=this.Ed;c=this;U.log.trace("importing milestones",a);H.Kb(a,function(a,d){c.de[a]=d-b;});};b.prototype.l5=function(a){this.ux=a;};b.prototype.U_a=function(){return"trailer"===this.Oc;};b.prototype.tla=function(){return!!this.Oc&&0<=this.Oc.indexOf("billboard");};b.prototype.W_a=function(){return!!this.Oc&&0<=this.Oc.indexOf("video-merch");};b.prototype.KO=function(){return this.U_a()||this.tla()||this.W_a();};b.prototype.F_=function(){return na.da(this.pc.value)&&na.da(this.sv())&&na.da(this.Ex())?this.pc.value+Pa.ue(this.sv(),this.Ex()):null;};b.prototype.Fsa=function(){var b,c,d,g;b=this;if(this.state.value==q.qj){c={};this.jj=m.Oi;(this.ge||C.config.KVa)&&this.jj.gY();m.Dj.set(a(137)(C.config),!0,U.Cc("ASE"));C.config.RPa&&3E5>this.Sa.duration?m.Dj.Lw({expandDownloadTime:!1},!0,this.jd):m.Dj.Lw({expandDownloadTime:m.Dj.Noa().expandDownloadTime},!0,this.jd);this.background||C.config.I5a&&"postplay"===this.Oc?m.Dj.Lw({initBitrateSelectorAlgorithm:"historical"},!0,this.jd):m.Dj.Lw({initBitrateSelectorAlgorithm:m.Dj.Noa().initBitrateSelectorAlgorithm},!0,this.jd);g=this.Ud&&this.Ud.value&&this.Ud.value.Db;g&&g.length&&(d=g[0].le);m.Dj.Lw(C.hha(this.Pb.Qf,d),!0,this.jd);c=U.Z.get(ka.Re).st(c,C.iha(this.Oc));this.U$a=m.Dj.SY(c);zb.events.emit("networkchange",this.o9a);this.jj.Ksa({Fl:function(){return b.Fl();},HF:function(){return b.HF();},WF:function(){return b.WF();}});c=U.Z.get(ua.QI);d=this.rm;this.rm=c.nX({TB:ba.Cb(this.rm),M:this.M,bH:ba.Cb(this.duration),Pb:this.Pb}).qa(ba.Ma);this.iga=this.rm-d;this.H5a();}};b.prototype.gSa=function(){var a,b,c,d;a=this;try{this.Sb=new u.cAa(this);this.Sb.open();b=new Promise(function(b){a.Sb.addEventListener(db.Sg.Ara,function(){b();});});this.bf=new aa.eAa(this);this.QB=[this.DSa,this.JSa];c={ki:!1,VB:C.config.VB,QR:C.config.iN,B1a:!1,zM:!this.g1};this.tR=0;this.UH=C.config.UH;this.Sa.cdnResponseData&&(this.DM=this.Sa.cdnResponseData.pbcid,this.Sa.cdnResponseData.sessionABTestCell&&(this.rB=this.Sa.cdnResponseData.sessionABTestCell));d={Qw:this.log,Sk:this.Sk,sessionId:this.M+"-"+this.aa,aa:this.aa,Goa:this.DM,$d:Y.Bg?Y.Bg.$d:void 0,aia:0===C.config.fF||0!==this.aa%C.config.fF?!1:!0};this.tia=d.aia;this.bb=this.jj.Cs(this.Sa,this.QB,this.rm||0,c,d,void 0,{Hg:function(){return a.pc.value;},R_:function(){return a.Sb;}},this.U$a);this.ZLa(this.bb);b.then(function(){a.state.value!==q.wu&&a.state.value!==q.fy&&a.bb.open();});this.pc.set(this.rm||0);this.Pq=new w.pFa(this);C.config.r4&&(this.Xt=new V.qFa(this));this.Sl=new ja.iDa(this);this.iR();q.zaa.forEach(function(b){b(a);});this.v3a();}catch(tc){this.Wk(ea.v.xya,{R:ea.u.te,za:H.yc(tc)});}};b.prototype.w3a=function(){la.ea(this.state.value==q.gy);this.log.L.Ed=this.Ed=da.Ra();da.On();da.Ra();this.state.set(q.qj);t._cad_global.prefetchEvents&&t._cad_global.prefetchEvents.v5a(this.M);};b.prototype.vYa=function(){return{tr:this.a6,rt:this.A4};};b.prototype.aq=function(a){return this.yA[a];};b.prototype.rOa=function(){return this.ux?da.Ra()-this.ux:da.AM()-this.TN();};b.prototype.xOa=function(){return this.ux?da.Ra()-this.ux:this.Us();};b.prototype.wOa=function(){return this.ux?da.Ra()-this.ux:this.u5a-this.TN();};b.prototype.n3a=function(a){var b,c;b=this.Ed;c={};H.Kb(a,function(a,d){c[a]=d.map(function(a){return a-b;});});return c;};b.prototype.FWa=function(){var a,b;a=this.Ed;b={};H.Kb(this.UX,function(c,d){b[c]=d.map(function(b){return b-a;});});return p.Hp?{level:p.Hp.Vja(),charging:p.Hp.H_(),statuses:b}:null;};b.prototype.kO=function(){this.aja();return this.CI;};b.prototype.P9a=function(){this.CI.HasRA=!0;};b.prototype.Wk=function(a,b){this.done||(this.done=!0,this.Hh(new k.rj(a,b)));};b.prototype.Ocb=function(){this.f$a=!0;};b.prototype.Xna=function(){this.$pa();};b.prototype.w5=function(a){var b;b=this;if(this.state.value==q.gy||this.state.value==q.qj||this.state.value==q.lk){this.jd.info("Playback closing",this,a?{ErrorCode:a.Fz}:void 0);n.Bd.removeListener(n.Pj,this.joa);this.Gg=a;this.aja();this.bb&&this.bb.flush();try{this.dh.mc(q.Qe);}catch(Db){this.jd.error("Unable to fire playback closing event",Db);}this.state.set(q.wu);this.lha=this.Ts();this.xta();this.f$a||wa.Xa(function(){return b.$pa();});}};b.prototype.bja=function(){var a;a=this.pc.value;this.n0a!=a&&(this.n0a=a,this.dh.mc(q.Gaa));};b.prototype.fO=function(a){var b;a=void 0===a?null:a;b=this.bb;return na.da(a)?b?b.pz(void 0,a):a:null;};b.prototype.$pa=function(){var a,b;a=this;la.ea(this.state.value==q.wu);b=this.eP;this.eP=void 0;b?h.CB.release(b,function(b){la.ea(b.K);a.GY();}):this.GY();};b.prototype.xta=function(){this.bb&&(this.bb.close(),this.bb.ze());this.jj&&this.Gg&&this.jj.gY();delete this.bb;delete this.jj;};b.prototype.GY=function(){var a;this.GY=x.Gb;la.ea(this.state.value==q.wu);a=q.Uo.indexOf(this);la.ea(0<=a);q.Uo.splice(a,1);this.state.set(q.fy);this.dh.mc(q.YJ,{},!0);this.dh.Ov();delete this.bh;};b.prototype.aja=function(){this.dh.mc(q.Daa,{CI:this.CI});};b.prototype.TN=function(){var a;a=this.Pb.KR;a=na.da(a)?a:this.SA.qa(ba.Ma)+da.Sga();la.ea(na.et(a));return a;};b.prototype.t9a=function(a,b){var c;c=this.Ej.filter(function(b){return b.id===a;})[0];c&&this.Ya[b].set(c);};b.prototype.FA=function(){return{AudioBufferLength:this.sv(),VideoBufferLength:this.Ex()};};b.prototype.Ex=function(){var a;a=this.jM();return a&&a.vbuflmsec;};b.prototype.sv=function(){var a;a=this.jM();return a&&a.abuflmsec;};b.prototype.q6=function(){var a;a=this.jM();return a&&a.vbuflbytes;};b.prototype.FX=function(){var a;a=this.jM();return a&&a.abuflbytes;};b.prototype.jM=function(){if(this.bb)return this.bb.S0(void 0);};b.prototype.HF=function(){return this.Tda;};b.prototype.WF=function(){this.Tda++;};b.prototype.v3a=function(){this.state.value==q.qj&&this.state.set(q.lk);};b.prototype.Us=function(){return da.Ra()-this.SA.qa(ba.Ma);};pa.Object.defineProperties(b.prototype,{kla:{configurable:!0,enumerable:!0,get:function(){return this.UHa;}}});c.Z6=b;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(94);d=[137,66,73,70,13,10,26,10];c.Z4a=function(a){var c,g;if(!a)throw Error("invalid array buffer");c=new Uint8Array(a);a=new b(c);g=function(a){var b,c,g,h;if(a.Oj()<d.length+4+4+4+44)throw Error("array buffer too short");d.forEach(function(b){if(b!=a.ef())throw Error("BIF has invalid magic.");});b=a.pH();if(0<b)throw Error("BIF version in unsupported");c=a.pH();if(0==c)throw Error("BIF has no frames.");g=a.pH();h=a.re(44);return{version:b,J3a:c,jsa:g,X7a:h};}(a);a=function(a){var h,f;for(var b=[],d=0;d<=g.J3a;d++){f={timestamp:a.pH(),offset:a.pH()};void 0!=h&&b.push(c.subarray(h.offset,f.offset));h=f;}return b;}(a);return{pi:g,images:a};};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(42);c.FS=function(a,c){this.GTa=a;this.size=c.Ala()?b.cl:c;};},function(f,c,a){var y,C,F,N,n,q,Z,O;function b(a,b){var c,g,h;c=a[0];g={url:c.url,bitrate:c.J,cdnid:O.Pd(c.Ya)?c.Ya.id:c.Ya,dltype:c.zTa,id:c.ac};h={};a.forEach(function(a){var b;b=w(a)?"fail":"success";h[b]||(h[b]=[]);h[b].push(a);});N.Kb(h,function(a,c){"fail"===a?g.failures=v(c,b):"success"===a&&(g.downloads=d(c,b));});return g;}function d(a,b){var c,d;c={};a.forEach(function(a){var b;b=a.ePa;c[b]||(c[b]=[]);c[b].push(a);});d=[];N.Kb(c,function(a,c){var g;g=[];c.forEach(function(c){g.push(c);r(c)&&(d.push(h(g,b,a)),g=[]);});0<g.length&&d.push(h(g,b,a));});return d;}function h(a,b,c){var v;for(var d=a.sort(function(a,b){return a.xf.hf<b.xf.hf?-1:a.xf.hf>b.xf.hf?1:0;}),h=d[0].xf,f=h.requestTime,r=h.hf,h=h.Zj,x=1;x<a.length;x++){v=a[x].xf;v.requestTime<f&&(f=v.requestTime);v.hf<r&&(r=v.hf);v.Zj>h&&(h=v.Zj);}x=g(d);v=d[d.length-1];b={time:f-b,tcpid:c?parseInt(c):-1,tresp:r-f,first:x,ranges:m(d,x),dur:h-r,trace:p(a),status:u(v)};C.config.bN.length&&(b.servertcp=l(a));return b;}function l(a){var b;b=C.config.bN;return a.reduce(function(a,c){var d,g;d=[];if(c.Wra){g={};c.Wra.split(";").forEach(function(a){a=a.split("=");2==a.length&&(g[a[0]]=a[1]);});b.forEach(function(a){d.push(g[a]);});}a.push(d);return a;},[]);}function g(a){var b;b=0;a.forEach(function(a){a.Fq&&(b=Z.ue(b,a.Fq[0]));});return b;}function m(a,b){var c;c=[];a.forEach(function(a){a.Fq?c.push([a.Fq[0]-b,a.Fq[1]-b]):c.push([0,-1]);});return c;}function p(a){var b,c;b=[];a.forEach(function(a){var d;a=a.xf;if(c){d=a.requestTime-c.Zj;0<d&&b.push([d,-2]);d=Z.ig(c.Zj,a.requestTime);d=a.hf-d;0<d&&b.push([d,-3]);}b.push([a.Zj-a.hf,a.Op||0]);c=a;});return b;}function r(a){if(a.R===n.u.No||a.R===n.u.ku)return!0;}function u(a){if(a.K)return"complete";if(a.R===n.u.No)return"abort";if(a.R===n.u.ku)return"stall";q.ea(!1,"download status should never be: other");return"other";}function v(a,b){var c;c=[];a.forEach(function(a){var d;d=a.xf;a={time:d.hf-b,tresp:d.hf-d.requestTime,dur:d.Zj-d.hf,range:a.Fq,reason:k(a),httpcode:a.Fg,nwerr:y.SAa(a.R)};c.push(a);});return c;}function k(a){return a.Fg||a.R===n.u.Ox?"http":a.R===n.u.rC?"timeout":"network";}function w(a){return a.K||void 0===a.K||a.R===n.u.No||a.R===n.u.ku?!1:!0;}function G(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";}function x(a){if(a.headers&&(a=a.headers["X-Session-Info"]||a.headers["x-session-info"]))return a=(a?a.split(";"):[]).filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0],N.Zc(a);}Object.defineProperty(c,"__esModule",{value:!0});y=a(119);C=a(4);F=a(73);N=a(19);n=a(2);q=a(8);Z=a(5);O=a(15);c.DPa=function(a,c){var d,g;d={};a.forEach(function(a){var b;b=a.url;d[b]||(d[b]=[]);d[b].push(a);});g=[];N.Kb(d,function(a,d){g.push(b(d,c));});return{urls:g};};c.emb=b;c.Xlb=d;c.Vlb=h;c.bmb=l;c.Zlb=g;c.$lb=m;c.dmb=p;c.fmb=r;c.cmb=u;c.Ylb=v;c.amb=k;c.gmb=w;c.EPa=function(a){var b,c,d,g,h,f;b=a.request;c=b.stream;d=b.track;g=b.url;h=G(d,g);f=void 0;switch(h){case F.$q:case F.ar:f=b.stream.ac;break;case F.nS:case F.m7:f=d.ac;}a={J:c&&c.J,zTa:h,ac:f,xf:a.xf,Ya:b.Ya,url:g,ub:a.ub,Fg:a.Fg,R:a.R,K:a.K,Wra:a.headers&&(a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]),ePa:x(a)};void 0!==b.offset&&void 0!=b.length&&(a.Fq=[b.offset,b.offset+b.length-1]);return a;};c.Wlb=G;c.qnb=x;},function(f,c,a){var d;function b(a){this.tX=a.tX;this.Za=a.Za;this.Na=a.Na;this.uP=a.uP;this.b1=!1;this.lY=[];this.log=a.log;a.yPa&&this.fra(a.yPa);this.ama()?this.BN():this.Iqa();}Object.defineProperty(c,"__esModule",{value:!0});d=a(28);b.prototype.BF=function(a){var b;a=a||function(){};this.ama()?(b={success:!1,name:"",isCongested:!1},this.b1?this.lY.push(a):a(b)):(b={success:!0,name:this.jw.Tfa,isCongested:this.jw.wla},a(b));return b;};b.prototype.BN=function(){var a;a=this;this.b1=!0;this.Za.download(this.KM(),function(b){var d;if(b.K)try{d=a.W4a(b.content);a.fra(d);a.Iqa();a.F4({success:!0,name:a.jw.Tfa,isCongested:a.jw.wla});}catch(m){a.log.error("Response Processing Failed",m);a.F4({success:!1,name:"",isCongested:!1});setTimeout(a.BN.bind(a),c.YI.tqa);}else a.log.error("HTTP Request Failed"),a.F4({success:!1,name:"",isCongested:!1}),setTimeout(a.BN.bind(a),c.YI.tqa);a.b1=!1;});};b.prototype.F4=function(a){this.lY.forEach(function(b){b(a);});this.lY=[];};b.prototype.KM=function(){return{url:this.tX,responseType:d.Xs,withCredentials:!0,Az:"congestion-service"};};b.prototype.W4a=function(a){a=new Uint8Array(a);a=JSON.parse(String.fromCharCode.apply(null,a));return{K:a.success,Qkb:a.asnName,Tfa:a.asnDisplayName,wla:a.isCongested,JR:a.ttlEpoch};};b.prototype.ama=function(){return this.jw&&this.Na.aO()<this.jw.JR?!1:!0;};b.prototype.fra=function(a){var b;b=this.Na.aO();a.K&&(a.JR-b<1E3*this.uP&&(a.JR=b+1E3*this.uP),this.jw=a);};b.prototype.Iqa=function(){var a;a=this.jw.JR-this.Na.aO()-6E4;0>a&&(a=0);setTimeout(this.BN.bind(this),a);};b.tqa=6E4;c.YI=c.YI||b;},function(f,c,a){var b,d,h,l,g,m,p,r,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(102);d=a(17);h=a(3);l=a(209);g=a(20);m=a(14);a(8);p=a(39);r=a(24);u=a(89);c.NAa=function(a){var B,t,V,D,S,da,X;function c(a,b,c){return new Promise(function(d,g){B.send(a,b,!1,void 0).then(function(a){c?d(c(a)):d({K:!0});})["catch"](function(c){var d,h;try{d=JSON.stringify(c.ji);}catch(Sa){}h={method:a.method,success:c.K};D.ah(d)&&(h.errorData=d);D.ah(c.R)&&(h.errorSubCode=c.R);D.ah(c.ub)&&(h.errorExternalCode=c.ub);D.ah(c.za)&&(h.errorDetails=c.za);D.ah(c.ne)&&(h.errorDisplayMessage=c.ne);b.log.error("Processing EDGE response failed",h);c.__logs&&b.log.error(c.__logs);g(c);});});}function f(a,b){b={method:"stop",playbackContextId:b.Dc,playbackSessionId:b.xi,xid:b.aa,mediaId:b.Jg,type:S,position:b.position,playback:O(b.L),timestamp:b.timestamp,uiProfileGuid:Z()};return c(b,a);}function v(a,b,d){a={method:"pblifecycle",type:b,playbackSessionId:a.xi,mediaId:a.Jg,position:a.position,timestamp:a.timestamp,playback:O(a.L),uiProfileGuid:Z()};return c(a,d);}function x(a){return c({method:"ping"},a);}function y(a){return c({method:"bind",isExclusive:!0},a,function(a){return{kmb:a.customerGUID,K:!0};});}function k(a,b){return c({method:"pair",targetuuid:a.Gab,cticket:a.jSa,nonce:a.k3a,controlleruuid:a.KPa,pairdatahmac:a.Mqb},b,function(b){return{K:!0,mob:{nonce:b.nonce,controlleruuid:a.KPa,controlleruserid:b.controllerUserId,controllersharedsecret:b.controllerSharedSecret,targetuuid:a.Gab,targetuserid:b.targetUserId,targetsharedsecret:b.targetSharedSecret},nob:b.grantDataHmac};});}function F(a,b){y(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function N(a,b,c,d){v(a,b,c).then(function(a){d(a);})["catch"](function(a){d(a);});}function n(b,c,d){k(b,c).then(function(a){d(a);})["catch"](function(b){var c,g;g="";if(b.ji)try{c=JSON.parse(b.ji);c.error_message?g=c.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):c.implementingClass&&(g=c.implementingClass);}catch(ua){a.error("Failed to parse Pairing errorData",{ji:c});}m.oa(b,q(g));d(b);});}function q(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{rN:5,tN:21,uN:void 0,ne:void 0,sN:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{rN:2,tN:20,uN:void 0,ne:void 0,sN:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{rN:2,tN:10,uN:void 0,ne:void 0,sN:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{rN:2,tN:13,uN:void 0,ne:void 0,sN:void 0};default:return{rN:4,tN:30,uN:void 0,ne:void 0,sN:void 0};}}function Z(){return"windows_app"===V.WM&&u.He&&u.He.fG?u.He.profile.id:t.data.profileGuid;}function O(a){return a.Gd?a.Gd():a;}B=h.Z.get(l.ZT);t=h.Z.get(p.uC);V=h.Z.get(r.Pe);D=h.Z.get(g.rd);m.oa(this,{lw:function(a){return c({method:"login"},a,function(a){return{K:a.success,ds:a.accountGuid,Kg:a.profileGuid,Rj:a.isNonMember};});},start:function(a,b){var d;d={method:"start",playbackContextId:b.Dc,mediaId:b.Jg,xid:b.aa,appId:b.gs,sessionId:b.sessionId,sessionParams:function(){var a;a={};b.pm&&m.Kb(b.pm,function(b,c){a[b]=m.oc(c)?c:JSON.stringify(c);});b.jf&&m.Kb(b.jf,function(b,c){a[b]=m.oc(c)?c:JSON.stringify(c);});return a;}(),trackId:b.Ab,startPosition:b.kR,playbackType:b.A5a,uiProfileGuid:Z()};return c(d,a,function(a){return{K:!0,xi:a.playbackSessionId};});},stop:f,Rn:function(a,b){b={method:"engage",type:"engage",playbackSessionId:b.xi,mediaId:b.Jg,position:b.position,timestamp:b.timestamp,playback:O(b.L),action:b.action,uiProfileGuid:Z()};return c(b,a);},m2a:function(a,b,c){N(a,da,b,c);},WX:y,eia:x,ping:function(a,b){x(a).then(function(a){b(a);})["catch"](function(a){b(a);});},Lmb:function(a,b){a=Object.assign({},a);a.profile=void 0;F(a,b);},Aw:F,bsb:function(a,b,c,d){F(Object.assign({Aw:b,IQ:c},a),d);},asb:function(a,b,c,d){F(Object.assign({Tv:b,password:c},a),d);},Qh:function(a,b,c){f(b,a).then(function(a){c(a);})["catch"](function(a){c(a);});},q0:function(b,c,d,g){var h;h=X[c];h?N(b,h,d,g):a.error("heartbeat type "+c+" not recognized");},Tpb:n,Upb:function(a,b,c){var f;function d(d){n(a,b,function(a){a.K?(a.Aw=d.Aw,a.IQ=d.IQ,a.Z2a=d.Z2a,a.F8a=d.F8a,c(a)):c(d);});}function g(a){y(f).then(function(a){a.K?d(a):c(a);})["catch"](function(b){a?g(!1):c(b);});}f=Object.assign({ina:a.jSa,e2a:a.arb,d2a:a.k3a,c2a:a.hmb,f2a:h.Pi(a.csb)},b);g(!0);},Qsb:function(a,b,c,d){D.Wy(c)&&!m.$a(d)&&(d=c,c=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){F(Object.assign({i2a:"GOOGLE_JWT",psa:b,Kg:c},a),d);});},mka:function(){return d.AM()+0;},imb:function(a){return a+0;},dob:function(a,b){return c({method:"secret",dates:a},b,function(a){return{K:!0,mrb:a.prefetchKeys};});}});S="stop";da="splice";X={};X[b.Mna]="resume";X[b.Nna]="suspend";X[b.uq]="interval";};},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(46);d=a(4);h=a(191);l=a(28);c.Rxa=function(a){function c(c){a.fireEvent(b.Ea.Hz,c);}return{download:function(b,d){b.L=a;b=l.Za.download(b,d);b.cX(c);return b;}};};c.RT=function(a){return{download:function(c,g){var f,m;c.L=a;m=c.Ya;m&&d.config.Poa&&(f={Qoa:new h.f7(a.Ys),Yma:d.config.qw,g3:0,Ya:m});c=l.Za.download(c,g,f);c.cX(function(c){a.fireEvent(b.Ea.Hz,c);});return c;}};};},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(4);d=a(6);h=a(17);l=a(2);g=a(5);m=a(15);f.Dd(l.v.b9,function(a){var p,l,k,w,G;function f(){var a;a=g.Xh(h.Ra()/k);if(a!=G){for(var b=g.ue(a-G,30);b--;)w.push(0);(b=g.ig(w.length-31,0))&&w.splice(0,b);G=a;}w[w.length-1]++;}p=b.config.E1a;l=-6/(p-2-2);k=d.pj;w=[];G=g.Xh(h.Ra()/k);m.Gla(p)&&(setInterval(f,1E3/p),c.Lma={yXa:function(){var c;for(var a=[],b=w.length-1;b--;){c=w[b];a.unshift(0>=c?9:1>=c?8:c>=p-1?0:g.ve((c-2)*l+7));}return a;}});a(d.cb);});},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(294);d=a(3);h=a(357);l=a(26);c.N$a=function(a){a({K:!0,storage:new b.M9(d.Z.get(h.P9),d.Z.get(l.Re))});};},function(f,c){function a(a,c){this.In=a;this.bg=c;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.load=function(b,c){var d;d=this;this.In.load(b).then(function(b){c&&c(a.Pra(b));})["catch"](function(a){c&&c(d.Nz(b,a));});};a.prototype.save=function(b,c,h,f){var d;d=this;this.In.save(b,c,h).then(function(){f&&f(a.Pra({key:b,value:c}));})["catch"](function(a){f&&f(d.Nz(b,a));});};a.prototype.remove=function(a,c){var b;b=this;this.In.remove(a).then(function(){c&&c({K:!0,DB:a});})["catch"](function(d){c&&c(b.Nz(a,d));});};a.Pra=function(a){return{K:!0,data:a.value,DB:a.key};};a.prototype.Nz=function(a,c){return{K:!1,DB:a,R:c.R,za:c.cause?this.bg.yc(c.cause):void 0};};c.M9=a;},function(f,c,a){var b,d,h,l,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(56);h=a(26);l=a(294);g=a(354);c.M$a=function(a){b.Z.get(d.fk).create().then(function(c){a({K:!0,storage:new l.M9(c,b.Z.get(h.Re)),Rp:b.Z.get(g.U7)});})["catch"](function(b){a(b);});};},function(f,c,a){var b,d,h,l,g,m,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(192);d=a(8);h=a(3);l=a(2);g=a(6);a(19);m=a(306);p=a(32);c.L$a=function(a){var r,k;function c(){c=g.Gb;a({K:!0,storage:{load:function(a,c){f(a,function(d){b.iVa(r,a,function(a){var b,g;p.Xa(d.releaseLock);if(a.K){b=a.text;try{b&&(g=JSON.parse(b));}catch(T){c({R:l.u.GEa});return;}g?c({K:!0,data:g,DB:a.g_}):c({R:l.u.sj});}else c(a);});});},save:function(a,c,d,g){var h,m;h=a.name||a;m=JSON.stringify(c);f(h,function(c){b.kVa(r,a,m,d,function(a){p.Xa(c.releaseLock);a.K?g&&g({K:!0,DB:a.g_}):g&&g(a);});});},remove:function(a,c){f(a.name||a,function(d){b.jVa(r,a,function(a){p.Xa(d.releaseLock);c&&c(a);});});}}});}function f(a,b){(k[a]||(k[a]=new m.eEa())).zLa(!0,b);}d.ea(b.CN);h.Cc("Storage");k={};b.hVa(function(b){b.K?(r=b.rTa,c()):a(b);});};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);d=a(3);h=a(2);a(19);c.O$a=function(a){var c;d.Cc("Storage");c={};a({K:!0,storage:{load:function(a,b){c.hasOwnProperty(a)?b({K:!0,data:c[a],DB:a}):b({R:h.u.sj});},save:function(a,b,d,g){d&&c.hasOwnProperty(a)?g({K:!1}):(c[a]=b,g&&g({K:!0,DB:a}));},remove:function(a,d){delete c[a];d&&d(b.cb);}}});};},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(4);d=a(6);h=a(2);l=a(8);g=a(3);m=a(5);f.Dd(h.v.i9,function(a){var k,w,G;function f(){m.LJ?m.LJ.requestQuota(w,p,v):m.C$.requestQuota(m.PERSISTENT,w,p,v);}function p(b){b>=w?(c.v3=b,a(d.cb)):G?(k.error("Quota request granted insufficent bytes"),a({R:h.u.mba})):(G=!0,f());}function v(){k.error("Request quota error");a({R:h.u.lba});}k=g.Cc("RequestQuota");w=b.config.D5;0<w?(l.ea(m.LJ||m.C$),f()):(c.v3=0,a(d.cb));});},function(f,c,a){var b,d,h,l,g,m,p,r,u,v,k,w,G;Object.defineProperty(c,"__esModule",{value:!0});b=a(28);d=a(6);h=a(18);l=a(4);g=a(25);m=a(17);p=a(36);r=a(3);u=a(2);v=a(19);k=a(95);w=a(5);G=a(27);c.nbb=function(){var f,z;function a(a){var b,d,h;b="info";d="";h=r.Z.get(k.xr).Yja();a.K||(b="error",d+="&errorcode="+(a.errorCode||""),d+="&errorsubcode="+(a.R||""));d="type=startup&sev="+b+d+"&"+g.PG(v.oa({},h,{prefix:"m_"}));c(d,f);}function c(a,c){c&&(a=z+"&jsoffms="+m.Ra()+"&do="+w.Tg.onLine+"&"+a+"&"+g.PG(v.oa({},h.A1,{prefix:"im_"})),b.Za.download({url:c,apa:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},Az:"track"},d.Gb));}z="cat=cadplayback&dev="+encodeURIComponent(p.G7)+"&ep="+encodeURIComponent(p.Ne.QS)+"&ver="+encodeURIComponent("6.0011.853.011")+"&jssid="+m.ir;r.Cc("TrackingLog");z+="&browserua="+w.Ug;h.Dd(u.v.l9,function(b){var c,m;f=r.Z.get(G.lf).host+l.config.c6;if(l.config.IR&&l.config.c6){l.config.Zn&&(z+="&groupname="+encodeURIComponent(l.config.Zn));l.config.Tq&&(z+="&uigroupname="+encodeURIComponent(l.config.Tq));c=z;m="";p.Yh&&(m=v.oa({},p.Yh,{prefix:"pi_"}),m="&"+g.PG(m));z=c+m;h.kG(a);}b(d.cb);});return c;}();},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);c.Vbb=function(a,c){function d(a,c,d){var r,u,k,n;if(a&&1<a.length){for(var h=[],f=[],m=0;m<a.length;m++)h[m]=0,f[m]=0;for(var p=!1,m=0;m<a.length;m++)for(var l=m+1;l<a.length;l++){u=a[m];k=a[l];if(0>u.width||0>k.width||k.left>u.left+u.width||k.left+k.width<u.left||k.top>u.top+u.height?0:k.top+k.height>=u.top){r=b.ig(u.left,k.left);n=b.ig(u.top,k.top);r={width:b.ig(b.ue(u.left+u.width,k.left+k.width)-r,0),height:b.ig(b.ue(u.top+u.height,k.top+k.height)-n,0),x:r,y:n};}else r=void 0;if(r&&1<r.width&&1<r.height)if(n=r.width<=r.height,u=g(a[m]),k=g(a[l]),n&&c||!n&&!c)r=b.ig(r.width/2,.25),u.x<=k.x?(f[m]-=r,f[l]+=r):(f[l]-=r,f[m]+=r);else if(n&&!c||!n&&c)u=b.ig(r.height/2,.25),h[m]-=u,h[l]+=u;}for(m=0;m<a.length;m++){if(-.25>f[m]&&0<=a[m].left+f[m]||.25<f[m]&&a[m].left+a[m].width+f[m]<=d.width)a[m].left+=f[m],p=!0;if(-.25>h[m]&&0<=a[m].top+h[m]||.25<h[m]&&a[m].top+a[m].height+h[m]<=d.height)a[m].top+=h[m],p=!0;}return p;}}function g(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,c){a.forEach(function(a){0>a.left&&a.left+a.width<c.width?a.left+=b.ue(-a.left,c.width-(a.left+a.width)):a.left+a.width>c.width&&0<a.left&&(a.left-=b.ue(a.left+a.width-c.width,a.left));0>a.top&&a.top+a.height<c.height?a.top+=b.ue(-a.top,c.height-(a.top+a.height)):a.top+a.height>c.height&&0<a.top&&(a.top-=b.ue(a.top+a.height-c.height,a.top));});}(a,c));for(var h=0;50>h&&d(a,!0,c);h++);for(h=0;50>h&&d(a,!1,c);h++);return a;};},function(f,c,a){var h,l,g,m,p;function b(a,b,c,d){var g,h,f,m,p;g=b.region;h=(g.marginTop||0)*d;f=(g.marginBottom||0)*d;m=(g.marginLeft||0)*c;p=(g.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(g.verticalAlignment){case"top":d=h;break;case"center":d=(h+d-f-a)/2;break;default:d=d-f-a;}switch(g.horizontalAlignment){case"left":c=m;break;case"right":c=c-p-b;break;default:c=(m+c-p-b)/2;}return{top:d,left:c,width:b,height:a};}function d(a,b,c,d){return{height:c-m.ig(d,b.bottom|0)-m.ig(d,b.top|0),width:a.width};}Object.defineProperty(c,"__esModule",{value:!0});h=a(14);l=a(300);g=a(302);m=a(5);c.oFa=function(a,c){var k,x,y,C,F,n,q;function f(a){k.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";}function r(){var c,f,r,v,z,w,G,N,T,X,U,t,ba;c=x.parentNode;f=c&&c.clientWidth;r=c&&c.clientHeight;v=c=0;z={width:f,height:r};if(0<f&&0<r&&y){C&&(z=h.HN(f,r,C),c=m.ve((f-z.width)/2),v=m.ve((r-z.height)/2));w=q?{height:z.height*(1-(q.top||0)-(q.bottom||0)),width:z.width*(1-(q.left||0)-(q.right||0))}:z;T=h.HN(w.width,w.height,C);w=(N=y.blocks)&&N.map(function(b){var c;c=g.Fia(b,T,a,F);b=g.AUa(b)+";position:absolute";return h.createElement("div",b,c,p);});}h.oa(k,{left:c+"px",right:c+"px",top:v+"px",bottom:v+"px"});x.style.display="none";x.style.direction=k.direction;x.innerHTML="";if(w&&w.length){f=z.width;c=z.height;X=z;n&&(X=d(z,n,r,v));k.margin=q?u(z,"top")+"px "+u(z,"right")+"px "+u(z,"bottom")+"px "+u(z,"left")+"px ":void 0;w.forEach(function(a){x.appendChild(a);});r=h.ME(k);x.style.cssText=r+";visibility:hidden;z-index:-1";v=[];for(G=w.length;G--;)t=w[G],ba=N[G],U=b(t,ba,f,c),U.width>f&&(t.innerHTML=g.Fia(ba,z,a,F,f/U.width),U=b(t,ba,f,c)),v[G]=U;v=l.Vbb(v,X);if(X=N&&N[0]&&N[0].textNodes&&N[0].textNodes[0]&&N[0].textNodes[0].style)G=X.windowColor,X=X.windowOpacity,G&&0<X&&(U=m.ve(c/50),z=g.CUa(N,v,U,G,z),z=h.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+X,z,p),x.insertBefore(z,x.firstChild));x.style.display="none";for(G=v.length;G--;)U=v[G],z=w[G].style,X=g.BUa(N[G].region,U,f,c,0),h.oa(z,X);x.style.cssText=r;}}function u(a,b){if(q){if("left"===b||"right"===b)return a.width*(q[b]||0);if("top"===b||"bottom"===b)return a.height*(q[b]||0);}return 0;}k={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};x=h.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});F=function(a){var b;b={};h.Kb(a,function(a,c){var d;c=h.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+c+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",p);m.cd.body.appendChild(c);d={fontSize:1E3,height:c.clientHeight,width:c.clientWidth/52,lineHeight:c.clientHeight/1E3};m.cd.body.removeChild(c);b[a]=d;});return b;}(a);x.onselectstart=function(){return!1;};f(c);h.oa(this,{Lja:function(){return x;},q9a:function(a){C=a;},w9a:function(a){y=a;r();},z9a:function(a){f(a);r();},G7a:r,KH:function(a){n=a;r();},LH:function(a){q=a;r();},JF:function(){return"block"===k.display;},MH:function(a){a=a?"block":"none";x.style.display=a;k.display=a;}});};p={"class":"player-timedtext-text-container"};},function(f,c,a){var m,p,r,u;function b(a,b,c,d,g){var h;h={};"right"==a.horizontalAlignment?h.right=100*(c-b.left-b.width-g)/c+"%":h.left=100*(b.left-g)/c+"%";"bottom"==a.verticalAlignment?h.bottom=100*(d-b.top-b.height-g)/d+"%":h.top=100*(b.top-g)/d+"%";return h;}function d(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function h(a,b,c,d,g){var h,f;h=a.style;f=r.C0(a.text);for(a=a.lineBreaks;a--;)f="<br />"+f;return l(f,h,b,c,d,g);}function l(a,b,c,h,f,l){var r;r=b.characterStyle;f=f[r];h=b.characterSize*h.height/((0<=r.indexOf("MONOSPACE")?d(f,b.cellResolution)||f.lineHeight:f.lineHeight)||1);h=0<l?u.Xh(h*l):u.ve(h);l={"font-size":h+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(l["font-style"]="italic");b.characterUnderline&&(l["text-decoration"]="underline");b.characterColor&&(l.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(l["background-color"]=g(b.backgroundColor,b.backgroundOpacity));h=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case p.o3:l["text-shadow"]=h+" 0px 0px 7px";break;case p.Coa:l["text-shadow"]="-1px 0px "+h+",0px 1px "+h+",1px 0px "+h+",0px -1px "+h;break;case p.M4a:l["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case p.K4a:l["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}l=m.ME(l);(c=c[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(l+=";"+c);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+l+'">'+a+"</span>";}function g(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(c,"__esModule",{value:!0});m=a(25);p=a(194);r=a(19);u=a(5);c.Fia=function(a,b,c,d,g){var f;f="";a.textNodes.forEach(function(a){f+=h(a,c,b,d,g);});return f;};c.CUa=function(a,c,d,g,h){var f,m,l,x,v;f="";m=h.width;h=h.height;for(var p=c.length;p--;){l=c[p];x=a[p];x=x&&x.region;v="position:absolute;background:"+g+";width:"+u.ve(l.width+2*d)+"px;height:"+u.ve(l.height+2*d)+"px;";r.Kb(b(x,l,m,h,d),function(a,b){v+=a+":"+b+";";});f+='<div style="'+v+'"></div>';}return f;};c.BUa=b;c.dnb=d;c.fnb=h;c.cnb=l;c.enb=g;c.AUa=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return m.ME(b);};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);d=a(5);c.rFa=function(){var p,r,u,v,k,w,G,x,y;function a(a){var g,h,f;g=p.S_();if(r!=g){b.$a(g)&&b.$a(x)&&g<x&&(f=k||G[d.Xh(g*y)]||G[0]);if(f){for(;f&&f.endTime<g;)f=f.next;for(;f&&f.previous&&f.previous.endTime>=g;)f=f.previous;}f&&(f.startTime<=g&&g<=f.endTime?(h=f,c(f.endTime-g)):c(f.startTime-g));k=f;r=g;v!=h&&(v=h,!a&&p.m3&&p.m3());}}function c(a){w&&(clearTimeout(w),w=void 0);u&&0<a&&(w=setTimeout(f,a+h));}function f(){w=void 0;a();}p=this;b.oa(p,{ira:function(b){var c;c=b&&b.length;k=v=r=void 0;G=b;x=c&&d.ig.apply(null,b.map(function(a){return a.endTime;}));y=c&&c/x;a();},S_:void 0,start:function(){u=!0;a();},stop:function(){u=!1;w&&(clearTimeout(w),w=void 0);},oWa:function(){a(!0);return v;},m3:void 0});};h=10;},function(f,c,a){var l;function b(a,b,c){b=b||0;c=c||a.length;for(var g,h=b,f,m,p,l={};h<b+c;){g=a[h];f=g&7;m=g>>3;p=d(a,h);if(!p.count)throw Error("Parsing error. bytes length is 0 for the tag "+g);h+=p.count+1;2==f&&(h+=p.value);l[m]={ynb:m,Ptb:f,value:p.value,count:p.count,start:p.start};}return l;}function d(a,b){var c,d,g,h,f,m,k,x;c=b+1;d=a.length;g=c;h=0;f={};m=[];x=0;if(c>=d)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+d);for(;g<d;){h++;c=a[g];k=c&127;m.push(k);if(!(c&128))break;g++;}l.ea(m.length);for(a=m.length-1;0<=a;a--)x<<=7,x|=m[a];f.count=h;f.value=x;f.start=b+h+1;return f;}function h(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(c,"__esModule",{value:!0});l=a(8);c.P_a=function(a){a=b(a);if(1==h(a,1)&&a[5]&&a[5].value)return!0;};c.opb=function(a){var c;c=b(a);if(2==h(c,1)&&(a=b(a,c[2].start,c[2].value),h(a,5)))return!0;};c.rnb=b;c.eob=d;c.fob=h;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(14);d=a(15);c.lBa=b;f.oa(b.prototype,{nO:!1,JB:0,mI:0,vO:0,TF:!1,wO:0,ULa:function(a){d.da(a)&&(a<this.JB&&(this.mI+=this.JB),this.JB=a,this.nO=!0);},TWa:function(){if(this.nO)return this.TF?this.wO-this.vO:this.mI+this.JB-this.vO;},q$a:function(){this.TF||(this.nO&&(this.wO=this.mI+this.JB),this.TF=!0);},F$a:function(){this.TF&&(this.nO&&(this.vO+=this.mI+this.JB-this.wO),this.wO=0,this.TF=!1);}});},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(8);d=a(14);h=a(32);c.eEa=function(){var f,p,r,u;function a(a){var d;d=f.indexOf(a);0<=d?f.splice(d,1):a==p?p=void 0:b.ea(!1,"lock released without being acquired");h.Xa(c);}function c(){for(var b=0,c,d;!p&&(c=r[b]);){if(0>=f.length||!c.Rla)r.splice(b,1),d=u++,c.Rla?p=d:f.push(d),c.COa({K:!0,Gpb:d,releaseLock:function(){a(d);}});b++;}}f=[];r=[];u=1;d.oa(this,{zLa:function(a,b){r.push({Rla:a,COa:b});c();},releaseLock:a});};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);d=a(5);c.ujb=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};c.tjb=function(a,c,d){d=b.oc(d)?d:"...";return a.length<=c?a:a.substr(0,a.length-(a.length+d.length-c))+d;};c.bFa=function(a,b){var h;for(var c=1;c<arguments.length;++c);h=d.slice.call(arguments,1);a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof h[b]?h[b]:a;});};c.vjb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};c.Htb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(f){function c(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}f.P=function(a){var f,g,m;function b(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function d(a,c,d){var h;h=g[a];"undefined"!==typeof h?h(c)||b(a,c,d):a!==typeof c&&b(a,c,d);}function h(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===m.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===m.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var g;g=c[b];if("string"===typeof a)d(a,g,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){d(a[b],g[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}f="number boolean string object function symbol".split(" ");g={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!c(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof g[b]||-1<f.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);g[b]=a[b];});}m=Object.keys(g).concat(f);return h(["array","function"],h);};},function(f,c,a){var k,w,n;function b(a,b,c){this.type=a;this.size=b;this.Op=c;}function d(a){var c,d,g,h,f;a:{c=a.position;if(8<=a.Oj()){d=a.Aa();g=a.It(4);if(!w.test(g))throw a.seek(c),Error("mp4-badtype");if(1==d){if(8>a.Oj()){a.seek(c);c=void 0;break a;}d=a.ff();}if(!(8<=d))throw a.seek(c),Error("mp4-badsize");if("uuid"==g){if(16>a.Oj()){a.seek(c);c=void 0;break a;}g=a.bB();}c={type:g,offset:c,size:d,Op:c+d-a.position};}else c=void 0;}if(c&&c.Op<=a.Oj()){h=c.type;d=c.size;f=c.Op;g=new b(h,d,f);h=n[h];if(a.Oj()<f)throw Error("mp4-shortcontent");h?(f=new k(a.re(f)),h(g,f)):a.skip(f);a.seek(c.offset);g.raw=a.re(d);return g;}}function h(a,b){for(var c=[],g={},h,f;0<b.Oj();){h=d(b);if(!h)throw Error("mp4-badchildren");f=h.type;c.push(h);g[f]||(g[f]=h);}a.children=c;a.n_=g;}function l(a,b){a.version=b.qd(1);a.Ie=b.qd(3);}function g(a,b){b.skip(6);a.nSa=b.xb();b.skip(8);a.channelCount=b.xb();a.gx=b.xb();b.skip(4);a.sampleRate=b.xb();b.skip(2);h(a,b);}function m(a,b){var c;b.skip(6);a.nSa=b.xb();b.skip(16);a.width=b.xb();a.height=b.xb();a.Eob=b.Aa();a.Ltb=b.Aa();b.skip(4);a.Lnb=b.xb();c=b.ef();a.Mlb=b.It(c);b.skip(31-c);a.depth=b.xb();b.skip(2);h(a,b);}function p(a,b){l(a,b);a.Emb=b.qd(3);a.Fmb=b.ef();a.NO=b.re(16);}function r(a,b){for(var c=[],d;b--;)d=a.xb(),c.push(a.re(d));return c;}function u(a){var b;b=a.re(2);a={usb:b[1]>>1&7,t8a:!!(b[1]&1),osb:a.xb()};v(a,(b[0]<<8|b[1])>>4);return a;}function v(a,b){a.psb=b>>4&3;a.tsb=b>>2&3;a.rsb=b&3;return a;}k=a(94);w=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.$p=function(a){var b,c,d,g,h;b=this;a=a.split("/");for(g=0;g<a.length&&b;g++){d=a[g].split("|");c=void 0;for(h=0;h<d.length&&!c;h++)c=d[h],c=b.n_&&b.n_[c];b=c;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};n={ftyp:function(a,b){a.Kpb=b.It(4);a.dqb=b.Aa();for(a.pPa=[];4<=b.Oj();)a.pPa.push(b.It(4));},moov:h,sidx:function(a,b){l(a,b);a.Zrb=b.Aa();a.T5=b.Aa();a.JZ=1<=a.version?b.ff():b.Aa();a.p_=1<=a.version?b.ff():b.Aa();b.skip(2);for(var c=b.xb(),d=[],g,h;c--;){g=b.Aa();h=g>>31;if(0!==h)throw Error("mp4-badsdix");g&=2147483647;h=b.Aa();b.skip(4);d.push({size:g,duration:h});}a.$rb=d;},moof:h,mvhd:function(a,b){var c;l(a,b);c=1<=a.version?8:4;a.hi=b.qd(c);a.modificationTime=b.qd(c);a.T5=b.Aa();a.duration=b.qd(c);a.Vrb=b.c4();a.volume=b.Gpa();b.skip(70);a.uqb=b.Aa();},pssh:function(a,b){var c;l(a,b);a.OTa=b.bB();c=b.Aa();a.data=b.re(c);},trak:h,mdia:h,minf:h,stbl:h,stsd:function(a,b){l(a,b);b.Aa();h(a,b);},encv:m,avc1:m,hvcC:m,hev1:m,mp4a:g,enca:g,"ec-3":g,avcC:function(a,b){a.version=b.ef();a.Vkb=b.ef();a.yrb=b.ef();a.Ukb=b.ef();a.ypb=(b.ef()&3)+1;a.Isb=r(b,b.ef()&31);a.Zqb=r(b,b.ef());},pasp:function(a,b){a.oob=b.Aa();a.Jtb=b.Aa();},sinf:h,frma:function(a,b){a.pmb=b.It(4);},schm:function(a,b){l(a,b);a.z8a=b.It(4);a.xsb=b.Aa();a.Ie&1&&(a.wsb=b.Q6a());},schi:h,tenc:p,mvex:h,trex:function(a,b){l(a,b);a.Ab=b.Aa();a.Gmb=b.Aa();a.HSa=b.Aa();a.ISa=b.Aa();a.Rha=u(b);},traf:h,tfhd:function(a,b){var c;l(a,b);a.Ab=b.Aa();c=a.Ie;c&1&&(a.glb=b.ff());c&2&&(a.qsb=b.Aa());c&8&&(a.HSa=b.Aa());c&16&&(a.ISa=b.Aa());c&32&&(a.Rha=u(b));},saio:function(a,b){l(a,b);a.Ie&1&&(a.oNa=b.Aa(),a.pNa=b.Aa());for(var c=1<=a.version?8:4,d=b.Aa(),g=[];d--;)g.push(b.qd(c));a.Cqa=g;},mdat:function(a,b){a.data=b.re(b.Oj());},tkhd:function(a,b){var c;l(a,b);c=1<=a.version?8:4;a.hi=b.qd(c);a.modificationTime=b.qd(c);a.Ab=b.Aa();b.skip(4);a.duration=b.qd(c);b.skip(8);a.xpb=b.xb();a.Lkb=b.xb();a.volume=b.Gpa();b.skip(2);b.skip(36);a.width=b.c4();a.height=b.c4();},mdhd:function(a,b){var c;l(a,b);c=1<=a.version?8:4;a.hi=b.qd(c);a.modificationTime=b.qd(c);a.T5=b.Aa();a.duration=b.qd(c);c=b.xb();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){l(a,b);a.Hsb=b.Aa();},tfdt:function(a,b){l(a,b);a.mE=b.qd(1<=a.version?8:4);8==b.Oj()&&b.skip(8);},saiz:function(a,b){l(a,b);a.Ie&1&&(a.oNa=b.Aa(),a.pNa=b.Aa());for(var c=b.ef(),d=b.Aa(),g=[];d--;)g.push(c||b.ef());a.ssb=g;},trun:function(a,b){var c,d;l(a,b);c=b.Aa();d=a.Ie;d&1&&(a.qmb=b.Aa());d&4&&(a.Dnb=u(b));for(var g=[],h;c--;)h={},d&256&&(h.duration=b.Aa()),d&512&&(h.size=b.Aa()),d&1024&&(h.Ie=b.Aa()),d&2048&&(h.Llb=b.Aa()),g.push(h);a.vo=g;},sdtp:function(a,b){l(a,b);for(var c=[];0<b.Oj();)c.push(v({},b.ef()));a.vo=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){l(a,b);a.fileSize=b.ff();a.T5=b.ff();a.duration=b.ff();a.hoa=b.ff();a.Osb=b.ff();1<=a.version&&(a.nqb=b.ff(),a.oqb=b.Aa(),a.ioa=b.ff(),a.cja=b.Aa(),a.Uia=b.bB());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){l(a,b);a.Ie&1&&(a.Kkb=b.qd(3),a.rpb=b.ef(),a.f0a=b.bB());a.nsb=b.Aa();a.nNa=b.re(b.Oj());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){l(a,b);a.Dqb=b.Aa();a.Kmb=b.xb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":p,"636F6D2E-6E65-7466-6C69-782E6974726B":h,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){l(a,b);a.Ufa=b.bB();a.hi=b.ff();a.M=b.ff();a.oo=b.ff();a.vQ=b.xb();a.wQ=b.xb();a.h0a=b.re(16);a.iab=b.re(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){l(a,b);a.olb=b.re(b.Oj());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;l(a,b);a.M8a=b.ff();c=b.Aa();a.bk=[];for(var d=0;d<c;d++)a.bk.push({duration:b.Aa(),size:b.xb()});},"636F6D2E-6E65-7466-6C69-782E69736567":h,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;l(a,b);a.Ufa=b.bB();a.duration=b.Aa();c=b.Aa();a.vo=[];for(var d=0;d<c;d++)a.vo.push({Jh:b.Aa(),duration:b.Aa(),GP:b.xb(),HP:b.xb(),cR:b.xb(),dR:b.xb(),ao:b.ff(),dA:b.Aa()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,d,h,f;l(a,b);c=b.Aa();d=b.ef();a.vo=[];for(var g=0;g<c;g++){h=b.ef();f=h>>6;h=h&63;0!=f&&0===h&&(h=d);a.vo.push({Aia:f,ht:b.re(h)});}}};f.P={Xrb:function(a,b){a=new k(a);b&&a.seek(b);return d(a);},a4:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new k(a);c=[];for(b&&a.seek(b);b=d(a);)c.push(b);return c;}};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.N9="LicenseBrokerConstructorSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jjb=function(){};c.VU="TransportConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qba="TransportFactorySymbol";c.x$="MslTransportSymbol";c.sba="SslTransportSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Laa="PrefetchEventsConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.t1=function(a,b,c){var d;if(c.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");d=c.get;c.get=function(){var h,g;h=d.apply(this,arguments);g={enumerable:c.enumerable,value:h};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,g):Object.defineProperty(this,b,g);return h;};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.fca="WindowUtilsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.I$="NfCryptoSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(c.P7||(c.P7={})).PboDebugEvent="PboDebugEvent";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.S9="LogDisplayConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.d8="DxManagerSymbol";c.c8="DxManagerProviderSymbol";},function(f,c,a){var d,h,l,g,m;function b(a,b,c){this.kf=a;this.is=b;this.prefix=c;this.qga=new g.zFa(b);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(26);l=a(20);g=a(613);m=a(5);c.Xua="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";c.Yua="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.Zua="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.VI="";b.prototype.show=function(){this.Pl||(this.FPa(),this.oz&&m.cd.body.appendChild(this.oz),this.Xf&&m.cd.body.appendChild(this.Xf),this.oE&&m.cd.body.appendChild(this.oE),this.lx&&m.cd.getElementsByTagName("head")[0].appendChild(this.lx),this.Pl=!0,this.refresh());};b.prototype.dw=function(){this.Pl&&(this.Xf&&m.cd.body.removeChild(this.Xf),this.oE&&m.cd.body.removeChild(this.oE),this.oz&&m.cd.body.removeChild(this.oz),this.lx&&m.cd.getElementsByTagName("head")[0].removeChild(this.lx),this.lx=this.eI=this.oz=this.oE=this.Xf=void 0,this.Pl=!1);};b.prototype.toggle=function(){this.Pl?this.dw():this.show();};b.prototype.JWa=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.FPa=function(){var a;a=this;this.lx=m.cd.createElement("style");this.lx.type="text/css";this.lx.innerHTML=this.JWa(this.prefix);this.oE=this.kf.createElement("div",c.Xua,void 0,{"class":this.prefix+"-display-blur"});this.Xf=this.kf.createElement("div",c.Yua,void 0,{"class":this.prefix+"-display"});this.oz=this.kf.createElement("div",c.Zua,void 0,{"class":this.prefix+"-display"});this.Ija().forEach(function(b){return a.oz.appendChild(b);});};b.prototype.GPa=function(a){a=this.kf.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(G){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return this.Pl?this.Xpa().then(function(b){if(b&&(b=a.GPa(b),a.Xf)){a.eI&&(a.Xf.removeChild(a.eI),a.eI=void 0);a.eI=b;a.Xf.appendChild(a.eI);b=a.Xf.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.yqa);(b=a.Xf.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}}):Promise.resolve();};b.prototype.qha=function(a){var b;if(m.cd.queryCommandSupported&&m.cd.queryCommandSupported("copy")){b=m.cd.createElement("textarea");b.textContent=a;b.style.position="fixed";m.cd.body.appendChild(b);b.select();try{m.cd.execCommand("copy");}catch(u){console.warn("Copy to clipboard failed.",u);}finally{m.cd.body.removeChild(b);}}};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.Re)),f.__param(1,d.j(l.rd)),f.__param(2,d.Uh())],a);c.gK=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.b8="DxDisplaySymbol";},function(f,c,a){var d,h,l;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(3);h=a(29);l=a(6);b.prototype.Tz=function(){return this.D_a()?l.Swa:/widevine/i.test(this.config().ce)?l.Z7:/fps/i.test(this.config().ce)?l.Twa:l.JS;};b.prototype.D_a=function(){return/clearkey/i.test(this.config().ce);};pa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.H||(this.H=d.Z.get(h.Ef));return this.H;}}});c.PT=new b();},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Iaa="PlaydataConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.iaa="PboCachedPlaydataSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.l7="CachedPlaydataSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.kaa="PboLicenseResponseTransformerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.jaa="PboLicenseRequestTransformerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.paa="PboReleaseLicenseCommandSymbol";},function(f,c,a){var d;function b(a){var h,g,f,p,r,u,v;f={};f[d.aS]=a.localName;p={};f[d.Vh]=p;r=[];f[d.$R]=r;u=a.attributes;h=u.length;for(g=0;g<h;g++){v=u[g];p[v.localName]=v.value;}a=a.childNodes;h=a.length;p={};for(g=0;g<h;g++)switch(u=a[g],u.nodeType){case c.gdb:u=b(u);v=u[d.aS];u[d.mta]=f;r.push(u);f[v]?p[v][d.$B]=u:f[v]=u;p[v]=u;break;case c.hdb:case c.edb:u=u.text||u.nodeValue,r.push(u),f[d.Io]||(f[d.Io]=u);}return f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(122);c.ddb=function(a){return b(a.nodeType==c.fdb?a.documentElement:a);};c.Stb=b;c.gdb=1;c.Rtb=2;c.hdb=3;c.edb=4;c.fdb=9;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(15);c.cdb=function(a){var c,g;if(d.kq(a)){c=new DOMParser().parseFromString(a,"text/xml");g=c.getElementsByTagName("parsererror");if(g&&g[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(g[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(m){}throw Error("xml parser error");}return c;}throw Error("bad xml text");};},function(f,c,a){var g,m,p,r,u,v;function b(a){var b;a=new p(a);if(1481462272!=a.Aa())throw Error("Invalid header");b={XMR:{Version:a.Aa(),RightsID:a.Xj(16)}};d(a,b.XMR,a.buffer.byteLength);return b;}function d(a,b,c){var g,f,m,p,r;for(;a.position<c;){g=a.xb();f=a.Aa();f=f-8;switch(g){case 1:m="OuterContainer";break;case 2:m="GlobalPolicy";break;case 3:m="MinimumEnvironment";break;case 4:m="PlaybackPolicy";break;case 5:m="OutputProtection";break;case 6:m="UplinkKID";break;case 7:m="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:m="AnalogVideoOutputConfiguration";break;case 9:m="KeyMaterial";break;case 10:m="ContentKey";break;case 11:m="Signature";break;case 12:m="DeviceIdentification";break;case 13:m="Settings";break;case 18:m="ExpirationRestriction";break;case 42:m="ECCKey";break;case 48:m="ExpirationAfterFirstPlayRestriction";break;case 50:m="PlayReadyRevocationInformationVersion";break;case 51:m="EmbeddedLicenseSettings";break;case 52:m="SecurityLevel";break;case 54:m="PlayEnabler";break;case 57:m="PlayEnablerType";break;case 85:m="RealTimeExpirationRestriction";break;default:m="Other";}p={Type:h(g)};r=b[m];r?v.isArray(r)?r.push(p):(b[m]=[],b[m].push(r),b[m].push(p)):b[m]=p;switch(g){case 1:case 2:case 4:case 7:case 9:case 54:d(a,p,a.position+f);break;case 5:p.Reserved1=a.xb();p.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.xb();p.MinimumAnalogVideoOutputProtectionLevel=a.xb();p.Reserved2=a.xb();p.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.xb();break;case 10:p.Reserved=a.Xj(16);p.SymmetricCipherType=a.xb();p.AsymmetricCipherType=a.xb();f=a.xb();p.EncryptedKeyLength=f;g=a.Xj(f);p.EncryptedKeyData=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 11:p.SignatureType=a.Xj(2);f=a.xb();g=a.Xj(f);p.SignatureData=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 13:p.Reserved=a.xb();break;case 18:p.BeginDate=a.Aa();p.EndDate=a.Aa();break;case 42:p.CurveType=a.Xj(2);f=a.xb();g=a.Xj(f);p.Key=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 48:p.ExpireAfterFirstPlay=a.Aa();break;case 50:p.Sequence=a.Aa();break;case 51:p.LicenseProcessingIndicator=a.xb();break;case 52:p.MinimumSecurityLevel=a.xb();break;case 57:p.PlayEnablerType=l(a.Xj(16));break;case 85:break;default:p.OtherData=a.Xj(f);}}}function h(a){return"0x"+a.toString(16);}function l(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(c,"__esModule",{value:!0});g=a(6);m=a(3);p=a(94);r=a(122);u=a(143);v=a(15);c.zmb=function(a,c,d){switch(c){case g.JS:a&&(a=m.zNa(a),u.C6(a,function(a){a.K&&(a=a.object)&&(a=r.eXa(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=r.Y4a(a))&&(a=m.Pi(a))&&(a=b(a))&&d(a);}));}};c.Amb=b;c.Bmb=d;c.Dmb=h;c.Cmb=l;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.haa="PboAcquireLicenseCommandSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.naa="PboManifestCommandSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.O9="LifecycleProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.cca="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";c.rxa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.P8="HttpRequesterSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.B8="FtlDataParserSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.H$="NetworkMonitorSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.gca="XhrFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.L9="LegacyLogBatcherSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.K6="AppLogSinkSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.maa="PboLogblobCommandSymbol";},function(f,c,a){var g,m,p;function b(){this.Js=new g.rza();}function d(a){var c;c=m.q8.call(this)||this;c.jo=a;c.Js=new b();return c;}function h(a,b){this.jo=a;this.profile=b;this.aM=this.profile.Yg.id;this.IA={};}function l(a){this.jo=a;this.vB=p.ga(0);this.IA=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(660);m=a(659);p=a(42);l.prototype.wp=function(a){this.vB=this.vB.add(this.jo.measure([a.message]));this.IA.push(a);};l.prototype.Yw=function(a){var b,c;b=this;this.vB=p.ga(0);c=[];this.IA.forEach(function(d){0>a.indexOf(d.id)&&(b.vB=b.vB.add(b.jo.measure([d.message])),c.push(d));});this.IA=c;};pa.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.vB;}},ld:{configurable:!0,enumerable:!0,get:function(){return this.IA;}}});h.prototype.wp=function(a,b,c,d){var g;g=this.ld[a];g||(g=new l(this.jo),this.ld[a]=g);g.wp({id:b,url:c,message:d});};h.prototype.Yw=function(a){var c;for(var b in this.ld){c=this.ld[b];c&&(c.Yw(a),0===c.ld.length&&delete this.ld[b]);}};pa.Object.defineProperties(h.prototype,{ld:{configurable:!0,enumerable:!0,get:function(){return this.IA;}}});c.lAa=h;oa(d,m.q8);d.prototype.encode=function(a){return{accountId:a.aM,messages:this.tUa(a.ld)};};d.prototype.decode=function(a){return{aM:a.accountId,ld:this.wSa(a.messages)};};d.prototype.tUa=function(a){var b,c,d,g;b=this;c={};d={};for(g in a)d.lN=[],a[g].ld.forEach(function(a){return function(c){0<c.id&&a.lN.push(b.Js.encode(c));};}(d)),c[g]=d.lN,d={lN:d.lN};return c;};d.prototype.wSa=function(a){var b,c,d,g;b=this;c={};d={};for(g in a)d.YP=new l(this.jo),a[g].forEach(function(a){return function(c){a.YP.wp(b.Js.decode(c));};}(d)),c[g]=d.YP,d={YP:d.YP};return c;};c.kAa=d;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.Js.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.Js.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.t$="MessageQueueSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Z9="LogblobSenderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.C7="CryptoKeysSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.B7="CryptoDeviceIdSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.T7="DeviceProviderSymbol";},function(f,c){function a(b,c,h){if(null!=h){if(0<h(b,c))throw a.yha(b,c);}else if(b.Gk&&0<b.Gk(c))throw a.yha(b,c);this.start=b;this.end=c;}Object.defineProperty(c,"__esModule",{value:!0});a.yha=function(a,c){return new RangeError("end ["+c+"] must be >= start ["+a+"]");};c.Yaa=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.S7="DeviceIdGeneratorSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.w$="MslClientSendStrategySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.b7="BookmarkConfigParserSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.c7="BookmarkConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.U7="DiskStorageRegistrySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.R7="DeepErrorUtilsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.s$="MemoryStorageSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.P9="LocalStorageSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.A7="CorruptedStorageValidatorConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.MU="Storage";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.EJ="IndexedDBConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Naa="PresentationAPISymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.m$="MediaCapabilitiesLogHelperSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.n$="MediaCapabilitiesSymbol";},function(f,c,a){var d,h,l;function b(a,b){var c;c=h.XI.call(this,a,b,d.FC.Audio)||this;c.config=a;c.u2=b;c.type=d.au.du;return c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(34);h=a(366);l=a(64);a(124);new(a(96)).Cu();oa(b,h.XI);b.prototype.YH=function(){return!1;};b.prototype.Iv=function(){var a;a={};a[l.gk.wJ]="mp4a.40.2";a[l.gk.bT]="mp4a.40.5";this.config().PZ&&(a[l.gk.ZI]="ec-3");this.config().OZ&&(a[l.gk.tS]="ec-3");this.config().iF&&(a[l.gk.$I]="ec-3");return a;};b.prototype.Y_=function(){return this.config().kM;};b.SB="audio/mp4;codecs={0};";c.DS=b;},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.H8=/^hevc-main/;a.G8=/^hevc-hdr-|hevc-dv/;a.Mo=/^hevc-hdr-/;a.Ff=/^hevc-dv/;a.qJ=/-h264/;a.yr=/^vp9-/;a.bS=/^heaac/;a.zva=/ddplus-2/;a.Ava=/ddplus-5/;a.Bva=/ddplus-atmos/;c.il=a;},function(f,c,a){var d,h,l;function b(a,b,c){this.config=a;this.u2=b;this.O=c;this.w2={};this.w2[d.FC.Audio]="audio";this.w2[d.FC.$ba]="video";}Object.defineProperty(c,"__esModule",{value:!0});d=a(34);f=a(96);h=a(365);l=new f.Cu().format;b.prototype.jO=function(){return this.iTa(this.Y_());};b.prototype.Jp=function(a){return this.u2.isTypeSupported(a);};b.prototype.P0=function(){this.Tm=[];this.Gt=[];this.config().yoa&&this.Gt.push(h.il.H8);this.config().xoa&&this.Gt.push(h.il.G8);this.config().zoa&&this.Gt.push(h.il.yr);this.Gt=this.Gt.concat([h.il.bS,h.il.qJ]);!this.config().PZ&&this.Tm.push(h.il.zva);!this.config().OZ&&this.Tm.push(h.il.Ava);!this.config().iF&&this.Tm.push(h.il.Bva);!this.config().lUa&&this.Tm.push(/prk$/);this.config().yoa||this.config().gUa||this.Tm.push(h.il.H8);this.config().xoa||this.config().fUa||this.Tm.push(h.il.G8);this.config().zoa||this.config().rUa||this.Tm.push(h.il.yr);};b.prototype.h_=function(a){var b;b=this;return a.filter(function(a){for(var c=Na(b.Gt),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Na(b.Tm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.O3[a];d="";if(a)return Array.isArray(a)&&(d=1<a.length?" "+a[1]:"",a=a[0]),a=l("{0}/mp4;codecs={1};{2}",b.w2[b.O],a,d),b.Jp(a);});};b.prototype.iTa=function(a){var b;b={};this.P0();this.h_(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};pa.Object.defineProperties(b.prototype,{O3:{configurable:!0,enumerable:!0,get:function(){this.Aea||(this.Aea=this.Iv());return this.Aea;}}});c.XI=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.n7="CapabilityDetectorFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.w8="ExtraPlatformInfoProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.s7="CdnThroughputTracker";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jba="ThroughputTrackerConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pba="TransitionLoggerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.aca="VideoPlayerFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.qba="SegmentConfigFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.WT="MomentObserverFactory";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.VT="MomentFactorySymbol";},function(f,c,a){var d;function b(a,b,c,d,f,r){this.level=a;this.Ck=b;this.timestamp=c;this.message=d;this.li=f;this.index=void 0===r?0:r;this.bza={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(c,"__esModule",{value:!0});d=a(7);b.prototype.lI=function(a,b){var c;c=""+this.message;this.li.forEach(function(d){c+=d.tx(a,b);});return(this.timestamp.qa(d.Ma)/1E3).toFixed(3)+"|"+this.index+"|"+(this.bza[this.level]||this.level)+"|"+this.Ck+"| "+c;};c.T9=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.EU="PrioritizedSetOfListsSymbol";c.LDa="PrioritizedSetOfListsFactorySymbol";c.Oaa="PrioritizedSetOfSetsFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Iba="ThrottleSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.jhb=function(){};c.v$="MseConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Q7="DecoderTimeoutPathologistSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.D7="CsvEncoderSymbol";},function(f,c,a){var h,l,g,m,p;function b(){}function d(a,b){this.is=a;this.Ak=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(2);g=a(20);m=a(153);p=a(5);d.prototype.st=function(a,b,c){var d,g,h,f;d=this;if(b)if(c){g=c.AA;h=c.prefix;f=c.no;this.Ls(b,function(b,c){if(!f||d.is.uf(c))a[(h||"")+(g?b.toLowerCase():b)]=c;});}else this.Ls(b,function(b,c){a[b]=c;});return a;};d.prototype.Ls=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};d.prototype.ws=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};d.prototype.HPa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};d.prototype.yc=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!==a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}};d.prototype.IZ=function(a,b){var c,d;a=a.target.keyStatuses.entries();for(c=a.next();!c.done;)d=c.value[0],c=c.value[1],b&&b(d,c),c=a.next();};d.prototype.PWa=function(a){var c,d,g;d=new b();this.is.uf(a.code)?(c=parseInt(a.code,10),d.tb=1<=c&&9>=c?l.u.eu+c:l.u.eu):d.tb=l.u.te;try{g=a.message.match(/\((\d*)\)/)[1];d.Sc=this.Ak.yF(g,4);}catch(w){}d.za=this.yc(a);return d;};d.prototype.Fja=function(a){var c,d;c=new b();try{d=parseInt(a.systemCode,10);c.tb=l.u.eu+a.errorCode.code;c.Sc=this.Ak.yF(d,4);c.za=this.yc(a);}catch(z){}return c;};d.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};d.prototype.Hja=function(a){return this.getFunctionName(a.constructor);};d.prototype.eoa=function(a){var b,c;b=this;c="";this.is.Gn(a)||this.is.Kfa(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.Xg(a)?c=a:this.Ls(a,function(a,d){c+=(c?", ":"")+"{"+a+": "+(b.is.Wy(d)?b.getFunctionName(d)||"function":d)+"}";});return"["+this.Hja(a)+" "+c+"]";};d.prototype.createElement=function(a,b,c,d){var g;g=p.cd.createElement(a);b&&(g.style.cssText=b);c&&(g.innerHTML=c);d&&this.Ls(d,function(a,b){g.setAttribute(a,b);});return g;};d.prototype.pVa=function(a,b){return function(c){return c[a]===b;};};d.prototype.KP=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};a=d;a=f.__decorate([h.N(),f.__param(0,h.j(g.rd)),f.__param(1,h.j(m.MI))],a);c.Tba=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.u7="ClockConfigSymbol";},function(f,c){var a;Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.kma=0]="licenseStarted";a[a.Qpa=1]="recievedLicenseChallenge";a[a.Ppa=2]="recievedLicense";a[a.Rpa=3]="recievedRenewalChallengeComplete";a[a.Spa=4]="recievedRenewalLicenseComplete";a[a.Tpa=5]="recievedRenewalLicenseFailed";a[a.Y6a=6]="recievedIndivChallengeComplete";a[a.Z6a=7]="recievedIndivLicenseComplete";a[a.yfa=8]="addLicenseComplete";a[a.Cfa=9]="addRenewalLicenseComplete";a[a.Dfa=10]="addRenewalLicenseFailed";}(a=c.jn||(c.jn={})));c.NTa=function(b){switch(b){case a.kma:return"lg";case a.Qpa:return"lc";case a.Ppa:return"lr";case a.Rpa:return"renew_lc";case a.Spa:return"renew_lr";case a.Tpa:return"renew_lr_failed";case a.Y6a:return"ilc";case a.Z6a:return"ilr";case a.yfa:return"ld";case a.Cfa:return"renew_ld";case a.Dfa:return"renew_ld_failed";default:return"unknown";}};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.p8="EmeSessionSymbol";c.o8="EmeSessionFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.X7="DrmProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.x9="IdentityProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.G$="NetworkMonitorConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.FU="QueryStringDataProviderSymbol";},function(f,c,a){var b;b=a(98);c.Dla=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(f,c,a){var b,d,h,l,g,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(396);h=a(98);f=a(75);l=a(74);c.Gw=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);return function(b){return b.af(new g(a));};};c.g4a=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);b=a.shift();return new d.A8(b,null).af(new g(a));};g=function(){function a(a){this.V2=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.V2));};return a;}();m=function(a){function c(b,c){a.call(this,b);this.destination=b;this.V2=c;}b(c,a);c.prototype.b3=function(){this.wR();};c.prototype.vi=function(){this.wR();};c.prototype.Yb=function(){this.wR();};c.prototype.qf=function(){this.wR();};c.prototype.wR=function(){var a;a=this.V2.shift();a?this.add(l.Oq(this,a)):this.destination.complete();};return c;}(f.So);},function(f,c){c.cG=function(a){return a instanceof Date&&!isNaN(+a);};},function(f,c,a){var b,d,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(74);f=a(75);c.HA=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(d){"number"===typeof b&&(c=b,b=null);return d.af(new h(a,b,c));};};h=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.zf=a;this.hj=b;this.JY=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.zf,this.hj,this.JY));};return a;}();c.ghb=h;l=function(a){function c(b,c,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);a.call(this,b);this.zf=c;this.hj=d;this.JY=g;this.bA=!1;this.buffer=[];this.index=this.active=0;}b(c,a);c.prototype.tg=function(a){this.active<this.JY?this.VKa(a):this.buffer.push(a);};c.prototype.VKa=function(a){var b,c;c=this.index++;try{b=this.zf(a,c);}catch(v){this.destination.error(v);return;}this.active++;this.NV(b,a,c);};c.prototype.NV=function(a,b,c){this.add(d.Oq(this,a,b,c));};c.prototype.qf=function(){this.bA=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};c.prototype.Ew=function(a,b,c,d){this.hj?this.eJa(a,b,c,d):this.destination.next(b);};c.prototype.eJa=function(a,b,c,d){var g;try{g=this.hj(a,b,c,d);}catch(w){this.destination.error(w);return;}this.destination.next(g);};c.prototype.vi=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.tg(b.shift()):0===this.active&&this.bA&&this.destination.complete();};return c;}(f.So);c.hhb=l;},function(f,c,a){var b;b=a(224);c.IE=function(){return b.pt(1);};},function(f,c,a){var h,l;function b(a){var b;b=a.value;a=a.Ce;a.closed||(a.next(b),a.complete());}function d(a){var b;b=a.VZ;a=a.Ce;a.closed||a.error(b);}h=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};l=a(76);f=function(a){function c(b,c){a.call(this);this.P3=b;this.ha=c;}h(c,a);c.create=function(a,b){return new c(a,b);};c.prototype.Ve=function(a){var c,g,h;c=this;g=this.P3;h=this.ha;if(null==h)this.hp?a.closed||(a.next(this.value),a.complete()):g.then(function(b){c.value=b;c.hp=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){l.root.setTimeout(function(){throw a;});});else if(this.hp){if(!a.closed)return h.lb(b,0,{value:this.value,Ce:a});}else g.then(function(d){c.value=d;c.hp=!0;a.closed||a.add(h.lb(b,0,{value:d,Ce:a}));},function(b){a.closed||a.add(h.lb(d,0,{VZ:b,Ce:a}));}).then(null,function(a){l.root.setTimeout(function(){throw a;});});};return c;}(a(11).pa);c.Qaa=f;},function(f,c,a){var b,d,h,l,g,m,p,r,u,k,z,w;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(98);h=a(400);l=a(399);g=a(395);m=a(849);p=a(97);r=a(848);u=a(157);k=a(11);z=a(405);w=a(229);f=function(a){function c(b,c){a.call(this,null);this.X_a=b;this.ha=c;}b(c,a);c.create=function(a,b){if(null!=a){if("function"===typeof a[w.observable])return a instanceof k.pa&&!b?a:new c(a,b);if(d.isArray(a))return new p.$t(a,b);if(l.Ila(a))return new g.Qaa(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new m.$ya(a,b);if(h.sla(a))return new r.Sta(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};c.prototype.Ve=function(a){var b,c;b=this.X_a;c=this.ha;return null==c?b[w.observable]().subscribe(a):b[w.observable]().subscribe(new z.O$(a,c,0));};return c;}(k.pa);c.A8=f;},function(f,c,a){f=a(396);c.from=f.A8.create;},function(f,c,a){f=a(97);c.of=f.$t.of;},function(f,c){c.Ila=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(f,c){c.sla=function(a){return a&&"number"===typeof a.length;};},function(f,c){c.Pfa=function(a,b){var r;for(var c=0,h=b.length;c<h;c++)for(var f=b[c],g=Object.getOwnPropertyNames(f.prototype),m=0,p=g.length;m<p;m++){r=g[m];a.prototype[r]=f.prototype[r];}};},function(f,c){c.bD=function(){return function(a){this.gab=a;};}();},function(f,c,a){var b;b=a(402);f=function(){function a(){this.XH=[];}a.prototype.Bma=function(){this.XH.push(new b.bD(this.ha.now()));return this.XH.length-1;};a.prototype.Cma=function(a){var c;c=this.XH;c[a]=new b.bD(c[a].gab,this.ha.now());};return a;}();c.yba=f;},function(f,c,a){var b,d,h,l,g,m,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(158);d=a(11);h=a(55);l=a(70);g=a(861);a=function(a){function c(b,c){a.call(this);this.source=b;this.vR=c;this.Tr=0;this.fL=!1;}b(c,a);c.prototype.Ve=function(a){return this.hO().subscribe(a);};c.prototype.hO=function(){var a;a=this.LL;if(!a||a.Ze)this.LL=this.vR();return this.LL;};c.prototype.connect=function(){var a;a=this.Br;a||(this.fL=!1,a=this.Br=new l.tj(),a.add(this.source.subscribe(new m(this.hO(),this))),a.closed?(this.Br=null,a=l.tj.EMPTY):this.Br=a);return a;};c.prototype.jQ=function(){return g.jQ()(this);};return c;}(d.pa);c.v7=a;a=a.prototype;c.BPa={Jw:{value:null},Tr:{value:0,writable:!0},LL:{value:null,writable:!0},Br:{value:null,writable:!0},Ve:{value:a.Ve},fL:{value:a.fL,writable:!0},hO:{value:a.hO},connect:{value:a.connect},jQ:{value:a.jQ}};m=function(a){function c(b,c){a.call(this,b);this.Hk=c;}b(c,a);c.prototype.Yb=function(b){this.rp();a.prototype.Yb.call(this,b);};c.prototype.qf=function(){this.Hk.fL=!0;this.rp();a.prototype.qf.call(this);};c.prototype.rp=function(){var a,b;a=this.Hk;if(a){this.Hk=null;b=a.Br;a.Tr=0;a.LL=null;a.Br=null;b&&b.unsubscribe();}};return c;}(f.eFa);(function(){function a(a){this.Hk=a;}a.prototype.call=function(a,b){var c;c=this.Hk;c.Tr++;a=new p(a,c);b=b.subscribe(a);a.closed||(a.wm=c.connect());return b;};return a;}());p=function(a){function c(b,c){a.call(this,b);this.Hk=c;}b(c,a);c.prototype.rp=function(){var a,b;a=this.Hk;if(a){this.Hk=null;b=a.Tr;0>=b?this.wm=null:(a.Tr=b-1,1<b?this.wm=null:(b=this.wm,a=a.Br,this.wm=null,!a||b&&a!==b||a.unsubscribe()));}else this.wm=null;};return c;}(h.zh);},function(f,c,a){var b,d,h,l,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(55);d=a(226);c.Eqb=function(a,b){void 0===b&&(b=0);return function(c){return c.af(new h(a,b));};};h=function(){function a(a,b){void 0===b&&(b=0);this.ha=a;this.Rc=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.ha,this.Rc));};return a;}();c.Xhb=h;l=function(a){function c(b,c,d){void 0===d&&(d=0);a.call(this,b);this.ha=c;this.Rc=d;}b(c,a);c.Xa=function(a){a.notification.observe(a.destination);this.unsubscribe();};c.prototype.J4=function(a){this.add(this.ha.lb(c.Xa,this.Rc,new g(a,this.destination)));};c.prototype.tg=function(a){this.J4(d.Notification.$Y(a));};c.prototype.Yb=function(a){this.J4(d.Notification.tha(a));};c.prototype.qf=function(){this.J4(d.Notification.WY());};return c;}(f.zh);c.O$=l;g=function(){return function(a,b){this.notification=a;this.destination=b;};}();c.Whb=g;},function(f,c,a){var b,d,h,l,g,m,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(158);d=a(866);h=a(70);l=a(405);g=a(408);m=a(407);a=function(a){function c(b,c,d){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ha=d;this.qb=[];this.ol=1>b?1:b;this.kLa=1>c?1:c;}b(c,a);c.prototype.next=function(b){var c;c=this.Cda();this.qb.push(new p(c,b));this.ffa();a.prototype.next.call(this,b);};c.prototype.Ve=function(a){var b,c,d;b=this.ffa();c=this.ha;if(this.closed)throw new g.cy();this.NF?d=h.tj.EMPTY:this.Ze?d=h.tj.EMPTY:(this.wq.push(a),d=new m.xba(this,a));c&&a.add(a=new l.O$(a,c));for(var c=b.length,f=0;f<c&&!a.closed;f++)a.next(b[f].value);this.NF?a.error(this.S5):this.Ze&&a.complete();return d;};c.prototype.Cda=function(){return(this.ha||d.Eq).now();};c.prototype.ffa=function(){for(var a=this.Cda(),b=this.ol,c=this.kLa,d=this.qb,g=d.length,h=0;h<g&&!(a-d[h].time<c);)h++;g>b&&(h=Math.max(h,g-b));0<h&&d.splice(0,h);return d;};return c;}(f.yh);c.YC=a;p=function(){return function(a,b){this.time=a;this.value=b;};}();},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.Bo=b;this.Ce=c;this.closed=!1;}b(c,a);c.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.Bo;b=a.wq;this.Bo=null;!b||0===b.length||a.Ze||a.closed||(a=b.indexOf(this.Ce),-1!==a&&b.splice(a,1));}};return c;}(a(70).tj);c.xba=f;},function(f,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.cy=f;},function(f,c){c.Ns={e:{}};},function(f,c){c.wb=function(a){return"function"===typeof a;};},function(f,c){c.Pd=function(a){return null!=a&&"object"===typeof a;};},function(f,c){function a(a){this.value=a;}Object.defineProperty(c,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.UG=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};c.PC=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.W7="DrmDataFactorySymbol";},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.LCa="PSK";a.Hza="MGK";a.tgb="MGK_WITH_FALLBACK";a.sgb="MGK_JWE";a.agb="JWEJS_RSA";a.E9="JWK_RSA";a.bgb="JWK_RSAES";c.LI=a;},function(f,c,a){var h;function b(a,b){this.$f=b;this.nq=Math.floor(a);this.display=this.nq+" "+this.$f.name;}function d(a,b,c){this.$f=a;this.name=b;this.Ga=c?c:this;h.$i(this,"base");}Object.defineProperty(c,"__esModule",{value:!0});h=a(49);d.prototype.qN=function(a){return this.$f==a.$f;};d.prototype.toJSON=function(){return this.name;};c.kK=d;b.prototype.qa=function(a){return this.$f.qN(a)?this.nq:Math.floor(this.nq*this.$f.$f/a.$f);};b.prototype.to=function(a){return new b(this.qa(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.nq,units:this.$f.name};};b.prototype.add=function(a){return this.$ga(a);};b.prototype.ie=function(a){return this.$ga(a,function(a){return-a;});};b.prototype.Gk=function(a){return this.qa(this.$f.Ga)-a.qa(this.$f.Ga);};b.prototype.qN=function(a){return 0==this.Gk(a);};b.prototype.Sla=function(){return 0==this.nq;};b.prototype.Ala=function(){return 0>this.nq;};b.prototype.Fla=function(){return 0<this.nq;};b.prototype.$ga=function(a,c){c=void 0===c?function(a){return a;}:c;return new b(this.qa(this.$f.Ga)+c(a.qa(this.$f.Ga)),this.$f.Ga);};c.Po=b;},function(f,c,a){var h;function b(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.a2(a)(b);}c.pna=new h.Metadata(a,b);return c;};}function d(a,b){a=a.xq;return null!==a?b(a)?!0:d(a,b):!1;}Object.defineProperty(c,"__esModule",{value:!0});f=a(40);h=a(66);c.usa=d;c.N5=b;c.Lna=b(f.kr);c.ysa=function(a){return function(b){var c;return null!==b?(c=b.nE[0],"string"===typeof a?c.Td===a:a===b.nE[0].ri):!1;};};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(238);d=a(237);f=function(){function a(a){this.ob=a;this.kD=new d.jS(this.ob);this.hV=new b.OI(this.ob);}a.prototype.GI=function(){return this.kD.GI();};a.prototype.ZB=function(a,b){return this.kD.ZB(a,b);};a.prototype.mo=function(a){return this.hV.mo(a);};return a;}();c.bu=f;},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);d=a(99);h=a(66);l=a(896);f=function(){function a(a,c,g,f){this.id=d.id();this.type=a;this.Td=g;this.name=new l.UDa(c||"");this.Uc=[];a=null;"string"===typeof f?a=new h.Metadata(b.kr,f):f instanceof h.Metadata&&(a=f);null!==a&&this.Uc.push(a);}a.prototype.Eka=function(a){for(var b=0,c=this.Uc;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.Eka(b.qu);};a.prototype.M1a=function(a){return this.a2(b.qu)(a);};a.prototype.Y0=function(){return this.Eka(b.kr);};a.prototype.c1=function(){return this.Uc.some(function(a){return a.key!==b.tC&&a.key!==b.qu&&a.key!==b.IJ&&a.key!==b.eD&&a.key!==b.kr;});};a.prototype.Ela=function(){return this.a2(b.N$)(!0);};a.prototype.XXa=function(){return this.Y0()?this.Uc.filter(function(a){return a.key===b.kr;})[0]:null;};a.prototype.aXa=function(){return this.c1()?this.Uc.filter(function(a){return a.key!==b.tC&&a.key!==b.qu&&a.key!==b.IJ&&a.key!==b.eD&&a.key!==b.kr;}):null;};a.prototype.a2=function(a){var b;b=this;return function(c){var h;for(var d=0,g=b.Uc;d<g.length;d++){h=g[d];if(h.key===a&&h.value===c)return!0;}return!1;};};return a;}();c.hK=f;},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(59);d=a(40);h=a(66);l=a(86);f=function(){function a(a){this.KGa=a;}a.prototype.acb=function(){return this.KGa();};return a;}();c.HT=f;c.j=function(a){return function(c,g,f){var m;if(void 0===a)throw Error(b.GFa(c.name));m=new h.Metadata(d.tC,a);"number"===typeof f?l.qx(c,g,f,m):l.fI(c,g,m);};};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(59);c.Nla=function(a){return a instanceof RangeError||a.message===b.wEa;};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);f=function(){function a(){}a.prototype.Gja=function(a){var c;c=Reflect.getMetadata(b.iU,a);a=Reflect.getMetadata(b.Aba,a);return{bha:c,vcb:a||{}};};a.prototype.oYa=function(a){return Reflect.getMetadata(b.Bba,a)||[];};return a;}();c.UT=f;},function(f,c,a){var b,d,h,l,g,m,p,r;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(236);d=a(877);h=a(235);l=a(234);g=a(873);m=a(766);p=a(760);r=a(752);a=a(556);c.sb=new f.eC();r.O0a(c.sb);c.sb.load(d.platform);c.sb.load(g.config);h.$W.load(m.Yg);l.NZ.load(p.dUa);c.sb.load(a.uX);c.sb.bind(b.DT).th(c.sb);},function(f,c,a){var g,m;function b(a){return null!=a&&"object"===typeof a&&!0===a["@@functional/placeholder"];}function d(a){return function u(c){return 0===arguments.length||b(c)?u:a.apply(this,arguments);};}function h(a){return function u(c,g){switch(arguments.length){case 0:return u;case 1:return b(c)?u:d(function(b){return a(c,b);});default:return b(c)&&b(g)?u:b(c)?d(function(b){return a(b,g);}):b(g)?d(function(b){return a(c,b);}):a(c,g);}};}function l(a){return function u(c,g,f){switch(arguments.length){case 0:return u;case 1:return b(c)?u:h(function(b,d){return a(c,b,d);});case 2:return b(c)&&b(g)?u:b(c)?h(function(b,c){return a(b,g,c);}):b(g)?h(function(b,d){return a(c,b,d);}):d(function(b){return a(c,g,b);});default:return b(c)&&b(g)&&b(f)?u:b(c)&&b(g)?h(function(b,c){return a(b,c,f);}):b(c)&&b(f)?h(function(b,c){return a(b,g,c);}):b(g)&&b(f)?h(function(b,d){return a(c,b,d);}):b(c)?d(function(b){return a(b,g,f);}):b(g)?d(function(b){return a(c,b,f);}):b(f)?d(function(b){return a(c,g,b);}):a(c,g,f);}};}a.r(c);g=l(function(a,b,c){var d,g;d={};for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(d[g]=Object.prototype.hasOwnProperty.call(c,g)?a(g,b[g],c[g]):b[g]);for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&!Object.prototype.hasOwnProperty.call(d,g)&&(d[g]=c[g]);return d;});m=l(function r(a,b,c){return g(function(b,c,d){return"[object Object]"===Object.prototype.toString.call(c)&&"[object Object]"===Object.prototype.toString.call(d)?r(a,c,d):a(b,c,d);},b,c);});c["default"]=h(function(a,b){return m(function(a,b,c){return c;},a,b);});},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(118);d=a(6);c=a(2);h=a(3);l=a(106);g=a(58);f.Dd(c.v.g9,function(a){var c,f;c=t._cad_global.videoPreparer;f=t._cad_global.playerPredictionModel;c&&t._cad_global.playerPredictionModel&&(m=h.Z.get(l.Maa).create(f,c.U5a.bind(c)),t._cad_global.prefetchEvents=m,c.yg.on("deletedCacheItem",function(a){m.CE(g.tc.SC[a.type],parseInt(a.movieId,10),a.reason);}),b.Oi.addEventListener("cacheEvict",function(a){m.CE(l.vd.Wh.oC,a.movieId,"ase_cacheEvict");m.CE(l.vd.Wh.MEDIA,a.movieId);"ase_cacheEvict";}),b.Oi.addEventListener("flushedBytes",function(){b.Oi.tM().forEach(function(a){m.CE(l.vd.Wh.MEDIA,a.M,"ase_flushedBytes");},this);}),c.Xl.addEventListener(c.Xl.events.Eba,function(a){m.iOa(g.tc.SC[a.type],a.M,a.reason);}),c.Xl.addEventListener(c.Xl.events.Cba,function(a){m.eOa(g.tc.SC[a.type],a.M,a.reason);}),c.Xl.addEventListener(c.Xl.events.Dba,function(a){m.gOa(g.tc.SC[a.type],a.M,a.reason);}),c.Xl.addEventListener(c.Xl.events.Fba,function(a){m.kOa(g.tc.SC[a.type],a.M,a.reason);}));a(d.cb);});},function(f,c,a){var h,l,g,m,p,r,u,k,z,w;function b(a,b){this.Mg=a;this.gi=b;}function d(a){this.V=a;this.reset();}h=a(164);l=a(163);c=a(240);g=a(239).config;m=c.SWa;p=c.GWa;r=c.gTa;u=c.U3a;k=c.T3a;z=c.S3a;w=c.$ia;d.prototype.constructor=d;d.prototype.reset=function(){this.yea=void 0;this.Wg=[];this.iea=this.jea=!1;};d.prototype.update=function(a,b){var c;this.Wg&&(this.Wg=this.Wg.filter(this.Y9a,this));if(!1===this.jea){c=m(a.sa).slice(0,g.Iha);0<c.length&&(this.vw(c,l.Ko.SJ),this.jea=!0,this.Wg=this.yx(c.concat(this.Wg)));}!1===this.iea&&(c=p(a.sa).slice(0,g.Iha),0<c.length&&(this.vw(c,l.Ko.SJ),this.iea=!0,this.Wg=this.yx(c.concat(this.Wg))));switch(b){case l.Jo.x8:b=this.jZa(a);break;case l.Jo.cba:b=this.rZa(a);break;case l.Jo.bK:b=this.sZa(a);break;case l.Jo.QC:b=this.oZa(a);break;default:b=this.iZa(a);}this.yea=a;return b;};d.prototype.jZa=function(a){a=u(a.sa,g.xqa,g.Xga);this.vw(a,l.Ko.SJ);return this.Wg=this.yx(this.Wg.concat(a));};d.prototype.rZa=function(a){var b,c;this.V.log("handleScrollHorizontal");b=a.sa;a=u(b,g.zqa,g.Yga);c=r(b,this.yea.sa);b=b[c].list.slice(0,g.r8a);b.concat(a);this.vw(b,l.Ko.QU);return this.yx(b.concat(this.Wg));};d.prototype.vw=function(a,b){a.forEach(function(a){if(void 0===a.qs||a.qs<b)a.qs=b;void 0===a.KB&&(a.KB=h());void 0===a.Kh&&(a.Kh=h());});};d.prototype.sZa=function(a){this.V.log("handleSearch");a=k(a.sa,g.D8a);this.vw(a,l.Ko.eba);this.Wg=a.concat(this.Wg);return this.Wg=this.yx(this.Wg);};d.prototype.oZa=function(a){var c,d,h,f,m;this.V.log("handlePlayFocus: ",g.PF);c=a.direction;d=a.sa;a=[];h=w(d);if(void 0!==h.Mg)switch(a.push(h),c){case l.rn.Xaa:for(c=1;c<g.PF;c++)a.push(new b(h.Mg,h.gi+c));a.push(new b(h.Mg-1,h.gi));a.push(new b(h.Mg+1,h.gi));break;case l.rn.J9:for(c=1;c<g.PF;c++)a.push(new b(h.Mg,h.gi-c));a.push(new b(h.Mg-1,h.gi));a.push(new b(h.Mg+1,h.gi));break;case l.rn.JFa:a.push(new b(h.Mg-1,h.gi));for(c=1;c<=g.PF/2;c++)a.push(new b(h.Mg,h.gi+c)),a.push(new b(h.Mg,h.gi-c));break;case l.rn.mwa:for(a.push(new b(h.Mg+1,h.gi)),c=1;c<=g.PF/2;c++)a.push(new b(h.Mg,h.gi+c)),a.push(new b(h.Mg,h.gi-c));}f=[];a.forEach(function(a){m=z(d,a.Mg,a.gi);void 0!==m&&f.push(m);});this.vw(f,l.Ko.QU);return this.yx(f.concat(this.Wg));};d.prototype.iZa=function(a){this.V.log("ModelOne: handleDefaultCase");a=u(a.sa,g.zqa,g.Yga);this.vw(a,l.Ko.QU);return this.yx(a.concat(this.Wg));};d.prototype.Y9a=function(a){return a.qs==l.Ko.SJ|a.qs==l.Ko.eba&h()-a.KB<g.KZa;};d.prototype.yx=function(a){var b,c,d,g,h,f,m;b=[];c={};f=0;m=a.length;for(h=0;h<m;h++)d=a[h].dg,g=a[h],!1===d in c?(b.push(g),c[d]=f,f++):(d=b[c[d]],g.Kh<d.Kh&&(d.Kh=g.Kh),g.qs>d.qs&&(d.qs=g.qs),g.KB>d.KB&&(d.KB=g.KB));return b;};f.P=d;},function(f,c,a){var l,g,m,p,r,u,k;function b(a,b,c,d,g,h){this.M=this.dg=a;this.Vc=b;this.Qb=c;h&&h.Oc&&(this.Oc=h.Oc);void 0!==d&&(this.Pw=d);this.Kh=g;this.mb=h;}function d(a,b,c,d,g){m(void 0!==d,"video preparer is null");m(void 0!==g,"ui preparer is null");this.V=b||console;this.V=b;this.eb=c;this.gLa=d;this.ZKa=g;this.vea=u.H3;this.Qy=[];this.SW=!1;this.sl=0;new k().on(u,"changed",h,this);this.reset();}function h(){this.V.log("config changed");u.H3&&(this.vea=u.H3);u.DG!==this.Fy&&(this.reset(),this.L7a());}l=a(164);g=a(163);c=a(240);m=c.assert;p=c.$ia;r=a(425);u=a(239).config;k=a(31).kC;u.declare({H3:["ppmConfig",{$db:{boa:0,aoa:2,Zna:0,$na:5,nra:0},qjb:{boa:0,aoa:1,Zna:0,$na:3,nra:1E3},oeb:{boa:0,aoa:1,Zna:0,$na:3,nra:1E3}}]});d.prototype.constructor=d;d.prototype.reset=function(){this.GV=!0;this.Fy=u.DG;this.V.log("create model: "+u.DG,u.xqa,u.Xga);switch(u.DG){case"modelone":this.Fy=new r(this.V);break;default:this.Fy=new r(this.V);}};d.prototype.L7a=function(){var b,c;if(!1===this.SW){this.SW=!0;for(var a=0;a<this.Qy.length;a++){this.V.log("PlayPredictionModel replay: ",JSON.stringify(this.Qy[a]));b=this.nha(this.Qy[a]);c=this.uja(b);this.Fy.update(b,c);this.GV=!1;}this.Qy=[];}};d.prototype.update=function(a){var b,c,d;this.V.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.sa&&a.sa[0]){!1===this.SW&&this.Qy.length<u.W1a&&this.Qy.push(a);b=this.nha(a);c=this.uja(b);this.V.log("actionType",c);b="mlmodel"==u.DG?this.Fy.update(a,c):this.Fy.update(b,c);b=this.jWa(b,u.Z_a||1);this.V.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.sl&&(this.sl=l(),this.eb&&this.eb.vH&&this.eb.vH({UM:this.sl}));if(this.eb&&this.eb.fqa){d={UM:this.sl,offset:this.$N(),ipa:[]};b.forEach(function(a){d.ipa.push({Zm:a.dg});});d.cpa=JSON.stringify(a);d.dpa=JSON.stringify(b);this.eb.fqa(d);}this.gLa.Dt(b);this.ZKa.Dt(b);this.GV=!1;}};d.prototype.Y7a=function(){this.sl=0;};d.prototype.$N=function(){return l()-this.sl;};d.prototype.vH=function(){this.sl=l();this.eb&&this.eb.vH&&this.eb.vH({UM:this.sl});};d.prototype.nha=function(a){var b,c,d,h,f;b={};h=a.sa||[];f=function(a){var h,f;h={};c=g.wC.name.indexOf(a.context);h.context=0<=c?c:g.wC.Ro;h.rowIndex=a.rowIndex;h.requestId=a.requestId;h.list=[];d=a.list||[];d.forEach(function(a){f={dg:a.dg,Qb:a.Qb,index:a.index,Pw:a.Pw,XA:a.XA,list:a.list,mb:a.mb};void 0!==a.property&&(c=g.Sx.name.indexOf(a.property),f.property=0<=c?c:g.Sx.Ro);h.list.push(f);}.bind(this));b.sa.push(h);}.bind(this);void 0!==a.direction&&(c=g.rn.name.indexOf(a.direction),b.direction=0<=c?c:g.rn.Ro);void 0!==a.uF&&(b.Hnb=a.uF.rowIndex,b.Gnb=a.uF.lPa);b.uF=a.uF;b.sa=[];h.forEach(f);return b;};d.prototype.uja=function(a){var b,c,d;b=a.direction||g.rn.Ro;c=a.uF;d=a.sa||[];!0===this.GV?a=g.Jo.x8:!0===d.some(this.wZa)?(a=g.Jo.QC,this.nQ(d,b,c)):a=d[0].context===g.wC.bK?g.Jo.bK:b===g.rn.Xaa||b===g.rn.J9?g.Jo.cba:g.Jo.Ro;return a;};d.prototype.wZa=function(a){return(a.list||[]).some(function(a){return a.property===g.Sx.QC||a.property===g.Sx.E7;});};d.prototype.nQ=function(a,b,c){var d,h;this.V.log("reportPlayFocusEvent: ",b,c);d={};h=p(a);this.eb&&this.eb.nQ&&(d.lnb=l(),d.direction=g.rn.name[b],c&&(d.rowIndex=c.rowIndex,d.DY=c.lPa),void 0!==h.Mg&&(d.requestId=a[h.Mg].requestId),this.eb.nQ&&this.eb.nQ(d));};d.prototype.jWa=function(a,b){for(var c=a.length,d=[],g,h,f,m,l=0;l<c;l++){h=a[l];g=Math.floor(l/b)+1;if(void 0!==h.list){f=h.list;m=f.length;for(var p=0;p<Math.min(u.jPa,m)&&!(f[p].Kh=h.Kh,this.Afa(f[p],g,d),d.length>=u.dna);p++);}else this.Afa(h,g,d);if(d.length>=u.dna)break;}return d;};d.prototype.Afa=function(a,c,d){var h,f;function g(a){a.Oc&&(a.mb||(a.mb={}),a.mb.Oc=a.Oc);return a.mb;}h=a.XA;void 0!==h&&h instanceof Array?h.forEach(function(h){void 0!==h.dg&&(f=g(h),d.push(new b(h.dg,c,h.Qb,h.Pw,a.Kh,f)));}):void 0!==h&&void 0!==h.dg&&(h=a.XA,f=g(h),d.push(new b(h.dg,c,h.Qb,h.Pw,a.Kh,f)));void 0!==a.dg&&(f=g(a),d.push(new b(a.dg,c,a.Qb,a.Pw,a.Kh,f)));};d.prototype.Zp=function(a){var b;b=this.vea;return a?b[a]:b;};f.P=d;},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(4);d=a(6);c=a(2);h=a(3);f.Dd(c.v.h9,function(c){var g,f;if(b.config.C5a){g=h.Cc("PlayerPredictionModel");t._cad_global.videoPreparer||(g.error("videoPreparer is not defined"),c(d.cb));f=a(426);g.log=g.trace.bind(g);l=new f({},g,{vH:function(a){t._cad_global.prefetchEvents.fTa(a.UM);},fqa:function(a){t._cad_global.prefetchEvents.V5a(a);}},t._cad_global.videoPreparer,{Dt:function(){}});t._cad_global.playerPredictionModel=l;g.info("ppm v2 initialized");}c(d.cb);});},function(f){f.P={Os:{Sa:12E5,iG:9E5,Uc:12E5},ps:{Sa:10,iG:10,Uc:10},ms:{Sa:10240,iG:10240,Uc:10240}};},function(f){function c(a){var b;b=[];return function h(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&h(a[c]))return!0;}return!1;}(a);}f.P=function(a,b){var h;if(b&&c(a))return-1;b=[];a=[a];for(var d=0;a.length;){h=a.pop();if("boolean"===typeof h)d+=4;else if("string"===typeof h)d+=2*h.length;else if("number"===typeof h)d+=8;else if("object"===typeof h&&-1===b.indexOf(h)){b.push(h);for(var f in h)a.push(h[f]);}}return d;};},function(f,c,a){var g,m;function b(){return Object.create(null);}function d(a){this.log=a.log;this.Na=a.Na;this.xw=b();this.Promise=a.Promise;this.Np=a.Np;this.f6=a.f6;this.Ke=a.Ke||!1;this.Os=b();this.ps=b();this.ms=b();this.sKa(a);a.Pz&&(this.Pz=a.Pz,g(this.Pz,d.prototype));}function h(a){return"undefined"!==typeof a;}function l(a){var d;for(var b=0,c=arguments.length;b<c;){d=arguments[b++];if(h(d))return d;}}g=a(44);a(429);m=a(428);d.prototype.sKa=function(a){this.Os.manifest=l(a.$Z,m.Os.Sa);this.Os.ldl=l(a.ZZ,m.Os.iG);this.Os.metadata=l(a.pnb,m.Os.Uc);this.ps.manifest=l(a.iY,m.ps.Sa);this.ps.ldl=l(a.hY,m.ps.iG);this.ps.metadata=l(a.vlb,m.ps.Uc);this.ms.manifest=l(a.tlb,m.ms.Sa);this.ms.ldl=l(a.slb,m.ms.iG);this.ms.metadata=l(a.ulb,m.ms.Uc);};d.prototype.oO=function(a,b,c){this.Of("undefined"!==typeof a);this.Of("undefined"!==typeof b);return!!this.oda(a,b,c).value;};d.prototype.oda=function(a,b,c){var d,g;d={value:null,reason:"",log:""};g=this.xw[b];if("undefined"===typeof g)return d.log="cache miss: no data exists for field:"+b,d.reason="unavailable",d;"undefined"===typeof g[a]?(d.log="cache miss: no data exists for movieId:"+a,d.reason="unavailable"):(c=g[a][c?c:"DEFAULTCAPS"])&&c.value?this.GO(b,c.hi)?(d.log="cache miss: "+b+" data expired for movieId:"+a,d.reason="expired"):(d.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,d.value=c.value):(d.log="cache miss: "+b+" data not available for movieId:"+a,d.reason="unavailable");return d;};d.prototype.getData=function(a,b,c){this.Of("undefined"!==typeof a);this.Of("undefined"!==typeof b);a=this.oda(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.f6?JSON.parse(this.f6(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};d.prototype.setData=function(a,c,d,g,h){var f;this.Of("undefined"!==typeof a);this.Of("undefined"!==typeof c);f=this.xw;h=h?h:"DEFAULTCAPS";f[c]||(f[c]=b(),Object.defineProperty(f[c],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(f[c],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));d=this.Np?this.Np(JSON.stringify(d),"gzip",!0):d;f=f[c];this.kIa(a,c,h,f);c={hi:this.Na.getTime(),value:d,size:0,type:c,AZ:g};f[a]=f[a]||b();f[a][h]=f[a][h]||b();f[a][h]=c;f.size+=0;f.numEntries++;this.Pz&&this.emit("addedCacheItem",c);return c;};d.prototype.kIa=function(a,b,c,d){var g,h,f,m,l,p,r,u,k;g=this;h=d.numEntries;f=this.ps[b];p=d[a]&&d[a][c];if(p&&p.value)m=a,l="promise_or_expired";else if(h>=f){u=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var h;h=d[a]&&d[a][c];h&&h.value&&g.GO(b,h.hi)&&(k=a);h&&h.value&&h.hi<u&&(u=h.hi,r=a);return!0;});m=k||r;l="cache_full";}this.Ke&&this.log.debug("makespace ",{maxCount:f,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:m});m&&(g.clearData(m,b,c,void 0,l),this.log.debug("removed from cache: ",m,b));};d.prototype.vY=function(a,b){var c,d;c=this;c.Of("undefined"!==typeof a);d=a+"";b.forEach(function(a){var b;b=c.xw[a];b&&Object.keys(b).forEach(function(b){b!=d&&c.clearData(b,a,void 0,void 0,"clear_all");});});};d.prototype.clearData=function(a,b,c,d,g){var h;this.Of("undefined"!==typeof a);this.Of("undefined"!==typeof b);h=this.xw[b];b=h?h[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){h.size-=b[c].size;h.numEntries--;if(h=b&&b[c])b[c]=void 0,!d&&h.AZ&&h.AZ();this.Pz&&(a={creationTime:h.hi,destroyFn:h.AZ,size:h.size,type:h.type,value:h.value,reason:g,movieId:a},this.emit("deletedCacheItem",a));}};d.prototype.flush=function(a){var c;this.Of("undefined"!==typeof a);c=this.xw;c[a]=b();c[a].numEntries=0;c[a].size=0;};d.prototype.GO=function(a,b){return this.Na.getTime()-b>this.Os[a];};d.prototype.getStats=function(a,b,c){var d,g,f,m,l;d={};g=this;f=g.xw;m=h(a)&&h(b);l=c||"DEFAULTCAPS";Object.keys(f).forEach(function(c){var p,r;p=Object.keys(f[c]);r=f[c];p.forEach(function(f){!(f=r&&r[f]&&r[f][l])||!h(f.value)||f.value instanceof this.Promise||(d[c]=(d[c]|0)+1,g.GO(f.type,f.hi)&&(d[c+"_expired"]=(d[c+"_expired"]|0)+1),m&&f.hi>=a&&f.hi<b&&(d[c+"_delta"]=(d[c+"_delta"]|0)+1));});});return d;};d.prototype.ae=function(a){var b,c,d,g;b=[];c=this;d=c.xw;g=a||"DEFAULTCAPS";Object.keys(d).forEach(function(a){var f,m;f=Object.keys(d[a]);m=d[a];f.forEach(function(d){var f,l;f=m&&m[d]&&m[d][g];f&&h(f.value)&&(l=c.GO(f.type,f.hi)?"expired":f.value instanceof this.Promise?"loading":"cached",b.push({movieId:d,state:l,type:a,size:f.size}));});});return b;};d.prototype.kra=function(a,b){this.Of("undefined"!==typeof a);this.Of("undefined"!==typeof b);this.ms[a]=b;};d.prototype.Of=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Ke))throw Error("Debug Assert Failed ");};f.P=d;},function(f,c,a){var d,h;function b(a,b,c,f,r,u,k){this.M=a;this.Vc=b;this.type=c;this.id=++h;this.LM=f;this.status=d.ud.j7;this.h5a=void 0===r?!1:r;this.Wna=k;}Object.defineProperty(c,"__esModule",{value:!0});d=a(58);h=0;b.prototype.Wja=function(){var a;a={id:this.id,type:this.type,created:this.LM,status:this.status,movieId:this.M};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.vi=function(a){this.Wna&&this.Wna(a);};c.cD=b;},function(f,c,a){var l,g,m;function b(){}function d(a){this.log=a.log;this.Na=a.Na;this.NM=this.SE=0;this.Vt=[];this.paused=!1;this.oR=[];this.cha=[];this.$F=a.$F||b.F6;this.sb=a.sb;this.bi=this.sb.get(g.nJ);this.addEventListener=this.bi.addListener.bind(this.bi);this.events={Eba:"taskstart",Cba:"taskabort",Dba:"taskfail",Fba:"tasksuccess"};}function h(a){return a.Wja();}Object.defineProperty(c,"__esModule",{value:!0});f=a(108);l=a(58);g=a(109);b.GCa="prepend";b.F6="append";b.Uxa="ignore";m=f.nn;c.kFa=d;d.prototype.Ffa=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.Vt=this.WHa(a);this.SE=0;this.NM+=1;this.Xa();};d.prototype.WHa=function(a){var c,d;c=this.Vt.filter(function(a){return a.h5a&&a.status===l.ud.j7;});d=this.$F;if(d===b.Uxa)return[].concat(a);if(d===b.GCa)return c.concat(a);if(d===b.F6)return a.concat(c);};d.prototype.pause=function(){this.paused=!0;};d.prototype.Xa=function(){var a,b;if(this.SE===this.Vt.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.SE,numberOfTasks:this.Vt.length});else{a=this.ZXa();b=this.NM;a.startTime=this.Na.getTime();a.status=l.ud.fba;this.bi.mc(this.events.Eba,{M:a.M,type:a.type});this.oR.push(a);a.fe(function(c){a.endTime=this.Na.getTime();c?0<=[l.ud.Jx,l.ud.UI,l.ud.bC,l.ud.TI].indexOf(c.status)?(a.status=c.status,this.pW(a,this.events.Cba,"cancelled task")):(a.status=l.ud.bm,this.pW(a,this.events.Dba,"task failed",c)):(a.status=l.ud.oba,this.pW(a,this.events.Fba,"task succeeded"));this.cha.push(a);this.oR.splice(this.oR.indexOf(a),1);this.NM===b&&(this.SE++,this.Xa());}.bind(this));}};d.prototype.ZXa=function(){return this.Vt[this.SE];};d.prototype.pW=function(a,b,c,d){var g;g=a.Wja();d?this.log.warn(c,g,d):this.log.trace(c,g);this.bi.mc(b,{M:a.M,type:a.type,reason:a.status});a.vi(g);};d.prototype.getStats=function(a,b,c){var d,g,f,p;d=this.cha.map(h);g=this.oR.map(h);f=m.uf(a)&&m.uf(b);p={};if(m.uf(c))return p.tPa=d.filter(function(a){return a.movieId===c;}),p;d.concat(g).forEach(function(c){var d;p[c.type+"_"+c.status]=(p[c.type+"_"+c.status]|0)+1;d=c.status==l.ud.fba?c.startTime:c.endTime;f&&d>=a&&d<b&&(p[c.type+"_"+c.status+"_delta"]=(p[c.type+"_"+c.status+"_delta"]|0)+1);});return p;};},function(f,c,a){var l,g,m,p,r,u,k,z,w,n;function b(a){if(!a)throw Error("Debug Assert Failed ");}function d(a){this.log=a.log;this.Na=a.Na;this.Xz=a.Xz;this.dO=a.dO;this.Uz=a.Uz;this.cq=a.cq;this.nw=a.nw;this.qY=a.qY;this.YE=a.YE;this.sb=a.sb;this.config=this.sb.get(u.Ef)();this.$E=a.$E;this.ZE=a.ZE;this.B6=a.B6;this.k3=a.k3;this.l3=a.l3;this.j3=a.j3;this.K_=a.K_;this.Ke=a.Ke||!1;this.WW={};this.sL={};this.HL={num_of_calls:0,num_of_movies:0};this.pY=a.pY;this.N2=a.N2;this.VN=a.VN;this.qWa=a.qWa;this.C_=a.C_;this.mY=a.mY;this.yg=new k({log:this.log,Na:this.Na,Promise:Promise,Ke:this.Ke,iY:a.iY,hY:a.hY,$Z:a.$Z,ZZ:a.ZZ,Pz:z});this.Xl=new l.kFa({log:this.log,Na:this.Na,$F:a.$F,sb:this.sb});this.Ui=this.yg.getData.bind(this.yg);this.Ot=this.yg.setData.bind(this.yg);this.mO=this.yg.oO.bind(this.yg);}function h(a){var c;b(w.Gn(a.poa));c=this.Na;return a.poa.map(function(b){var d;d=new g.cD(a.M,a.Vc,a.itb,c.getTime(),!0);d.fe=b;return d;});}Object.defineProperty(c,"__esModule",{value:!0});l=a(432);g=a(431);f=a(108);m=a(221);p=a(382);r=a(106);u=a(29);k=a(430);z=a(31).EventEmitter;w=f.nn;n=new p.Tba(w,new m.hS());c.RFa=d;d.prototype.Dt=function(a,b){var c,d,g;c=this;a=a.map(function(a){a.mb=a.mb||{pm:{Ooa:!1},Zf:0};w.ah(a.mb.Zf)||(a.mb.Zf=0);w.ah(a.Qb)&&(a.mb.X=a.Qb);return a;});this.config&&this.config.dH&&"undefined"!==typeof this.config.dH.maxNumberTitlesScheduled&&a.splice(this.config.dH.maxNumberTitlesScheduled);d=a.map(function(a){return c.Sca(a,b);}).reduce(function(a,b){return a.concat(b);},[]);g=d.map(function(a){return a.M+"-"+a.type;});this.log.trace("prepare tasks",g);this.Xl.Ffa(d);this.HL.num_of_calls++;this.HL.num_of_movies+=a.length;};d.prototype.S5a=function(a,b){var c,d,g;c=this;d=a.map(function(a){return a.M+"";});a=a.map(function(a){a.mb=a.mb||{pm:{Ooa:!1},Zf:0};a.mb.Sd=!0;a.mb.Ena=d;return c.Sca(a,b);}).reduce(function(a,b){return a.concat(b);},[]);g=a.map(function(a){return a.M+"-"+a.type;});this.log.trace("predownload tasks",g);this.Xl.Ffa(a);};d.prototype.uh=function(a,b){this.sL[a]||(this.sL[a]={});a=this.sL[a];a.kpa=(a.kpa|0)+1;a.Kh=b;};d.prototype.getStats=function(a,b,c){var d;d=c&&this.sL[c]||{};d.Vt=this.Xl.getStats(a,b,c);d.cache=this.yg.getStats(a,b);d.rja=n.st(this.K_(),this.HL);return d||{};};d.prototype.Sca=function(a,b){var c,d,f,m,l;if(w.uf(a.poa))return h.call(this,a);a.Oc&&(a.mb.Oc=a.Oc);c=[];d=a.M;f=!!a.mb.Sd;this.uh(d,a.Kh);m=null;if(this.yg.oO(d,"manifest"))this.log.trace("manifest exists in cache for "+d);else{l=new g.cD(d,a.Vc,"manifest",this.Na.getTime(),f,void 0,b);m=l.id;l.fe=this.Xz.bind(this,d,a.mb);c.push(l);}this.dO&&this.qY()&&(this.yg.oO(d,"ldl")?this.Ke&&this.log.trace("ldl exists in cache for "+d):(l=new g.cD(d,a.Vc,"ldl",this.Na.getTime(),f,m,b),l.fe=this.dO.bind(this,d),c.push(l)));this.Uz&&this.cq&&this.pY()&&(this.N2(d)?this.Ke&&this.log.trace("headers/media exists in cache for "+d):(d=new g.cD(a.M,a.Vc,"getHeaders",this.Na.getTime(),f,m,b),d.fe=this.Uz.bind(this,a.M,a.mb),c.push(d),b=new g.cD(a.M,a.Vc,"getMedia",this.Na.getTime(),f,m,b),b.fe=this.cq.bind(this,a.M,a.mb),c.push(b)));return c;};d.prototype.qZa=function(a){this.l3(a);};d.prototype.pZa=function(a){this.log.trace("task scheduler paused on playback created");this.Xl.pause();this.$E&&this.yg.vY(a,["manifest"]);this.ZE&&this.yg.vY(a,["ldl"]);this.k3(a);};d.prototype.zka=function(){this.log.info("track changed, clearing all manifests from cache");this.yg.vY("none",["manifest"]);};d.prototype.yka=function(a){var b;b=this;this.YE?this.yg.clearData(a,"manifest"):this.yg.oO(a,"manifest")&&this.yg.getData(a,"manifest").then(function(c){c.isSupplemental||b.yg.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.yg.clearData(a,"ldl",void 0,!0);this.zY(a);this.j3();};d.prototype.zY=function(a){this.WW[a]=void 0;};d.prototype.KF=function(a){return this.WW[a];};d.prototype.Aha=function(a){return this.WW[a]=this.B6();};d.prototype.U5a=function(){var a;a=[];a=this.yg.ae().map(function(a){return{Zm:parseInt(a.movieId,10),state:a.state,Ap:a.type,size:a.size||void 0};});this.C_().map(function(b){2===b.cA?a.push({Zm:b.M,state:"cached",Ap:r.vd.Wh.oC,size:void 0}):b.IVa&&!b.k0a&&a.push({Zm:b.M,state:"loading",Ap:r.vd.Wh.oC,size:void 0});b.eta&&0<b.eta&&b.Xfa&&0<b.Xfa?a.push({Zm:b.M,state:"cached",Ap:r.vd.Wh.MEDIA,size:void 0}):b.M5a&&!b.L5a&&a.push({Zm:b.M,state:"loading",Ap:r.vd.Wh.MEDIA,size:void 0});});return a;};d.prototype.tla=function(a){return a&&0<=a.indexOf("billboard");};},function(f,c,a){var b,d,h,l,g,m,p,r,u,k,z,w,n,x,y,C,F,q,T,ca,Z,O,B,ja,V,D,S;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(28);d=a(118);h=a(89);l=a(187);g=a(4);m=a(6);p=a(92);r=a(25);u=a(17);c=a(2);k=a(3);z=a(20);w=a(147);n=a(7);x=a(126);y=a(114);C=a(107);F=a(58);q=a(195);T=a(14);ca=a(36);Z=a(32);O=a(433);B=a(144);ja=a(203);V=a(145);D=a(104);f.Dd(c.v.n9,function(a){var ka,ua,la,da,A,H,P,wa,na,Y,aa,ta,db,Ba,Ya,Ra;function c(){var a,b,c;if(g.config.Rm){a={};a.trigger=F.tc.FCa.BBa;b=ka.getTime();c=S.getStats(Ya,b);a.startoffset=Ya;Ya=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.Vt);a.general=JSON.stringify(c.rja);a=new p.Zx(null,"prepare","info",a);t._cad_global.logBatcher.Vl(a);}}function f(a,b,c){var h,f,m,p;h=la.decode(a);f=a.audioTracks.map(function(a){a.Ab=a.id;return a;});m=l.S4a(a,f,[]);h.video_tracks&&h.video_tracks.length&&h.video_tracks[0].streams&&h.video_tracks[0].streams.length&&(p=h.video_tracks[0].streams[0].content_profile);a=g.iha(b.Oc);p=g.hha(!!h.choiceMap,p);p=d.Dj.SY(Object.assign({},a,p));return{M:c,Vc:0,SXa:function(){return{Sa:h,ki:!1,LX:m[0].gc.Ab};},config:p,Sd:!!b.Sd,Ena:b.Ena};}function v(a,b){S.Ui(a,"ldl").then(function(a){b(null,a);})["catch"](function(c){wa.trace("ldl not available in cache",c);S.Ui(a,"manifest").then(function(c){var h,f,m;function d(b){wa.warn("ldl is now invalid",b);f.close();S.Ot(a,"ldl",void 0);S.zY(a);}if(S.mO(a,"ldl"))b({status:F.tc.ud.Jx});else if(c.audioEncrypted||c.videoEncrypted)if(g.config.cia&&na&&na!=a)b({status:F.tc.ud.UI});else if(g.config.dia&&Y&&Y!=a)b({status:F.tc.ud.bC});else{na&&na!=a&&(aa[a]=(aa[a]|0)+1);Y&&Y!=a&&(ta[a]=(ta[a]|0)+1);h=c.psshb64;f=G({XF:"cenc",ria:wa,$v:function(b){var d;d=[];b.Fj.forEach(function(a){d.push({sessionId:a.sessionId,dataBase64:k.Dp(a.data)});});b={Fj:d,cN:[c.drmContextId],Rf:F.tc.mha(b.Rf),Dc:c.playbackContextId,aa:S.Aha(a)};wa.trace("xid created ",{MovieId:a,xid:b.aa});return A.Yy(b,db);},H$a:void 0,FUa:d,Yc:void 0,DP:T.Gb,Na:H});S.Ot(a,"ldl",f,function(){f.close();});m=P.shift();k.log.trace("cached mediakeys count "+P.length);return f.create(g.config.ce,m).then(function(){return f.kd(x.Oo.vC,[k.Pi(h[0])],!0);}).then(function(){b(null,f);})["catch"](function(a){d(a);b(a);});}else b({status:F.tc.ud.TI});})["catch"](function(a){wa.warn("Manifest not available for ldl request",a);b({status:F.tc.ud.Jx});});});}function N(a,b){S.Ui(a,"ldl").then(function(a){b(null,a);})["catch"](function(c){wa.trace("ldl not available in cache",c);S.Ui(a,"manifest").then(function(c){var f,m;function d(b,c){wa.warn(b+" LDL is now invalid.",c);S.Ot(a,"ldl",void 0);S.zY(a);}if(S.mO(a,"ldl"))b({status:F.tc.ud.Jx});else if(c.audioEncrypted||c.videoEncrypted)if(g.config.cia&&na&&na!=a)b({status:F.tc.ud.UI});else if(g.config.dia&&Y&&Y!=a)b({status:F.tc.ud.bC});else{na&&na!=a&&(aa[a]=(aa[a]|0)+1);Y&&Y!=a&&(ta[a]=(ta[a]|0)+1);f=c.psshb64;m=k.Z.get(y.kJ)().then(function(b){var d;d={type:x.Oo.vC,dla:k.Pi(f[0]),context:{ce:g.config.ce,M:a,aa:S.Aha(a),Dc:c.playbackContextId,Is:c.drmContextId,profileId:h.He.profile.id}};return b.Dt(d);}).then(function(a){b(null,a);return a;})["catch"](function(a){d("Unable to prepare an EME session.",a);});S.Ot(a,"ldl",m,function(){try{m.then(function(a){a.close().subscribe(void 0,function(a){d("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(tc){d("Unable to cleanup LDL session, unexpected exception.",tc);}});}else b({status:F.tc.ud.TI});})["catch"](function(a){wa.warn("Manifest not available for ldl request",a);b({status:F.tc.ud.Jx});});});}function G(a){var b,c;b=new ca.Ne.cr(a.ria,a.$v,a.H$a,{Ke:!1,dt:!1});c=k.Z.get(C.ky);return ca.Ne.kn(a.ria,a.XF,a.Yc,{Ke:!1,dt:!1,Mla:g.config.Sh,Qqa:{ona:g.config.Pqa,Iga:g.config.O4},Ta:b,$P:g.config.iH,Ba:void 0,UB:g.config.UB,Dx:g.config.QZ,onerror:a.FUa,DP:a.DP,Na:a.Na,B3:!1,pB:g.config.m6&&g.config.pB,SF:g.config.SF,Yfa:c.HM(),t6:c.QE([]),eA:g.config.eA});}function ia(a,b){0===a&&k.log.trace("generete mediakeys for pre-caching");a<b?ca.Ne.kn.NE&&ca.Ne.kn.NE("cenc",g.config.ce,k.log,g.config.m6&&g.config.pB).then(function(c){P.push(c);Z.Xa(ia.bind(null,++a,b));})["catch"](function(a){k.log.error("abort pre-caching due to error in creating mediakeys",a);}):k.log.trace("pre-cached mediakeys complete, number of instances: "+b);}ka={getTime:u.Ra,aO:u.On};ua=k.Z.get(z.rd);la=k.Z.get(B.BC);da=k.Z.get(ja.MT);A=k.Z.get(V.yC);H=ka;P=[];wa=k.Cc("VideoPreparer");aa={};ta={};db={Za:b.Za,log:wa};if(!ca.Ne.kn||!ca.Ne.cr){Ba=ca.T$();ca.Ne.kn=Ba.ph;ca.Ne.cr=Ba.request;}wa.info("instance created");S=new O.RFa({log:wa,Na:ka,B6:u.Qga,Xz:function(a,b,c){function d(){var c,d;ua.ov(b)||(b={trackingId:b});c={jf:da.Zga(b.pm,b.jf),dg:a,$s:!!b.Qf,eja:F.tc.vu.faa};db.profile=h.He.profile;wa.trace("manifest request for:"+a);d=k.Z.get(D.ey)();return da.Xz(c,d);}wa.trace("getManifest: "+a);g.config.wLa&&b&&b.Sa&&!S.mO(a,"manifest")&&(!b.Sa.clientGenesis||Date.now()-b.Sa.clientGenesis<g.config.lpa)?(b.Sa.ax=ka.getTime(),b.Sa.eB=ka.getTime(),S.Ot(a,"manifest",b.Sa),c(null,b.Sa)):S.Ui(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var g;wa.trace("manifest not available in cache",b);if(S.mO(a,"manifest"))c({status:F.tc.ud.Jx});else{g=ka.getTime();b=d();S.Ot(a,"manifest",b);b.then(function(b){b.ax=g;b.eB=ka.getTime();S.Ot(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);S.Ot(a,"manifest",void 0);});}});},dO:g.config.dn?N:v,qY:function(){return g.config.RZ&&r.IO(g.config);},Uz:function(a,b,c){S.Ui(a,"manifest").then(function(g){g=f(g,b,a);d.Oi.tga(g,function(){c(null,{});});})["catch"](function(a){wa.error("Exception in getHeaders",a);c(a);});},cq:function(a,b,c){S.Ui(a,"manifest").then(function(g){var h,m,l;h=f(g,b,a);m=g.runtime;g=k.Z.get(w.QI).nX({TB:n.Cb(g.bookmark.position),M:a,bH:n.Cb(m),Pb:b}).qa(n.Ma);k.Z.get(z.rd).Hn(b.X)&&(g=b.X);h.Qb=g;if(na!=a||b.Sd){l=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(d.Oi.removeEventListener("prebuffstats",l),c(null,{}));};d.Oi.addEventListener("prebuffstats",l);d.Oi.tga(h);}else c({status:F.tc.ud.bC});})["catch"](function(a){wa.error("Exception in getMedia",a);c(a);});},nw:function(){return d.Oi.nw();},pY:function(){return g.config.iN;},N2:function(a){var b;b=!1;d.Oi.tM().forEach(function(c){c.M==a&&(b=!0);});return b;},VN:function(a){var b;d.Oi.tM().forEach(function(c){c.M==a&&(b=c.ad,b.X=c.En);});return b;},C_:function(){return d.Oi.tM().map(function(a){var b,c;b=d.Oi.z1a(a.M);c=b[k.Df.Gf.AUDIO]&&b[k.Df.Gf.AUDIO].data;b=b[k.Df.Gf.VIDEO]&&b[k.Df.Gf.VIDEO].data;return{M:a.M,cA:a.cA,Xfa:c&&c.length,eta:b&&b.length,IVa:ua.Hn(a.ad.GN),k0a:ua.Hn(a.ad.UO),M5a:ua.Hn(a.ad.WA),L5a:ua.Hn(a.ad.eH)};});},k3:function(a){na=a;},l3:function(a){Ra&&(Ra.xY(),c());Y=a;},j3:function(){Ra&&Ra.j5();Y=na=void 0;},K_:function(){return{ldls_after_create:aa,ldls_after_start:ta};},mY:function(a,b,c){var d,g;try{d=S.VN(a);g=d&&d.X===b;d&&d.eH?ua.ah(b)&&!g?c(!1):S.Ui(a,"manifest").then(function(b){b.Mtb?S.Ui(a,"ldl").then(function(){c(!0);})["catch"](function(){c(!1);}):c(!0);})["catch"](function(){c(!1);}):c(!1);}catch(Db){c(!1);}},YE:g.config.YE,$E:g.config.$E,ZE:g.config.ZE,$F:g.config.W5a,iY:g.config.Z5a,hY:g.config.X5a,$Z:g.config.lpa,ZZ:g.config.Y5a,Ke:!1,sb:k.Z});t._cad_global.videoPreparer=S;Ba=g.config.g5a;Ya=ka.getTime();Ba&&(Ra=new q.Zaa(Ba,c),Ra.j5());g.config.RZ&&r.IO(g.config)&&g.config.epa&&Z.Xa(ia.bind(null,0,g.config.epa));a(m.cb);});},function(f,c,a){var b,d,h,l,g,m,p,r,u,k,z,w;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(115);d=a(90);h=a(89);l=a(190);g=a(102);m=a(6);p=a(25);c=a(2);r=a(3);u=a(94);k=a(8);z=a(14);w=a(5);f.Dd(c.v.p9,function(a){function c(a,b){function c(a){a=new u(r.Pi(a));a.ef();return{ht:a.Cpa(),vUa:a.Cpa()};}return{encrypt:function(b,c){var d;b=z.oc(b)?r.wI(b):b;d=w.mr.getRandomValues(new Uint8Array(16));p.NA(w.Gl.encrypt({name:"AES-CBC",iv:d},a,b)).then(function(a){var b,g;a=new Uint8Array(a);b=[];g=new u(b);g.A6(2);g.kta(d);g.kta(a);a=r.Dp(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){k.ea(!1,"Encrypt error: "+a);c({success:!1});});},decrypt:function(b,d){b=c(b);p.NA(w.Gl.decrypt({name:"AES-CBC",iv:b.ht},a,b.vUa)).then(function(a){a=new Uint8Array(a);d({success:!0,text:r.XB(a)});},function(a){k.ea(!1,"Decrypt error: "+a);d({success:!1});});},hmac:function(a,c){a=z.oc(a)?r.wI(a):a;p.NA(w.Gl.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:r.Dp(a)});},function(a){k.ea(!1,"Hmac error: "+a);c({success:!1});});}};}b.Fu.mdx={getEsn:function(){return d.Bg.$d;},createCryptoContext:function(a){var b,c,d;b=l.Tk.Le.getStateForMdx(h.He.profile.id);c=b.cryptoContext;d=b.masterToken;b=b.userIdToken;d&&b?(k.ea(c),d=["1",r.Dp(JSON.stringify(d.toJSON())),r.Dp(JSON.stringify(b.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:d,encrypt:function(a,b){a=z.oc(a)?r.wI(a):a;c.encrypt(a,{result:function(a){a=r.Dp(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){k.ea(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=r.Pi(a);c.decrypt(a,{result:function(a){b({success:!0,text:r.XB(a)});},timeout:function(){b({success:!1});},error:function(a){k.ea(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=z.oc(a)?r.wI(a):a;c.sign(a,{result:function(a){b({success:!0,hmacBase64:r.Dp(a)});},timeout:function(){b({success:!1});},error:function(a){k.ea(!1,"Hmac error: "+a);b({success:!1});}});}}})):(k.ea(!1,"Must login first"),a({success:!1}));},createCryptoContextFromSharedSecret:function(a,b){var d;d=r.Pi(a);a=d.subarray(32,48);d=d.subarray(0,32);if(16!=a.length||32!=d.length)throw Error("Bad shared secret");Promise.all([p.NA(w.Gl.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),p.NA(w.Gl.importKey("raw",d,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:c(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return g.ti.mka();}};a(m.cb);});},function(f,c,a){var b,d,h,l,g,m,p,r,u;Object.defineProperty(c,"__esModule",{value:!0});f=a(115);b=a(6);d=a(4);h=a(16);c=a(12);l=a(3);g=a(65);m=a(84);p=a(8);r=a(14);u=a(5);t.netflix=t.netflix||{};p.ea(!t.netflix.player);t.netflix.player={VideoSession:f.TFa,diag:{togglePanel:function(a,b){var c;if(!d.config||d.config.tH){switch(a){case"info":c=h.Uo.map(function(a){return a.RP;});break;case"streams":c=h.Uo.map(function(a){return a.z5a;});break;case"log":c=[];}c&&c.forEach(function(a){r.$a(b)?b?a.show():a.dw():a.toggle();});}},addNccpLogMessageSink:function(a){l.Z.get(g.jr).addListener({$qa:function(){},nna:function(b){a({data:b.data});}});}},log:l.Cc("Ext"),LogLevel:c.wh,addLogSink:function(a,b){l.Z.get(m.ou).cB(a,b);},getVersion:function(){return"6.0011.853.011";},isWidevineSupported:function(a){var d;function c(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");d=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.qn,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.Vx,robustness:"SW_SECURE_CRYPTO"}]}];try{u.Tg.requestMediaKeySystemAccess("com.widevine.alpha",d).then(function(d){var g;g=d.getConfiguration();d=g.videoCapabilities||[];g=(g.audioCapabilities||[]).reduce(c(b.Vx),!1);d=d.reduce(c(b.qn),!1);a(g&&d);})["catch"](function(){a(!1);});}catch(G){a(!1);}}};},function(f,c,a){var b,d,h,l,g,m,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(115);d=a(6);c=a(2);h=a(4);l=a(197);g=a(3);m=a(16);p=a(118);f.Dd(c.v.q9,function(a){var c;if(h.config.SUa){c=g.Z.get(l.sU);b.Fu.test={pboRequests:c.Ta,playbacks:m.Uo,aseManager:{cacheDestroy:function(){return p.Oi.sga();}}};}a(d.cb);});},function(f,c,a){var b,d,h,l,g,m,p,r,u,k,z,w,n,x,y,C;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(90);d=a(89);h=a(115);l=a(102);g=a(190);m=a(28);p=a(51);r=a(6);u=a(4);k=a(92);z=a(2);w=a(3);n=a(8);x=a(19);y=a(14);C=a(15);f.Dd(z.v.o9,function(a){var v,F;function c(a,b){var c;c={profile:d.He.profile,log:v,Za:m.Za};a.email&&(c.Tv=a.email,c.password=a.password||"");a.sendNetflixIdUserAuthData&&(c.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.Kg&&(c.Kg=a.Kg);b({K:!0,P2:c});}function f(a){return{account:{id:a.Yg.id},id:a.id,lastAccessTime:a.hG,languages:a.languages,registered:a.k4};}v=w.Cc("NccpApi");F=x.Sfa(["info","warn","trace","error"]);h.Fu.nccp={getEsn:function(){return b.Bg.$d;},getPreferredLanguages:function(){return u.config.Dg.Sw;},setPreferredLanguages:function(a){n.ea(C.isArray(a)&&y.kq(a[0]));u.config.Dg.Sw=a;},login:function(a,b){return new Promise(function(c,g){d.He.lw(a,b).then(function(a){c(f(a));})["catch"](function(a){g({success:!1,error:p.yu(a.code,a)});});});},logout:function(){return new Promise(function(a,b){d.He.x1a().then(a)["catch"](function(a){b({success:!1,error:p.yu(a.code,a)});});});},isLoggedIn:function(){return d.He.kSa().map(function(a){return!(a.Rj||"browser"===a.id);});},switchProfile:function(a){return new Promise(function(b,c){d.He.zab(a).then(function(a){b(f(a));})["catch"](function(a){c({success:!1,error:p.yu(a.code,a)});});});},ping:function(a,b){c(a,function(a){l.ti.ping(a.P2,function(a){b&&(a.K?b({success:!0}):b({success:!1,error:p.yu(z.v.$T,a)}));});});},netflixId:function(a,b){c(a,function(a){l.ti.WX(a.P2).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:p.yu(z.v.z$,a)});});});},getDeviceTokens:function(a){n.ea(C.wb(a));l.ti.WX({log:v,Za:m.Za}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:p.yu(z.v.z$,b)});});},getRegistered:function(a,b){var c;try{c=g.Tk.Le.hasUserIdToken(a.id||d.He.profile.id);b({success:!0,registered:c});}catch(V){b({success:!1});}},unregister:function(a,b){try{g.Tk.Le.removeUserIdToken(a.id||d.He.profile.id);b({success:!0});}catch(ja){b({success:!1});}},queueLogblob:function(a,b,c){a&&b&&(b=b.toLowerCase(),F[b]?t._cad_global.logBatcher&&(a=new k.Zx(void 0,a,b,c),t._cad_global.logBatcher.Vl(a)):v.warn("Invalid severity",{severity:b}));},flushLogblobs:function(){t._cad_global.logBatcher.flush(!0);}};a(r.cb);});},function(f,c,a){var b,d,h,l,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(28);d=a(25);h=a(8);l=a(19);g=a(14);c.rva=function(a,b){h.ea(a);h.ea(b);h.VE(b.zUa,"endpointURL property is required");h.ea(b.fi);this.log=a;this.Xoa=b;};c.rva.prototype.Zp=function(){var a,c,h;a=this;a.log.trace("Downloading config data.");c={browserInfo:JSON.stringify(a.Xoa.fi)};h=a.Xoa.zUa+"?"+d.PG(c);return new Promise(function(c,d){function f(b){var c;try{if(b.K){c=new Uint8Array(b.content);return{K:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{K:!1,message:"Unable to download the config. "+b.za,ew:b.Fg};}catch(F){return b=l.yc(F),a.log.error("Unable to download the config. Received an exception parsing response",{message:F.message,exception:b,url:h}),{K:!1,za:b,message:"Unable to download the config. "+F.message};}}function m(b,c,d){return c>d?(a.log.error("Config download failed, retry limit exceeded, giving up",g.oa({Attempts:c-1,MaxRetries:d},b)),!1):!0;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function r(h,u,k){b.Za.download(h,function(b){var v;b=f(b);if(b.K)c(b);else{a.log.warn("Config download failed, retrying",g.oa({Attempt:u,WaitTime:v,MaxRetries:k},b));if(m(b,u+1,k))return v=l.Apa(1E3,1E3*Math.pow(2,Math.min(u-1,k))),p(v).then(function(){return r(h,u+1,k);});d(b);}});}return b.Za?r({url:h,responseType:3,withCredentials:!0,Az:"config-download"},1,3):Promise.reject({K:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);b=a(4);d=a(6);c=a(2);h=a(3);l=a(155);f.Dd(c.v.Y8,function(a){b.config.fWa&&h.Z.get(l.D8).start();a(d.cb);});},function(f,c,a){var d,h,l,g,m;function b(a){function b(){var f,m;if(a.Ai.value&&a.A5){f=a.Go;m=f.ae();m!=l.XU&&(m!=l.WU&&f.wYa()?(f=!1,a.Sl.h0()<d.config.Lbb&&(f=a.Ai.value.J>d.config.Kbb),f&&(f=a.vx[a.vx.length-1],c(f.size))?a.oI.mqa="h":(f=a.vx[0],c(f.size)?a.oI.mqa="l":f=void 0),f&&(a.oI.offset=g.Ra(),a.Go=f,a.Go.download())):(a.removeEventListener(h.mg,b),a.Ai.removeListener(b)));}}function c(b){var c;c=m.ue(a.sv(),a.Ex());b=a.TX.sOa(b);b*=1+.01*d.config.fMa[2];return b<c*d.config.Mbb;}a.oI={};!a.KO()&&a.vx&&0<a.vx.length&&(a.Go=a.vx[a.vx.length-1],a.Go&&(a.addEventListener(h.mg,b),a.Ai.addListener(b)));}Object.defineProperty(c,"__esModule",{value:!0});d=a(4);h=a(16);l=a(185);g=a(17);m=a(5);h.$J(h.wU,function(a){d.config.qUa&&(a.stb=new b(a));});c.Kjb=b;},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);d=a(4);h=a(60);l=a(3);g=a(14);m=a(193);b.$J(b.wU,function(a){var f,p;function c(b){var c;if(b.ctrlKey&&b.altKey&&b.shiftKey&&84==b.keyCode){c=g.createElement("INPUT",void 0,void 0,{type:"file"});c.addEventListener("change",function(){var b,g,h;b=c.files[0];if(b){g=b.name;f.info("Loading file",{FileName:g});h=new FileReader();h.readAsText(b);h.addEventListener("load",function(){var b;b=a.Gx;m.Doa(h.result,b.width/b.height,d.config.hsa,d.config.isa,function(b){b.K?(b=b=a.Pq.dX(b.entries,g),a.Fc.set(b)):f.error("Inavlid custom DFXP");});});}});c.click();}}f=l.Je(a,"TimedTextCustomTrack");if(d.config.kZ){f.info("Loading url",{Url:d.config.kZ});p=a.Pq.dX(d.config.kZ,"custom");a.Fc.set(p);}h.Bd.addListener(h.cw,c);a.addEventListener(b.Qe,function(){h.Bd.removeListener(h.cw,c);});});},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(46);d=a(32);h=a(5);f=a(16);f.$J(f.vU,function(a){function c(g){g&&4E3<g.byteLength&&(a.removeEventListener(b.Ea.CX,c),d.Xa(function(){for(var b=2E3,c=h.cm.now(),d=c,g=[],f=0;f<b;f++){for(var m=10;m--;)a.jtb=Math.atan2(m,m);m=h.cm.now();g.push(m-d);d=m;}c=d-c;m=c/b;d=[];for(f=0;f<g.length;f++)g[f]>5*m&&d.push(f);f=d.reduce(function(a,b){return a+g[b];},0);c-=f;b-=d.length;0!=c&&(a.VY=Math.round(b/c));}));}a.addEventListener(b.Ea.CX,c);});},function(f,c,a){var b,d,h,l,g,m,p,r,k,v,z,w,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(119);d=a(18);h=a(299);l=a(16);g=a(4);m=a(60);p=a(6);r=a(25);k=a(17);v=a(19);z=a(5);w=a(3);n=a(27);l.$J(l.vU,function(a){var t,B,ja,V,D,S;function c(b){b.newValue>=l.qj&&(a.state.removeListener(c),Z("type=openplay&sev=info&locstor="+z.dU(G())),ja=k.Ra(),x());}function f(){S("type=startplay&sev=info&outcome=success");}function u(){var c,d,g;c=a.Gg;if(c){d="type=startplay&sev=error&outcome=error";g={};b.QAa(g,c);v.Kb(g,function(a,b){d+="&"+z.dU(a)+"="+z.dU(b||"");});S(d);}else S("type=startplay&sev=info&outcome=abort");}function x(){var a,b;a=V.shift();if(0<a){b=z.ig(a-(k.Ra()-ja),0);B=setTimeout(function(){Z("type=startstall&sev=info&kt="+a);x();},b);}}function q(){S("type=startplay&sev=info&outcome=unload");}function G(){var a,b,c;try{b=""+k.On();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(ha){a="ex: "+ha;}return a;}function Z(b){b=D+"&soffms="+a.Us()+"&"+b;a.de&&Object.keys(a.de).length&&(b+="&"+r.PG(v.oa({},a.de,{prefix:"sm_"})));h.nbb(b,t);}t=w.Z.get(n.lf).host+g.config.c6;if(g.config.IR&&t){V=g.config.obb.slice();D="xid="+a.aa+"&pbi="+a.index+"&uiLabel="+(a.Oc||"");a.state.addListener(c);a.addEventListener(l.mg,f);a.addEventListener(l.Qe,u);m.Bd.addListener(m.Pj,q,p.ay);S=function(b){S=p.Gb;b+="&initstart="+d.YO+"&initend="+d.z1;Z(b);clearTimeout(B);a.removeEventListener(l.mg,f);a.removeEventListener(l.Qe,u);m.Bd.removeListener(m.Pj,q);};}});},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(87);b=a(4);d=a(3);f.EC(function(a){var c,g,h,f;c={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720};Object.assign(c,b.config.Rbb);g=c[a.Oc];if(b.config.Sbb&&g){h={};f=d.Je(a,"MediaStreamFilter");return{rF:"uiLabel",Mq:function(b){if(b.lower&&b.height>g)return h[b.height]||(h[b.height]=!0,f.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:b.height}),a.cz.set({reason:"uiLabel",height:b.height})),!0;}};}});},function(f,c,a){var d,h,l,g;function b(a){var c,f;function b(h){a.removeEventListener(d.TT,b);try{g.P_a(h.data)&&(f=!0,a.P9a());c.trace("RA check",{HasRA:f});}catch(z){c.error("RA check exception",z);}}c=h.Je(a,"RAF");a.addEventListener(d.TT,b);return{rF:"ra",Mq:function(a){if(!f)return a.x4||a.le!==l.$.fr;}};}Object.defineProperty(c,"__esModule",{value:!0});f=a(87);d=a(16);h=a(3);l=a(64);g=a(304);a(36).Taa&&f.EC(b);c.ehb=b;},function(f,c,a){var d,h;function b(a){var b,c;b=h.Je(a,"MSS");if(d.config.x2a)return{rF:"mss",Mq:function(d){var g,h;if(d.lower&&2160<=d.height)a:{for(g=d;g.lower;){if(2160>g.height&&1080<g.height){g=!0;break a;}if(1080>=g.height)break;g=g.lower;}g=!1;}else g=void 0;if(g){if(void 0===c){try{h=t.MSMediaKeys;c=h&&h.isTypeSupportedWithFeatures?"probably"===h.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(v){b.error("hasUltraHdDisplay exception");c=!0;}c||(b.warn("Restricting resolution due screen size",{MaxHeight:d.height}),a.cz.set({reason:"microsoftScreenSize",height:d.height}));}return!c;}}};}Object.defineProperty(c,"__esModule",{value:!0});f=a(87);d=a(4);h=a(3);f.EC(b);c.dhb=b;},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(87).EC(function(a){return{rF:"op",Mq:function(b){var c;if(b=b.x4){c=a.bf;if(c&&c.J_())return b;}}};});},function(f,c,a){var d,h,l,g,m,p,r,k,v,z;function b(a){var F,n,q,ca,Z,t,B,ja,V,D,S,A,X,U,ha,ba,ea;function b(){var b;b=a.Tb.value==l.em&&a.state.value==l.lk;A?b||(clearInterval(A),B=A=void 0,X&&(clearInterval(ha),ha=void 0)):b&&(A=setInterval(f,1E3),X&&(ha=setInterval(u,U)));}function f(){var b,c,d,h,f,l;b=a.Tl.value;b=(b=b&&b.stream)&&b.height;if(0<b){c=m.Ra();d=a.bf.Zv();if(B&&2E3>c-B.time&&b==B.height){h=d-B.PTa;f=n[b];f||(n[b]=f=[],b>V&&(t.push(b),g.dS(t)));0<h&&!(S<b)&&(S=b);f.push(h);f.length>ja&&f.shift();(f=ca[b])||(ca[b]=f={});l=f[h];f[h]=l?l+1:1;}B={time:c,PTa:d,height:b};a.RP&&a.RP.v9a(n);}}function u(){z.storage.save(c.rT,{xid:a.aa,data:ca});}function w(){r.ea(z.storage);a.addEventListener(l.Qe,function(){u();});Z=[];z.storage.load(c.I8,function(a){var b;a.K&&(Z=a.data);b={};z.storage.load(c.rT,function(a){a.K&&(b=a.data);b&&b.data&&Object.keys(b.data).length&&(Z.push(b),Z.length>X&&Z.shift(),z.storage.save(c.I8,Z),z.storage.save(c.rT,{}));});});}F=p.Je(a,"DFF");n={};q=d.config.TTa;ca={};Z=[];t=[];ja=d.config.RTa;V=d.config.STa;D=h.Bza;X=d.config.WTa;U=d.config.VTa;ba=v.Tg.hardwareConcurrency||0;if(d.config.QTa)return X&&a.addEventListener(l.waa,w),a.fN={BWa:function(){var a;a={};ca&&t.forEach(function(b){var c,d,g;c=ca[b];if(c){d=0;g=0;k.Kb(c,function(a,b){g+=k.Zc(a);d+=b;});a[b]=g/d;}});return a;},U_:function(a){var b;b={};a.forEach(function(a){b[a]={};});ca&&(g.dS(a),t.forEach(function(c){var d,h,f,m;d=ca[c];if(d){h=0;f=0;k.Kb(d,function(a,b){h+=b;});m=Object.keys(d);g.dS(m);for(var l=m.length-1,p=m[l],r=a.length-1;0<=r;r--){for(var u=a[r];p>=u&&0<=l;)(p=d[p])&&(f+=p),p=m[--l];b[u][c]=v.ve(f/h*100);}}}));return b;}},a.state.addListener(b),a.Tb.addListener(b),{rF:"df",Mq:function(b){var c,g,h,f,m,l,p,r,k,u;if(b.lower&&b.height>V){b=b.height;a:{!ea&&d.config.lia&&d.config.eN&&a.VY<d.config.lia[ba]&&(D=v.ue(D,d.config.eN),a.cz.set({reason:"droppedFramesPreviousSession",height:d.config.eN}));ea=!0;if(S){c=t.length;for(g=0;g<c;g++)if(h=t[g],h>=S&&h<D){f=n[h];if(m=f)b:{k=q.length;u=f.length;for(r=0;r<k;r++)for(l=q[r],m=l[0],l=l[1],p=0;p<u;p++)if(f[p]>=l&&0>=--m){m=!0;break b;}m=void 0;}if(m&&D!=h){F.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:h});a.cz.set({reason:"droppedFrames",height:h});c=d.config.eN=D=h;break a;}}S=void 0;}c=D;}return b>=c;}}};}Object.defineProperty(c,"__esModule",{value:!0});f=a(87);d=a(4);h=a(6);l=a(16);g=a(25);m=a(17);p=a(3);r=a(8);k=a(14);v=a(5);z=a(120);f.EC(b);c.I8="DroppedFramesHistory";c.rT="DroppedFramesSession";c.chb=b;},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(28);d=a(3);h=a(14);c.Zhb=function(){d.Cc("OpenConnectNotifier");return{zF:function(a){b.Za.A3a({url:a.url,reason:a.reason});},e6:h.Gb};}();},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(423);c.o2a=f["default"];},function(f,c){function a(a,b,c){this.start=a;this.track=b;this.nx=c;this.end=void 0;this.nx=Array.isArray(c)?c:[];}function b(a,b,c){this.log=a;this.Dx=b;this.oa=c.oa;this.Of=c.Of||function(){};this.current=void 0;this.Z3=[];this.orphans=[];}function d(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function h(a,b){return d(a)?(b.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function l(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(c,"__esModule",{value:!0});b.prototype.BLa=function(a,b){this.Rna(a,b,"activating");};b.prototype.pSa=function(a){this.TZ(a,"de-activating");};b.prototype.Rna=function(b,c,d){var g;g=[];this.current&&this.TZ(b,"close current for new");this.orphans.length&&(g.push(this.orphans),this.orphans=[]);this.current=new a(b,c,g);this.Dx&&this.log.trace("new range: "+d,this.oa({},this.current));};b.prototype.TZ=function(a,b){this.current&&(this.current.end=a,this.Z3.push(this.current),this.Dx&&this.log.trace("end range: "+b,this.oa({},this.current||{})),this.current=void 0);};b.prototype.Msa=function(a){this.current?this.current.nx.push(a):this.orphans.push(a);};b.prototype.d0=function(b){var c,d,g;c=this;d=c.Z3.slice(0);if(c.current&&"undefined"!=typeof b){g=new a(c.current.start,c.current.track,c.current.nx);g.end=b;d.push(g);}b=d.reduce(function(a,b){var d,g,f,m;if(!b.track)return a;d=b.track.ac;g=b.track.Vs(b.start,b.end);if(!g)return a;f=h(b.nx,c.log);a[d]?(m=a[d],m.expected+=g.length,m.missed+=g.length-f.length):(m={},m.dlid=d,m.bcp47=b.track.Dl,m.profile=b.track.Q2,m.expected=g.length,m.missed=g.length-f.length,m.startPts=b.track.HYa(),a[d]=m);return a;},{});b=l(b);c.Dx&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.xYa=function(b){var c,d,g,f,l;c=this;d=c.Z3.slice(0);g=0;f=0;c.current&&"undefined"!=typeof b&&(l=new a(c.current.start,c.current.track,c.current.nx),l.end=b,d.push(l));d.forEach(function(a){var b,d;if(a.track){if(a.end<a.start){c.Of("negative range",a);a.Kt=0;return;}b=h(a.nx,c.log);d=a.track.Vs(a.start,a.end);a.Kl=d?d.map(function(a){return a.id;}):[];a.Kt=d?0===d.length?100:100*b.length/d.length:0;}else a.Kt=100;b=a.end-a.start;g+=b;f+=a.Kt*b;});l=g?Math.round(f/g):100;c.log.trace("qoe score "+l+", at pts: "+b);c.Dx&&(b=d.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.Kt),lang:a.track?a.track.Dl:"none","actual  ":a.nx.join(" "),expected:(a.Kl||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return l;};c.gFa=b;},function(f){f.P="3.1.49";},function(f,c,a){var b,d,h,l,g,m;b=a(21);d=a(71);h=a(9);l=h.Pa;g=h.MediaSource;m=h.gAa;f.P=function(a){var c,f,p,k,w,n;new h.Console("ASEJSMONKEY","media|asejs");if(!h.Pa.Zg){c=m.prototype.appendBuffer;if(a.wX){l.Zg={tQ:{el:!0,Yo:!1,fU:!0}};Object.defineProperties(l.prototype,{$u:{get:function(){return this.jGa;},set:function(){}},zc:{get:function(){return!this.X0;}}});f=l.prototype.vi;l.prototype.vi=function(a){a.response&&(this.jGa=a.response instanceof ArrayBuffer?a.response:a.response.buffer);return f.call(this,a);};l.prototype.lQ=function(){this.response=void 0;};Object.defineProperty(g.prototype,"duration",{get:function(){return this.wd;},set:function(a){var b;this.wd=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.wd=b;});}});p=m.prototype.k5;k={zc:!1,oi:function(){return this.requestId;},Nga:function(){this.response=void 0;},constructor:{name:"MediaRequest"},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.wo,isHeader:this.zc,ptsStart:this.hb,ptsOffset:this.mh,responseType:this.DL,duration:this.gd,readystate:this.xe};this.stream&&(a.bitrate=this.stream.J);return JSON.stringify(a);}};m.prototype.appendBuffer=function(a,b){var g;if(!b)return c.call(this,a);g=Object.create(k);d({O:this.O,readyState:l.Va.DONE,requestId:b.oi(),hb:b.X,Lg:b.X+b.duration,gd:b.duration,mh:this.kL||0,Gv:b.Gv,wo:b.yf.jc.na.id,ib:b.ib,Ec:b.Ec,location:b.location,BE:b.offset,AE:b.offset+b.ga-1,J:b.J,response:a,Dka:a&&0<a.byteLength,yf:{jc:{na:{fa:this.wd-(this.kL||0)||Infinity}}}},g);return this.fM(g);};m.prototype.k5=function(a,b){this.kL=Math.floor(1E3*a/b);return p.call(this,a,b);};}else{w=function(a){this.oIa=a;};h.Pa.Zg={tQ:{el:!0,Yo:!0,fU:!0}};Object.defineProperty(l.prototype,"_response",{get:function(){return this.KKa||this.YGa;},set:function(a){this.YGa=a;}});n=l.prototype.open;l.prototype.open=function(a,b,c,d,g,h,f){c===l.Ei.Yo&&(this.KKa=new w(this));return n.call(this,a,b,c,d,g,h,f);};l.prototype.lQ=function(){this.$u=void 0;};m.prototype.appendBuffer=function(a){if(a instanceof ArrayBuffer)return c.call(this,a);if(a instanceof w)return this.fM(a.oIa);b(!1);};}}};},function(f,c,a){var d,h,l;function b(a){h.call(this);this.Jy=a;this.sf=new d();this.sf.on(this,h.bd.NC,this.fW);this.sf.on(this,h.bd.uu,this.KD);this.V=l;this.Dda=a.groupId;}d=a(31).kC;c=a(9);h=c.Wo;l=new c.Console("ASEJS","media|asejs");b.prototype=Object.create(h.prototype);b.prototype.constructor=b;b.prototype.open=function(a,b,c){h.prototype.open.call(this,a,b,c);};b.prototype.ze=function(){this.sf&&this.sf.clear();h.prototype.ze.call(this);};b.prototype.fW=function(a){this.Jy.l6a(a.probed,a.affected);this.ze();};b.prototype.KD=function(a){this.Jy.i6a(a.probed,a.affected);this.ze();};f.P=b;},function(f,c,a){var d,h,l;function b(a,b){this.DD=a;this.Tu=0===Math.floor(1E6*Math.random())%b.Uw;this.groupId=1;this.config=b;this.Vp={};this.Ft={};}d=a(10);h=a(455);l=a(9);new l.Console("ASEJS_PROBE_MANAGER","asejs");b.prototype.constructor=b;b.prototype.k6a=function(a,b){var c,g,h,f,m,k,n,x,y,C,F;c=this.DD;g=a.Ec;h=c.Nra(a.url);f=c.bP(a.url);m=this.config;k=l.time.la();x=b;y=[];C=h.Sf[0];F=!1;n=this.Vp[g];if(!n)n=this.Vp[g]={count:0,Sj:k,Hq:!1,error:b,g5:[],L3:{}};else if(n.Sj>=k-m.zR)return;n.Hq||(C&&f.id===C.id&&(a.isPrimary=!0),n.Sj=k,n.Hq=!1,n.error=b,++n.count,h&&h.ag&&0!==h.ag.length&&(d.forEach(h.ag,function(b){var c,d,h;c=b.Wb.id;d=c+"-"+g;h=this.Ft[d];if(void 0===h||void 0===h.XP)h&&h.Qq&&clearTimeout(h.Qq),b=this.wha(b.url,a,c),this.Ft[d]={K:!1,count:0,XP:b.oi()},y.push(b.oi()),F=!0;-1===n.g5.indexOf(c)&&n.g5.push(c);},this),this.Tu&&0<y.length&&(h={type:"logdata",target:"endplay",fields:{}},b=x,x={ts:l.time.la(),es:b.pX,fc:b.Mj,fn:b.wN,nc:b.Uk,pb:y,gid:this.groupId},b.ew&&(x.hc=b.ew),h.fields.errpb={type:"array",value:x,adjust:["ts"]},c.Dw(h)),F&&this.groupId++));};b.prototype.wha=function(a,b,c){var d,g,f,m;d=this.DD.bP(b.url);d=d&&d.ma&&d.ma.Dm&&d.ma.Dm.ta||300*Math.random(0,1);g=new h(this);f=a.split("?");m="random="+parseInt(1E7*Math.random());g.open(1<f.length?a+"&"+m:a+"?"+m,b,c,d);return g;};b.prototype.l6a=function(a,b){var c,d,g,h,f,m,k,x;c=this.DD;d=this.config;g=b.Ec;h=this.Vp[g];m=a.url;k=this.Ft[a.Ec+"-"+g];if(h&&(f=h.error,k)){k&&k.Qq&&clearTimeout(k.Qq);k.K=!0;k.count=0;k.XP=void 0;h.L3[a.Ec]=!0;(k=this.Vp[a.Ec])&&!0===k.Hq&&d.zp&&(c.pqa(a.Ec,k.error.qI[1]),this.Tu&&(k={type:"logdata",target:"endplay",fields:{}},k.fields.errst={type:"array",value:{ts:l.time.la(),id:a.requestId,servid:b.Ec,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Dw(k)),this.Vp[a.Ec]=void 0);if(m!==b.url){x=this.Ft[g+"-"+g];x&&x.K||(g=(g=c.bP(m))&&g.ma&&g.ma.Dm&&g.ma.Dm.ta||Math.random(0,1)*d.gP,g=Math.min(g,d.gP),setTimeout(function(){var d;if(!(!1!==h.Hq||x&&x.K)&&(h.Hq=!0,c.Xk(f.qI[0],f.qI[1],b.url,f),this.Tu)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:l.time.la(),id:a.requestId,servid:b.Ec,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.Dw(d);}}.bind(this),g));}this.Tu&&(k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.la(),id:a.requestId,result:1,servid:a.Ec,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Dw(k));}};b.prototype.i6a=function(a,b){var c,g,h,f,m,k,n,x,y;c=this.DD;g=parseInt(b.Ec);h=this.Vp[g];f=parseInt(a.Ec);m=this.Ft[f+"-"+g];k=0;config=this.config;if(m&&h){m.K=!1;m.XP=void 0;h.L3[f]=!1;x=h.g5;if(config.zp&&f===g&&b.isPrimary){y=c.bP(b.url);y=y&&y.ma&&y.ma.Dm&&y.ma.Dm.ta||300*Math.random(0,1);y=y*Math.pow(2,m.count);y=Math.min(y,12E4);y=y+Math.random(0,1)*(1E4>y?100:1E4);m.Qq=setTimeout(function(){m.Qq=void 0;probeRequest=this.wha(a.url,b,f);m.XP=probeRequest.oi();}.bind(this),y);}++m.count;f===g&&(k=0,x.forEach(function(a){!1===h.L3[a]&&k++;}),x.length===k&&h.count>=config.lP&&(n=h.error,h.Hq=!0,d.forEach(c.Nra(b.url).ag,function(a){var b;c.Xk(n.qI[0],n.qI[1],a.url,n);if(this.Tu){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:l.time.la(),id:-1,servid:a.Wb.id},adjust:["ts"]};c.Dw(b);}},this)));this.Tu&&(g={type:"logdata",target:"endplay",fields:{}},g.fields.pbres={type:"array",value:{ts:l.time.la(),id:a.requestId,result:0,servid:a.Ec,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Dw(g));}};b.prototype.h6=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.DD;b=a.cra(b);c=this.Vp[b];d=this.Ft[b+"-"+b];c&&c.Hq&&this.config.zp&&(a.pqa(c.error.pX,!1),this.Tu&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:l.time.la(),id:-1,servid:b},adjust:["ts"]},a.Dw(c)),this.Vp[b]=void 0,d&&d.Qq&&clearTimeout(d.Qq));}};b.prototype.reset=function(){var a,b,c;a=this.Ft;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.Qq&&clearTimeout(b.Qq);this.Ft={};this.Vp={};};f.P=b;},function(f,c,a){var d,h,l,g,m,p,r,k,v,z,w,n,x,y,C,F;function b(a,b,c){var d,g;this.fo=b;this.config=c;C[y.sT]=c.$Za?z:x;this.fo.on("networkFailed",this.mZa.bind(this));this.qA=l.time.la();this.MM=0;d=this.h6.bind(this);g=this.b4a.bind(this);a.on("underflow",this.t4a.bind(this));a.on("requestProgress",d);a.on("requestComplete",d);a.on("startBuffering",g);this.Q5={};this.Jy=new r(b,c);this.m_a();}c=a(44);d=a(31).EventEmitter;h=a(10);l=a(9);g=new l.Console("ASEJS_ERROR_DIRECTOR","asejs");m=a(13);p=l.Pa;r=a(456);a=[m.Fe.Qo,!1];k=[m.Fe.Qo,!0];v=[m.Fe.Au,!1];z=[m.Fe.Au,!0];w=[m.Fe.URL,!0];n=[];x=[m.Fe.Au,!1];y=p.dr;C={};C[y.ndb]=v;C[y.Yva]=v;C[y.K7]=v;C[y.jwa]=v;C[y.bwa]=z;C[y.Nua]=z;C[y.h7]=x;C[y.lS]=x;C[y.Oua]=n;C[y.Pua]=x;C[y.Qua]=x;C[y.Kua]=v;C[y.Mua]=v;C[y.g7]=a;C[y.Lua]=v;C[y.Jua]=x;C[y.keb]=z;C[y.Nxa]=x;C[y.M8]=x;C[y.L8]=x;C[y.sT]=x;C[y.J8]=x;C[y.Mxa]=w;C[y.uT]=z;C[y.zJ]=w;C[y.vT]=k;C[y.wT]=z;C[y.Pxa]=w;C[y.AJ]=x;C[y.N8]=z;C[y.Oxa]=z;C[y.ewa]=z;C[y.Zva]=v;C[y.vEa]=v;C[y.Pva]=v;C[y.Qva]=v;C[y.Rva]=v;C[y.Sva]=v;C[y.Tva]=v;C[y.Uva]=v;C[y.Vva]=v;C[y.Wva]=v;C[y.Xva]=v;C[y.$va]=v;C[y.awa]=v;C[y.cwa]=v;C[y.dwa]=v;C[y.fwa]=v;C[y.gwa]=v;C[y.hwa]=v;C[y.iwa]=v;C[y.kwa]=v;C[y.lwa]=v;C[y.tEa]=x;C[y.TIMEOUT]=a;F={};F[y.h7]=!0;F[y.M8]=!0;F[y.L8]=!0;F[y.J8]=!0;F[y.K7]=!0;c(d,b.prototype);b.prototype.N9a=function(a){this.An=a;};b.prototype.Xk=function(a,b,c,d){var f,l,r,k,u,y,z;f=p.dr.name[b];l=C[b];y=this.config;z=this.fo;g.warn("Failure "+f+" on "+JSON.stringify(d)+" : critical error count = "+this.MM);this.QO={ew:a,Mj:b,wN:f,Uk:c};F[b]&&++this.MM;if(!h.isArray(l))g.error("Unmapped failure code in JSASE error director : "+b);else if(l!==n){if(d.url)u={},u[z.cra(d.url)]=[d.url];else if(d.host)u=z.m9a(d.host,d.port);else{g.error("Invalid affected for network failure");return;}r=l[0];k=l[1];y.so?h.forEach(u,function(g,h){l===x||l===v?this.Jy.k6a({url:d.url?d.url:g[0],Ec:h},{pX:h,qI:l,ew:a,Mj:b,wN:f,Uk:c}):g.some(function(a){z.Xk(r,k,a);return r===m.Fe.Au;});!y.Qn||0!==a&&void 0!==a||(g=void 0!==d.url?d.url:g[0],this.An&&g&&this.An.X4("error",g));},this):h.forEach(u,function(b,c){if(l!==x||this.N7a(c))b.some(function(a){z.Xk(r,k,a);return r===m.Fe.Au;}),!y.Qn||0!==a&&void 0!==a||(b=void 0!==d.url?d.url:b[0],this.An&&b&&this.An.X4("error",b));},this);}};b.prototype.N7a=function(a){var b,c,d;b=l.time.la();d=this.config;if(c=this.Q5[a])if(c.Sj<this.qA)c.Sj=b,c.count=1;else{if(!(c.Sj>=b-d.zR||c.Hq||(c.Sj=b,++c.count,c.count<d.lP)))return c.Hq=!0;}else this.Q5[a]={Sj:b,count:1};};b.prototype.mZa=function(a){var b,c,d,h,f,m;b=l.time.la()-this.qA;c=a;m=this.config;g.warn("Network has failed "+(a?"permanently":"temporarily")+" last success was "+b+" ms ago");!a&&b>m.R2&&(c=!0);c?(this.gB&&(clearTimeout(this.gB),delete this.gB),this.Oga(),this.Jy.reset(),this.QO&&(d=this.QO.Mj,h=this.QO.ew,f=this.QO.Uk),this.emit("streamingFailure",{N_a:a,z4a:d,A4a:h,B4a:f})):this.gB||(this.gB=setTimeout(function(){delete this.gB;this.fB();}.bind(this),m.S2));};b.prototype.fB=function(a){this.gB||(this.fo.fB(!!a),this.Q5={},this.emit("networkFailureReset"));};b.prototype.h6=function(a){var b;b=this.config;this.qA=Math.max(a.timestamp||l.time.la(),this.qA);this.Oga();b.so&&this.Jy.h6(a);};b.prototype.b4a=function(){this.MM=0;};b.prototype.t4a=function(a){var b,c;b=this.config;c=b.d2;this.qA=Math.max(a||l.time.la(),this.qA);b.ocb&&!this.sI&&(g.info("Setting underflow timeout in "+c+"ms"),this.sI=setTimeout(function(){g.info("Forcing permanent network failure after "+c+"ms, since underflow with no success");delete this.sI;this.fo.Xk(m.Fe.Qo,!0);}.bind(this),c));};b.prototype.Oga=function(){this.sI&&(clearTimeout(this.sI),delete this.sI,g.info("Cleared underflow timeout"));};b.prototype.m_a=function(){var b,c,d,h;function a(a){for(var b=a.length,c,d;b;)d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;return a;}b=this.fo;c=this;d=this.config.qZ;h={};switch(d){case"1":b.on("manifestAdded",function(){var d;d=[];h.n=h.n||0;b.ija(function(a,b,c,g){h[g.id]||(h[g.id]=!0,d.push(g.id));});a(d).forEach(function(a){setTimeout(function(){c.Xk(p.dr.wT,{url:a});},4E3+h.n);h.n+=1E3;});});break;case"2":b.on("manifestAdded",function(){var a;a=[];b.ija(function(b,c,d,g){h[g.id]||(h[g.id]=!0,a.push({J:d.J,url:g.id}));});a.sort(function(a,b){return b.J-a.J;}).map(function(a){return a.url;}).forEach(function(a){setTimeout(function(){b.Xv()||c.Xk(p.dr.zJ,{url:a});},5E3*Math.random());});});break;default:return;}g.warn('Initialized network failure simulation "'+d+'"');};f.P=b;},function(f,c,a){var d,h,l;function b(a,b,c){this.ka=c;this.oLa=new d(a);this.VW=b.aa;this.xGa=1E3*b.a2a/b.TNa;this.fHa=b.aia;}d=a(30).cGa;h=a(35).FE;c=a(9);l=c.Pa;new c.Console("ASEJS_SIDECHANNEL","media|asejs");b.prototype.constructor=b;b.prototype.b9a=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};b.prototype.Bs=function(a){var b;b={s_xid:this.VW,dl:this.fHa?1:0};a.Nd&&(b.bs=h(Math.floor(a.Nd/this.xGa)+1,1,5));a.hga&&(b.bb_reason=a.hga);return b;};b.prototype.doa=function(a){var b;try{b=this.b9a(a);return this.oLa.encrypt(b);}catch(p){this.ka.lo("SideChannel: Error when obfuscating msg. Error: "+p);}};b.prototype.X4=function(a,b){var c,d,g;try{c=new l(void 0,"notification");d=this.Bs({hga:a});g=this.doa(d);b&&g&&c.open(b,void 0,l.Ei.fU,void 0,void 0,void 0,g);}catch(v){this.ka.lo("SideChannel: Error when sending sendBlackBoxNotification. Error: "+v);}};f.P=b;},function(f,c,a){var d,h;function b(a){this.cv=void 0;this.pIa=a;this.yW=[];this.Gc=[];}a(10);a(13);d=a(9);h=a(41).iw;a(30);b.prototype.reset=function(a){this.cv=void 0;this.yW=[];a&&(this.Gc=[]);};b.prototype.add=function(a,b){var c;c=b.filter(function(a){return h(a);});bitrateList=c.map(function(a){return a.J;});selectedStream=b[a.se];selectedStreamIndex=c.indexOf(selectedStream);this.cv&&(this.cv.length!==bitrateList.length||this.cv.some(function(a,b){a!==bitrateList[b];}))&&(b=this.Jja())&&(this.Gc.push(b),this.reset(!1));void 0===this.cv&&(this.cv=bitrateList);this.yW.push({time:d.time.la(),Ka:a.Ka,wE:a.wE,vE:a.vE,gH:a.gH,QG:a.QG,se:selectedStreamIndex,UA:a.UA});};b.prototype.uUa=function(){var h;for(var a=this.yW,b=[],c={se:0,time:0,Ka:0,wE:0,vE:0,gH:0,QG:0,UA:0},d=0;d<a.length;d++){h=a[d];b.push([h.se-c.se,h.time-c.time,h.Ka-c.Ka,h.wE-c.wE,h.vE-c.vE,h.gH-c.gH,h.QG-c.QG,h.UA-c.UA]);c=h;}return b;};b.prototype.Jja=function(){var a;a=this.uUa();if(0!==a.length)return{dltype:this.pIa,bitrates:this.cv,seltrace:a};};b.prototype.get=function(){var a,b;a=this.Jja();b=this.Gc;a&&b.push(a);if(0!==b.length)return b;};f.P=b;},function(f,c,a){var d,h;function b(){this.KL=[];this.KL[d.G.VIDEO]=new h(d.G.VIDEO);this.KL[d.G.AUDIO]=new h(d.G.AUDIO);}a(10);d=a(13);a(9);a(30);h=a(459);b.prototype.aMa=function(a,b,c){this.KL[a].add(b,c);};b.prototype.JYa=function(){var a;a=[];this.KL.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};b.prototype.lVa=function(a){var b;b=this.JYa();a.strmsel=b;return 0<b.length;};f.P=b;},function(f,c,a){var h,l,g,m,p,r;function b(a,b,c){this.ka=a;this.pl=b;this.H=c;this.XD=[new d(a,l.G.AUDIO),new d(a,l.G.VIDEO)];this.Dr=void 0;}function d(a,b){this.V=p(g,a.V,"["+b+"]");this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);this.Fr=this.V.debug.bind(this.V);this.O=b;this.Nk=this.sF=this.Bk=this.uE=this.En=this.m1=this.Si=void 0;this.fH=this.Qm=0;this.connected=!1;this.r1=this.kw=this.dma=this.o1=this.jt=this.Im=this.Nh=void 0;this.Hx=this.jia=!1;this.b2=this.rE=this.Em=void 0;}h=a(10);l=a(13);g=a(9);m=a(41).iw;p=a(30).pG;r=a(257);Object.defineProperties(b.prototype,{rb:{get:function(){return this.XD;}}});b.prototype.BA=function(a){var b,c,d,f,m,p,r,k,u,n;b=this.H;c=this.ka;d=a.O;f=this.pl.bufferSize[d];m=a.jc.Da;p=c.Ca[m];r=this.XD[d];b=d===l.G.VIDEO?b.GX:b.r6;k=c.Hy.Hg();f={Av:f,X:null,me:k,Ka:null,Qi:a.nz||k,Yf:0,Mw:0,T:[]};p={state:c.Ib.value,al:a.ih,buffer:f,bz:p.Bp[d],JTa:b,C1a:c.ED,onb:c.oHa,Kj:c.Kj};b=a.Ia.jka();f.Ka=b.ro;f.X=b.qc;f.Yf=b.Yf;f.Mw=b.Mw;f.Knb=b.T.length;void 0===p.al&&(p.al=c.XK(d,m,f.Ka));f.T=b.T;if(p.state===l.xa.nf&&0===f.T.length&&!h.da(a.EB.Su)){a.z4&&(n=g.time.la()-a.z4.time,u=a.z4.reason);a.Yb("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",r.Im,"lastStreamSelected:",r.Nh,"last pipeline.reset:",u,"delta:",n);}h.da(f.X)?a.seeking&&f.me!=f.X&&(f.me=f.X):(f.X=0,f.Ka=0);c.ec.WOa(p);c.ec.WLa(p);return p;};b.prototype.VOa=function(a,b,c){var p,r;a=this.XD[a];for(var d=a.b2,g="manifest",h=this.ka,f=0,l=b.length-1;0<=l;l--){p=b[l];r=p.J;if(m(p)){f=Math.max(f,r);break;}else!p.inRange&&p.Cz&&p.Cz.join?g=p.Cz.join("|"):p.Ok?p.Ye?p.fh&&(g="hf"):g="av":g="bc";}if(void 0===d||f!==d){a.b2=f;if(h.Lk)try{this.Dr&&this.lZa();}catch(T){h.lo("Hindsight: Error when handling maxbitrate chagned: "+T);}h.z3a(d,f,g,c);}};b.prototype.gO=function(a){var b,c,d,g,f,m,p,r,k,u,n,q;b=this.H;c=this.ka;d=a.O;g=d==l.G.VIDEO;f=0;p=this.XD[d];if(!p.Si)return{rh:void 0};r=this.BA(a);k=p.Nh;u=a.jc.Da;n=a.Nc;q=k?k.index:p.sF;if(k&&(f=k.J,k.xM)){q=c.qda(n,f);m=n[q];if(k.J!==m.J||!k.xM.replace&&d===l.G.VIDEO)r.state=l.xa.ng;k.index=q;k.J=m.J;}m=c.bq(u);n=m.fo.NR(r,n);if(!n)return a.Yb("location selector did not find any urls"),{rh:void 0};if(!g){u=b.M5;if(!(u&&u.length||a.uQ)&&q&&n[q]&&k&&k.location===n[q].location)return{rh:q,KE:!0};a.uQ&&(r.state=l.xa.ng,q=void 0);}if(g&&b.Kz&&b.sTa&&!p.Si.nA()&&a.Nd>b.qM)return{rh:a.EZa,KE:!0};c.ec.Aga(r.al,n);r=a.EB.V4(r,n,q,c.ec.lYa(d),p.Si.config.yf,b.k6&&0===c.hea?b.EA:b.m2,m.Mz);if(!r)return a.Yb("stream selector did not find a stream"),{rh:void 0};c.Kj&&c.P7a.aMa(a.O,r,n);g&&this.VOa(d,n,a.Ka);c.ec.s4a(r);d=r.se;n=n[d].J;k=c.Bm(l.G.VIDEO);r.lSa&&k<b.ZX&&n<f&&c.jJa(f,n);d!=q&&(g&&b.Kz&&c.jca(a,n),g||c.ec.sB(n));h.da(p.sF)||(p.sF=d);a.Nn||(r.Nn?(a.Nn=!0,p.rE=r.reason):(a.oG=r.oG,a.cx=r.cx,a.Rh=r.Rh));c.Ku();g&&c.nKa(a,r.Mv)||delete a.Hs;return{rh:d,KE:r.KE,iB:r.iB};};b.prototype.i_=function(a,b){var c,d,g,h,f;if(this.Dr){c=this;d=this.Dr;g=this.ka;h=g.Hg();f=[];b&&(h=b.fa);g.ja.Yd.forEach(function(b){var d,m;d=c.BA(b);m=b.O;d.O=m;d.headers=g.Uz(m);d.me=h;a===l.xa.qr&&(d.Npa=b.Ia.sX(h));f[m]=d;});d.Wia||d.sVa(f,a)||this.y4();return d;}};b.prototype.lZa=function(){var a,b,c,d,h;a=this;b=this.Dr;c=this.H;d=this.ka;h=[];b&&(this.i_(void 0),b&&!b.Zy&&d.dE.cQ.WZ(b));d.ja.Yd.forEach(function(b){var c,d;c=a.BA(b);d=b.O;c.Bk=g.time.la();c.Nc=b.Nc;c.O=d;h[d]=c;});b={vLa:a.pl.bufferSize[l.G.AUDIO],p6:a.pl.bufferSize[l.G.VIDEO],j2:c.tw};this.Dr=b=new r(h,g.time.la(),void 0,d.uia,b);};b.prototype.y4=function(){this.Dr=void 0;};b.prototype.ecb=function(a){var b,c,d,h,f,m;b=this;c=a.oldValue;d=a.newValue;h=this.Dr;a=this.H;f=this.ka;d===l.xa.nf&&c!==l.xa.nf?(h&&f.V.warn("override an existing play segment!"),m=[],f.ja.Yd.forEach(function(a){var c,d,g;c=b.BA(a);d=a.O;g=b.rb[d];g.u5?(c.Bk=g.u5,delete g.u5):c.Bk=g.Bk;c.Nc=a.Nc;c.O=d;m[d]=c;}),d={vLa:b.pl.bufferSize[l.G.AUDIO],p6:b.pl.bufferSize[l.G.VIDEO],j2:a.tw},this.Dr=h=new r(m,g.time.la(),c,a.OF,d)):d!==l.xa.nf&&c===l.xa.nf&&h&&(this.i_(d),h&&!h.Zy&&f.dE.cQ.WZ(h),this.y4());};b.prototype.nZa=function(a){this.XD.forEach(function(b){b.Nh||(b.Nh={});b.Nh.xM={replace:a};b.Nh.location=void 0;}.bind(this));};f.P=b;},function(f,c,a){var d,h,l,g,m,p,r;function b(a,b,c,d,g,h,f){this.xl=c;this.Lf=b;this.Kf=d;this.Wc=g;this.Ge=h;this.H=f;this.V=a;this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.on=this.addEventListener=m.addEventListener;this.removeEventListener=m.removeEventListener;this.emit=this.Ha=m.Ha;this.reset();p&&this.wc("BufferManager ctor");}d=a(10);a(21);h=a(9);l=a(13);g=a(72);m=a(31).EventEmitter;g=a(72);r=new g(500,1E3);b.prototype.constructor=b;Object.defineProperties(b.prototype,{oM:{get:function(){return this.Wc?this.Wc.oM:-1;}},Pcb:{get:function(){return this.Dh.length;}}});b.prototype.reset=function(){this.lp=!1;this.Dh=[];this.AD=this.hL=this.HV=this.RV=void 0;this.KV=this.H.Qfa?r:new g(0,1);this.qW=new g(0,1E3);this.jm=void 0;this.jD=new g(0,1);this.Pda=new g(0,1);this.Vda=new g(0,1);this.yV=!1;this.DW(this.KV);};b.prototype.DW=function(a){this.Wc.k5(a.Bf,a.jb);};b.prototype.PVa=function(){this.HV=!0;};b.prototype.pause=function(){this.lp=!0;};b.prototype.resume=function(){this.lp=!1;this.Hu();};b.prototype.NXa=function(){return this.hL&&this.hL.Ij;};b.prototype.GOa=function(a,b){var d;for(var c=0;c<this.Dh.length;c++){d=this.Dh[c];d.yf.jc.na.id===a&&d.Ri>=b&&(d.abort(),this.Dh.splice(c,1),c--);}};b.prototype.YMa=function(a){var b;if(this.H.jF){b=a.yf.jc;if(a.Ri>=b.fa)return;a.mh!=b.Ub&&a.lra(b.Ub);}this.Dh.push(a);this.Hu();};b.prototype.cn=function(){this.Hu();};b.prototype.wH=function(a){a=this.Dh.indexOf(a);-1!==a&&this.Dh.splice(a,1);};b.prototype.t3a=function(){this.Hu();};b.prototype.a3=function(){this.yV||(this.yV=!0,this.Hu(),this.Wc.endOfStream());};b.prototype.Hu=function(){var a,b,c,g,f,m;b=this.H;c=Object.getOwnPropertyNames(this.Ge);b.vX&&d.S(this.RV)&&1===c.length&&(a=this.Ge[c[0]],a.complete&&!d.S(a.ib)&&this.qca(a));if(this.Dh.length)if(this.Wc)if(c=this.Dh[0],this.lp)this.Ly("@"+h.time.la()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.rla())this.ba("aborted MediaRequest should not appear in the toAppend list"),this.Ly("@"+h.time.la()+", append: removing aborted request from toAppend: "+c.toString()),this.Dh.shift();else{g=c.ib;if((a=this.Ge[g])&&a.data)if(this.HV||g!=this.RV)this.HV=!1,this.qca(a);else if(!b.YR||c.ph.qO()){a=c.yf;f=a.pv;if(!(this.Lf===l.G.AUDIO&&c.Hm&&c.yd&&!b.Vm&&!this.yV&&1===this.Dh.length&&f>b.H2)){if(b.jF||b.wia){g=a.jc.Ih;m=c.Ij>=a.jc.qm;b=f>b.H2;if(a.jc.qm<a.jc.fa&&m&&b&&!g)return;}this.Dh.shift();this.nGa(c);}}}else this.Ly("@"+h.time.la()+", append: not appending, sourceBuffer not ready");};b.prototype.kGa=function(a){var b;if(this.H.Qfa){b=this.H.ZP[a.profile];b&&(a=b[a.J])&&(this.qW=new g(a));}};b.prototype.qca=function(a){if(this.Wc.appendBuffer(a.data))this.Ly("@"+h.time.la()+", header appended, streamId: "+a.ib),this.RV=a.ib,this.dKa(a.Da||0,a.ib),this.kGa(a),this.Hu();else throw this.ba("appendHeader error: "+this.Wc.error),this.Ly("@"+h.time.la()+", appendHeader error: "+this.Wc.error),"appendHeaderError";};b.prototype.nGa=function(a){var b,c,d,f,m;b=a.mh;c=!1;d=this.Lf===l.G.AUDIO&&a.yd&&-1!==this.H.L4.indexOf(a.profile);f=a.yf.jc.na;f.fa&&Infinity!=f.fa&&(f=(f.fa+b)/1E3,Infinity==this.Kf.duration||this.Kf.duration<f)&&(this.Kf.duration=f);b!=this.AD&&(f=this.KV.add(this.qW).add(this.jD).add(new g(b,1E3)),this.DW(f),this.AD=b);if(d){b=a.stream.bc;m=a.Ut+a.mh;if(a.Hm)c=new g(a.fa-m,1E3),c=this.jD.add(c).wka(b);else if(void 0!==this.jm){d=new g(this.jm,1E3);f=new g(a.X,1E3);new g(m-a.X,1E3);m=this.jD.add(d.ie(f));if(f.add(b).gma(d)||m.wka(b))c=!0,f.add(b),m=m.ie(b);m.Z2(this.jD)&&(f=this.KV.add(this.qW).add(m).add(new g(this.AD,1E3)),this.DW(f),this.Pda=g.max(this.Pda,m),this.Vda=g.min(this.Vda,m),this.jD=m);}}if(a.$y(this.Wc,this.hL,this.Dh[0],c))void 0!==this.jm&&this.Lf===l.G.AUDIO&&a.hb!==this.jm&&(this.Nea(this.jm-this.AD,a.hb-this.AD),this.jm=void 0),a.Hm&&(this.jm=a.Lg),this.Ly("@"+h.time.la()+", request appended, type: "+a.O+", streamId: "+a.ib+", pts: "+a.hb+"-"+a.Lg),this.hL=a,void 0!==this.jm&&this.Lf===l.G.AUDIO&&a.hb!==this.jm&&this.Nea(this.jm-this.kL,a.hb-this.kL),this.jm=a.Hm?a.Lg:void 0,this.eKa(a),this.Hu();else if("done"!=this.Wc.error)throw this.Yb("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Wc.error),this.Wc.error;};b.prototype.dKa=function(a,b){a={type:"headerAppended",mediaType:this.Lf,manifestIndex:a,streamId:b};this.Ha(a.type,a);};b.prototype.eKa=function(a){a={type:"requestAppended",mediaType:this.Lf,request:a};this.Ha(a.type,a);};b.prototype.Ly=function(a){a={type:"managerdebugevent",message:a};this.Ha(a.type,a);};b.prototype.Nea=function(a,b){a={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:{pts:b,offset:b-a}}}};this.Ha(a.type,a);};f.P=b;},function(f,c,a){var h,l,g,m,p,r,k;function b(a,c,d,h,f,m){h.responseType=l.Ei.el;g.call(this,a,h,f,m);this.H=c;this.OK=d;this.Hi=void 0;this.DV=b.Nx.INIT;this.Dy=p.prototype.toString.call(this)+" multiple";this.Oy(a.url,h.offset,8,l.Ei.el);}function d(){h(!1);}h=a(21);c=a(71);l=a(9).Pa;g=a(172);m=a(173);p=a(67);a(13);r=a(30).Dv;k=a(68).Nca;b.prototype=Object.create(g.prototype);c({Nx:{INIT:0,d$:1,a$:2,name:["INIT","MOOF","MDAT"]}},b);Object.defineProperties(b.prototype,{data:{get:function(){return this.Hi;},set:d}});b.prototype.Oy=function(a,b,c,d){a=new m(this.OK,this.Dy+" ("+this.yb.length+")",{M:this.M,O:this.O,ib:this.ib,J:this.J,offset:b,ga:c,url:a,location:this.location,Ec:this.Ec,responseType:d},this,this.V);this.push(a);this.xca=this.yb.reduce(function(a,b){return a+b.ga;},0);};b.prototype.wi=function(a){var c,h;this.Hi=this.Hi?r(this.Hi,a.response):a.response;a.response=void 0;switch(this.DV){case b.Nx.INIT:c=new DataView(this.Hi);h=c.getUint32(0);c=c.getUint32(4);k(c);this.Oy(a.url,a.offset+a.ga,h,l.Ei.el);g.prototype.wi.call(this,this);this.DV=b.Nx.d$;break;case b.Nx.d$:c=new DataView(this.Hi);h=c.getUint32(this.xca-8);c=c.getUint32(this.xca-4);k(c);this.Oy(a.url,a.offset+a.ga,h-8,l.Ei.el);this.DV=b.Nx.a$;g.prototype.wi.call(this,this);break;case b.Nx.a$:g.prototype.wi.call(this,this);break;default:d();}};f.P=b;},function(f,c,a){var g,m,p,r,k,v,z,n,q;function b(a,c){var d;d=a.Uf?b(a.Uf,c):[];d.push({jc:a.na.id,ko:a.kb[c].Ia});return d;}function d(a,b,c,d,g){this.ka=a;this.Rr=c;this.Lf=d;this.Fb=b;this.H=g;this.gra(c.V);this.on=this.addEventListener=k.addEventListener;this.removeEventListener=k.removeEventListener;this.emit=this.Ha=k.Ha;this.Rea();q.call(this,c);}function h(a,b,c,d){for(var g,h=this.Fb,f=this.fb;h;){if(g=b?f.k_(a,c):f.Ps(a,c))return g;if(d)break;if(h=h.Uf)f=h.kb[this.Lf].Ia.fb;}}function l(a,b,c){this.La=a;this.H=b;this.Dy=c;this.qc=null;this.ro=void 0;this.Nw=this.LP=this.rv=this.qv=this.Xw=this.Ww=this.Gh=this.fs=this.Yf=this.xs=0;this.Jm=this.Sm=void 0;this.Ta=[];this.V=a.V;this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);q.call(this,this.La);}g=a(10);m=a(21);p=a(9);r=a(13);k=a(31).EventEmitter;v=a(266);z=a(263);n=a(463);q=a(88);d.prototype=Object.create(q.prototype);d.prototype.constructor=d;Object.defineProperties(d.prototype,{jx:{get:function(){return 0<this.$w;}},z5:{get:function(){return!this.Qu;}},$w:{get:function(){return this.fd.length+this.fb.length;}},LR:{get:function(){return this.fd.length;}},bra:{get:function(){return this.fb;}},nz:{get:function(){return this.CGa();}},Nd:{get:function(){return this.zca();}},Gh:{get:function(){return this.yca();}},Yj:{get:function(){return this.FGa();}},ls:{get:function(){return this.BGa();}},pv:{get:function(){return this.AGa();}},gM:{get:function(){return this.zGa();}},PB:{get:function(){return this.Bga();}},Yt:{get:function(){return this.DGa();}},yt:{get:function(){return this.CHa();}},Foa:{get:function(){return this.zga();}},pO:{get:function(){return 0<this.fb.length;}},fs:{get:function(){return this.fb.fs;}},ema:{get:function(){return this.fb.ema;}},d5a:{get:function(){return this.yb.length-this.JD;}}});d.prototype.gra=function(a){this.V=a;this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);};d.prototype.CHa=function(){var a;a=this.fb.LP;this.H.lm||(a+=this.fd.length);return a;};d.prototype.FGa=function(){return g.da(this.fd.qc)&&g.da(this.fd.ro)?this.fd.ro-this.fd.qc:0;};d.prototype.BGa=function(){var a,b;a=this.yca(!0);b=this.zca(0,!0);return{ga:a,hh:b};};d.prototype.CGa=function(){for(var a=0,c=b(this.Fb,this.Lf),d=c.length-1;0<=d&&0==a;--d)a=c[d].ko.fb.QWa();return a;};d.prototype.zca=function(a,c){return c?this.fb.Bm(a):b(this.Fb,this.Lf).reduce(function(b,c){return b+c.ko.fb.Bm(a);},0);};d.prototype.yca=function(a){return a?this.fb.Gh:b(this.Fb,this.Lf).reduce(function(a,b){return a+b.ko.fb.Gh;},0);};d.prototype.AGa=function(){return b(this.Fb,this.Lf).reduce(function(a,b){return a+b.ko.fb.vja(void 0);},0);};d.prototype.zGa=function(){return b(this.Fb,this.Lf).reduce(function(a,b){return a+b.ko.fb.qv;},0);};d.prototype.DGa=function(){return b(this.Fb,this.Lf).reduce(function(a,b){return a+b.ko.fb.xs;},0);};d.prototype.zga=function(){var a;a=this.fb.Nw;this.H.lm||this.fd.forEach(function(b){a+=b.gd;});return a;};d.prototype.Bga=function(a){return this.fb.Sm&&(g.S(a)&&(a=this.ka.Hg()),a-=this.fb.Sm.hb,0<a)?this.fb.Xw-a:this.fb.Xw;};d.prototype.DHa=function(a){var b,c;b=this.ka&&this.ka.An;b&&(c=b.Bs(a),c=b.doa(c));return c;};d.prototype.KM=function(a,b,c,d,h){b=this.H;c.uG=this.H.uG;g.S(h)||(c.location=h.location,c.Ec=h.Wb,c.e5=h.QQ);b.Qn&&(c.YQ=this.DHa({Nd:this.Rr.Nd}));c=c.pi?new v(h,b,d,c,this,!1,this.Rr):b.kUa?new n(h,b,d,c,this,this.Rr):z.create(h,d,c,this.fd,!1,this.Rr);c.Xc(a,this.Rr);this.kv(c);c.Wab=p.time.la();a.QIa(c);return c;};d.prototype.mMa=function(a,b){var c;c=this.Rr;b.Xc(a,this.Rr);b.oX=!0;b.complete?(this.nV(b),this.yb.push(b),this.fb.kv(b),a.Yna(c,b.Da,b.ib,b.hb),this.fb.hqa(b,b.Jc),this.RB()):(this.kv(b),b.active&&this.Rz(b),b.h4&&this.Qz(b));};d.prototype.reset=function(a){this.fd.forEach(this.Ar.bind(this));this.fb.forEach(this.Ar.bind(this));this.fb.Sm=void 0;a||(this.ul=this.ul.forEach(this.Ar.bind(this)));this.Rea(a);};d.prototype.qqa=function(){this.Qu=!1;};d.prototype.Rea=function(a){this.fd=new l(this,this.H,"unsent");this.fb=new l(this,this.H,"sent");this.yb=[];this.JD=0;this.qc=null;a||(this.ul=[]);this.Qu=!1;};d.prototype.rLa=function(a){var b;b=function(a){a.abort();}.bind(this);this.fd.forEach(b);this.fb.forEach(b);this.reset(a);};d.prototype.nV=function(a){this.Qu?a.EN=!1:this.Qu=a.EN=!0;};d.prototype.kv=function(a){a.zc?this.ul.push(a):(a.complete||a.active?this.fb.kv(a):this.fd.kv(a),this.nV(a),a.Hm&&(this.Qu=!1),this.yb.push(a));};d.prototype.RB=function(){var a,b;b=this.Rr.O;a=this.Fb;if(a.active&&(a=a.Uf,!a||0==a.hYa(b)))for(;this.JD<this.yb.length;){if(a=this.yb[this.JD]){if(!a.fw())break;this.ka.Se[b].YMa(a);g.da(this.qc)||(this.qc=a.qc);}++this.JD;}};d.prototype.U6a=function(a){var d;for(var b,c=0;c<this.yb.length;++c){d=this.yb[c];d&&a<d.df&&(g.S(b)&&(b=c),d.Nf=!1);}g.S(b)||(this.JD=b,this.RB());};d.prototype.L9a=function(a,b,c){var d;d=this.H;0!==this.fd.length&&this.fd.FVa!==b&&(d.Zd&&this.ug("setSelectedBitrate new bitrate: "+b),this.rfa(a,c));};d.prototype.zr=function(a,b){if(!a.abort())return!1;"function"==typeof b&&b(a);return!0;};d.prototype.tLa=function(a){var b;b=function(b){var c,d;d=0;b.forEach(function(b,h){b.qc>a&&(this.zr(b),g.S(c)&&(c=h),++d);}.bind(this));0<d&&b.splice(c,d);}.bind(this);b(this.fd);b(this.fb);this.RB();};d.prototype.rfa=function(a,b){var c,d,h;if(0!==this.fd.length){d=this.fb.Ta;h=d&&d.length?d[d.length-1].hb:0;this.fd.m$a(function(b,d){if(!g.S(a)&&b.Da!==a||b.Hm||h>b.hb)return!0;b.EN&&(this.Qu=!1);if(!this.zr(b))return this.ba("request abort failed:",b.toString()),!0;c=d;}.bind(this));g.S(c)||(d=this.fd.splice(c,this.fd.length-c),"function"==typeof b&&b(d));}};d.prototype.xH=function(a){this.fb.xH(a);};d.prototype.wH=function(a){var b;a.zc?(b=this.ul.indexOf(a),-1!==b?this.ul.splice(b,1):this.ba("requestAborted: unknown header mediaRequest: "+(a&&a.toJSON()))):this.fd.Bra(a)||this.fb.Bra(a)||this.ba("requestAborted: unknown mediaRequest: "+(a&&a.toJSON()));};d.prototype.x6a=function(a,c){var d,g,h,f;d=this.H;g=a;h=this.ka.La.wra;if(a>h){g=a-h;f=function(a,b){var h,f,m;h=!1;f=0;m=b.some(function(b){if(g<b.Lg)return h&&a.nV(b),!0;++f;b.Nf||(a.ba("pruning unappended request:",b&&b.toJSON()),d.Zd&&a.ug("prune pts:",g,"unappended request:",b&&b.toJSON()),b.EN&&(a.Qu=!1,h=!0),a.zr(b,c)||a.Yb("MediaRequest.abort error:",b.Mj));});0<f&&b.splice(0,f);return m;};b(this.Fb,this.Lf).some(function(a){var b;a=a.ko;b=f(a,a.fd);return f(a,a.fb)||b;}.bind(this));return g;}};d.prototype.YXa=function(){var b;function a(a){if(null===b||b===a.hb)b=a.hb+a.gd;return a.hb>b?!0:!1;}b=null;this.fb.some(a);0<this.fd.length&&this.fd.some(a);return b;};d.prototype.jka=function(){var c,d,h,f,m,l;function a(a){g.da(a.qc)&&(null===h||a.qc<h)&&(h=a.qc);g.da(a.ro)&&(null===d||a.ro>d)&&(d=a.ro);f+=a.Yf-a.Ww;m=c.$Q?m+a.Ww:m+a.xs;a.WUa(l);}c=this.H;d=null;h=null;f=0;m=0;l=[];b(this.Fb,this.Lf).forEach(function(b){a(b.ko.fb);!c.lm&&0<b.ko.fd.length&&a(b.ko.fd);}.bind(this));return{ro:d,qc:h,Mw:f,Yf:m,T:l};};d.prototype.Ps=function(a,b,c){return h.call(this,a,!1,b,c);};d.prototype.k_=function(a,b,c){return h.call(this,a,!0,b,c);};d.prototype.hcb=function(a,b){var c,d;c=[];d=function(d){var g,h;if(!d.complete){g=d.ib;h=a[g];h?h.url?d.url!=h.url&&(b(d,h.location,h.Wb),d.I5(h.url)||(this.ba("swapUrl failed: ",d.c_),this.Aj("swapUrl failure"))):(this.ba("missing url for streamId:",g,"mediaRequest:",d.toString(),"stream:",h),c.push(d)):(this.ba("missing stream for streamId:",g,"mediaRequest:",d,"streamMap:",a),c.push(d));}}.bind(this);this.ul.forEach(d);this.fd.forEach(d);this.fb.forEach(d);return c;};d.prototype.Wm=function(a){this.fb.Sm=void 0;this.xga(a);this.H.qH&&this.U6a(a);};d.prototype.xga=function(a){var n;for(var b,c=this.H,d=0,h=0,f=0,m=0,l=0,p=0,r=0,k=0,u=!1,v,x,z,X=0;X<this.fb.length;++X)if(z=this.fb.Ta[X],z.EM=!1,z.LE=!1,z.FM=!1,!g.S(x)&&z.hb>x&&(this.ba("Gap found in _sentData: request.ptsStart:",z.hb,"continuousEndPts:",x),c.TY&&(u=!0),x=z.hb),z.complete?(b=a<z.hb?z.gd:z.gd-(a-z.hb),z.Nf&&0<b&&(z.LE=!0,f+=z.gd,m+=z.Jc),u||(v=z,!g.S(a)&&z.hb+z.gd>a&&(z.EM=!0,d+=z.gd,h+=z.Jc)),0<b&&(z.FM=!0,l+=z.gd,p+=z.Jc)):u=!0,z.ZG&&(++r,k+=z.gd),void 0===x||z.hb===x)x=z.hb+z.gd;c.lm||(r+=this.fd.length,this.fd.forEach(function(a){k+=a.gd;}));n=!1;b=function(a,b,c){b!=c&&(this.ba("MISMATCH: "+a+" "+b+" != "+c),n=!0);}.bind(this);b("bufferLevelMs",d,this.fb.Bm(a));b("bufferLevelBytes",h,this.fb.Gh);b("appendedBufferMs",f,this.fb.vja(a));b("appendedBufferBytes",m,this.fb.qv);b("totalBufferMs",l,this.Bga(a));b("totalBufferBytes",p,this.fb.xs);b("latestCompletedRequest",v,this.fb.Jm);b("partialBuffers",r,this.yt);b("partialBuffersMs",k,this.zga());n&&this.fb.D9a(h,m,f,l,p);};d.prototype.vt=function(a){this.fb.vt(a);};d.prototype.Ar=function(a){var b;if(!a.zc){b=this.yb.indexOf(a);-1!==b?this.yb[b]=void 0:this.ba("cleanupRequest, request not found in all array");}a.zc&&!a.complete&&this.WIa(a);a.sf&&a.sf.clear();a.ze();};d.prototype.Iw=function(a){!a.zc&&this.fd.xZa(a)&&(this.fb.pbb(this.fd,a),this.fb.qQ(a));this.Rz(a);};d.prototype.xt=function(a){a.X0&&a.fw()&&this.RB();this.Qz(a);};d.prototype.wi=function(a){a.X0&&!a.Nf&&this.RB();this.wF(a);};d.prototype.WIa=function(a){a={type:"headerRequestCancelled",request:a};this.Ha(a.type,a);};d.prototype.Aj=function(a){a={type:"streamingFailure",msg:a};this.Ha(a.type,a);};d.prototype.ug=function(a){a={type:"managerdebugevent",message:"@"+p.time.la()+", "+a};this.Ha(a.type,a);};d.prototype.sX=function(a){var b,c,d;b=this.Lf===r.G.VIDEO?"v_":"a_";c=this.fb;d=c.filter(function(b){return b.hb>a;})[0];c=c.filter(function(b){return b.hb<=a&&b.Lg>=a;})[0];return b=d&&c?c.Lg!==d.hb?b+"rg":c.complete&&d.complete?b+"uk":b+"fd":b+"rm";};l.prototype=Object.create(q.prototype);Object.defineProperties(l.prototype,{length:{get:function(){return this.Ta.length;}},FVa:{get:function(){return 0===this.length?0:this.Ta[0].J;}},ema:{get:function(){return this.Ta.length?this.Ta[this.Ta.length-1]:void 0;}}});l.prototype.forEach=function(){return this.Ta.forEach.apply(this.Ta,arguments);};l.prototype.map=function(){return this.Ta.map.apply(this.Ta,arguments);};l.prototype.some=function(){return this.Ta.some.apply(this.Ta,arguments);};l.prototype.filter=function(){return this.Ta.filter.apply(this.Ta,arguments);};l.prototype.toJSON=function(){return JSON.stringify(this.Ta);};l.prototype.xZa=function(a){return-1!==this.Ta.indexOf(a);};l.prototype.D9a=function(a,b,c,d,g){this.Gh=a;this.qv=b;this.rv=c;this.Xw=d;this.xs=g;};l.prototype.WUa=function(a){var b;b=this.H;this.Ta.some(function(c){if(!b.$Q&&!c.complete)return!0;a.push(c);return!1;}.bind(this));};l.prototype.Ps=function(a,b){var c,d;c=this.La.ka;this.Ta.some(function(h){if(a>=h.qc&&a<h.df&&(g.S(b)||c.dG(h.Da,b)))return d=h,!0;});return d;};l.prototype.k_=function(a,b){for(var c=this.La.ka,d,h=this.Ta.length-1;0<=h;--h)if(d=this.Ta[h],a>=d.Ri&&a<d.Ij&&(g.S(b)||c.dG(d.Da,b)))return d;};l.prototype.sHa=function(a){for(var b,c,d,h,f,m=0;m<this.Ta.length;++m){b=this.Ta[m];c=b.qc;if(g.S(h))c>a&&(h=m);else if(g.S(f))c>d&&(f=d);else break;d=b.df;}return{nla:h,Tna:f};};l.prototype.kv=function(a){var b;b=this.H;if(-1!==this.Ta.indexOf(a))return!1;a.K9a(this);b.nv?(b=this.sHa(a.qc),g.S(b.nla)?this.Ta.push(a):this.Ta.splice(b.nla,0,a),g.S(b.Tna)?(b=this.Ta[this.Ta.length-1],this.ro=b.df):this.ro=b.Tna):(this.Ta.push(a),this.ro=a.df);(a.active||a.complete)&&this.qQ(a);a.active&&++this.fs;a.complete||(a.ZG=!0,++this.LP,this.Nw+=a.gd,a.h4&&this.w4(a,a.Jc));a.Nf&&this.xH(a);g.da(this.qc)||(this.qc=a.qc);return!0;};l.prototype.pbb=function(a,b){var c;c=a.Ta.indexOf(b);-1!==c&&(a.Ta.splice(c,1),a.Mea(b,c));this.kv(b);};l.prototype.Lea=function(a){a.ZG&&(a.ZG=!1,--this.LP,this.Nw-=a.gd);a.EM&&(a.EM=!1,this.Gh-=a.Jc);a.LE&&(a.LE=!1,this.rv-=a.gd,this.qv-=a.Jc);a.FM&&(a.FM=!1,this.Xw-=a.gd,this.xs-=a.Jc);};l.prototype.Mea=function(a,b){this.Lea(a);a.active&&--this.fs;a.UY&&(a.UY=!1,this.Yf-=a.ga);a.rha&&(a.rha=!1,this.Ww-=a.Jc);a==this.Jm&&(this.Jm=0<b?this.Ta[b-1]:void 0);};l.prototype.YJa=function(a,b){this.Mea(a,b);this.La.Ar(a);};l.prototype.Bra=function(a){a=this.Ta.indexOf(a);if(-1===a)return!1;this.splice(a,1);return!0;};l.prototype.splice=function(a,b){for(var c,d=a+b-1;d>=a;--d)c=this.Ta[d],this.YJa(c,d);return this.Ta.splice(a,b);};l.prototype.qQ=function(a){a.zc||a.UY||(a.UY=!0,this.Yf+=a.ga);};l.prototype.w4=function(a,b){a.zc||(a.rha=!0,this.Ww+=b,m(this.Ww<=this.Yf));};l.prototype.xH=function(a){a.zc||!a.complete||a.LE||(a.LE=!0,this.qv+=a.Jc,this.rv+=a.gd);};l.prototype.hqa=function(a,b){if(!a.zc&&-1!==this.Ta.indexOf(a)){a.ZG&&(a.ZG=!1,--this.LP,this.Nw-=a.gd);this.qQ(a);0<b&&this.w4(a,b);a.Nf&&this.xH(a);this.Xw+=a.gd;a.FM=!0;this.xs+=a.Jc;a=-1;b=0;this.Jm&&(a=this.Jm.hb,b=this.Ta.indexOf(this.Jm)+1);for(var c=b;c<this.Ta.length;++c){b=this.Ta[c];if(!b.complete)break;b.hb>a&&(this.Jm=b,a=b.hb,b.EM=!0,this.Gh+=b.Jc);}}};l.prototype.m$a=function(a){for(var b,c=this.Ta.length-1;0<=c&&(b=this.Ta[c],!a(b,c));--c);};l.prototype.vt=function(a){var b;if(a!==this.Sm){b=this.Sm;this.Sm=a;b&&this.Lea(b);}};l.prototype.QWa=function(){var a;a=0;this.Jm?a=this.Jm.df:0<this.Ta.length&&(a=this.Ta[0].qc);return a;};l.prototype.fYa=function(a){if(!this.Sm)return 0;a-=this.Sm.hb;0>a&&(this.ba("resetting bad partialMs to 0, was:",a),a=0);a>this.Sm.gd&&(a-=this.Sm.gd);return a;};l.prototype.Bm=function(a){var b,c;g.S(a)&&(a=this.La.ka.Hg());c=0;this.Jm&&(b=this.Jm.df,b>a&&(c=b-Math.max(a,this.qc)));return c;};l.prototype.vja=function(a){if(0===this.rv)return 0;g.S(a)&&(a=this.La.ka.Hg());a=this.fYa(a);return this.rv-a;};l.prototype.Iw=function(a){++this.fs;this.qQ(a);this.Rz(a);};l.prototype.TG=function(a){this.w4(a,a.Jc-a.Wj);this.xF(a);};l.prototype.wi=function(a){var b;b=a.Jc-a.Wj;--this.fs;this.hqa(a,b);this.wF(a);};l.prototype.FP=function(a,b){b&&--this.fs;this.MN(a,b);};f.P=d;},function(f,c,a){var d,h,l,g,m,p,r,k;function b(a,b,c,d,f,k,u){this.H=u;this.La=a.La;this.ka=a;this.jc=b;this.O=c;this.lIa(b.na.id);this.Ka=d;d=b.Uf?b.Uf.kb[c].EB:void 0;this.R8a=k;this.EB=new l(f,k,u,d);this.p1=p.time.la();this.i0a=void 0;this.Ia=new g(a,b,this,c,u);this.Ia.addEventListener("headerRequestCancelled",function(b){a.PHa(b.request);});this.Ia.addEventListener("streamingFailure",function(b){a.Aj(b.msg);});u.Zd&&this.Ia.addEventListener("managerdebugevent",function(b){r(a,b.type,b);});this.vt=this.Ia.vt.bind(this.Ia);this.E2a=c===h.G.VIDEO?u.G2:u.C2;this.Nn=!1;this.bY=0;m.call(this,b);}a(10);d=a(21);h=a(13);l=a(259);g=a(464);a(67);m=a(88);p=a(9);c=a(30);r=c.Ha;k=c.pG;b.prototype=Object.create(m.prototype);Object.defineProperties(b.prototype,{jx:{get:function(){return this.Ia.jx;}},z5:{get:function(){return this.Ia.z5;}},wo:{get:function(){return this.jc.na.id;}},nz:{get:function(){return this.Ia.nz;}},Nd:{get:function(){return this.Ia.Nd;}},Gh:{get:function(){return this.Ia.Gh;}},Yj:{get:function(){return this.Ia.Yj;}},ls:{get:function(){return this.Ia.ls;}},pv:{get:function(){return this.Ia.pv;}},gM:{get:function(){return this.Ia.gM;}},PB:{get:function(){return this.Ia.PB;}},Yt:{get:function(){return this.Ia.Yt;}},VNa:{get:function(){return this.Ia.Yt/this.La.ol[this.O];}},WNa:{get:function(){return this.Ia.jka().Yf/this.La.ol[this.O];}},Da:{get:function(){return this.jc.Da;}},pO:{get:function(){return this.Ia.pO;}},$w:{get:function(){return this.Ia.$w;}},Nc:{get:function(){return this.jc.qka(this.O);}},Xm:{get:function(){return this.jc.IYa(this.O);}}});b.prototype.lIa=function(a){a=a&&a.length?"{"+a+"} ":"";a+="["+this.O+"]";this.V=k(p,this.ka.V,a);this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);this.Fr=this.V.debug.bind(this.V);this.Ia&&this.Ia.gra(this.V);};b.prototype.reset=function(a,b){this.Nn=!1;this.l0a=this.seeking=void 0;this.fg=!1;this.Ia.reset(a);this.z4={reason:b,time:p.time.la()};};b.prototype.Opa=function(a){this.Ia.xga(a);};b.prototype.Wm=function(a){this.Ia.Wm(a);};b.prototype.ALa=function(){this.Ia.RB();};b.prototype.A9a=function(a,b){var c,d;c=this.ka;d=this.O;this.lj=b.lj;this.cs=b.cs;b.Nc.forEach(function(b){var g;g=c.Ge[d][b.id];b.T&&b.T.length||!g||(g.T?(b.T=g.T,b.If=g.bc):(g.VG||(g.VG=[]),g.VG.push(a)));}.bind(this));c.MHa(this,b.Q8a);this.uOa(b.Nc);this.Hs=void 0;this.fg=!1;};b.prototype.G9a=function(a,b){var c;if(this.H.nv){c=this.Ia.YXa();null!==c?(this.Ka=c,this.ih=c===a?b:this.ka.XK(this.O,this.jc.Da,this.Ka)):(this.ba("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.Ka=a,this.ih=b);}else this.Ka=a,this.ih=b;};b.prototype.yo=function(a){var b,c,d;if(this.wf&&this.wf.X===a)b=this.wf.index,c=a;else{d=this.ka.bq(this.Da);b=d.Vb[this.O];if(!b||!b.T){this.zt=!0;this.OP=a;return;}c=b.T;this.wf=this.Zia(b.stream,a,void 0,void 0);if(void 0===this.wf){if(b=c.length-1,c=c.Nq(b),this.ba("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",d.ki),d.ki){this.zt=!0;this.OP=a;return;}}else b=this.wf.index,c=this.wf.X;}this.ih=b;this.Ka=c;delete this.zt;};b.prototype.b8a=function(a){this.yo(a);this.fg=!1;this.fa=void 0;this.Ia.qqa();};b.prototype.a8a=function(a){this.wf=a;this.fg=!1;this.fa=void 0;this.ih=this.wf.index;this.Ka=this.wf.X;delete this.zt;this.Ia.qqa();};b.prototype.m8a=function(a){var b;b=this.ka.bq(this.Da).Vb[this.O];if(b&&b.T){for(var c=b.T;0<this.ih&&this.Ka>a;)this.Ka=c.Nq(--this.ih);this.ih<this.wf.index&&(this.wf=b.stream.Vi(this.ih));this.zt=void 0;}else this.zt=!0,this.OP=a;};b.prototype.Fcb=function(a){var b,c;b=this.Xm[a];c="verifying streamId: "+a+" stream's track: "+(b?b.lj:"unknown")+" currentTrack: "+this.lj;if(!b)return this.ka.ug("unknown streamId: "+a),!1;b.lj!==this.lj&&this.ka.ug(c);return b.lj==this.lj;};b.prototype.uOa=function(a){this.Qka=a.reduce(function(a,b){return b.inRange&&b.Ye&&!b.fh&&b.J>a.J?b:a;},a[0]);this.EZa=a.indexOf(this.Qka);};b.prototype.wUa=function(a){return this.O===h.G.VIDEO?0:this.H.Vm?a&&a.hh||0:this.H.Sp&&a?-a.hh:0;};b.prototype.m5=function(){return this.O===h.G.VIDEO&&this.H.Rv||this.O===h.G.AUDIO&&this.H.Sp;};b.prototype.Zia=function(a,b,c,g,f){var m,l,p,r,k,u,v,x;d(0<=b);m=this.H;l=a.T;p=l.bc;r=b+0;k=l.Ll(r,void 0,!0);u=a.Vi(k);v=this.m5();if(u.fa<b)return u;if(v){r=this.O===h.G.VIDEO?r:b;x=u.l_(r);x?0<x.Rd&&u.oq(x,!1):r>=u.fa&&k<l.length-1&&(u=a.Vi(k+1));}this.O===h.G.VIDEO&&c&&u.fa===c&&k<l.length-1?u=a.Vi(k+1):this.O===h.G.AUDIO&&void 0!==g&&!m.Vm&&(c=b+g,c-u.X>m.O1a||u.X<c-f||p&&2>Math.floor(u.duration/p.hh))&&(u=a.Vi(k+1));v&&this.O===h.G.AUDIO&&!u.yd&&(m.Zs||m.R0||m.bUa)&&void 0!==g&&u.oq();u.JH(b);return u;};b.prototype.wVa=function(a,b){var c,d,g,f,m;c=this.H;d=a.T;g=d.bc;f=b?b+this.wUa(g):d.nN(d.length-1);d=d.Ll(f,void 0,!0);g=a.Vi(d);0==d||g.X!==b||this.O!==h.G.VIDEO&&c.Vm||(--d,g=a.Vi(d));if(this.m5()){f=this.O===h.G.VIDEO?f:b;if(f<g.fa){m=g.zVa(f);m&&0!=m.Rd?g.oq(m,!0):this.O===h.G.AUDIO&&(m||f<g.X)&&0!=d&&(g=a.Vi(d-1));}this.O===h.G.AUDIO&&(c.Zs||c.Q0)&&g.oq();}else this.O===h.G.AUDIO&&!c.Vm&&b-g.X<g.duration/2&&0!=d&&(g=a.Vi(d-1));g.JH(b);return g;};b.prototype.TQ=function(a){this.Rk=a;this.fa=a.fa;};b.prototype.xt=function(a){this.Qz(a);};b.prototype.toJSON=function(){return{started:this.jx,startOfSequence:this.z5,segmentId:this.wo,requestedBufferLevel:this.Yj,manifestIndex:this.Da,hasFragments:this.pO};};f.P=b;},function(f,c,a){var g,m,p,r,k,v,z,n,q;function b(a,b,c,d,g){this.H=g;this.ka=a;this.ec=b;this.V=a.V;this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);this.nl=[];this.xk=Object.create(null);c?(this.jV=!0,this.CJa(c,d)):(this.tk=this.rV("",0,0,void 0,void 0,[],!0),this.tk.Y2=!0,this.tk.fa=Infinity,this.OL=[this.tk]);this.Fb=new h(this,b,this.tk,this.tk.X,0,void 0,d);this.Fb.active=!0;this.iL=void 0;}function d(a,b,c){var m;for(var d=this.ka,h="findBranchBy"+(b?"ContentPts":"PlayerPts"),f=this.Fb;f;){if(!g.da(c)||d.dG(c,f.Da)){m=b?f.Ij:f.df;if((b?f.Ri:f.qc)<=a&&a<m)return f;}f=f.Uf;}this.ba(h,"pts:",a,"not in immediate branch history, default branch:",this.Fb);}function h(a,b,c,d,h,f,m){var l;this.La=a;l=a.ka;this.ka=l;this.Uf=f;this.na=c;this.X=d;this.qm=c.qm;this.children=Object.create(null);this.Fo=[];this.V=n(v,l.V,c.id&&c.id.length?"{"+c.id+"}":void 0);this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);this.Fr=this.V.debug.bind(this.V);this.Ub=l.bq(h).Rl;this.Da=h;this.Ac=void 0;g.da(m)||(m=d);c=b.S$a;b=new r(l,this,p.G.AUDIO,m,l,c[p.G.AUDIO],l.H);m=new r(l,this,p.G.VIDEO,m,l,c[p.G.VIDEO],l.H);this.kb=[b,m];this.M0(h);a.nl.push(this);q.call(this,l);}function l(a,b,c,d,g,h,f,m,l){this.id=a;this.Da=b;this.X=c;this.fa=d||Infinity;this.WE=g;this.Jk=h;this.HB=f;this.qm="number"===typeof m?m:this.fa;this.Dbb=l;}g=a(10);m=a(21);p=a(13);r=a(465);k=a(44);v=a(9);c=a(30);z=c.S4;n=c.pG;v=a(9);q=a(88);Object.defineProperties(b.prototype,{$s:{get:function(){return!!this.jV;}},E_a:{get:function(){return 0===this.Fb.kb.length;}},Gha:{get:function(){return this.Fb.na.id;}},Fha:{get:function(){return this.Fb.Da;}},xm:{get:function(){return this.Fb;}},Yd:{get:function(){return this.Fb.kb;}},QNa:{get:function(){return this.nl;}},Ub:{get:function(){return this.Fb.Ub;}},Se:{get:function(){return this.ka.Se;}},yi:{get:function(){return this.iL?this.iL:this.Fb;}}});b.prototype.a0=function(a){return"m"+a;};b.prototype.Ml=function(a){return this.Fb.kb[a];};b.prototype.Bm=function(a){return this.Fb.kb[a].Nd;};b.prototype.kka=function(a,b){var c;c=this.xk[a];if(c)return(a=c.Jk[b])&&a.weight;this.ba("getSegmentWeight, unknown segment:",a);};b.prototype.AYa=function(a){var b;b=this.xk[a];if(b)return b.X;this.ba("getSegmentStartPts, unknown segment:",a);};b.prototype.nYa=function(){var a;a=this.yi.na;return a&&("number"===typeof a.qm?a.qm:a.fa);};b.prototype.zYa=function(a){var b;b=this.xk[a];if(!b)this.ba("getSegmentDuration, unknown segment:",a);else if(g.da(b.fa)&&isFinite(b.fa)&&g.da(b.X)&&isFinite(b.X))return b.fa-b.X;};b.prototype.Yia=function(a){for(var b=this.Fb;b;){if(this.ka.dG(b.Da,a))return b;b=b.Uf;}};b.prototype.uVa=function(a,b){return d.call(this,a,!1,b);};b.prototype.tVa=function(a,b){return d.call(this,a,!0,b);};b.prototype.I7a=function(a,b){g.Kc(this.nl,function(c){c.Da===a&&(c.Da=b);});g.Kc(this.xk,function(c){c.Da===a&&(c.Da=b);});};b.prototype.oqa=function(){g.Kc(this.nl,function(a){a.Ub=this.ka.bq(a.Da).Rl;}.bind(this));};b.prototype.VQ=function(a){g.Kc(this.nl,function(b){b.qka(p.G.VIDEO).forEach(function(b){k(this.ka.rca(b.le,b.J,a),b);}.bind(this));}.bind(this));};b.prototype.qSa=function(){this.nl.forEach(function(a){a.active=!1;});};b.prototype.w6a=function(){this.nl.every(function(a){if(a.active)return a.kb.every(function(a){return 0===a.$w;})?(a.ze(),this.nl.shift(),!0):!1;}.bind(this));};b.prototype.gPa=function(a,b){var c,d;c=this.Fb;if(c.Hma)a=c.Hma;else{d=this.Fb.Ub;a=new h(this,this.ec,c.na,0,a,c);a.kb.forEach(function(a){a.yo(0);a.TQ(c.kb[a.O].Rk);});a.Ub=d+b;c.Hma=a;}this.ny(a,c);};b.prototype.XLa=function(a,b,c){var d,g;if(!this.jV){this.jV=!0;d=this.a0(0);this.tk.id=d;this.xk[d]=this.tk;this.nl[d]=this.Fb;this.tk.fa=this.ka.Bda(this.ka.EXa());this.tk.Rw=!0;}g=this.a0(a);a=this.rV(g,a,b,c,void 0,[],!0);a.Rw=!0;this.OL.forEach(function(a){a.Jk={};a.Jk[g]={weight:100};a.WE=g;a.HB=!1;}.bind(this));this.OL=[a];};b.prototype.EE=function(a,b){var c,d,h,f;c=this.yi;d=c.mR(b);h=c.na;f=c.children[a];if(b){if(!h.Jk[a])return this.Fb.ba("chooseNextSegment, invalid destination:",a,"for current segment:",h.id),!1;if(c.Ih)return c.Ih===a;c.Ih=a;f&&c.LN?this.ny(f,c):this.H.jF&&(a=c.Jga(),g.S(a)||c.Hsa(a));return!0;}if(!f)return d.Qna=!0,!1;b||(d.Qna=!f.lz());this.ka.vW("chooseNextSegment");c.LN=void 0;c.Ih=a;this.ny(f,c);return!0;};b.prototype.JZa=function(a,b){var c,d,f;c=this.ka;d=a.na;b&&!a.Ih&&(a.Ih=d.WE,a.mR(!0,!0));a.children=Object.create(null);g.Kc(d.Jk,function(b,d){var g,m,l,r;if(!a.Ih||d==a.Ih){b=this.xk[d];g=b.Da;m=c.Ca[g];l=m.M===c.M;f=new h(this,this.ec,b,b.X,g,a);r=this.ka.DK(f.Da,b.X,f,a,l).$A;g=this.ka.sD(f.kb,m.Vb,b.fa);f.kb[p.G.VIDEO].Rk=g[p.G.VIDEO];f.kb[p.G.AUDIO].Rk=g[p.G.AUDIO];[p.G.VIDEO,p.G.AUDIO].forEach(function(b){var c,d;c=f.kb[b];d=a.kb[b];b===p.G.VIDEO&&(d=d.Ka+a.Ub,f.Ub=d-r[b],f.X=r[b]);c.yo(r[b]);c.r_a=c.Ka;c.q_a=c.ih;}.bind(this));c.fea(b,f.Ub);a.children[d]=f;}}.bind(this));a.Ih&&this.ny(a.children[a.Ih],a);a.LN=!0;};b.prototype.kbb=function(){var a;a=0;g.Kc(this.nl,function(b){b.kb.forEach(function(b){a+=b.Ia.fs;}.bind(this));}.bind(this));return a;};b.prototype.hGa=function(a){for(var b=[a.na.id];a.Uf;)a=a.Uf,b.unshift(a.na.id);this.cV(a,!0);};b.prototype.cV=function(a,b){var c,d;c=a.na;g.Kc(a.children,function(a){this.cV(a,b);}.bind(this));a.kb.forEach(function(a){a.Ia.rLa(b);}.bind(this));a.active=!1;a.ze();d=-1;this.nl.some(function(b,c){if(b===a)return d=c,!0;});-1!==d?this.nl.splice(d,1):this.ba("Unable to find branch:",a,"in branches array");this.ka.fJa(c);};b.prototype.yab=function(a,b){var c,d;c=this.tHa(a,b);if(c){c!==this.Fb.na&&(this.qSa(),d=new h(this,this.ec,c,a,b,this.Fb),d.Uf=void 0,this.hGa(this.Fb),this.ny(d,this.Fb));c===this.yi.na&&(this.yi.Fo.shift(),d&&(d.Fo=this.yi.Fo,d.Ih=this.yi.Ih));this.ka.fea(c,this.Fb.Ub);this.Fb.LN=void 0;}else this.ba("findSegment no segment for manifestIndex:",b);};b.prototype.ny=function(a,b){var c,d,h,f,m;c=b.na;b.Da!=a.Da&&this.ka.Nda(a.Da);a.active=!0;if(this.H.jF){d=this.Fb.Jga();if(!g.S(d)){h=this.Fb.fa;this.Fb.Hsa(d);a.bcb(this.Fb.fa-h);}}a.kb.forEach(function(a){a.ALa();}.bind(this));f=v.time.la();m={};g.Kc(b.children,function(b){b.Ac&&(b.Ac.Nd=b.kb.map(function(a){return a.ls.hh;}),b.Ac.KTa=f-b.Ac.CO,b.Ac.CO=void 0,m[b.na.id]=b.Ac);b.na.id!==a.na.id&&this.cV(b);}.bind(this));b.children=Object.create(null);b.children[a.na.id]=a;this.hra(a);this.ka.gJa(a.na,m);1<Object.keys(c.Jk).length&&a.lz();this.ka.iqa();};b.prototype.Mma=function(a,b){var c;c=a.na;b||(b=c.WE);z(c.id);a.Ih||(a.Ih=b,a.mR(!0,!0));(b=a.children[a.Ih])&&this.ny(b,a);};b.prototype.hra=function(a,b){if(this.Fb!=a){if(b)for(b=this.Fb;b!=a;)b.active=!1,b=b.Uf;this.Fb=a;}};b.prototype.nqa=function(a){g.Kc(a.children,function(a){var b;b=a.kb[p.G.AUDIO];b.reset(!0,"audioTrackChange");b.Ka=b.r_a;b.ih=b.q_a;this.nqa(a);}.bind(this));};b.prototype.cn=function(a,b){var c,d,g,h;if(this.$s){c=this.H;d=this.yi;g=d.na;h=z(g.id);!d.Ih&&!g.HB&&d.fa-b<c.Cna&&(this.ba(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.Mma(d));}this.Fb.kb.forEach(function(a){this.Se[a.O].cn(b);}.bind(this));};b.prototype.vt=function(a,b){var c;if(this.$s){c=this.iL;a=a.yf.jc;c&&a.na.id==c.na.id||(this.iL=a,this.wGa(c),c=c&&c.sPa(a),this.ka.iJa(a.na,b,c));}};b.prototype.ze=function(){this.bHa(this.Fb);};b.prototype.bHa=function(a){0!==a.kb.length&&(a.kb.forEach(function(a){a.Ia.reset();delete a.EB;a.active&&(this.Yb("Destroying active pipeline!"),this.ka.wkb(v.time.la()));}.bind(this)),a.kb=[],a.ze());};b.prototype.wGa=function(a){var b,c;if(a){b=v.time.la();c=a.Fo[0];c&&void 0===c.TM?c.TM=b-c.requestTime:c||(this.ba("missing metrics for branch:",a.na.id),c={gR:a.na.id,HQ:!0,TM:0,Ac:{}},a.Fo.unshift(c));void 0===c.startTime&&(c.startTime=b);a.kb.forEach(function(a){a.vt();}.bind(this));}};b.prototype.tHa=function(a,b){var c,d,f,l;m(0<=a);for(var h in this.xk){f=this.xk[h];if(this.ka.dG(f.Da,b)){if(f.X<=a&&(g.S(f.fa)||a<f.fa))return f;l=Math.min(Math.abs(a-f.X),Math.abs(a-f.fa));if(g.S(c)||l<c)c=l,d=f;}}return d;};b.prototype.o3a=function(a,b,c){b.Y2||(b.X=this.ka.aka(a,b.X,!0),c||(b.fa=this.ka.aka(a,b.fa,!1)),b.Y2=!0);};b.prototype.rV=function(a,b,c,d,g,h,f,m,p){b=new l(a,b,c,d,g,h,f,m,p);return this.xk[a]=b;};b.prototype.CJa=function(a,b){var c,d;this.tk=void 0;this.OL=[];c=null;d=null;g.Kc(a.segments,function(a,h){var f,m,l,p,r,k;f=a.startTimeMs;m=a.endTimeMs;l={};g.Kc(a.next,function(b,c){l[c]={weight:b.weight||0,rtb:b.transitionHint||a.transitionHint,Wmb:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});r=this.vda(l);"number"===typeof r&&(p=f+r);k=a.defaultNext;g.S(k)&&(k=Object.keys(l)[0]);r=g.S(k);p=this.rV(h,0,f,m,k,l,r,p,a.transitionDelayZones);f<=b&&(b<m||g.S(m))?this.tk=p:f>b&&(!c||f<d)&&(c=h,d=f);r&&this.OL.push(p);}.bind(this));this.tk||(this.tk=c?this.xk[c]:this.xk[a.initialSegment]);};b.prototype.vda=function(a){var b,c;c=0;g.Kc(a,function(a){var d,g;d=a.weight||0;c+=0<d;g=a.earliestSkipRequestOffset;0<d&&a.transitionHint===p.oEa.Iva&&"number"===typeof g&&(void 0===b||b>g)&&(b=g);});return 1<c&&b;};b.prototype.g6=function(a,b){var c;z(a);c=this.xk[a];c?(g.Kc(c.Jk,function(a,c){a.weight=b[c]||0;}.bind(this)),a=this.vda(c.Jk),c.qm="number"===typeof a?c.X+a:c.fa):this.ba("updateChoiceMapEntry, unknown segment:",a);};h.prototype=Object.create(q.prototype);h.prototype.constructor=h;Object.defineProperties(h.prototype,{Yj:{get:function(){return[this.kb[0].Yj,this.kb[1].Yj];}},ls:{get:function(){return[this.kb[0].ls,this.kb[1].ls];}},Rl:{get:function(){return this.ka.Ca[this.Da].Rl;}},Ri:{get:function(){return this.X;}},Ij:{get:function(){return this.fa;}},fa:{get:function(){return g.da(this.jda)?this.jda:this.na.fa;}},qc:{get:function(){return this.X+this.Ub;}},df:{get:function(){return this.fa+this.Ub;}}});h.prototype.toJSON=function(){return{segment:this.na.id,active:this.active,branchOffset:this.Ub,manifestIndex:this.Da,contentStartPts:this.X,contentEndPts:this.fa,playerStartPts:this.qc,playerEndPts:this.df,pipelines:this.kb,previousBranch:this.Uf};};h.prototype.B9a=function(a){this.Da=a;};h.prototype.qka=function(a){return this.ka.Ca[this.Da].pe[a].Nc;};h.prototype.IYa=function(a){return this.ka.Ca[this.Da].pe[a].Xm;};h.prototype.tYa=function(a){return this.kb[a].$w;};h.prototype.Bm=function(a){return this.kb[a].Nd;};h.prototype.M0=function(a){var b;b=this.ka.bq(a).pe;this.kb.forEach(function(c){var d;d=b[c.O];d&&c.A9a(a,d);});};h.prototype.ze=function(){this.Uf&&(delete this.Uf.children[this.na.id],this.Uf=void 0);g.Kc(this.children,function(a){a.Uf&&(a.Uf=void 0);}.bind(this));this.children=Object.create(null);};h.prototype.zHa=function(){var a,b;a=this.ka;b=0;this.kb.forEach(function(c){c=a.Se[c.O].NXa()||0;c>b&&(b=c);}.bind(this));return b;};h.prototype.hYa=function(a){return this.kb[a].Ia.d5a;};h.prototype.tOa=function(a){var b,c;b=this.zHa();b=this.wda(a,b);b=a.nN(b);c=this.fa;c=this.wda(a,this.qm||c);a=a.Nq(c);return Math.max(b,a);};h.prototype.wda=function(a,b){return a.Ll(b-1,0,!0)||0;};h.prototype.Jga=function(){var a,b;if(!("number"!==typeof this.qm||this.qm>=this.fa)){a=this.ka.bq(this.Da).Vb[p.G.VIDEO].T;b=this.tOa(a);b=a.Ll(b,0,!0)||0;b=this.xda(b,a);if((a=b<a.length&&a.nN(b))&&a<this.fa)return a;}};h.prototype.xda=function(a,b){var c,d;c=this.na.Dbb;d=a>=b.length-1;if(!c||d)return d?b.length-1:a;this.YHa(c,b.nN(a))&&(a=this.xda(a+1,b));return a;};h.prototype.YHa=function(a,b){var d,g;if(!a)return!1;for(var c=0;c<a.length;c++){d=a[c][0];g=a[c][1];if(b<d)break;if(b>=d&&b<g)return!0;}return!1;};h.prototype.bcb=function(a){this.Ub+=a;};h.prototype.Hsa=function(a){var b,c;this.jda=a;b=this.ka;c=b.bq(this.Da);this.kb.forEach(function(d){var g,h,f;g=d.O;h=c.Vb[g].T.j_(a-1,0,!0);d.TQ(h);f=d.Ia.k_(h.X);f&&(f.Rma(),g===p.G.VIDEO&&b.dW(this.na,h.fa));d.Ia.tLa(a);b.Se[g].GOa(this.na.id,a);d.Ka>h.fa&&d.yo(h.fa);}.bind(this));};h.prototype.lz=function(a,b){var c,d,g,h,f;c=this.La.H;z(this.na.id);d=this.kb[p.G.AUDIO];g=this.kb[p.G.VIDEO];h=b?d.Yj:d.Nd;b=b?g.Yj:g.Nd;a||(a=c.Ph);f=d.fg&&0===d.Ia.yt&&g.fg&&0===g.Ia.yt;if(!f&&(h<c.Ph||b<a))return!1;if(g.Nn)return!0;a=c.lm&&(0!==d.Ia.LR||0!==g.Ia.LR);if(f&&!a)if(this.ka.oW&&0===h&&0===b)this.ba("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};h.prototype.Cja=function(){var a,b;a=!0;b={};this.kb.map(function(c){var d;d=c.O===p.G.VIDEO?"v":"a";c=c.ls;b[d+"buflmsec"]=c.hh;b[d+"buflbytes"]=c.ga;a=a&&0<c.hh;});return{lO:a,sE:b};};h.prototype.mR=function(a,b){var c,d;c=v.time.la();d={};g.Kc(this.children,function(a){var b,g;a.Ac?(a.Ac.KTa=c-a.Ac.CO,a.Ac.CO=void 0,b=a.Ac.weight):b=this.La.kka(this.na.id,a.na.id);g=a.Cja();d[a.na.id]={weight:b,sE:g.sE,lO:g.lO};}.bind(this));b={requestTime:c,HQ:a,PSa:b,gR:this.na.id,Ac:d};a||(a=this.ka.Hg(),b.Cra=a-this.X+this.Ub,b.TM=0,b.startTime=c);this.Fo.unshift(b);return b;};h.prototype.sPa=function(a){var b,c;b=this.Fo[0];b.HQ&&(b.Cra=this.fa-this.X);c=a.Cja();b.ssa={};k(c.sE,b.ssa);b.lO=a.ls.every(function(a){return 0<a.hh;});this.Fo=[];return b;};h.prototype.Wm=function(a){var b;b=this.na;a-=this.Ub;if(b.X<a&&a<b.fa)this.Fo.shift();else if(b=this.Fo[0])b.Wm=!0;};h.prototype.TOa=function(){var a,b,c;a=this.La;b=this.ka;c=!0;g.Kc(this.na.Jk,function(d,g){d=b.Ca[a.xk[g].Da];d.Vb[0]&&d.Vb[1]||(c=!1);b.qO(d.M)||(c=!1);}.bind(this));return c;};h.prototype.reset=function(a,b,c){this.kb.forEach(function(d){(g.S(c)||d.O===c)&&d.reset(a,b);});this.Uf&&this.Uf.reset(a,b,c);};l.prototype.constructor=l;l.prototype.toString=function(){return"segmentId: "+this.id+" manifestIndex: "+this.Da+" pts: "+this.X+"-"+this.fa+" defaultKey: "+this.WE+" dests: "+JSON.stringify(this.Jk)+" terminal: "+!!this.HB;};l.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.Da,"startPts:":this.X,endPts:this.fa,defaultKey:this.WE,"dests:":this.Jk,terminal:!!this.HB,beginJITPts:this.qm};};f.P=b;},function(f){function c(a,b,c){var d,h;d=[];c.forEach(function(a){d.push(a[b].ga);});c=d.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],h=d.lastIndexOf(c)):(c=d[0],h=0);return{CH:c,se:h};}function a(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function b(a,b,c,g,f){var d,h,m,l,k,n;d=a.BB;h=c+d.X;c=a.BI[d.yO];a=a.UNa;m={ata:!0,waitUntil:void 0};l=c.filter(function(a){return a&&a.X<=h&&a.X+a.duration>h;})[0];k=f-1-(l.index-1);g=d.Ecb+g;n=0;n=l.index<d.Ao?n+c.slice(d.Rt,l.index).reduce(function(a,b){return a+b.ga;},0):n+d.Ecb;n=n+b.slice(d.Ao,l.index).reduce(function(a,b){return a+b.CH;},0);g-=n;if(k>=a.j2||g>=a.p6)for(m.ata=!1,l=l.index;l<f&&(k>=a.j2||g>=a.p6);)m.waitUntil=c[l].X+c[l].duration-d.X,g=l<d.Ao?g-c[l].ga:g-b[l].CH,--k,l+=1;return m;}f.P={fZa:function(d){var h,f,w,q,x,y,C,F,N,T,t,n,m,Z,O,B;f=d.BB;h=d.Uv;for(var g=h.Ks,m=d.BI,p=!0,r,k=[],v,n=g=Math.min(h.iP,g);n>=f.Ao;n--){r=d.BI[0][n].X-d.BB.X;n<g&&(r=Math.min(k[n+1].startTime,r));h=m[0][n].ga;v=f.MX*m[0][n].duration*1/8;a:{w=void 0;C=h+v;v=d.Eo;F=f.VP;N=v.trace;T=1*v.dz;q=r+F-v.timestamp;x=Math.floor(1*q/T);y=0+(q-x*T)/T*a(N,x,T);if(y>=C)w=q-1*C/y*(q-x*T);else for(q=x;y<C;){--q;if(0>q){w=-1;break a;}x=a(N,q,T);if(y+x>=C){w=1*(C-y)/x*T;w=(q+1)*T-w;break;}y+=x;}w=w+v.timestamp-F;}if(0>w){p=!1;break;}k[n]={startTime:w,endTime:r,rSa:r,CH:h,se:0};}h={gw:p,eR:k,Cw:0===k.length?!0:!1};if(!1===h.gw||!0===h.Cw)return h;f=d.BB;g=d.Uv;m=g.Ks;p=d.BI;k=0;h=h.eR;n=r=0;m=Math.min(g.iP,m);for(v=f.Ao;v<=m;v++){t=h[v];y=t.se;w=p[y][v].duration;F=v===f.Ao?0:h[v-1].endTime;y=b(d,h,F,k,v);y.ata||(F=y.waitUntil);N=t.rSa;q=d.Eo;x=f.VP;t=0;T=q.trace;y=1*q.dz;C=Math.max(0,F+x-q.timestamp);q=N+x-q.timestamp;if(!(F>=N)){Z=Math.max(0,Math.floor(1*C/y));O=1*q/y;if(Z===Math.floor(O))t+=(q-C)/y*a(T,Z,y);else for(O=Math.ceil(O),x=Z,N=O,Z*y<C&&(x+=1,t+=(Z*y+y-C)/y*a(T,Z,y)),O*y>q&&(--N,t+=(q-N*y)/y*a(T,N,y)),C=x;C<N;C++)t+=a(T,C,y);}T=t;t=f.MX*w*1/8;y=c(T-t,v,p);T=y.CH;y=y.se;x=d.Eo;N=C=0;q=x.trace;O=Math.max(0,F+f.VP-x.timestamp);x=1*x.dz;B=Z=Math.max(0,Math.floor(1*O/x));for(B*x<O&&(Z+=1,O=B*x+x-O,B=O/x*a(q,B,x),C=T-N<B?C+(T-N)/B*1*O:C+O,N+=B);N<T;)O=a(q,Z,x),C=T-N<O?C+(T-N)/O*1*x:C+x,N+=O,Z+=1;h[v].startTime=F;h[v].endTime=F+C;h[v].CH=T;h[v].se=y;v<=g.Ks&&(k+=T,n+=w,r+=w*d.Nc[y].J);}return{gw:!0,eR:h,yTa:0<n?1*r/n:0,BTa:n,ATa:k,xTa:t};}};},function(f,c,a){var d,h;function b(a,b,c){this.ka=a;this.V=a.V;this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);this.H=c;this.zL=[];this.IL=void 0;a=c.OF;d.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(13);a(9);d=a(101);a(257);h=a(467);b.prototype=Object.create(d.prototype);b.prototype.add=function(a,b,c){this.IL||(this.IL=b);d.prototype.add.call(this,a,b,c);};b.prototype.KWa=function(){var a;if(0!==this.zL.length){a=[];this.zL.forEach(function(b){b&&b.Zy&&a.push(b.aq());});return a;}};b.prototype.ze=function(){this.zL=[];};b.prototype.WYa=function(){var a,b,c;a=this.get(this.H.OF.fillS);if(0===a[0]||null===a[0]){a.some(function(a,d){if(a)return b=a,c=d,!0;});if(b)for(var h=0;h<c;h++)a[h]=b;}a={trace:a,timestamp:this.IL,dz:this.Mb};d.prototype.reset.call(this);this.IL=void 0;return a;};b.prototype.WZ=function(a){var b,c;if(a&&!a.Zy){c=a.Uv.Kla;c&&(a.f4=this.sX(a),a.hQ=!1);(b=this.WYa())&&b.trace&&b.trace.length&&b.trace.pop();a.Eo=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.pOa(a),a.qoa=b,c&&b&&(a.hQ=b.gw),a.Zy=!0,this.zL.push(a));}};b.prototype.pOa=function(a){return h.fZa(a);};b.prototype.sX=function(a){var b;a=a.Uv;b="";1E3>a.AI&&(b+=a.gta);1E3>a.ZW&&(b=b+(""!==b?",":"")+a.Rfa);1E3<=a.AI&&1E3<=a.ZW&&(b="media");return b;};f.P=b;},function(f,c,a){(function(){var E9W,c,h,j5M;E9W=2;while(E9W!==14){j5M="IT";j5M+="E";j5M+="_A";j5M+="SE";j5M+="JS";switch(E9W){case 7:b.prototype.Oja=function(){var H9W,a,b,c;H9W=2;while(H9W!==6){switch(H9W){case 1:H9W=2>this.xo.length||this.zWa()>this.cOa?5:4;break;case 4:a=this.Qja();b=0;c=!0;Object.keys(a).forEach(function(d){var F9W,u5M;F9W=2;while(F9W!==1){u5M="n";u5M+="u";u5M+="m";u5M+="b";u5M+="er";switch(F9W){case 2:this.Kma.hasOwnProperty(d)&&u5M==typeof a[d]?b+=a[d]*this.Kma[d]:c=!1;F9W=1;break;}}},this);H9W=7;break;case 2:H9W=1;break;case 5:return 0;break;case 7:return 0<b&&b<=this.Q1a&&c&&1<a.n9a?b:0;break;}}};f.P=b;E9W=14;break;case 2:c=a(9);new c.Console(j5M);h=a(179);b.prototype.Un=function(){var S9W,a;S9W=2;while(S9W!==4){switch(S9W){case 2:a=c.time.now();return{Eha:new Date(a).getHours(),jZ:a};break;}}};b.prototype.zWa=function(){var b9W,a,b;b9W=2;while(b9W!==7){switch(b9W){case 2:b9W=1>this.xo.length?1:5;break;case 5:a=0,b=0;b9W=4;break;case 1:return 0;break;case 3:a+=this.xo[b].get().bnb.cga;b9W=9;break;case 9:b++;b9W=4;break;case 8:return a/this.xo.length;break;case 4:b9W=b<this.xo.length?3:8;break;}}};b.prototype.Qja=function(){var R9W,a,b,c,R5M,X5M,l5M,Q5M,A5M,N5M,D5M,E5M;R9W=2;while(R9W!==20){R5M="n";R5M+="i";R5M+="q";R5M+="r";X5M="f";X5M+="n";X5M+="s";l5M="a";l5M+="v";l5M+="t";l5M+="p";Q5M="f";Q5M+="n";Q5M+="s";A5M="a";A5M+="vt";A5M+="p";N5M="l";N5M+="n";N5M+="s";D5M="a";D5M+="v";D5M+="t";D5M+="p";E5M="e";E5M+="n";E5M+="s";switch(R9W){case 6:c=this.Un();b.Eha=c.Eha;b.jZ=c.jZ;b.mtb=b.jZ-b.f6a;R9W=11;break;case 3:c=this.xo.length;b.n9a=c;b.trb=this.xo[c-1].get().Fob;b.f6a=this.xo[c-1].get().t;R9W=6;break;case 2:a=new h(100);b={};[{RH:E5M,yI:D5M},{RH:N5M,yI:A5M},{RH:Q5M,yI:l5M},{RH:X5M,yI:R5M}].forEach(function(c){var a93=v7AA;var s9W,d,g,p9M,V9M,Z9M,b9M,n9M,k9M,c9M,F9M,m9M,J9M,e9M,G9M,T9M,U9M,q9M,I9M,t9M;s9W=2;while(s9W!==17){p9M="s";p9M+="t";p9M+="d";V9M="m";V9M+="e";V9M+="a";V9M+="n";Z9M="p";Z9M+="7";Z9M+="5";b9M="p";b9M+="5";b9M+="0";n9M="p";n9M+="2";n9M+="5";k9M="la";k9M+="s";k9M+="t";c9M="s";c9M+="t";c9M+="d";F9M="m";F9M+="e";F9M+="a";F9M+="n";m9M="s";m9M+="t";m9M+="d";J9M="m";J9M+="e";J9M+="an";e9M="m";e9M+="e";e9M+="a";e9M+="n";G9M="s";G9M+="t";G9M+="d";T9M="p";T9M+="5";T9M+="0";U9M="p";U9M+="2";U9M+="5";q9M="p";q9M+="7";q9M+="5";I9M="p";I9M+="5";I9M+="0";t9M="n";t9M+="i";t9M+="q";t9M+="r";switch(s9W){case 5:s9W=d<this.xo.length?4:8;break;case 1:d=0;s9W=5;break;case 4:g=this.xo[d].get()[c.RH][c.yI];g&&a.jX(Number(g));s9W=9;break;case 10:a93.r5M(0);b[a93.s5M(prefix,t9M)]=0<b[prefix+I9M]?(b[prefix+q9M]-b[prefix+U9M])/b[prefix+T9M]:0;a93.r5M(0);b[a93.g5M(prefix,"b")]=0<b[prefix+G9M]||0<b[prefix+e9M]?(b[prefix+J9M]-b[prefix+m9M])/(b[prefix+F9M]+b[prefix+c9M]):0;a93.v5M(0);b[a93.s5M(prefix,k9M)]=a.zl[a93.s5M(1,numSamples,a93.r5M(1))];s9W=18;break;case 8:numSamples=a.Zz();prefix=c.RH+"-"+c.yI+"-";a93.r5M(0);b[a93.s5M(prefix,n9M)]=a.rs(25);a93.r5M(0);b[a93.s5M(prefix,b9M)]=a.rs(50);a93.r5M(0);b[a93.g5M(prefix,Z9M)]=a.rs(75);a93.v5M(0);b[a93.g5M(prefix,V9M)]=a.yga();a93.v5M(0);b[a93.g5M(prefix,p9M)]=a.zOa();s9W=10;break;case 9:d++;s9W=5;break;case 2:s9W=1;break;case 18:a.zl=[];s9W=17;break;}}},this);R9W=3;break;case 11:b.Zob=1;return b;break;}}};E9W=7;break;}}function b(a,b){var y9W;y9W=2;while(y9W!==8){switch(y9W){case 2:this.config=a;this.xo=b;a=a.N0;y9W=4;break;case 4:this.Kma=a.lrWeights;this.cOa=a.bwThreshold;this.Q1a=a.maxBwPrediction;y9W=8;break;}}}}());},function(f,c,a){var b,d;b=a(169);d=a(168);f.P=function(a){var r;for(var c=[],g=a.length,h=0;h<g;h++){c[h]=[0,0];for(var f=0;f<g;f++){r=d.a_(h*f,g);r=b.multiply([a[f],0],r);c[h]=b.add(c[h],r);}}return c;};},function(f,c,a){var b;b=a(170).f_;f.P={$ka:function(a){for(var c=[],d=0;d<a.length;d++)c[d]=[a[d][1],a[d][0]];a=b(c);c=[];for(d=0;d<a.length;d++)c[d]=[a[d][1]/a.length,a[d][0]/a.length];return c;}};},function(f,c){var b;function a(a){var b;b=32;(a&=-a)&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&--b;return b;}"use restrict";c.Dya=32;c.Ofb=2147483647;c.Pfb=-2147483648;c.sign=function(a){return(0<a)-(0>a);};c.abs=function(a){var b;b=a>>31;return(a^b)-b;};c.min=function(a,b){return b^(a^b)&-(a<b);};c.max=function(a,b){return a^(a^b)&-(a<b);};c.mpb=function(a){return!(a&a-1)&&!!a;};c.log2=function(a){var b,c;b=(65535<a)<<4;a>>>=b;c=(255<a)<<3;a>>>=c;b|=c;c=(15<a)<<2;a>>>=c;b|=c;c=(3<a)<<1;return b|c|a>>>c>>1;};c.log10=function(a){return 1E9<=a?9:1E8<=a?8:1E7<=a?7:1E6<=a?6:1E5<=a?5:1E4<=a?4:1E3<=a?3:100<=a?2:10<=a?1:0;};c.grb=function(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>24;};c.SPa=a;c.sqb=function(a){a+=0===a;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;return(a|a>>>16)+1;};c.urb=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1);};c.Nqb=function(a){a^=a>>>16;a^=a>>>8;return 27030>>>((a^a>>>4)&15)&1;};b=Array(256);(function(a){for(var b=0;256>b;++b){for(var c=b,d=b,f=7,c=c>>>1;c;c>>>=1)d<<=1,d|=c&1,--f;a[b]=d<<f&255;}}(b));c.reverse=function(a){return b[a&255]<<24|b[a>>>8&255]<<16|b[a>>>16&255]<<8|b[a>>>24&255];};c.$ob=function(a,b){a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1;};c.Hmb=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;return((a|a>>>16)&65535)<<16>>16;};c.apb=function(a,b,c){a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;c&=1023;c=(c|c<<16)&4278190335;c=(c|c<<8)&251719695;c=(c|c<<4)&3272356035;return(a|a<<2)&1227133513|((b|b<<2)&1227133513)<<1|((c|c<<2)&1227133513)<<2;};c.Imb=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;return((a|a>>>16)&1023)<<22>>22;};c.rqb=function(b){var c;c=b|b-1;return c+1|(~c&-~c)-1>>>a(b)+1;};},function(f,c,a){f.P={f_:a(170).f_,$ka:a(471).$ka,Tia:a(170).Tia,xI:a(168),mTa:a(470)};},function(f,c,a){(function(){var x9M,c,h,l;function b(a){var i9M;i9M=2;while(i9M!==1){switch(i9M){case 2:this.console=a;i9M=1;break;case 4:this.console=a;i9M=8;break;i9M=1;break;}}}x9M=2;while(x9M!==14){switch(x9M){case 2:c=a(473).mTa;h=a(35).MYa;l=a(35).GYa;b.prototype.nOa=function(a,b,c){var a9M,d;a9M=2;while(a9M!==3){switch(a9M){case 5:a9M=0!==d.length?4:3;break;case 4:return a=h(d)/d.length,d=l(d),(d-a)/(d+a+c);break;case 2:d=function(a){var y9M,b;y9M=2;while(y9M!==9){switch(y9M){case 2:b=[];a.reduce(function(a,c){var P9M;P9M=2;while(P9M!==4){switch(P9M){case 2:a.push(c);c&&(b.push(a.length),a=[]);return a;break;}}},[]);b.shift();return b;break;}}}(a.map(function(a){var L9M;L9M=2;while(L9M!==1){switch(L9M){case 2:return a>=b?1:0;break;case 4:return a<b?2:6;break;L9M=1;break;}}}));a9M=5;break;}}};b.prototype.z6a=function(a,b,d,f){var C9M,m,l,p,g;C9M=2;while(C9M!==13){switch(C9M){case 9:C9M=p<g.length?8:6;break;case 3:m=0,l=0,p=0;C9M=9;break;case 8:a[m]=h(g.slice(p,p+b)),l+=a[m],m+=1;C9M=7;break;case 7:p+=b;C9M=9;break;case 6:a=a.splice(0,a.length-1).map(function(a){var J93=v7AA;var o9M;o9M=2;while(o9M!==1){switch(o9M){case 4:J93.R5B(0);return J93.U5B(d,l,a);break;o9M=1;break;case 2:J93.R5B(1);return J93.U5B(a,d,l);break;}}});return a.splice(0,f);break;case 2:g=c(a);g=g.map(function(a){var Y9M,O9M;Y9M=2;while(Y9M!==1){switch(Y9M){case 2:v7AA.O5B(2);O9M=v7AA.h5B(19,18);return(Math.pow(a[0],2)+Math.pow(a[O9M],2))/g.length;break;}}});a=[];C9M=3;break;}}};x9M=8;break;case 8:b.prototype.qOa=function(a,b,c,d,h,f,l){var W9M;W9M=2;while(W9M!==7){switch(W9M){case 1:W9M=void 0!==b&&(a=this.z6a(a,c,f,d),a=a.map(function(a){var z9M;z9M=2;while(z9M!==5){switch(z9M){case 2:a+=l;return Math.log(a);break;}}}),c=[1].concat(a).concat(b),c.length===h.length)?5:7;break;case 2:b=this.nOa(a,b,l);W9M=1;break;case 5:f=d=0;W9M=4;break;case 3:d+=c[f]*h[f];W9M=9;break;case 4:W9M=f<c.length?3:8;break;case 8:return{p:Math.exp(d)/(1+Math.exp(d)),Cp:b,z:a};break;case 9:f++;W9M=4;break;}}};b.prototype.I3=function(a,b,c,d,h,f,l,k){var H9M;H9M=2;while(H9M!==5){switch(H9M){case 2:b=(a=this.qOa(a,b,c,d,h,l,k))?a.p:void 0;return{p:b?b:-1,Cp:a?a.Cp:-1,r:b?b<=f?1:0:-1,z:a?a.z:void 0};break;}}};f.P={IDa:b};x9M=14;break;}}}());},function(f,c,a){(function(){var w5B,c,h,l,E4Q;w5B=2;while(w5B!==11){E4Q="PSD";E4Q+="_A";E4Q+="SE";E4Q+="J";E4Q+="S";switch(w5B){case 2:c=new(a(9)).Console(E4Q);h=a(101);w5B=4;break;case 14:b.prototype.reset=function(){var q5B;q5B=2;while(q5B!==1){switch(q5B){case 4:h.prototype.reset.call(this);q5B=3;break;q5B=1;break;case 2:h.prototype.reset.call(this);q5B=1;break;}}};b.prototype.toString=function(){var V5B,v4Q;V5B=2;while(V5B!==1){v4Q="p";v4Q+="s";v4Q+="d";v4Q+="(";switch(V5B){case 4:return")"/this.Mb-")";break;V5B=1;break;case 2:return v4Q+this.Mb+")";break;}}};f.P=b;w5B=11;break;case 8:b.prototype.g0=function(){var o5B;o5B=2;while(o5B!==1){switch(o5B){case 2:return this.get(this.config.Vf.fillS,this.config.Vf.fillHl);break;}}};b.prototype.pYa=function(){var i5B,a;i5B=2;while(i5B!==9){switch(i5B){case 5:this.config.cF&&a.splice(a.length-this.config.cF);i5B=4;break;case 2:a=this.g0();i5B=5;break;case 3:return l.I3(a,this.SNa,this.XVa,this.K3a,this.beta,this.Zra,this.hbb,this.ibb);break;case 4:i5B=a.length===this.config.Vf.numB?3:9;break;}}};b.prototype.stop=function(a){var E5B;E5B=2;while(E5B!==1){switch(E5B){case 2:h.prototype.stop.call(this,a);E5B=1;break;}}};w5B=14;break;case 4:l=new(a(474)).IDa(c);b.prototype=Object.create(h.prototype);b.prototype.shift=function(){var G5B;G5B=2;while(G5B!==1){switch(G5B){case 2:h.prototype.shift.call(this);G5B=1;break;case 4:h.prototype.shift.call(this);G5B=0;break;G5B=1;break;}}};w5B=8;break;}}function b(a,b,c){var A5B;A5B=2;while(A5B!==14){switch(A5B){case 2:v7AA.O4Q(0);h.call(this,v7AA.y4Q(b,a),b);this.config=c;this.SNa=c.Vf.bthresh;this.XVa=c.Vf.freqave;A5B=3;break;case 3:this.K3a=c.Vf.numfreq;this.beta=c.Vf.beta;this.Zra=c.Vf.thresh;this.hbb=c.Vf.tol;this.ibb=c.Vf.tol2;A5B=14;break;}}}}());},function(f,c,a){(function(){var j4Q,c,h,l,g,m,p,r;j4Q=2;function b(a,b,c,d,g,h){var b4Q,f,k,u4Q,q4Q;b4Q=2;while(b4Q!==26){switch(b4Q){case 2:this.H=d;b4Q=5;break;case 3:this.V=a.V;this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);this.iD=null;b4Q=13;break;case 5:this.ka=a;this.Hb=c;b4Q=3;break;case 10:c=this.Ada(b);c&&(f=(c.kh-c.jh)/c.Tf);this.LKa=[d.Zfa,d.kx];g=d.LG?p.Pc.ln:p.Pc.gr;b&&b.$b>=g&&b.ia&&this.VHa(b,c,f);b4Q=16;break;case 13:v7AA.q8P(0);q4Q=v7AA.X8P(2,499998,500000);this.Lda=0===Math.floor(q4Q*Math.random())%d.aY;this.pKa();this.MD=l(d,g);b4Q=10;break;case 16:b4Q=a.Lk?15:27;break;case 27:d.kF&&h&&1<h.length&&(this.AO=new m(d,h),this.zO=this.AO.Oja());b4Q=26;break;case 15:try{u4Q=2;while(u4Q!==4){switch(u4Q){case 5:this.cQ=k;u4Q=4;break;case 2:k=new r(a,{bufferSize:a.La.ol},d);a.ej.KLa(k);u4Q=5;break;}}}catch(F){var J3P;J3P="Hi";J3P+="ndsight: Error whe";J3P+="n ";J3P+="creating QoEEvaluator: ";v7AA.q8P(1);a.lo(v7AA.p8P(J3P,F));}b4Q=27;break;}}}while(j4Q!==29){switch(j4Q){case 11:b.prototype.Ada=function(a){var X4Q,Y4Q,U3P;X4Q=2;while(X4Q!==4){U3P="t";U3P+="diges";U3P+="t";switch(X4Q){case 2:Y4Q=this.H.A0;X4Q=Y4Q===U3P?1:3;break;case 5:return a;break;case 1:a=a.dk;X4Q=5;break;case 3:X4Q=9;break;case 9:a=a.Xi&&a.Xi.Om;X4Q=5;break;}}};b.prototype.VHa=function(a,b,c){var G4Q,d;G4Q=2;while(G4Q!==9){switch(G4Q){case 2:d=this.H;this.OV(d.Tt,a,b,c)?this.Gm=!0:this.Gm=!1;this.Pn=0;G4Q=3;break;case 3:this.OV(d.N1,a,b,c)&&(this.JO=!0);G4Q=9;break;}}};b.prototype.lYa=function(a){var R4Q;R4Q=2;while(R4Q!==1){switch(R4Q){case 2:return a===p.G.VIDEO?this.MD.hpa:this.MD.gpa;break;}}};b.prototype.sB=function(a){var w4Q;w4Q=2;while(w4Q!==5){switch(w4Q){case 2:this.MD.sB(a);this.iD=a;w4Q=5;break;}}};j4Q=18;break;case 4:l=a(272);g=a(475);m=a(469);p=a(13);j4Q=7;break;case 7:r=a(468);Object.defineProperties(b.prototype,{S$a:{get:function(){var Q4Q;Q4Q=2;while(Q4Q!==1){switch(Q4Q){case 2:return this.LKa;break;case 4:return this.LKa;break;Q4Q=1;break;}}}}});b.prototype.pKa=function(){var F4Q;F4Q=2;while(F4Q!==5){switch(F4Q){case 2:this.Ol=this.uO=this.Ska=this.Pn=this.Gm=void 0;this.U1=this.L5=this.aR=this.bR=this.K5=this.IP=this.JP=0;F4Q=5;break;}}};b.prototype.jra=function(a,b,d){var M4Q;M4Q=2;while(M4Q!==4){switch(M4Q){case 2:this.Ol=a;c.S(b)||(this.Ska=b);c.S(d)||(this.uO=d);M4Q=4;break;}}};b.prototype.OV=function(a,b,d,g){var i4Q,h,e3P,W3P;i4Q=2;while(i4Q!==7){e3P="i";e3P+="q";e3P+="r";W3P="a";W3P+="v";W3P+="g";switch(i4Q){case 3:i4Q=a===W3P?9:8;break;case 5:i4Q=a===e3P?4:3;break;case 2:h=this.H;i4Q=5;break;case 9:return b.ia?b.ia.ta<h.JE:!0;break;case 4:return b.ia&&d&&c.da(g)&&b.ia.ta<h.JE&&g>h.AT;break;case 8:return!1;break;}}};j4Q=11;break;case 26:b.prototype.m4a=function(a){var k4Q;k4Q=2;while(k4Q!==1){switch(k4Q){case 2:this.H.Kz&&a===p.G.VIDEO&&(this.L5=this.K5=this.aR=this.bR=this.IP=this.JP=0);k4Q=1;break;}}};b.prototype.o4a=function(a,b,c,d){var N4Q;N4Q=2;while(N4Q!==1){switch(N4Q){case 2:this.H.Kz&&a===p.G.VIDEO&&(d?(this.JP+=b,this.IP+=c):(this.bR+=b,this.aR+=c));N4Q=1;break;}}};b.prototype.j4a=function(a,b){var d4Q;d4Q=2;while(d4Q!==1){switch(d4Q){case 2:a===p.G.VIDEO&&(this.Kcb=b);d4Q=1;break;}}};j4Q=23;break;case 15:b.prototype.l4a=function(){var K4Q,a;K4Q=2;while(K4Q!==3){switch(K4Q){case 2:a=this.H;this.uKa();a.Tp&&(this.kB=[],this.jB=a.jB);K4Q=3;break;}}};b.prototype.c4a=function(){var V4Q,s4Q,a;V4Q=2;while(V4Q!==9){switch(V4Q){case 3:try{s4Q=2;while(s4Q!==5){switch(s4Q){case 2:a.La.Hb.C7a();this.cQ.ze();s4Q=5;break;}}}catch(v){var Z3P;Z3P="Hind";Z3P+="sight: E";Z3P+="r";Z3P+="ro";Z3P+="r during clean up: ";v7AA.x8P(1);a.lo(v7AA.p8P(Z3P,v));}V4Q=9;break;case 2:a=this.ka;this.ND&&(clearInterval(this.ND),delete this.ND);V4Q=4;break;case 4:V4Q=a.Lk?3:9;break;}}};j4Q=26;break;case 23:b.prototype.k4a=function(a){var x4Q;x4Q=2;while(x4Q!==1){switch(x4Q){case 2:this.Vf&&this.Vf.stop(a);x4Q=1;break;}}};b.prototype.koa=function(a,b,c){var D4Q;D4Q=2;while(D4Q!==1){switch(D4Q){case 2:this.Vf&&this.Vf.add(a,b,c);D4Q=1;break;}}};b.prototype.s4a=function(a){var I4Q;I4Q=2;while(I4Q!==5){switch(I4Q){case 2:this.H.Tp&&a.kB&&this.kB.push(a.kB);this.U1=a.U1;I4Q=5;break;}}};j4Q=35;break;case 2:c=a(10);h=a(9);j4Q=4;break;case 31:b.prototype.nVa=function(a){var f4Q,b,c,d,g,h,f,F3P;f4Q=2;while(f4Q!==20){F3P="n";F3P+="on";F3P+="e";switch(f4Q){case 11:b.jN&&(a.psdConservCount=this.Cea);F3P!==b.Tt&&(a.isConserv=this.Gm,a.ccs=this.Pn);f4Q=20;break;case 2:b=this.H;f4Q=5;break;case 5:c=this.Hb.get(!0);d=[];[p.G.VIDEO,p.G.AUDIO].forEach(function(a){var h4Q,g;h4Q=2;while(h4Q!==3){switch(h4Q){case 14:d.push(g);h4Q=8;break;h4Q=3;break;case 2:g=this.ka.KYa(a);a===p.G.VIDEO&&(b.Kz&&(g.parallelDownloadMs=this.JP,g.parallelDownloadBytes=this.IP,g.singleDownloadMs=this.bR,g.singleDownloadBytes=this.aR,g.switchFromParallelToSingle=this.K5,g.switchFromSingleToParallel=this.L5),c&&c.$b&&c.ia&&(g.asetput=c.ia,g.aseiqr=c.Xi,g.tdigest=c.dk&&c.dk.aq()||void 0),c&&c.cga&&(g.avtp=c.cga.ta));h4Q=4;break;case 4:d.push(g);h4Q=3;break;}}}.bind(this));a.stat=d;g=0;h=0;f=0;f4Q=14;break;case 14:c.$b&&(g=c.ia?c.ia.ta:0,h=c.he?c.he.ta:0,f=c.Dm?c.Dm.ta:0);a.location={responseTime:h,httpResponseTime:f,bandwidth:g,confidence:c.$b,name:this.Kcb};this.Lda&&(a.bt={startTime:this.ai.startTime,Ln:this.ai.Ln,Ho:this.ai.Ho},this.ai.Ln=[],this.ai.Ho=[],this.ai.q1=this.ai.n1);f4Q=11;break;}}};f.P=b;j4Q=29;break;case 18:b.prototype.Aga=function(a,b){var p4Q;p4Q=2;while(p4Q!==1){switch(p4Q){case 2:this.MD.fsb&&a&&this.MD.Aga(b,a);p4Q=1;break;}}};b.prototype.CLa=function(a,b,c,d,g,h){var J4Q,f;J4Q=2;while(J4Q!==4){switch(J4Q){case 2:f=this.H;c&&d&&(c=h?Math.min(c,d,h):Math.min(c,d))&&(this.Hb.get(!1),a=this.ka.Bm(a),b.nA()&&a>f.qM&&c===g?(b.Upa({connections:1,openRange:!0}),this.K5++):f.Pm&&!b.nA()&&(a<f.$X||c!==g)&&(b.Upa({connections:f.qw,openRange:!1}),this.L5++));J4Q=4;break;}}};b.prototype.FLa=function(a,b){var a4Q,c,d,g;a4Q=2;while(a4Q!==13){switch(a4Q){case 4:void 0===this.ai&&(this.ai={startTime:h.time.la(),Ln:[],Ho:[],q1:void 0,n1:void 0});c=Math.floor((h.time.la()-this.ai.startTime)/c.ez);d=this.ai.n1;a4Q=8;break;case 8:g=this.ai.q1?c-this.ai.q1-1:c;a4Q=7;break;case 5:a4Q=this.Lda?4:13;break;case 2:c=this.H;a4Q=5;break;case 14:this.ai.n1=c;a4Q=13;break;case 7:a4Q=void 0===d||c>d?6:14;break;case 6:this.ai.Ln[g]=a,this.ai.Ho[g]=b;a4Q=14;break;}}};j4Q=15;break;case 35:b.prototype.uKa=function(){var H4Q,a;H4Q=2;while(H4Q!==4){switch(H4Q){case 2:a=this.H;a.jN&&(this.ND&&clearInterval(this.ND),this.Ht=void 0,this.Cea=0,this.Vf=new g(a.Vf.numB+a.cF,a.Vf.bSizeMs,a),this.ND=setInterval(function(){var U4Q,b,c,d,g;U4Q=2;while(U4Q!==12){switch(U4Q){case 1:b=this.Vf.pYa();U4Q=5;break;case 5:U4Q=b?4:12;break;case 4:c=b.p;d=b.Cp;g=b.r;this.Ht={t:h.time.la(),p:Number(c).toFixed(2)/1,Cp:Number(d).toFixed(2)/1,FNa:this.ka.Bm(p.G.VIDEO),z:b.z};U4Q=7;break;case 2:U4Q=1;break;case 7:U4Q=g?6:13;break;case 13:a.T3&&(this.Dq=!1);U4Q=12;break;case 6:U4Q=(b=this.Hb.get(!0),0===a.lH||0<a.lH&&b.ia.ta<a.lH)?14:12;break;case 14:this.Dq||this.Cea++,this.Dq=!0;U4Q=12;break;}}}.bind(this),a.S3));H4Q=4;break;}}};b.prototype.WOa=function(a){var e4Q,b,c,d,g,h,w3P,o3P;e4Q=2;while(e4Q!==7){w3P="i";w3P+="q";w3P+="r";o3P="n";o3P+="o";o3P+="n";o3P+="e";switch(e4Q){case 1:b=this.H;e4Q=5;break;case 5:e4Q=o3P!==b.Tt&&!0!==this.Gm&&a.state<=b.l2?4:7;break;case 4:c=this.Hb.get();w3P===b.Tt&&(d=this.Ada(c))&&(g=(d.kh-d.jh)/d.Tf);h=b.LG?p.Pc.ln:p.Pc.gr;c&&c.$b>=h&&this.OV(b.Tt,c,d,g)&&(this.Gm=!0,this.Pn=a.state);e4Q=7;break;case 2:e4Q=1;break;}}};b.prototype.WLa=function(a){var P4Q;P4Q=2;while(P4Q!==3){switch(P4Q){case 2:a.Gm=this.Gm;P4Q=1;break;case 1:a.Dq=this.Dq;a.zO=this.zO;a.Ht=this.Ht;P4Q=3;break;}}};b.prototype.mVa=function(a){var B4Q,b,d,g,h,f,m,l,H3P,G3P;B4Q=2;while(B4Q!==22){H3P="s";H3P+="t";H3P+="a";H3P+="rtplay";G3P="l";G3P+="o";G3P+="g";G3P+="data";switch(B4Q){case 19:l=function(a){var S4Q;S4Q=2;while(S4Q!==1){switch(S4Q){case 2:return c.da(a)?Number(a).toFixed(2):-1;break;}}};f=[l(m.min||void 0),l(m.WG||void 0),l(m.jh||void 0),l(m.Tf||void 0),l(m.kh||void 0),l(m.XG||void 0),l(m.max||void 0)];m=c.isArray(m.tf)&&m.tf.reduce(function(a,b){var Z4Q,c;Z4Q=2;while(Z4Q!==9){switch(Z4Q){case 2:c=l(b.Qd||void 0);b=l(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});Z4Q=3;break;case 3:return a;break;}}},[]);h.histtdc=m;B4Q=15;break;case 9:Object.keys(a).forEach(function(b){var t4Q;t4Q=2;while(t4Q!==1){switch(t4Q){case 4:h[b]=a[b];t4Q=2;break;t4Q=1;break;case 2:h[b]=a[b];t4Q=1;break;}}});f=this.Hb.get();f&&f.ia&&(f=f.ia.ta);h.actualbw=f;h.isConserv=this.Gm;h.ccs=this.Pn;h.isLowEnd=this.JO;B4Q=11;break;case 2:b=this.H;d=this.ka;g={type:G3P,target:H3P,fields:{}};h=g.fields;B4Q=9;break;case 20:B4Q=m?19:27;break;case 27:h.histage=this.Ska;b.kF&&this.AO&&(h.histsessionstat=this.AO.Qja(),h.initbwestimate=this.AO.Oja());B4Q=25;break;case 11:h.histdiscbw=this.Ol;m=this.uO;B4Q=20;break;case 15:h.histtd=f;B4Q=27;break;case 25:B4Q=(b=d.La)?24:23;break;case 23:d.emit(g.type,g);B4Q=22;break;case 24:b=b.ol,h.maxAudioBufferAllowedBytes=b[p.G.AUDIO],h.maxVideoBufferAllowedBytes=b[p.G.VIDEO];B4Q=23;break;}}};j4Q=31;break;}}}());},function(f,c,a){(function(){var A3P,c,h,l,g,m,p,r,k,v,n,q,G,x,y,C,F,N,T,t,Z,O,B,ja,V,D,S,A;A3P=2;function b(a,b,c,d,f,l,r,u,n){var V3P,X,D11,N11,p11,S11,a11,k91;V3P=2;while(V3P!==71){D11="i";D11+="n";D11+="a";D11+="ct";D11+="ive";N11="SideCh";N11+="annel: pbci";N11+="d is";N11+=" miss";N11+="ing.";p11="man";p11+="a";p11+="gerdebug";p11+="ev";p11+="ent";S11="m";S11+="ed";S11+="i";S11+="a|asejs";a11="A";a11+="S";a11+="E";a11+="J";a11+="S";k91="me";k91+="dia";k91+="cache";switch(V3P){case 14:V3P=void 0===this.Hy||void 0===this.Hy.Hg?13:12;break;case 74:V3P=(this.Kj=0===Math.floor(1E6*Math.random())%n.az)?73:72;break;case 12:this.H=n=this.oGa(b,n);this.oW=f.D5a;this.Ii=f.ki;this.Hca=f.zM;this.dLa=f.VB;this.eLa=f.QR;this.ED=f.B1a;V3P=16;break;case 37:this.sf.on(this.La.uc,k91,function(a){var d3P,l91;d3P=2;while(d3P!==1){l91="me";l91+="di";l91+="aca";l91+="ch";l91+="e";switch(d3P){case 4:D(this,"",a);d3P=4;break;d3P=1;break;case 2:D(this,l91,a);d3P=1;break;}}}.bind(this));V3P=36;break;case 38:V3P=(n.Ssa||n.Bx)&&this.La.uc?37:36;break;case 16:this.av=void 0;this.oHa=F.time.la()+f.nnb;this.Ib=new V(h.xa.ng);V3P=26;break;case 28:this.XV=Object.create(null);this.on=this.addEventListener=g.addEventListener;this.removeEventListener=g.removeEventListener;V3P=42;break;case 76:X=this;V3P=75;break;case 75:this.Ib.addListener(function(a){var r3P,u3P;r3P=2;while(r3P!==1){switch(r3P){case 2:try{u3P=2;while(u3P!==1){switch(u3P){case 2:X.Wa.ecb.bind(X.Wa)(a);u3P=1;break;}}}catch(ub){var j91;j91="Hindsight: Error when adding updatePlaySe";j91+="gment Liste";j91+="ner: ";v7AA.u91(0);X.lo(v7AA.s91(j91,ub));}r3P=1;break;}}});V3P=74;break;case 2:this.V=new F.Console(a11,S11,"("+l.sessionId+")");this.Yb=this.V.error.bind(this.V);this.ba=this.V.warn.bind(this.V);this.wc=this.V.trace.bind(this.V);this.wa=this.V.log.bind(this.V);V3P=8;break;case 32:this.Er=c;this.tK=this.xD=void 0;this.hea=0;this.jL=-1;V3P=28;break;case 42:this.emit=this.Ha=g.Ha;this.sf=new m();V3P=40;break;case 26:this.ai=void 0;this.VW=l.aa;this.xl=1*b.movieId;V3P=23;break;case 39:this.sf.on(this.La.uc,p11,function(a){var K3P;K3P=2;while(K3P!==1){switch(K3P){case 4:D(this,a.type,a);K3P=9;break;K3P=1;break;case 2:D(this,a.type,a);K3P=1;break;}}}.bind(this));V3P=38;break;case 23:this.wd=b.duration;this.Li=d||0;this.Mr=b;this.Bc=0;this.fV=r;this.ev=!1;V3P=32;break;case 8:this.La=a;this.wj=l;this.Hy=u;V3P=14;break;case 40:V3P=n.Zd&&this.La.uc?39:38;break;case 46:a=null;n.lF&&(a=this.La.Lq.Vr);V3P=65;break;case 77:V3P=this.Lk?76:74;break;case 72:B.call(this);V3P=71;break;case 51:this.uia=this.Lk&&0===a%n.y0;this.Kj=0===a%n.az;this.Ge=[Object.create(null),Object.create(null)];this.Se=[];l=this.Qca(b,this.Ii).ee.Sf[0].ma;V3P=46;break;case 36:n.Qn&&(l&&l.Goa?(l.TNa=n.PJ.lv,l.a2a=n.PJ.mx,this.An=new x(l.Goa,l,this)):this.lo(N11));a=Math.floor(1E6*Math.random());this.Lk=0===a%n.z0;l&&l.Qf&&(this.Lk=!1);V3P=51;break;case 13:this.Hy={path:l.cc,Hg:l.Hg,R_:l.R_};V3P=12;break;case 65:this.ec=new k(this,l,this.La.Hb,n,this.N1a(),a);n.kN&&(this.ML=new p(n.D9.c,n.D9.maxc));this.Zda=this.ec.k4a.bind(this.ec);this.ej.addEventListener(D11,this.Zda);V3P=61;break;case 61:c=this.wL(b,0,c,f.ki);c=this.qV(this.xl,b,0,f.fa,c);c.ki=f.ki;c.tob=!0;this.Ca=[c];this.ja=new v(this,this.ec,b.choiceMap,this.Li,n);this.Wa=new q(this,{bufferSize:this.La.ol},n);V3P=77;break;case 73:this.Oea=new G(this,n);V3P=72;break;}}}while(A3P!==217){switch(A3P){case 76:b.prototype.stop=function(){var a6P,a,K11;a6P=2;while(a6P!==6){K11="s";K11+="t";K11+="o";K11+="p";switch(a6P){case 4:this.Gca();a!==h.xa.jy&&a!==h.xa.iy&&this.ja.yi.mR(!1);this.ja.Yd.forEach(function(a){var v6P;v6P=2;while(v6P!==1){switch(v6P){case 4:a.fg=+2;v6P=8;break;v6P=1;break;case 2:a.fg=!1;v6P=1;break;}}});[h.G.VIDEO,h.G.AUDIO].forEach(function(a){var b6P;b6P=2;while(b6P!==1){switch(b6P){case 2:(a=this.Se[a])&&a.pause();b6P=1;break;}}}.bind(this));this.emit(K11);a6P=6;break;case 5:this.Ib.set(h.xa.jy);a6P=4;break;case 2:a=this.Ib.value;a6P=5;break;}}};b.prototype.P4=function(a,b){var c6P,d,g,f,m,l,t11,m11,C11,V11,A11,R11,I11,b11,c11,q11,M11,n11,h11,T11;c6P=2;while(c6P!==39){t11="s";t11+="e";t11+="e";t11+="k";m11="se";m11+="ekFa";m11+="iled";C11="after seeking, play";C11+="erS";C11+="tate no longer STARTING: ";V11="se";V11+="ekDe";V11+="l";V11+="aye";V11+="d";A11=" playerS";A11+="tate:";A11+=" ";R11=" me";R11+="dia.";R11+="currentPts:";R11+=" ";I11=" ";I11+="current m";I11+="anifest";I11+=": ";b11=" mani";b11+="fes";b11+="tIndex: ";c11="se";c11+="ek";c11+=": ";q11="seek";q11+="F";q11+="ai";q11+="led";M11="seek,";M11+=" no ";M11+="manifest at manifestIndex:";n11="see";n11+="kD";n11+="e";n11+="l";n11+="ayed";h11="s";h11+="ee";h11+="k";T11="ptsch";T11+="an";T11+="ge";T11+="d";switch(c6P){case 27:f=this.sD(this.ja.Yd,g.Vb,g.fa||Infinity);f=Math.min(f[h.G.AUDIO].X,f[h.G.VIDEO].X);c6P=25;break;case 23:c6P=!this.Sy(this.Bc+1)?22:33;break;case 13:c6P=b!=this.Bc?12:27;break;case 41:return this.emit(T11,m),this.emit(h11),this.GL(1),this.vg(),m;break;case 15:return;break;case 20:c6P=!this.Dca(b)?19:16;break;case 19:this.yj={Da:b,Gv:a};this.emit(n11);c6P=17;break;case 17:return;break;case 40:this.ba(M11,b),this.emit(q11);c6P=39;break;case 34:a=f,m=a+this.ja.Ub;c6P=33;break;case 7:c6P=(g=this.Ca[b])?6:40;break;case 4:m=a;g.Zd&&this.ug(c11+a+b11+b+I11+this.Bc+R11+f+A11+this.Ib.value);c.S(b)&&(b=this.Bc);this.ja.oqa();c6P=7;break;case 6:!g.vG&&0<b&&(m=this.MPa(b,a));this.Ib.set(h.xa.iy);c6P=13;break;case 22:this.yj={Da:this.Bc+1,Gv:a};this.emit(V11);return;break;case 42:this.ba(C11+this.Ib.value),this.emit(m11);c6P=39;break;case 28:this.PW(g,b);this.ja.Yd.forEach(function(b){var Y6P;Y6P=2;while(Y6P!==1){switch(Y6P){case 2:this.PJa(b,l[b.O],a);Y6P=1;break;}}}.bind(this));c6P=43;break;case 43:c6P=this.Ib.value!=h.xa.ng?42:41;break;case 2:g=this.H;f=this.Hg();c6P=4;break;case 24:c6P=this.Ii?23:34;break;case 33:this.Ib.set(h.xa.ng);this.ja.yab(a,b);this.vW(t11);f=this.ja.xm;l=this.DK(f.Da,a,f).$A;c6P=28;break;case 16:c6P=this.EE(this.ja.a0(b),!1,!0)?15:27;break;case 25:c6P=a>f?24:33;break;case 12:b<this.Bc&&g.replace&&(g.replace=!1);d=this.Ca[this.Bc];this.ja.Yd.forEach(function(a){var O6P;O6P=2;while(O6P!==1){switch(O6P){case 2:this.Yea(a,d.Km&&d.Km.aj);O6P=1;break;}}}.bind(this));c6P=20;break;}}};b.prototype.seek=function(a,b){var E6P,d;E6P=2;while(E6P!==8){switch(E6P){case 3:this.Ca[b].vG||this.ED||(d=this.pz(b,a));return this.P4(d,b);break;case 2:d=a;c.S(b)&&(b=this.Bc);this.ja.oqa();E6P=3;break;}}};b.prototype.Xbb=function(a){var I6P,b,c,i6P,e11,H11,w11,v11,Y11;I6P=2;while(I6P!==13){e11="un";e11+="der";e11+="flow";H11="branch";H11+="Of";H11+="fs";H11+="et:";w11="entry.mani";w11+="fe";w11+="s";w11+="tOffset:";v11="conte";v11+="n";v11+="tP";v11+="ts:";Y11="und";Y11+="erflow: goi";Y11+="ng to BUFFERING at player pts:";switch(I6P){case 6:I6P=this.Lk?14:13;break;case 5:c=this.pz(this.WP,a);this.ba(Y11,a,v11,c,w11,this.vz.Rl,H11,this.ja.Ub);this.ja.Yd.forEach(function(c){var j6P,d,g,L11,U11,J11,E11,z11,d11,g11,r11,G11,B11,o11,Q11,Z11,X11;j6P=2;while(j6P!==7){L11=", ne";L11+="xtA";L11+="ppendPts: ";U11=", toAppen";U11+="d";U11+=": ";J11=", s";J11+="e";J11+="ntData";J11+=": ";E11=",";E11+=" complet";E11+="eStreamingPts: ";z11=", stre";z11+="ami";z11+="ngPts: ";d11=", partia";d11+="ls";d11+=": ";g11=",";g11+=" t";g11+="otalBu";g11+="fferBytes";g11+=": ";r11=", t";r11+="otalB";r11+="ufferMs";r11+=": ";G11=",";G11+=" appendedBu";G11+="fferBytes: ";B11=", appe";B11+="ndedBuffer";B11+="Ms: ";o11=", b";o11+="uffe";o11+="rLevelByt";o11+="es: ";Q11=", ";Q11+="medi";Q11+="aType: ";Z11="u";Z11+="n";Z11+="derflow: ";X11="r";X11+="e";X11+="buff";X11+="e";X11+="r";switch(j6P){case 3:c.Nn=!1;c.Opa(a);b.Qn&&this.An&&(c=this.An,d=this.Wa.rb[d],c.X4(X11,d.r1));j6P=7;break;case 2:d=c.O;b.Zd&&(g=this.Se[d],g=Z11+a+Q11+d+o11+c.Gh+B11+c.pv+G11+c.gM+r11+c.PB+g11+c.Yt+d11+c.Ia.yt+z11+c.Ka+E11+c.nz+J11+JSON.stringify(c.Ia.fb.Ta)+U11+JSON.stringify(g.Dh)+L11+g.IIa);b.Zd&&this.ug(g);j6P=3;break;}}}.bind(this));this.emit(e11);I6P=8;break;case 2:b=this.H;I6P=5;break;case 8:this.GL(2);I6P=7;break;case 7:this.vg();I6P=6;break;case 14:try{i6P=2;while(i6P!==1){switch(i6P){case 2:this.XZ(h.xa.Yq);i6P=1;break;case 4:this.XZ(h.xa.Yq);i6P=9;break;i6P=1;break;}}}catch(ba){var i11;i11="Hinds";i11+="i";i11+="ght: Error whe";i11+="n evaluating QoE at Bu";i11+="ffering: ";v7AA.W91(0);this.lo(v7AA.s91(i11,ba));}I6P=13;break;}}};b.prototype.Wm=function(a){var B6P,b,P11;B6P=2;while(B6P!==7){P11="s";P11+="k";P11+="i";P11+="p";switch(B6P){case 2:b=this.H;this.ja.yi.Wm(a);B6P=4;break;case 4:[h.G.AUDIO,h.G.VIDEO].forEach(function(c){var M6P,d,x11;M6P=2;while(M6P!==9){x11="skip:";x11+=" not resuming bufferManager, audio track swi";x11+="tch in progress";switch(M6P){case 2:d=this.Wa.rb[c];this.Lk&&(d.u5=F.time.la());b.qH?this.Se[c].reset():d.Hx?d.ba(x11):this.Se[c].resume();this.ja.yi.kb[c].Wm(a);M6P=9;break;}}}.bind(this));this.Ib.set(h.xa.nf);this.$D();this.emit(P11);B6P=7;break;}}};b.prototype.EE=function(a,b,c){var S6P,d,F11,y11;S6P=2;while(S6P!==8){F11="s";F11+="e";F11+="e";F11+="k";y11="p";y11+="tsc";y11+="hanged";switch(S6P){case 5:S6P=b?4:3;break;case 3:d?(this.Ib.set(h.xa.iy),(a=this.ja.yi.children[a])&&this.emit(y11,a.qc),this.Ib.set(h.xa.ng),this.emit(F11),this.GL(1),this.vg(),this.Ku()):c||(a=this.ja.AYa(a),this.P4(a));return d;break;case 2:d=this.ja.EE(a,b);S6P=5;break;case 4:return d;break;}}};b.prototype.Nda=function(a){var N6P,b;N6P=2;while(N6P!==6){switch(N6P){case 2:this.Bc=a;b=this.Ca[a];N6P=4;break;case 4:this.Er=b.QB;this.xl=b.M;this.Mr=b.Sa;this.aJa(a,b.replace,b.$A);N6P=7;break;case 7:this.Wa.nZa(b.replace);N6P=6;break;}}};b.prototype.dM=function(a,b){var L6P,d,g,f,m,l,p,r,k,u,v,a71,j11,l11,k11,u11,W11,s11,f11,O11,L79;L6P=2;while(L6P!==43){a71=",";a71+=" ";j11=") ";j11+="lastStre";j11+="amAppend";j11+="ed: (";l11=",";l11+=" ";k11=" stre";k11+="amCo";k11+="unt:";k11+=" (";u11=" pl";u11+="a";u11+="yer";u11+="Sta";u11+="te: ";W11="ad";W11+="dManifest, c";W11+="urren";W11+="tPts";W11+=": ";s11="addMa";s11+="nifest in fastplay bu";s11+="t not drm manifest, leaving space";s11+=" for it";f11="addManifest ignored, pip";f11+="elines";f11+=" already set EO";f11+="S:";O11="addManif";O11+="est:";O11+=" pipe";O11+="lines already ";O11+="shutdown";switch(L6P){case 4:this.ba(O11);L6P=43;break;case 2:d=this.H;L6P=5;break;case 3:g=this.ja.Yd;f=g[h.G.AUDIO];g=g[h.G.VIDEO];L6P=7;break;case 6:this.ba(f11,f.fu,g.fu);L6P=43;break;case 30:return!0;break;case 14:b||(b={});b.D5a&&(this.oW=!0);g=this.Ca.length;b.replace&&1!==g?g=1:this.Ii&&!b.replace&&1===g&&(this.ba(s11),g=this.PGa(this.Ca[0]),g.$Ua=!0,this.Ca.push(g),g=this.Ca.length);v7AA.u91(1);L79=v7AA.f91(11.00000000000001,21,2,11);m=L79*a.movieId;L6P=20;break;case 5:L6P=this.Kd()?4:3;break;case 31:L6P=c.S(b)||c.S(a)?30:29;break;case 35:b.replace||this.ja.XLa(g,l,p);b=this.Wa.rb[h.G.AUDIO].Im;a=this.Wa.rb[h.G.VIDEO].Im;d.Zd&&this.ug(W11+this.Hg()+u11+this.Ib.value+k11+r[0].Nc.length+l11+r[1].Nc.length+j11+b+a71+a+")");L6P=31;break;case 29:this.tW(m,g,r);this.Sy(this.Bc+1);return!0;break;case 20:l=b.X||0;p=b.fa;b.replace&&(r=this.Ca[0].pe);k=this.Ge[h.G.AUDIO];L6P=16;break;case 7:L6P=f.fu||g.fu?6:14;break;case 16:for(v in k){u=k[v];u.$m&&(u.H7a()?this.Eda(f,u):this.MA(u));}f=b.QB?b.QB:this.Er;r=this.wL(a,g,f,!1,r);a=this.qV(m,a,l,p,r,!!b.replace);a.vG=a.replace;a.QB=f;a.zM=b.zM;L6P=22;break;case 22:this.Ca[g]=a;this.Aca(g);L6P=35;break;}}};b.prototype.GZ=function(a){var g6P,b,d,g,f,D71,N71,p71,S71;g6P=2;while(g6P!==13){D71=" readyS";D71+="tate";D71+=":";D71+=" ";N71=" ";N71+="f";N71+="or movieId: ";p71=",";p71+=" ";S71="d";S71+="rmR";S71+="eady at streaming pts: ";switch(g6P){case 4:c.S(b)&&(b=!0);g=this.ja.Yd;f=g[h.G.AUDIO];g6P=8;break;case 5:g6P=!this.Kd()?4:13;break;case 2:d=this.H;g6P=5;break;case 8:g=g[h.G.VIDEO];d.Zd&&this.ug(S71+f.Ka+p71+g.Ka+N71+a+D71+b);g6P=6;break;case 14:this.Se.forEach(function(a){var P6P;P6P=2;while(P6P!==5){switch(P6P){case 2:d.s_&&a.PVa();d.YR&&a.resume();P6P=5;break;}}}),this.Ii&&this.Sy(this.yj?this.yj.Da:this.Bc+1),this.BV();g6P=13;break;case 6:g6P=(this.XV[1*a]=b)?14:13;break;}}};b.prototype.qO=function(a){var z6P;z6P=2;while(z6P!==5){switch(z6P){case 2:a||(a=this.xl);return this.XV[a];break;}}};b.prototype.Dca=function(a){var D6P,b,c,d;D6P=2;while(D6P!==6){switch(D6P){case 2:b=this.ja.Yd;c=b[h.G.AUDIO];b=b[h.G.VIDEO];D6P=3;break;case 3:D6P=a>=this.Ca.length?9:8;break;case 9:return!1;break;case 8:d=this.Ca[a];return(a===this.Bc+1&&d.replace||c.fg&&b.fg)&&(this.XV[d.M]||d.zM)&&d.Vb[0]&&d.Vb[1]?!0:!1;break;}}};b.prototype.Sy=function(a){var m6P,b;m6P=2;while(m6P!==14){switch(m6P){case 4:b=this.Ca[a];m6P=3;break;case 2:m6P=1;break;case 8:this.MKa(a);this.vg();m6P=6;break;case 1:m6P=!this.Dca(a)?5:4;break;case 6:return!0;break;case 5:return!1;break;case 3:m6P=b.$Ua||!b.replace?9:8;break;case 9:return!1;break;}}};b.prototype.MKa=function(a){var t6P,b,c,d,h71,T71,K71;t6P=2;while(t6P!==17){h71=",";h71+=" ";T71=",";T71+=" st";T71+="reamingPts: ";K71="switchManife";K71+="st";K71+=" mani";K71+="festIndex: ";switch(t6P){case 2:b=this.ja.Yd;c=b[h.G.AUDIO];b=b[h.G.VIDEO];d=this.Ca[a];this.H.Zd&&this.ug(K71+a+T71+c.Ka+h71+b.Ka);c=this.Ii;t6P=7;break;case 7:this.Ii=!1;d.$fa&&(b=this.wL(d.Sa,a,d.QB,!1,d.pe,h.G.AUDIO),d.pe[h.G.AUDIO]=b[h.G.AUDIO],delete d.$fa);b=this.Bc;c?this.ja.I7a(b,a):this.ja.xm.B9a(a);t6P=12;break;case 12:this.ja.xm.M0(a);[h.G.VIDEO,h.G.AUDIO].forEach(function(a){var l6P,b;l6P=2;while(l6P!==4){switch(l6P){case 2:b=this.ja.Ml(a);d.replace||(d.Wp?b.a8a(d.Wp[a]):(a=d.$A[a],b.b8a(a)));l6P=4;break;}}}.bind(this));this.Nda(a);this.PW(d,a);this.BV();this.vg();t6P=17;break;}}};b.prototype.BV=function(){var C6P,a,b;C6P=2;while(C6P!==9){switch(C6P){case 1:C6P=this.yj?5:9;break;case 5:a=this.yj.Gv;b=this.yj.Da;this.Ca[b]&&(this.yj=void 0,this.P4(a,b));C6P=9;break;case 2:C6P=1;break;}}};b.prototype.a4a=function(){var s6P,a,b,c;s6P=2;while(s6P!==6){switch(s6P){case 5:b=this.Wa.rb[a.O];c=this.Hg();s6P=3;break;case 2:a=this.ja.Ml(h.G.AUDIO);s6P=5;break;case 3:(c=a.Ia.Ps(c))&&c.yf!=a&&(a=c.yf);this.QJa(a);b.Hx=!1;s6P=7;break;case 7:this.vg();s6P=6;break;}}};b.prototype.$3a=function(){var R6P,a;R6P=2;while(R6P!==8){switch(R6P){case 5:a.Hx=!1;this.Se[a.O].resume();delete a.MG;this.vg();R6P=8;break;case 2:a=this.Wa.rb[h.G.AUDIO];R6P=5;break;}}};b.prototype.gNa=function(){var T6P,a;T6P=2;while(T6P!==3){switch(T6P){case 2:this.LIa(this.Iu);T6P=1;break;case 7:a=this.Bc;T6P=8;break;T6P=5;break;case 5:T6P=a<this.Ca.length?4:3;break;case 1:a=this.Bc;T6P=5;break;case 6:T6P=a>=this.Ca.length?5:2;break;T6P=a<this.Ca.length?4:3;break;case 4:this.Ca[a++].$fa=!0;T6P=5;break;case 8:this.LIa(this.Iu);T6P=6;break;T6P=1;break;}}};b.prototype.Aab=function(a){var y6P,b,c,d,g,f,R71,I71,b71,c71,q71,M71,n71;y6P=2;while(y6P!==24){R71="switchT";R71+="racks rejected, previous swi";R71+="tch still waiting to s";R71+="tart";I71="switchTracks rejected, previous switch st";I71+="ill i";I71+="n progre";I71+="ss: ";b71="swi";b71+="tchTra";b71+="cks r";b71+="ejected, buffer";b71+="ing";c71="switchTracks";c71+=" ";c71+="reject";c71+="ed, bufferLevelMs";q71="switchTracks can'";q71+="t fin";q71+="d trackId:";M71=" to ";M71+="ind";M71+="ex: ";n71="switchTrac";n71+="k";n71+="s current";n71+=":";n71+=" ";switch(y6P){case 17:y6P=f==g?16:15;break;case 3:d=this.ja.Ml(h.G.AUDIO);y6P=9;break;case 7:g=this.ja.Bm(h.G.VIDEO);y6P=6;break;case 15:b.Zd&&this.ug(n71+g+M71+f);a.MG={Ab:c,lj:f};this.GKa(d);return!0;break;case 13:y6P=this.Iu?12:11;break;case 19:return this.ba(q71,c),!1;break;case 2:b=this.H;c=a.LX;a=this.Wa.rb[h.G.AUDIO];y6P=3;break;case 6:y6P=g<b.rP?14:13;break;case 14:return this.ba(c71,g,"<",b.rP),!1;break;case 11:y6P=a.Hx?10:20;break;case 18:g=this.Er[h.G.AUDIO];y6P=17;break;case 20:y6P=!this.Mr.audio_tracks.some(function(a,b){var X6P;X6P=2;while(X6P!==1){switch(X6P){case 2:return a.track_id==c?(f=b,!0):!1;break;}}})?19:18;break;case 8:return this.ba(b71),!1;break;case 9:y6P=this.hm(this.Ib.value)?8:7;break;case 16:return!1;break;case 12:return this.ba(I71+JSON.stringify(this.Iu)),!1;break;case 10:return this.ba(R71),!1;break;}}};b.prototype.VQ=function(a){var p6P;p6P=2;while(p6P!==5){switch(p6P){case 2:this.vca=a;this.ja.VQ(a);p6P=5;break;}}};b.prototype.lo=function(a){var q6P,V71,A71;q6P=2;while(q6P!==1){V71="aseexc";V71+="e";V71+="ption";A71="as";A71+="eex";A71+="ception";switch(q6P){case 2:this.emit(A71,{type:V71,msg:a});q6P=1;break;}}};b.prototype.z3a=function(a,b,c,d){var x6P,m71,C71;x6P=2;while(x6P!==5){m71="maxv";m71+="ideo";m71+="bitratechanged";C71="maxvideobi";C71+="tratec";C71+="hang";C71+="ed";switch(x6P){case 2:a={type:C71,time:F.time.la(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.emit(m71,a);x6P=5;break;}}};b.prototype.rca=function(a,b,d){var J9P,g,h;J9P=2;while(J9P!==3){switch(J9P){case 2:g=!0;d.some(function(d){var U9P,f;U9P=2;while(U9P!==8){switch(U9P){case 1:U9P=a===d.profile?5:8;break;case 2:U9P=1;break;case 5:f=d.ranges;g=c.S(f)?b>=d.min&&b<=d.max:f.some(function(a){var W9P;W9P=2;while(W9P!==1){switch(W9P){case 2:return b>=a.min&&b<=a.max;break;case 4:return b>a.min||b>=a.max;break;W9P=1;break;}}});!g&&d.disallowed&&d.disallowed.some(function(a){var e9P;e9P=2;while(e9P!==5){switch(e9P){case 2:e9P=a.stream.bitrate===b?1:5;break;case 1:return h=a.disallowedBy,!0;break;}}});return!0;break;}}});J9P=4;break;case 4:return{inRange:g,Cz:h};break;case 14:return{inRange:g,Cz:h};break;J9P=3;break;}}};A3P=79;break;case 113:b.prototype.AW=function(){var B9P,a;B9P=2;while(B9P!==6){switch(B9P){case 7:this.vg();B9P=6;break;case 2:a=this.H;this.ja.Yd.forEach(function(a){var M9P;M9P=2;while(M9P!==1){switch(M9P){case 2:delete a.seeking;M9P=1;break;case 4:!a.seeking;M9P=7;break;M9P=1;break;}}});this.hm(this.Ib.value)&&(a.Zd&&this.ja.Yd.forEach(function(a){var S9P,b,r71,G71,B71,o71,Q71,Z71,X71,H71,w71,v71,Y71,t71;S9P=2;while(S9P!==3){r71=", ne";r71+="xtAppe";r71+="ndPts:";r71+=" ";G71=",";G71+=" toAppend:";G71+=" ";B71=",";B71+=" sent";B71+="Da";B71+="ta";B71+=": ";o71=", comp";o71+="leteStreami";o71+="ngPts: ";Q71=", str";Q71+="eamin";Q71+="gPt";Q71+="s:";Q71+=" ";Z71=", ";Z71+="partials:";Z71+=" ";X71=", ";X71+="tota";X71+="lBuffer";X71+="Bytes: ";H71=", totalBu";H71+="ff";H71+="erMs: ";w71=", a";w71+="pp";w71+="endedBufferByte";w71+="s:";w71+=" ";v71=", appe";v71+="n";v71+="de";v71+="dBufferMs: ";Y71=", buffe";Y71+="rLe";Y71+="velByt";Y71+="e";Y71+="s: ";t71="bufferingComplete";t71+=": , ";t71+="mediaType: ";switch(S9P){case 2:b=this.Se[a.O];a=t71+a.O+Y71+a.Gh+v71+a.pv+w71+a.gM+H71+a.PB+X71+a.Yt+Z71+a.Ia.yt+Q71+a.Ka+o71+a.nz+B71+JSON.stringify(a.Ia.fb.Ta)+G71+JSON.stringify(b.Dh)+r71+b.IIa;S9P=4;break;case 4:this.ug(a);S9P=3;break;}}}.bind(this)),this.OIa());this.$D();this.qy&&(clearTimeout(this.qy),delete this.qy);this.Ib.set(h.xa.nf);B9P=7;break;}}};b.prototype.Yea=function(a,b){var N9P,L9P;N9P=2;while(N9P!==7){switch(N9P){case 2:a.fg=!0;a.fa=c.da(b)?b:a.Ka;a.fu=!1;this.oV(a);this.Ku();N9P=9;break;case 8:try{L9P=2;while(L9P!==1){switch(L9P){case 2:this.XZ(h.xa.jy,{fa:a.fa});L9P=1;break;}}}catch(ha){var g71;g71="Hindsi";g71+="ght:";g71+=" Error evaluating QoE at e";g71+="ndOf";g71+="Stream: ";v7AA.u91(0);this.lo(v7AA.s91(g71,ha));}N9P=7;break;case 9:N9P=this.Lk&&a.O===h.G.VIDEO?8:7;break;}}};b.prototype.bKa=function(){var g9P,a;g9P=2;while(g9P!==4){switch(g9P){case 2:a=this.La.Hb;a&&(a=a.get())&&a.avtp&&this.Lq.GLa({avtp:a.avtp.ta});g9P=4;break;}}};b.prototype.HKa=function(a){var P9P,b,c,E71,z71,d71;P9P=2;while(P9P!==9){E71="fai";E71+="led to s";E71+="tart video p";E71+="ipel";E71+="ine";z71="fa";z71+="i";z71+="led to start audio pipeline";d71="startup, playerState no ";d71+="longer START";d71+="ING:";switch(P9P){case 4:c=b[h.G.AUDIO];this.afa(a,b[h.G.VIDEO])?this.afa(a,c)?(this.uea=!0,this.Ca[0].Lka=!0,b=this.Wa.rb[h.G.VIDEO],c=this.Wa.rb[h.G.AUDIO],(0<b.Qm||0<c.Qm)&&this.UIa(a,c.Qm,b.Qm,c.fH,b.fH),this.Ib.value!=h.xa.ng?this.ba(d71,this.Ib.value):(this.GL(0),this.YIa())):this.ba(z71):this.ba(E71);P9P=9;break;case 2:this.Ib.set(h.xa.ng);b=this.ja.Yd;P9P=4;break;}}};b.prototype.afa=function(a,b){var z9P,d,g,f,U71,J71;z9P=2;while(z9P!==12){U71="NFErr_";U71+="MC_";U71+="St";U71+="reamingIn";U71+="itFailure";J71="star";J71+="tPipeline ";J71+="fa";J71+="il";J71+="ed";switch(z9P){case 9:g=b.Nc[g];z9P=8;break;case 6:f=this.RK(d,g.$k,g.ki);z9P=14;break;case 3:return this.Kd()||this.Aj(J71,U71),!1;break;case 2:d=b.O;g=this.Wa.gO(b).rh;z9P=4;break;case 7:return!0;break;case 4:z9P=c.S(g)?3:9;break;case 8:z9P=this.Ge[d][g.id]?7:6;break;case 14:this.FD(b,a,g,{offset:0,ga:f,Qv:!this.Ii&&!this.Hca&&d===h.G.VIDEO,Qs:!this.Wa.rb[d].HVa});return!0;break;}}};b.prototype.GL=function(a){var D9P,b,c,d;D9P=2;while(D9P!==11){switch(D9P){case 2:c=this.H;b=this.Wa.rb[h.G.AUDIO];d=this.Wa.rb[h.G.VIDEO];D9P=3;break;case 3:b.uE=void 0;d.uE=void 0;this.Ib.set(2===a?h.xa.qr:h.xa.Yq);this.PIa();D9P=6;break;case 6:this.ja.Yd.forEach(function(b){var m9P;m9P=2;while(m9P!==5){switch(m9P){case 2:b.bY=0;b.seeking=0===a||1===a;m9P=5;break;}}});this.kV=F.time.la();b.Bk=d.Bk=this.kV;D9P=12;break;case 12:0===a&&0<d.Qm&&0<b.Qm&&(b=this.Ku())&&c.SM?(this.av&&(clearTimeout(this.av),delete this.av),this.mW=!0):(c.lF&&(this.xV=setTimeout(function(){var t9P;t9P=2;while(t9P!==1){switch(t9P){case 2:this.bKa();t9P=1;break;case 4:this.bKa();t9P=5;break;t9P=1;break;}}}.bind(this),c.KZ)),this.hm(this.Ib.value)&&(this.qy=setTimeout(function(){var l9P;l9P=2;while(l9P!==1){switch(l9P){case 4:this.Ku();l9P=7;break;l9P=1;break;case 2:this.Ku();l9P=1;break;}}}.bind(this),c.VA)),this.vg());D9P=11;break;}}};b.prototype.hm=function(a){var C9P;C9P=2;while(C9P!==1){switch(C9P){case 2:return a===h.xa.Yq||a===h.xa.qr;break;}}};b.prototype.UW=function(){var s9P,L71;s9P=2;while(s9P!==4){L71="wipe";L71+="Head";L71+="e";L71+="r";L71+="Cache";switch(s9P){case 2:this.H.Zd&&this.ug(L71);this.La.sga();this.pg&&delete this.pg;s9P=4;break;}}};b.prototype.Cca=function(a){var R9P,b,d,g,F71,e71;R9P=2;while(R9P!==6){F71="chec";F71+="kFo";F71+="rHcdStart";e71="c";e71+="a";e71+="t";e71+="c";e71+="h";switch(R9P){case 7:return this.La.uc.y1a(a).then(g)[e71](function(a){var X9P;X9P=2;while(X9P!==1){switch(X9P){case 2:this.ba(a);X9P=1;break;case 4:this.ba(a);X9P=8;break;X9P=1;break;}}}.bind(this));break;case 5:R9P=!this.eLa||!this.La.uc?4:3;break;case 2:b=this.H;R9P=5;break;case 4:return this.La.hOa(),t.resolve();break;case 3:d=function(a,b){var T9P,d,g,f,m,l,p,i71;T9P=2;while(T9P!==13){i71="adopt";i71+="Pipeline no hea";i71+="d";i71+="er for st";i71+="reamId:";switch(T9P){case 9:T9P=p&&(g=p.ib,d=p.pi.stream,c.S(b.Ol)||this.ec.jra(b.Ol,b.Qk,b.Qj),m.Em=b.Em,m.Nk=b.Nk,m.n_a=b.Ol,a.Fcb(g))?8:13;break;case 4:l=!this.Ii&&!this.Hca&&f===h.G.VIDEO;p=b[f];T9P=9;break;case 8:T9P=!p.pi?7:6;break;case 2:f=a.O;m=this.Wa.rb[f];T9P=4;break;case 7:a.Yb(i71,g);T9P=13;break;case 14:return b=this.Ge[f][g].T,b=b.Ll(a.Ka,void 0,!0),l=d.Vi(b),d=l.X,a.m5()&&(l=l.l_(a.Ka))&&0<l.Qb&&(d=l.Qb),a.Ka!==d&&(a.Ka=d,a.ih=b,this.zW(f,d)),this.lGa(a,p.data),m.HVa=!0,f===h.G.AUDIO&&this.ec.sB(p.pi.J),g;break;case 6:T9P=this.mca(a,this.Bc,p.pi,l,!0)?14:13;break;}}}.bind(this);g=function(a){var y9P,g,f,y71,P71,x71;y9P=2;while(y9P!==13){y71="ad";y71+="optHc";y71+="d";y71+="E";y71+="nd";P71="adop";P71+="tHcd";P71+="St";P71+="a";P71+="rt";x71="che";x71+="c";x71+="kForHcdE";x71+="nd";switch(y9P){case 1:this.kp(x71);y9P=5;break;case 5:y9P=c.S(a)?4:3;break;case 2:y9P=1;break;case 4:b.eE||this.UW();y9P=13;break;case 3:g=this.ja.Yd;f=g[h.G.AUDIO];g=g[h.G.VIDEO];this.kp(P71);b.zZa?c.S(d(g,a))||d(f,a):(d(g,a),d(f,a));this.kp(y71);y9P=13;break;}}}.bind(this);this.kp(F71);R9P=7;break;}}};b.prototype.MGa=function(a,b,c,d,g){var p9P;p9P=2;while(p9P!==1){switch(p9P){case 2:return this.dLa&&this.La.uc&&(c=this.La.uc.M1(c,d))&&this.mca(a,b,c,!1,g)?!0:!1;break;}}};b.prototype.mca=function(a,b,c,d,g){var q9P,h,f,O71;q9P=2;while(q9P!==11){O71="h";O71+="ead";O71+="erc";O71+="ache";switch(q9P){case 4:q9P=d!=!(!c.Ti&&!c.Umb)?3:9;break;case 3:return!1;break;case 2:h=this.Ca[b].pe[a.O].Xm;f=c.ib;q9P=4;break;case 9:this.Ge[a.O][f]=c;c.lMa(h[f]);this.lca(a,c);c.Ti&&(c.Ti.source=O71,this.LV(a,b,c.Ti));g&&this.VIa(c.M,c.ib);q9P=13;break;case 13:a.zt&&a.yo(a.OP);return!0;break;}}};b.prototype.lGa=function(a,b){var x9P,m,l,p,d,g,f,r,s71,f71;x9P=2;while(x9P!==19){s71="adoptData, not ";s71+="adopting";s71+=" fa";s71+="iled mediaR";s71+="equest:";f71="adoptD";f71+="at";f71+="a,";f71+=" not adopting aborted ";f71+="mediaRequest:";switch(x9P){case 6:x9P=0<b.length?14:12;break;case 5:d=this.Ca[0];g=a.jc;f=g.na;g=Math.min(d.fa||Infinity,g.fa||Infinity);this.dV=!0;x9P=7;break;case 7:m=a.O,l=this.Wa.rb[m];x9P=6;break;case 1:x9P=0!==b.length?5:19;break;case 14:r=b.shift();x9P=13;break;case 2:x9P=1;break;case 13:r.readyState===T.Va.$l?a.ba(f71,r.toString()):r.readyState===T.Va.bm?(a.ba(s71,r.toString()),this.zr(a,r,!1)):a.Ka>=r.hb&&a.Ka<r.Lg&&(a.Ka<g||!c.da(g))?(this.mGa(a,r),a.Ka=r.Lg,c.da(g)&&a.Ka>=g&&this.dW(f,r.Lg),m===h.G.AUDIO&&this.ec.sB(r.J),r.complete?(l.Qm+=r.Lg-r.hb,r.Y0a&&(l.fH+=r.Lg-r.hb),p=r):(this.pg||(this.pg=[]),this.pg.push(r))):this.zr(a,r,!1);x9P=6;break;case 12:p&&this.Gda(p);this.dV=!1;a.ih=this.XK(m,a.jc.Da,a.Ka);a.wf=d.Vb[m].stream.Vi(a.ih);x9P=19;break;}}};b.prototype.mGa=function(a,b){var J4P,c,k71,u71,W71;J4P=2;while(J4P!==9){k71=", p";k71+="t";k71+="s: ";u71=", ";u71+="s";u71+="tate";u71+=": ";W71="adopt";W71+="Media";W71+="Request: ";W71+="type: ";switch(J4P){case 2:c=a.O;this.H.Zd&&this.ug(W71+c+u71+b.readyState+k71+b.hb);this.zW(c,b.hb);J4P=3;break;case 3:a.Ia.mMa(this,b);J4P=9;break;}}};b.prototype.FD=function(a,b,c,d){var U4P,g,h,f,j71,l71;U4P=2;while(U4P!==20){j71="NFErr_M";j71+="C_Stream";j71+="ing";j71+="Fa";j71+="ilure";l71="MediaRequ";l71+="est o";l71+="pen ";l71+="failed (2)";switch(U4P){case 2:g=c.id;U4P=5;break;case 5:U4P=this.MGa(a,c.Da,b,g,d.Qs)?4:3;break;case 3:b=a.O;h=!!d.Qv;f=this.Wa.rb[b];U4P=7;break;case 7:h=d.Qs&&!h?f.Si:this.xD;c.Wb&&!f.kw&&(this.gea(a,c.Wb,c.QQ,c.location,c.J),f.kw=c.Wb);c.url&&(f.r1=c.url);d.pi=!0;a=a.Ia.KM(this,this.ja.xm,d,h,c);this.Ge[b][g]=a;U4P=10;break;case 4:this.vg();U4P=20;break;case 10:a.open()?this.vg():this.Aj(l71,j71);U4P=20;break;}}};b.prototype.tW=function(a,b,c){var W4P,d,g;W4P=2;while(W4P!==8){switch(W4P){case 2:d=this.Ca[b];g=d.fo;this.ja.Yd.forEach(function(b){var e4P,f,m,l,S01,a01;e4P=2;while(e4P!==7){S01="requestHeadersFromManifest";S01+=", unable to update";S01+=" urls";a01="requestHeadersFromMa";a01+="nifest, shut";a01+="d";a01+="own detected";switch(e4P){case 2:f=b.O;m=c[f];e4P=4;break;case 4:e4P=this.Kd()?3:9;break;case 3:this.ba(a01);e4P=7;break;case 9:l=this.Wa.BA(b);(l=g.NR(l,m.Nc))?(m.Nc=l,l=this.Wa.rb[f],l=this.qda(m.Nc,l.Im?l.Im.J:0),m=m.Nc[l],(l=this.Ge[f][m.id])&&l.T?this.bLa(b,d,l):(f={offset:0,ga:this.RK(f,m.$k,m.ki),yB:!1,Qv:f===h.G.VIDEO,Qs:!0},this.FD(b,a,m,f))):b.ba(S01);e4P=7;break;}}}.bind(this));d.Lka=!0;this.oD(d,b);W4P=8;break;}}};b.prototype.PHa=function(a){var Z4P;Z4P=2;while(Z4P!==1){switch(Z4P){case 2:delete this.Ge[a.O][a.ib];Z4P=1;break;}}};b.prototype.XK=function(a,b,c){var F4P,d;F4P=2;while(F4P!==6){switch(F4P){case 2:b=this.Ca[b];d=b.Vb[a];F4P=4;break;case 4:F4P=d?3:8;break;case 9:return c;break;case 3:F4P=(c=d.T.Ll(c),-1!==c)?9:6;break;case 7:v7AA.u91(2);return Math.round(v7AA.f91(a,c));break;case 8:F4P=(a=b.Bp[a])?7:6;break;}}};b.prototype.lca=function(a,b){var o4P,c,d,g,f,m,l,p,r,D01,N01,p01;o4P=2;while(o4P!==22){D01="c";D01+="o";D01+="un";D01+="t";D01+=":";N01="addFragment";N01+="s fo";N01+="r stale ma";N01+="nifestIndex";N01+=":";p01="firstHe";p01+="ader, but initialHeader al";p01+="re";p01+="ady s";p01+="et to:";switch(o4P){case 9:o4P=d>=this.Ca.length?8:7;break;case 2:c=a.O;d=b.Da;g=b.ib;f=b.T;o4P=9;break;case 7:m=b.$m?60:f.length;v7AA.W91(3);l=f.get(v7AA.f91(1,m));p=l.X+l.duration;r=this.Ca[d];b.Bp=f.bz;b.Km={aj:p,j0a:l.X,lastIndex:m-1};o4P=10;break;case 10:r.Bp[c]=f.bz;r.h2[c]=f.Zma;b.VG&&(b.VG.forEach(function(a){var w4P;w4P=2;while(w4P!==5){switch(w4P){case 2:a=this.Ca[a].pe[c].Xm;a[g]&&a[g]!==b.stream&&(a[g].T=b.T,a[g].$m=b.$m,a[g].If=b.bc);w4P=5;break;}}}.bind(this)),delete b.VG);m=r.pe[c].Xm[g];l=S(f,this.H.CG,this.La.ol[a.O]);this.H.VH?m.Ok=l:m.ZQ=!l;void 0===m.tG&&(m.tG=A(f));o4P=27;break;case 27:r.Vb[c]?b.Qs?a.ba(p01,r.Vb[c]):r.Vb[c].Jsa&&(r.Vb[c].Jsa=!1,r.Vb[c]=b,delete a.wf,delete a.Rk,r.fQ=!1,this.oD(r,d),a.yo(a.Ka)):(r.Vb[c]=b,0===d&&this.DK(d,this.ja.Ml(h.G.VIDEO).Ka,this.ja.xm),this.oD(r,d));this.Sy(this.Bc+1);this.BV();o4P=24;break;case 8:this.ba(N01,d,D01,this.Ca.length);o4P=22;break;case 24:b.$m||this.dJa(d,c,g,r.M,f);this.vg();o4P=22;break;}}};b.prototype.oD=function(a,b){var G4P,c,d;G4P=2;while(G4P!==19){switch(G4P){case 2:G4P=1;break;case 1:G4P=!a.fQ&&a.Vb[0]&&a.Vb[1]?5:19;break;case 5:this.PW(a,b);d=[0,0];0===b||a.vG||a.replace||(c=this.DK(b,a.X,this.ja.xm,this.ja.xm,a.M===this.Ca[b-1].M),d=c.$A);a.X=d[h.G.VIDEO];G4P=8;break;case 13:a.fQ=!0;G4P=12;break;case 8:a.$A=d;a.Wp=c&&c.Wp;this.Aca(b);this.$Ia(b,a.Rl,a.X,a.Km.aj,a.Vb[h.G.VIDEO].Km.aj);G4P=13;break;case 11:G4P=a<this.Ca.length?10:19;break;case 10:b=this.Ca[a],b.fQ=!1,this.oD(b,a);G4P=20;break;case 20:++a;G4P=11;break;case 12:v7AA.u91(0);a=v7AA.s91(b,1);G4P=11;break;}}};b.prototype.Bda=function(a){var H4P;H4P=2;while(H4P!==1){switch(H4P){case 2:return a.Km?a.Km.aj:a.fa?a.fa:a.Sa.duration;break;}}};b.prototype.Aca=function(a){var A4P,b;A4P=2;while(A4P!==4){switch(A4P){case 2:b=this.Ca[a];0===a||b.replace?b.Rl=0:(a=this.Ca[a-1],b.Rl=a.Rl+this.Bda(a)-b.X);A4P=4;break;}}};b.prototype.PW=function(a,b){var V4P,c,d,g,f,m,l,p;V4P=2;while(V4P!==20){switch(V4P){case 2:c=this.H;V4P=5;break;case 5:V4P=a.Vb[0]&&a.Vb[1]?4:20;break;case 14:p.length&&(a.wpb=p);c=!c.Vm||c.Sp?l[h.G.VIDEO]:this.iKa(l[h.G.AUDIO],l[h.G.VIDEO]);a.Km=c;this.bJa(b,a.Vb[h.G.VIDEO].Km.aj,c.aj);b===this.ja.Fha&&((b=g.jc.na.fa)&&b<m&&(p=this.sD(d,a.Vb,b)),g.TQ(p[h.G.VIDEO]),f.TQ(p[h.G.AUDIO]));V4P=20;break;case 4:d=this.ja.Yd;g=d[h.G.VIDEO];f=d[h.G.AUDIO];m=a.fa||Infinity;p=this.sD(d,a.Vb,m);l=p.map(function(a){var K4P;K4P=2;while(K4P!==1){switch(K4P){case 2:return{aj:a.fa,j0a:a.X,lastIndex:a.index};break;}}});V4P=14;break;}}};A3P=122;break;case 54:b.prototype.fka=function(){var D3P,a;D3P=2;while(D3P!==4){switch(D3P){case 2:a=this.ja.yi;return{id:a.na.id,Ub:a.Ub,qc:a.qc,df:a.df,Ri:a.Ri,Ij:a.Ij};break;}}};b.prototype.g6=function(a,b){var m3P;m3P=2;while(m3P!==1){switch(m3P){case 4:return this.ja.g6(a,b);break;m3P=1;break;case 2:return this.ja.g6(a,b);break;}}};b.prototype.oGa=function(a,b){var t3P,b01,c01,q01,M01,n01,h01,T01,K01;t3P=2;while(t3P!==8){b01="using";b01+=" ";b01+="sab cell >= 100, pipelineEnabled: ";c01="using sab ";c01+="cell";c01+=" >= 200, pipelineEnabled: ";q01=", ";q01+="al";q01+="low";q01+="Switchback";M01=", probeDet";M01+="ail";M01+="Deno";M01+="minator: ";n01="using";n01+=" sab cell >= 300, pro";n01+="beServerWhe";n01+="nError: ";h01=", allow";h01+="Swit";h01+="chback";T01=", probeDetailDenomi";T01+="n";T01+="ator: ";K01="using sab ce";K01+="ll >= 4";K01+="00, probeServerWhenE";K01+="rror: ";switch(t3P){case 5:t3P=!a?4:3;break;case 3:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.so=!0,b.Uw=1,b.zp=!0),this.wc(K01+b.so+T01+b.Uw+h01+b.zp)):300<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.so=!0,b.Uw=1,b.zp=!1),this.wc(n01+b.so+M01+b.Uw+q01+b.zp)):200<=a?(b.set?b.set({pipelineEnabled:!1}):b.Pm=!1,this.wc(c01+b.Pm)):100<=a&&(b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.fP}),b.set({maxPendingBufferLen:b.kP})):(b.Pm=!0,b.qw=1,b.qG=b.fP,b.DA=b.kP),this.wc(b01+b.Pm)));return b;break;case 2:b=y(b,a);a=a.cdnResponseData;t3P=5;break;case 4:return b;break;}}};b.prototype.qGa=function(a,b){var l3P,d,g;l3P=2;while(l3P!==8){switch(l3P){case 2:l3P=1;break;case 1:l3P=!b.RY||a===this.aIa?5:4;break;case 5:return b;break;case 3:for(var c in b.RY)if(new RegExp(c).test(a)){d=b.RY[c];for(g in d){d.hasOwnProperty(g)&&(b[g]=d[g]);}}return b;break;case 4:this.aIa=a;l3P=3;break;}}};b.prototype.qV=function(a,b,c,d,g,h){var C3P,f,l,p,r,V01,A01,R01,I01;C3P=2;while(C3P!==9){V01="networkFail";V01+="u";V01+="reR";V01+="e";V01+="set";A01="str";A01+="eamingFail";A01+="ure";R01="l";R01+="o";R01+="gdata";I01="locati";I01+="onSel";I01+="ected";switch(C3P){case 2:f=this.H;h?(r=this.Ca[this.Ca.length-1],l=r.x1,p=r.fo,r=r.Mz,p.dM(b)):(l=new m(),p=this.Qca(b,this.Ii),l.on(p,I01,this.eea,this),l.on(p,R01,function(a){var s3P;s3P=2;while(s3P!==1){switch(s3P){case 2:D(this,a.type,a);s3P=1;break;case 4:D(this,a.type,a);s3P=4;break;s3P=1;break;}}},this),r=new C(this,p,this.H),l.on(r,A01,this.NHa,this),l.on(r,V01,this.KHa,this));f.Qn&&this.An&&r.N9a(this.An);return{M:a,Sa:b,replace:h,pe:g,Vb:[],Bp:[],h2:[],X:c,fa:d,Rl:0,x1:l,fo:p,Mz:r};break;}}};b.prototype.PGa=function(a){var R3P;R3P=2;while(R3P!==1){switch(R3P){case 2:return this.qV(a.M,a.Sa,a.X,a.fa,a.pe);break;}}};b.prototype.bLa=function(a,b,c){var T3P;T3P=2;while(T3P!==3){switch(T3P){case 2:a=a.O;b.Vb[a]=c;b.Bp[a]=c.Bp;b.h2[a]=c.T?c.T.Zma:c.Bp;T3P=3;break;}}};b.prototype.NGa=function(){var y3P,a,b;y3P=2;while(y3P!==9){switch(y3P){case 2:b=0;y3P=1;break;case 3:this.Ca.length=0;y3P=9;break;case 1:y3P=b<this.Ca.length?5:3;break;case 5:a=this.Ca[b],a.x1.clear();y3P=4;break;case 4:++b;y3P=1;break;}}};b.prototype.Qca=function(a,b){var X3P;X3P=2;while(X3P!==4){switch(X3P){case 7:return b;break;X3P=4;break;case 5:return b;break;case 2:b=new r(this,this.La.Hb,this.La.Jf,!b,this.H);b.dM(a);X3P=5;break;}}};b.prototype.open=function(){var p3P,a,b,d,g,f,m,l,p,g01,r01,G01,B01,o01,t01,m01,C01;p3P=2;while(p3P!==21){g01="NFErr_MC_";g01+="Streamin";g01+="gInitFailure";r01="ex";r01+="ce";r01+="ption";r01+=" i";r01+="n init";G01="Er";G01+="r";G01+="or";G01+=":";B01="NFErr_M";B01+="C_StreamingInitFa";B01+="i";B01+="lure";o01="start";o01+="Pts mus";o01+="t be a positive number";o01+=", not ";t01="cre";t01+="ateM";t01+="ed";t01+="iaSourceE";t01+="nd";m01="E";m01+="r";m01+="ror:";C01="c";C01+="reateMe";C01+="diaSource";C01+="Start";switch(p3P){case 12:m=this.Oca(d);d.forEach(function(a,b){var q3P;q3P=2;while(q3P!==1){switch(q3P){case 2:a.type==N.cT?this.xD=m[b]:this.Wa.rb[a.type].Si=m[b];q3P=1;break;}}}.bind(this));this.kp(C01);p3P=20;break;case 23:a.QSa?setTimeout(function(){var Z6P;Z6P=2;while(Z6P!==1){switch(Z6P){case 4:this.Cca(g).then(p);Z6P=2;break;Z6P=1;break;case 2:this.Cca(g).then(p);Z6P=1;break;}}}.bind(this),0):this.Cca(g).then(function(){var F6P;F6P=2;while(F6P!==1){switch(F6P){case 2:setTimeout(p,0);F6P=1;break;case 4:setTimeout(p,6);F6P=3;break;F6P=1;break;}}});p3P=21;break;case 20:l=new Z(this.Hy);p3P=19;break;case 15:throw this.wc(m01,l.error),l.error;p3P=27;break;case 4:a=this.H;b=[h.G.VIDEO,h.G.AUDIO];d=this.tda();p3P=8;break;case 1:p3P=!c.da(this.Li)||0>this.Li?5:4;break;case 19:p3P=l.readyState===F.MediaSource.Va.OPEN?18:22;break;case 8:g=this.xl;this.Ou=0;this.vKa();p3P=14;break;case 2:p3P=1;break;case 14:f=a.eE;this.La.uc&&this.La.uc.fE(f,this.wj.sessionId);p3P=12;break;case 18:this.kp(t01);this.Kf=l;p3P=16;break;case 16:p3P=!l.kX(b)?15:27;break;case 27:l.sourceBuffers.forEach(function(b){var x3P,c,Z01,X01,w01,v01,Y01;x3P=2;while(x3P!==14){Z01="mana";Z01+="ger";Z01+="d";Z01+="ebugevent";X01="lo";X01+="gda";X01+="t";X01+="a";w01="e";w01+="r";w01+="r";w01+="o";w01+="r";v01="request";v01+="Ap";v01+="pended";Y01="he";Y01+="ade";Y01+="rAppend";Y01+="e";Y01+="d";switch(x3P){case 1:c=b.O;b=new n(this.Wa.rb[c].V,c,g,l,b,this.Ge[c],a);b.addEventListener(Y01,this.IHa.bind(this));b.addEventListener(v01,this.LHa.bind(this));b.addEventListener(w01,function(a){var J6P,H01;J6P=2;while(J6P!==1){H01="NFErr_MC_Str";H01+="eamingF";H01+="ai";H01+="lure";switch(J6P){case 4:this.Aj(a.errorstr,"");J6P=0;break;J6P=1;break;case 2:this.Aj(a.errorstr,H01);J6P=1;break;}}}.bind(this));b.addEventListener(X01,function(a){var U6P;U6P=2;while(U6P!==1){switch(U6P){case 4:D(this,a.type,a);U6P=7;break;U6P=1;break;case 2:D(this,a.type,a);U6P=1;break;}}}.bind(this));a.Zd&&b.addEventListener(Z01,function(a){var W6P;W6P=2;while(W6P!==1){switch(W6P){case 4:D(this,a.type,a);W6P=3;break;W6P=1;break;case 2:D(this,a.type,a);W6P=1;break;}}}.bind(this));x3P=6;break;case 2:x3P=1;break;case 6:this.Se[c]=b;x3P=14;break;}}}.bind(this));this.Kj&&this.KIa();this.ec.l4a();p=function(){var e6P,Q01;e6P=2;while(e6P!==5){Q01="shutdown detected";Q01+=" before st";Q01+="artReque";Q01+="sts";switch(e6P){case 2:this.cJa();this.Kd()?this.ba(Q01):this.HKa(g);e6P=5;break;}}}.bind(this);p3P=23;break;case 5:this.Aj(o01+this.Li,B01);p3P=21;break;case 22:this.wc(G01,l.error),this.Aj(r01,g01);p3P=21;break;}}};b.prototype.flush=function(){var o6P,a,b,c,d,w6P,i01,e01,L01,U01,J01,E01,z01,d01;o6P=2;while(o6P!==11){i01="e";i01+="n";i01+="d";i01+="p";i01+="lay";e01="l";e01+="ogda";e01+="t";e01+="a";L01="thr";L01+="oughpu";L01+="t-";L01+="sw";U01="th";U01+="r";U01+="oughpu";U01+="t";U01+="-sw";J01="thro";J01+="u";J01+="gh";J01+="put-sw";E01="e";E01+="n";E01+="dp";E01+="lay";z01="l";z01+="ogd";z01+="at";z01+="a";switch(o6P){case 3:c={};for(d in b){d01="n";d01+="e";b.hasOwnProperty(d)&&(c[d01+d]=Number(b[d]).toFixed(6));}evt={type:z01,target:E01,fields:c};o6P=7;break;case 2:a=this.H;b=this.La.Hb;o6P=4;break;case 4:o6P=b&&(b.flush(),b=b.nXa())?3:6;break;case 7:D(this,evt.type,evt);o6P=6;break;case 6:a.lF&&(b=this.La.Hb)&&((a=b.get(!0))&&a[J01]&&this.Lq.QLa({avtp:a[U01].ta,variance:a[L01].cg}),a&&a.avtp&&a.Xi&&a.Xi.ut&&this.Lq.LLa({avtp:a.avtp.ta,niqr:a.Xi.ut.toFixed(4)},a.avtp.wTa),a=this.Lq.ZWa(),d=this.Lq.EYa(),a&&(a.n=d,a={type:e01,target:i01,fields:{ibef:a}},D(this,a.type,a),this.Lq.save()));this.Kj&&this.cea();o6P=13;break;case 13:o6P=this.Lk?12:11;break;case 12:try{w6P=2;while(w6P!==1){switch(w6P){case 4:this.XZ(h.xa.jy);w6P=2;break;w6P=1;break;case 2:this.XZ(h.xa.jy);w6P=1;break;}}}catch(ea){var x01;x01="Hindsight: Error eva";x01+="luating QoE at sto";x01+="pping: ";v7AA.W91(0);this.lo(v7AA.s91(x01,ea));}o6P=11;break;}}};b.prototype.paused=function(){var G6P;G6P=2;while(G6P!==1){switch(G6P){case 2:this.Ib.value===h.xa.nf&&this.Ib.set(h.xa.sn);G6P=1;break;}}};b.prototype.Csa=function(){var H6P;H6P=2;while(H6P!==1){switch(H6P){case 2:this.Ib.value===h.xa.sn&&this.Ib.set(h.xa.nf);H6P=1;break;}}};b.prototype.close=function(){var A6P,b,c,a,O01,F01,y01,P01;A6P=2;while(A6P!==18){O01="stream";O01+="ere";O01+="nd";F01="c";F01+="l";F01+="o";F01+="s";F01+="e";y01="end";y01+="p";y01+="la";y01+="y";P01="l";P01+="ogda";P01+="ta";switch(A6P){case 14:A6P=c<b.length?13:11;break;case 10:D(this,b.type,b);A6P=20;break;case 11:b={type:P01,target:y01,fields:{bridgestat:b}};A6P=10;break;case 4:this.stop();this.emit(F01);this.ev=!1;A6P=8;break;case 13:b[c]=b[c]?b[c].toFixed(1):0;A6P=12;break;case 6:b=this.ML.cf([.25,.5,.75,.9,.95,.99]),c=0;A6P=14;break;case 12:c++;A6P=14;break;case 20:!this.MV&&this.La.uc&&(this.La.uc.fE(!0,this.wj.sessionId,!0),this.MV=!0,a.d3&&(a={type:O01,time:F.time.la()},D(this,a.type,a)));this.La.ZJa(this);A6P=18;break;case 2:a=this.H;this.HJa=!0;A6P=4;break;case 8:A6P=a.kN?7:20;break;case 7:this.ML.Np();A6P=6;break;}}};b.prototype.ze=function(){var V6P,a,s01,f01;V6P=2;while(V6P!==11){s01="Err";s01+="or o";s01+="n MediaS";s01+="ource des";s01+="troy: ";f01="in";f01+="a";f01+="cti";f01+="v";f01+="e";switch(V6P){case 4:this.Gca();this.ja.ze();this.dHa();this.Ib.set(h.xa.iy);this.NGa();V6P=6;break;case 2:this.ej.removeEventListener(f01,this.Zda);this.ec.c4a();V6P=4;break;case 6:this.sf.clear();a=this.Kf;delete this.Kf;c.S(a)||a.ym()||this.ba(s01,a.error);V6P=11;break;}}};b.prototype.suspend=function(){var K6P;K6P=2;while(K6P!==1){switch(K6P){case 4:this.bfa=~2;K6P=7;break;K6P=1;break;case 2:this.bfa=!0;K6P=1;break;}}};b.prototype.resume=function(){var d6P;d6P=2;while(d6P!==5){switch(d6P){case 2:this.bfa=!1;this.vg();d6P=5;break;}}};b.prototype.Kd=function(){var r6P;r6P=2;while(r6P!==1){switch(r6P){case 4:return this.HJa&&this.ja.E_a;break;r6P=1;break;case 2:return this.HJa||this.ja.E_a;break;}}};b.prototype.tKa=function(){var u6P,a;u6P=2;while(u6P!==7){switch(u6P){case 4:this.Xr=setTimeout(this.$D.bind(this),a.MR);this.zK||(this.zK=setInterval(this.dea.bind(this),a.ez));this.JL||(this.JL=setInterval(this.nJa.bind(this),a.F5));this.Kj&&!this.xK&&(this.xK=setInterval(this.cea.bind(this),a.BX));u6P=7;break;case 2:a=this.H;this.Xr&&clearTimeout(this.Xr);u6P=4;break;}}};b.prototype.vKa=function(){var Q6P,a,b;Q6P=2;while(Q6P!==8){switch(Q6P){case 2:a=this.H;Q6P=5;break;case 5:Q6P=a.DQ?4:8;break;case 4:this.lD&&clearInterval(this.lD);b=-1;this.lD=setInterval(function(){var n6P,a,W01;n6P=2;while(n6P!==4){W01="v";W01+="b";switch(n6P){case 2:a=this.Wa.rb[h.G.VIDEO];(a=a.jt&&a.jt.J)&&b!==a&&(F.storage.set(W01,a),b=a);n6P=4;break;}}}.bind(this),a.DQ);Q6P=8;break;}}};b.prototype.Gca=function(){var f6P;f6P=2;while(f6P!==7){switch(f6P){case 3:this.qy&&(clearTimeout(this.qy),delete this.qy);this.xV&&(clearTimeout(this.xV),delete this.xV);this.lD&&(clearInterval(this.lD),delete this.lD);f6P=7;break;case 2:this.Xr&&(clearTimeout(this.Xr),this.Xr=void 0);this.zK&&(clearInterval(this.zK),this.zK=void 0);this.JL&&(clearInterval(this.JL),this.JL=void 0);this.xK&&(clearInterval(this.xK),this.xK=void 0);f6P=3;break;}}};b.prototype.play=function(){var h6P,l01,u01;h6P=2;while(h6P!==5){l01="p";l01+="l";l01+="a";l01+="y";u01="play ";u01+="called after pipelines already s";u01+="h";u01+="utdown";switch(h6P){case 2:this.hea++;this.Kd()?this.ba(u01):(this.Ib.set(h.xa.nf),this.tKa(),this.Wa.rb.forEach(function(a){var k6P,k01;k6P=2;while(k6P!==1){k01="play: no";k01+="t resuming bufferManager, audio track switch i";k01+="n pro";k01+="gress";switch(k6P){case 2:a.Hx?a.ba(k01):this.Se[a.O].resume();k6P=1;break;}}}.bind(this)),this.$D(),this.emit(l01));h6P=5;break;}}};A3P=76;break;case 200:b.prototype.dea=function(){var o79,a,b,c,d,g,j01;o79=2;while(o79!==11){j01="updateB";j01+="ufferLev";j01+="el";switch(o79){case 5:o79=!this.Kd()?4:11;break;case 7:g=this.La.Hb.get(!1);b=d.pv;c={type:j01,abuflbytes:c.Gh,vbuflbytes:d.Gh,totalabuflmsecs:c.pv,totalvbuflmsecs:b,predictedFutureRebuffers:0,currentBandwidth:g.$b?g.ia.ta:0};b>a.xna&&this.La.uc&&this.La.uc.fE(!0,this.wj.sessionId);D(this,c.type,c);o79=11;break;case 2:a=this.H;o79=5;break;case 4:b=this.ja.Yd;c=b[h.G.AUDIO];d=b[h.G.VIDEO];this.ec.FLa(c.Nd,d.Nd);o79=7;break;}}};b.prototype.gIa=function(a){var w79,b,d,g,K41,D41,N41,p41,S41,a41;w79=2;while(w79!==13){K41=", syste";K41+="mD";K41+="el";K41+="ta: ";D41="memo";D41+="ryUs";D41+="age a";D41+="t time";D41+=": ";N41=", o";N41+="sAllo";N41+="ca";N41+="torDelt";N41+="a: ";p41=", jsH";p41+="eapD";p41+="el";p41+="t";p41+="a: ";S41=", fastMa";S41+="llocD";S41+="e";S41+="lta: ";a41="memoryUsage at ";a41+="time:";a41+=" ";switch(w79){case 2:w79=1;break;case 4:w79=!c.S(this.Ey)?3:14;break;case 1:w79=!c.S(a)?5:13;break;case 5:c.da(a.dI);w79=4;break;case 3:b=a.Ria-this.Ey.Ria;d=a.Nka-this.Ey.Nka;g=a.voa-this.Ey.voa;(4194304<b||4194304<g)&&this.ba(a41+F.time.la()+S41+b+p41+d+N41+g);w79=6;break;case 6:c.da(a.dI)&&c.da(this.Ey.dI)&&(b=a.dI-this.Ey.dI,4194304<b&&this.ba(D41+F.time.la(),K41+b));w79=14;break;case 14:this.Ey=a;w79=13;break;}}};b.prototype.KYa=function(a){var G79,b,c,d;G79=2;while(G79!==9){switch(G79){case 2:b=this.ja.Ml(a);c=this.Wa.rb[a];G79=4;break;case 4:d=b.Yt;return{type:a,availableMediaBuffer:this.La.ol[a]-d,completeBuffer:b.Nd,incompleteBuffer:b.Ia.Foa,playbackBitrate:b.Uoa,streamingBitrate:c.Im?c.Im.J:0,streamingTime:b.Ka+this.ja.Ub,usedMediaBuffer:d,toappend:b.Pcb};break;}}};b.prototype.nJa=function(){var H79,a,n41,h41,T41;H79=2;while(H79!==7){n41="stre";n41+="a";n41+="min";n41+="gstat";h41="en";h41+="dp";h41+="lay";T41="l";T41+="og";T41+="data";switch(H79){case 8:void 0!==a&&(a={type:T41,target:h41,fields:{avtp2:a}},D(this,a.type,a));H79=7;break;case 2:this.H.h1a&&F.memory.wXa(this.gIa.bind(this));a={type:n41,time:F.time.la(),playbackTime:this.Hg()};H79=4;break;case 4:this.ec.nVa(a);D(this,a.type,a);a=a.stat[0].avtp;H79=8;break;}}};b.prototype.cea=function(){var A79,a,M41;A79=2;while(A79!==4){M41="a";M41+="s";M41+="erep";M41+="ort";switch(A79){case 2:a={type:M41};this.Oea.lVa(a)&&D(this,a.type,a);A79=4;break;}}};b.prototype.KIa=function(){var V79,a,q41;V79=2;while(V79!==4){q41="as";q41+="ere";q41+="p";q41+="orte";q41+="nabled";switch(V79){case 2:a={type:q41};D(this,a.type,a);V79=4;break;}}};b.prototype.XIa=function(a){var K79,b,c,d,g,h,f,m,l,p,c41;K79=2;while(K79!==14){c41="hind";c41+="sight";c41+="r";c41+="epor";c41+="t";switch(K79){case 3:f=0;m=-1;l=-1;p=-1;a&&(a.forEach(function(a){var d79;d79=2;while(d79!==9){switch(d79){case 2:void 0===a.nd&&(c+=a.dlvdur,b+=a.dltwbr*a.dlvdur);f+=a.pbdur;d+=a.pbtwbr*a.pbdur;g=a.rr;h=a.ra;d79=9;break;}}}),0<c&&(m=1*b/c),0<f&&(p=1*d/f),0<c+f&&(l=1*(b+d)/(c+f)),m={type:c41,htwbr:l,hptwbr:m,pbtwbr:p},g&&(m.rr=g,m.ra=h),this.uia&&(m.report=a),D(this,m.type,m));K79=14;break;case 2:b=0;c=0;d=0;K79=3;break;}}};b.prototype.SIa=function(a){var r79,b,R41,I41,b41;r79=2;while(r79!==5){R41="e";R41+="ndOf";R41+="Str";R41+="eam";I41=" ";I41+="le";I41+="ngth";I41+=":";I41+=" ";b41="notifyEndOfStream ";b41+="ig";b41+="nored, more manif";b41+="ests, index: ";switch(r79){case 2:a.fu||(this.Bc+1<this.Ca.length?a.ba(b41+this.Bc+I41+this.Ca.length):(this.Se[a.O].a3(),b={type:R41,mediaType:a.O},D(this,b.type,b),a.fu=!0));r79=5;break;}}};b.prototype.QIa=function(a){var u79,A41;u79=2;while(u79!==5){A41="createreq";A41+="ues";A41+="t";switch(u79){case 2:a={type:A41,mediaRequest:a};D(this,a.type,a);u79=5;break;}}};b.prototype.iqa=function(){var Q79,a,V41;Q79=2;while(Q79!==4){V41="requ";V41+="estGarbag";V41+="e";V41+="Collec";V41+="tion";switch(Q79){case 2:a={type:V41,time:F.time.la()};D(this,a.type,a);Q79=4;break;}}};b.prototype.ug=function(a){var n79,m41,C41;n79=2;while(n79!==5){m41="m";m41+="a";m41+="nagerdebugeve";m41+="nt";C41=",";C41+=" ";switch(n79){case 2:a="@"+F.time.la()+C41+a;D(this,m41,{message:a});n79=5;break;}}};b.prototype.Aj=function(a,b,d,g,h){var f79,t41;f79=2;while(f79!==1){t41="NFEr";t41+="r_MC_StreamingFai";t41+="l";t41+="ure";switch(f79){case 2:this.ev||(c.S(b)&&(b=t41),this.ev=!0,this.lJa(b,a,d,g,h));f79=1;break;}}};b.prototype.NHa=function(a){var h79,b,c,d,g41,r41,G41,B41,o41,Q41,Z41,X41,H41,w41,v41,Y41;h79=2;while(h79!==7){g41=" >";g41+=" Re";g41+="setting fa";g41+="ilure";g41+="s";r41="NFE";r41+="rr_MC_Str";r41+="eamin";r41+="gF";r41+="ailure";G41="Temporary failure while";G41+=" b";G41+="uffering";B41=" > We a";B41+="re buff";B41+="ering, cal";B41+="ling it!";o41="NFE";o41+="rr";o41+="_MC_Streamin";o41+="gFailure";Q41="Perman";Q41+="e";Q41+="nt fa";Q41+="ilu";Q41+="re";Z41=" > Per";Z41+="manent failur";Z41+="e, done";X41=", la";X41+="st";X41+=" native ";X41+="c";X41+="ode: ";H41=",";H41+=" ";H41+="last http c";H41+="o";H41+="de: ";w41=", last";w41+=" err";w41+="or code: ";v41=" i";v41+="s p";v41+="er";v41+="manent: ";Y41="Streaming";Y41+=" fai";Y41+="lure";Y41+=", state is";Y41+=" ";switch(h79){case 2:b=a.N_a;c=a.z4a;d=a.A4a;a=a.B4a;h79=9;break;case 9:this.ba(Y41+h.xa.name[this.Ib.value]+v41+b+w41+c+H41+d+X41+a);b?(this.ba(Z41),this.Aj(Q41,o41,c,d,a)):this.hm(this.Ib.value)?(this.ba(B41),this.Aj(G41,r41,a,d,a)):(this.ba(g41),this.vz.Mz.fB());h79=7;break;}}};b.prototype.KHa=function(){var k79,d41;k79=2;while(k79!==3){d41="Ne";d41+="two";d41+="rk failures re";d41+="s";d41+="et!";switch(k79){case 2:this.ba(d41);this.ev=!1;this.QW();k79=4;break;case 4:this.vg();k79=3;break;}}};b.prototype.TJa=function(a){var a79,b;a79=2;while(a79!==9){switch(a79){case 2:b=this.H.Wqb.vnb;void 0===this.YL&&(this.YL=[]);void 0===this.YL[a]&&(this.YL[a]=Math.floor(2*Math.random()*b)-b);return this.YL[a];break;}}};b.prototype.Eda=function(a,b){var v79,h,c,d,g,f,y41,P41,x41,i41,e41,L41,U41,J41,E41,z41;v79=2;while(v79!==32){y41=", but no headers ";y41+="seen, ";y41+="ma";y41+="rking pipeline drmR";y41+="eady";P41="d";P41+="rm hea";P41+="der heade";P41+="r: ";x41="fil";x41+="e";x41+="toke";x41+="n";i41="fra";i41+="gmen";i41+="t co";i41+="unt:";e41="sy";e41+="nthesized p";e41+="er chunk vmafs: ";L41=",";L41+=" off";L41+="se";L41+="t:";L41+=" ";U41=",";U41+=" ";U41+="d";U41+="uration";U41+=": ";J41=",";J41+=" startP";J41+="ts: ";E41="f";E41+="rag";E41+="ment";E41+=": ";z41="par";z41+="sed per chunk vmafs:";z41+=" ";switch(v79){case 10:a.wc(z41+mediaRequest.en),d.en=mediaRequest.en;v79=24;break;case 7:v79=h<g?6:12;break;case 20:v79=c.Moa.Msb?19:24;break;case 16:v79=h<g?15:26;break;case 6:f=d.get(h);a.wc(E41+h+J41+f.X+U41+f.duration+L41+f.offset);v79=13;break;case 4:v79=c.oZ?3:12;break;case 13:++h;v79=7;break;case 8:h=0;v79=7;break;case 27:++h;v79=16;break;case 26:v7AA.u91(0);a.wc(v7AA.f91(e41,c));v79=25;break;case 12:v79=c.Moa&&c.Moa.enabled?11:24;break;case 19:g=d.length;c=[];v79=17;break;case 5:d=b.T;v79=4;break;case 3:g=d.length;a.wc(i41,g);v79=8;break;case 25:d.en=c;v79=24;break;case 24:this.lca(a,b);b.Ti&&(a.Ti=b.Ti,this.LV(a,b.Da,a.Ti));b.DN&&(d={type:x41,filetoken:b.DN},D(this,d.type,d));b.Qv&&!b.MTa&&(a.ba(P41+b.toString()+y41),this.GZ(this.Ca[b.Da].M),this.LV(a,b.Da));b.yB&&(a.fR=void 0);this.Se[b.O].t3a();v79=33;break;case 2:c=this.H;v79=5;break;case 11:v79=void 0!==mediaRequest.en?10:20;break;case 33:this.hda();v79=32;break;case 15:c[h]=mediaRequest.stream.je+this.TJa(h),0>c[h]&&(c[h]=0);v79=27;break;case 17:h=0;v79=16;break;}}};b.prototype.wL=function(a,b,c,d,g,f){var b79,m,l,p,r,k,O41,F41;b79=2;while(b79!==13){O41="video";O41+="_";O41+="tracks";F41="au";F41+="dio_tra";F41+="c";F41+="k";F41+="s";switch(b79){case 9:f==h.G.AUDIO&&p.pop();k=!1;b79=7;break;case 2:m=this.H;l=[];p=[F41,O41];r=a[p[1]].length;b79=9;break;case 7:p.forEach(function(f,p){var c79,u,v,n,y,q;c79=2;while(c79!==13){switch(c79){case 7:y.forEach(function(c,g){var O79;O79=2;while(O79!==1){switch(O79){case 2:c.streams.forEach(function(c,f){var Y79,l,r,u,y,q,f41,g79;Y79=2;while(Y79!==17){f41="n";f41+="o";f41+="n";f41+="e";switch(Y79){case 12:Y79=y<m.una||y>m.Tma?11:10;break;case 14:Y79=u<m.tna||u>m.Sma?13:12;break;case 19:q.ma=c.ma,q.T=c.T,q.bc=c.bc,q.Ok=S(c.T,this.H.CG,this.La.ol[p]);Y79=18;break;case 11:q.inRange=!1;Y79=10;break;case 8:v7AA.u91(4);g79=v7AA.s91(16,27,11);l=g79==c.content_profile.indexOf(f41);q.Ye=d&&!l||!d&&l;q.Ye&&this.vca&&ja(this.rca(c.content_profile,c.bitrate,this.vca),q);Y79=14;break;case 10:k=k||l;Y79=20;break;case 20:Y79=(c=v&&v[r])?19:18;break;case 18:n[r]=O.pja(b,a,p,g,f,q,this.V);Y79=17;break;case 9:Y79=p===h.G.VIDEO?8:20;break;case 13:q.inRange=!1;Y79=12;break;case 2:r=c.downloadable_id;u=c.bitrate;y=c.vmaf;q={Ye:!0};Y79=9;break;}}},this);O79=1;break;}}},this);y=q.streams.map(function(a){var E79;E79=2;while(E79!==1){switch(E79){case 4:return n[a.downloadable_id];break;E79=1;break;case 2:return n[a.downloadable_id];break;}}});l[p]={lj:f,cs:f+(u?r:0),Nc:y,Xm:n,Q8a:q,le:void 0};c79=13;break;case 3:y=a[f];f=c[p];q=y[f];c79=7;break;case 2:u=p===h.G.AUDIO;v=g?g[p].Xm:void 0;n={};c79=3;break;}}},this);k&&l[1]&&l[1].Nc&&l[1].Nc.forEach(function(a){var I79;I79=2;while(I79!==1){switch(I79){case 2:a.FO||(a.ki=!0);I79=1;break;}}});return l;break;}}};b.prototype.MHa=function(a,b){var j79;j79=2;while(j79!==1){switch(j79){case 2:this.fV[a.O]=this.La.yja(b);j79=1;break;}}};b.prototype.Iw=function(a){var i79,s41;i79=2;while(i79!==1){s41="requestError ignored, pipelines shut";s41+="d";s41+="own, ";s41+="mediaReque";s41+="st:";switch(i79){case 2:this.Kd()?this.ba(s41,a):(a.zc||this.Yna(a.yf,a.Da,a.ib,a.hb),this.$ea(a,a.location,a.Ec));i79=1;break;}}};b.prototype.xt=function(a){var B79,W41;B79=2;while(B79!==1){W41="onfirst";W41+="by";W41+="te ignored, pipelines shutdown, m";W41+="ediaRequest:";switch(B79){case 2:this.Kd()?this.ba(W41,a):a.oX||(this.Wa.rb[a.O].connected=!0);B79=1;break;}}};b.prototype.TG=function(a){var M79,b,k41,u41;M79=2;while(M79!==7){k41="r";k41+="e";k41+="questProgres";k41+="s";u41="onprogress";u41+=" ig";u41+="nored, ";u41+="pipelines shutdown, med";u41+="iaRequest:";switch(M79){case 2:M79=1;break;case 1:M79=this.Kd()?5:4;break;case 5:this.ba(u41,a);M79=7;break;case 4:b=this.Be;this.ec.koa(this.Jc-this.Wj,a.Ul,b);this.H.kN&&this.ML.push(a.l1);M79=8;break;case 8:this.emit(k41,{timestamp:b,url:a.url});M79=7;break;}}};b.prototype.wi=function(a){var S79,j41,l41;S79=2;while(S79!==1){j41="request";j41+="Comple";j41+="te";l41="oncomplete ig";l41+="nored, pipelines shutdown";l41+=",";l41+=" mediaReques";l41+="t:";switch(S79){case 2:this.Kd()?this.ba(l41,a):(this.ev&&(this.ev=!1,this.Ca[a.Da].Mz.fB(!0)),a.oX||(this.ec.koa(this.Jc-this.Wj,a.Ul,a.Be),a.zc||this.ec.o4a(a.O,a.gd,a.Jc,a.nA)),a.zc?(this.JHa(a),this.iqa()):this.Gda(a),this.H.kN&&this.ML.push(a.l1),this.emit(j41,{timestamp:a.Be,mediaRequest:a}));S79=1;break;}}};A3P=219;break;case 168:b.prototype.RJa=function(a,b){var U5P,d;U5P=2;while(U5P!==3){switch(U5P){case 2:d=this.Se[a.O];a=a.Ia.x6a(b,function(a){var W5P;W5P=2;while(W5P!==1){switch(W5P){case 2:d.wH(a);W5P=1;break;case 4:d.wH(a);W5P=7;break;W5P=1;break;}}});c.S(a)||this.vg();U5P=3;break;}}};b.prototype.FKa=function(a){var e5P,b,c,d;e5P=2;while(e5P!==7){switch(e5P){case 1:e5P=!this.hm(this.Ib.value)&&a.Hs&&0!==a.Hs.length&&!a.fR?5:7;break;case 2:e5P=1;break;case 3:c=a.Nc[c];d=c.id;!this.Ge[a.O][d]&&c.Ye&&(a.fR=d,b=this.RK(b,c.$k,c.ki),this.FD(a,this.xl,c,{offset:0,ga:b,yB:!0}));e5P=7;break;case 5:b=a.O;c=a.Hs.shift();e5P=3;break;}}};b.prototype.tda=function(a){var Z5P,b,c,d;Z5P=2;while(Z5P!==14){switch(Z5P){case 7:a&&-1==a.indexOf(N.cT)||c.push({type:N.cT,openRange:!1,pipeline:!0,connections:1,socketBufferSize:b.p0});return c;break;case 8:c.push({type:N.AUDIO,openRange:!d,pipeline:d,connections:1,socketBufferSize:b.KX});Z5P=7;break;case 3:Z5P=!a||-1!=a.indexOf(N.AUDIO)?9:7;break;case 2:b=this.H;c=[];a&&-1==a.indexOf(N.VIDEO)||c.push({type:N.VIDEO,openRange:!b.Pm,pipeline:b.Pm,connections:b.Pm?b.qw:1,socketBufferSize:b.u6});Z5P=3;break;case 9:d=b.Pm&&this.$s&&b.rcb;Z5P=8;break;}}};b.prototype.Oca=function(a){var F5P,b,d,c21;F5P=2;while(F5P!==6){c21="cre";c21+="a";c21+="t";c21+="eDlTracksStart";switch(F5P){case 3:b.Ou+=a.length;a=a.map(function(a){var o5P,g,M21,K21,N21,S21,a21;o5P=2;while(o5P!==12){M21="tra";M21+="nspo";M21+="rt";M21+="report";K21="e";K21+="r";K21+="r";K21+="o";K21+="r";N21="netwo";N21+="rkf";N21+="ailing";S21="c";S21+="r";S21+="eat";S21+="e";S21+="d";a21="d";a21+="e";a21+="s";a21+="tro";a21+="yed";switch(o5P){case 6:g.on(a21,function(){var V5P;V5P=2;while(V5P!==1){switch(V5P){case 4:g.removeAllListeners();V5P=6;break;V5P=1;break;case 2:g.removeAllListeners();V5P=1;break;}}});c.S(g.Xc)||g.Xc();return g;break;case 3:g.gE.on(g,S21,function(){var w5P,p21;w5P=2;while(w5P!==5){p21="cr";p21+="eateD";p21+="l";p21+="Tr";p21+="acksEnd";switch(w5P){case 2:--b.Ou;0===b.Ou&&b.kp(p21);w5P=5;break;}}});g.gE.on(g,N21,function(){var G5P,D21;G5P=2;while(G5P!==5){D21="reportNetwo";D21+="rkFailing";D21+=": ";switch(G5P){case 2:d.Zd&&b.ug(D21+g.toString());g.YUa&&(b.vz.Mz.Xk(void 0,g.Mj,g.Uk,g.tnb),b.QW());G5P=5;break;}}});g.gE.on(g,K21,function(){var H5P,n21,h21,T21;H5P=2;while(H5P!==5){n21="NFEr";n21+="r_";n21+="MC_";n21+="StreamingFailure";h21="Dow";h21+="nloadTrack fatal erro";h21+="r";T21="Dow";T21+="nlo";T21+="adTrack fatal e";T21+="rror: ";switch(H5P){case 2:d.Zd&&b.ug(T21+JSON.stringify(a));b.Aj(h21,n21,g.Mj,0,g.Uk);H5P=5;break;}}});g.on(M21,function(a){var A5P,q21;A5P=2;while(A5P!==1){q21="tr";q21+="anspo";q21+="r";q21+="treport";switch(A5P){case 4:b.emit("",a);A5P=6;break;A5P=1;break;case 2:b.emit(q21,a);A5P=1;break;}}});o5P=6;break;case 2:g=new N(a,b.wj);g.ph=b;g.gE=new m();o5P=3;break;}}});N.Pf();return a;break;case 2:b=this;d=b.H;0===b.Ou&&b.kp(c21);F5P=3;break;}}};b.prototype.dHa=function(){var K5P,a;K5P=2;while(K5P!==9){switch(K5P){case 2:a=[];this.Wa.rb.forEach(function(b){var d5P;d5P=2;while(d5P!==5){switch(d5P){case 2:c.S(b.Si)||a.push(b.Si);delete b.Si;d5P=5;break;}}});this.xD&&(a.push(this.xD),delete this.xD);K5P=3;break;case 3:a.forEach(function(a){var r5P;r5P=2;while(r5P!==4){switch(r5P){case 2:a.LM||--this.Ou;a.gE.clear();a.ym();r5P=4;break;}}}.bind(this));K5P=9;break;}}};b.prototype.cHa=function(a){var u5P,b;u5P=2;while(u5P!==14){switch(u5P){case 4:a=this.Wa.rb[b];b=a.Si;b.LM||--this.Ou;u5P=8;break;case 2:u5P=1;break;case 1:b=a.O;b==h.G.AUDIO&&(a.uQ=!0,this.ec.sB(null));u5P=4;break;case 8:b.gE.clear();b.ym();a.Si=void 0;u5P=14;break;}}};b.prototype.Iea=function(a){var Q5P,b,c,d,g,h,f;Q5P=2;while(Q5P!==11){switch(Q5P){case 2:b=a.O;c=this.Wa.rb[b];d=c.Si;Q5P=3;break;case 9:h=[];for(f in this.Ge[b]){(g=this.Ge[b][f])&&!g.T&&g.track==d&&(delete this.Ge[b][f],h.push({stream:g.stream,offset:g.offset,ga:g.ga,Qv:g.Qv,Da:g.Da,Qs:g.Qs,hq:g.hq}),a.Ia.wH(g));}this.cHa(a);b=this.tda([b]);Q5P=14;break;case 3:Q5P=d?9:11;break;case 14:b=this.Oca([b[0]]);c.Si=b[0];h.forEach(function(b){var n5P;n5P=2;while(n5P!==1){switch(n5P){case 2:this.FD(a,this.xl,b.stream,b);n5P=1;break;}}}.bind(this));Q5P=11;break;}}};b.prototype.kp=function(a){var f5P,b21;f5P=2;while(f5P!==5){b21="startEv";b21+="en";b21+="t";switch(f5P){case 2:a={type:b21,event:a,time:F.time.la()};D(this,a.type,a);f5P=5;break;}}};b.prototype.cJa=function(){var h5P,a,I21;h5P=2;while(h5P!==4){I21="o";I21+="p";I21+="enCompl";I21+="ete";switch(h5P){case 2:a={type:I21};D(this,a.type,a);h5P=4;break;}}};b.prototype.dJa=function(a,b,c,d,g){var k5P,R21;k5P=2;while(k5P!==5){R21="ptsS";R21+="ta";R21+="rt";R21+="s";switch(k5P){case 2:a={type:R21,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:g.A$a()};D(this,a.type,a);k5P=5;break;}}};b.prototype.RIa=function(a,b){var a5P,C21,V21,A21;a5P=2;while(a5P!==4){C21="emptyCo";C21+="nten";C21+="tId";V21="n";V21+="o";V21+="n";V21+="e";A21="dr";A21+="mH";A21+="e";A21+="a";A21+="der";switch(a5P){case 2:a={type:A21,manifestIndex:a};b?(a.drmType=b.ii,a.source=b.source,a.contentId=b.jha,a.header=b.pi,a.prk=!!b.h6a,a.headers=b.headers):(a.drmType=V21,a.contentId=C21);D(this,a.type,a);a5P=4;break;}}};b.prototype.VIa=function(a,b){var v5P,m21;v5P=2;while(v5P!==5){m21="h";m21+="eaderC";m21+="a";m21+="cheHi";m21+="t";switch(v5P){case 2:a={type:m21,movieId:a,streamId:b};D(this,a.type,a);v5P=5;break;}}};b.prototype.UIa=function(a,b,c,d,g){var b5P,t21;b5P=2;while(b5P!==5){t21="heade";t21+="rC";t21+="acheDataHit";switch(b5P){case 2:a={type:t21,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:g};D(this,a.type,a);b5P=5;break;}}};b.prototype.bJa=function(a,b,c){var c5P,Y21;c5P=2;while(c5P!==5){Y21="max";Y21+="Po";Y21+="si";Y21+="tion";switch(c5P){case 2:a={type:Y21,index:a,maxPts:b,endPts:c};D(this,a.type,a);c5P=5;break;}}};b.prototype.lJa=function(a,b,c,d,g){var O5P,w21,v21;O5P=2;while(O5P!==4){w21="notify";w21+="Streamin";w21+="gError";w21+=": ";v21="e";v21+="rr";v21+="or";switch(O5P){case 2:a={type:v21,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:g};this.Yb(w21+JSON.stringify(a));D(this,a.type,a);O5P=4;break;}}};b.prototype.fea=function(a,b){var Y5P,H21;Y5P=2;while(Y5P!==5){H21="segm";H21+="entStar";H21+="tin";H21+="g";switch(Y5P){case 2:b={type:H21,segmentId:a.id,contentOffset:b};a.Rw||D(this,b.type,b);Y5P=5;break;}}};b.prototype.fJa=function(a){var E5P,b,X21;E5P=2;while(E5P!==4){X21="segme";X21+="ntAb";X21+="o";X21+="rte";X21+="d";switch(E5P){case 2:b={type:X21,segmentId:a.id};a.Rw||D(this,b.type,b);E5P=4;break;}}};b.prototype.HHa=function(a,b){var I5P,d,g,h,r21,G21,B21,o21,Q21,Z21;I5P=2;while(I5P!==20){r21="re";r21+="se";r21+="t";G21="s";G21+="k";G21+="i";G21+="p";B21="l";B21+="on";B21+="g";o21="l";o21+="o";o21+="n";o21+="g";Q21="seaml";Q21+="e";Q21+="ss";Z21="s";Z21+="e";Z21+="am";Z21+="les";Z21+="s";switch(I5P){case 11:d.srcsegmentduration=this.ja.zYa(b.gR);return d;break;case 7:d.transitionType=g;b.PSa||(d.delayToTransition=b.TM);g=Z21===g?0:F.time.la()-b.startTime;d.durationOfTransition=g;d.atTransition=b.ssa;I5P=11;break;case 2:d={segment:a,srcsegment:b.gR,srcoffset:b.Cra,seamlessRequested:b.HQ,atRequest:{},discard:{}};h=b.Ac[a];h?(g=h.weight,ja(h.sE,d.atRequest)):g=this.ja.kka(b.gR,a);d.atRequest.weight=g;c.Kc(b.Ac,function(b,c){var j5P;j5P=2;while(j5P!==1){switch(j5P){case 2:c!=a&&(d.discard[c]={weight:b.weight},ja(b.sE,d.discard[c]));j5P=1;break;}}});g=b.HQ?b.lO?Q21:o21:b.Qna?B21:b.Wm?G21:r21;I5P=7;break;}}};b.prototype.iJa=function(a,b,c){var i5P,g21;i5P=2;while(i5P!==4){g21="se";g21+="g";g21+="me";g21+="ntPresenti";g21+="ng";switch(i5P){case 2:c=c?this.HHa(a.id,c):void 0;b={type:g21,segmentId:a.id,contentOffset:b,metrics:c};a.Rw||D(this,b.type,b);i5P=4;break;}}};b.prototype.gJa=function(a,b){var B5P,d21;B5P=2;while(B5P!==5){d21="se";d21+="gme";d21+="ntAp";d21+="pend";d21+="ed";switch(B5P){case 2:b={type:d21,segmentId:a.id,metrics:b};a.Rw||D(this,b.type,b);B5P=5;break;}}};b.prototype.hJa=function(a,b,c){var M5P,z21;M5P=2;while(M5P!==5){z21="segme";z21+="ntCom";z21+="plete";switch(M5P){case 2:a={type:z21,mediaType:a,manifestIndex:b,segmentId:c.id};c.Rw||D(this,a.type,a);M5P=5;break;}}};b.prototype.dW=function(a,b){var S5P,E21;S5P=2;while(S5P!==5){E21="l";E21+="astS";E21+="egmentPts";switch(S5P){case 1:a.Rw||D(this,b.type,b);S5P=5;break;case 2:b={type:E21,segmentId:a.id,pts:b};S5P=1;break;}}};A3P=183;break;case 2:c=a(10);a(21);h=a(13);l=a(31);g=l.EventEmitter;m=l.kC;p=a(178).TDigest;a(79);r=a(260);k=a(476);v=a(466);n=a(462);q=a(461);G=a(460);x=a(458);y=a(271);C=a(457);F=a(9);N=F.Lx;T=F.Pa;t=F.Promise;A3P=25;break;case 183:b.prototype.$Ia=function(a,b,c,d,g){var N5P,J21;N5P=2;while(N5P!==5){J21="manife";J21+="s";J21+="tRange";switch(N5P){case 2:a={type:J21,index:a,manifestOffset:b,startPts:c,endPts:d,maxPts:g};D(this,a.type,a);N5P=5;break;}}};b.prototype.aJa=function(a,b,c){var L5P,d,L21,U21;L5P=2;while(L5P!==7){L21="notifyManifest";L21+="Selec";L21+="te";L21+="d";L21+=": ";U21="man";U21+="if";U21+="estSe";U21+="lecte";U21+="d";switch(L5P){case 2:d=this.H;b={type:U21,index:a,replace:b,ptsStarts:c};a=this.Ca[a];L5P=3;break;case 3:b.streamingOffset=a.X+a.Rl;d.Zd&&(a=L21+JSON.stringify(b),d.Zd&&this.ug(a));D(this,b.type,b);L5P=7;break;}}};b.prototype.ZIa=function(a,b,c){var g5P,d,e21;g5P=2;while(g5P!==9){e21="manifes";e21+="tPre";e21+="s";e21+="enting";switch(g5P){case 1:d=this.Ca[a];b={type:e21,index:a,pts:b,movieId:d.M,replace:d.replace,contentOffset:c};0<a&&(b.previousMovieId=this.Ca[a-1].M);g5P=3;break;case 3:D(this,b.type,b);g5P=9;break;case 2:g5P=1;break;}}};b.prototype.Yna=function(a,b,c,d){var P5P,g,h,i21;P5P=2;while(P5P!==13){i21="stre";i21+="a";i21+="m";i21+="Selected";switch(P5P){case 2:g=a.O;b=this.Ca[b].pe[g].Xm[c];h=this.Wa.rb[g];h.Nh||(h.Nh={});h.Nh.id=b.id;P5P=8;break;case 8:h.Nh.index=b.rh;h.Nh.J=b.J;h.Nh.location=b.location;h.jt&&h.jt===b||(a.EB.R$a(d,h.jt,b),h.jt=b,d=0,b.ma&&b.ma.$b&&b.ma.ia&&(d=b.ma.ia.ta),h=a.jc.Ub,a={type:i21,nativetime:F.time.la(),mediaType:g,streamId:c,manifestIndex:b.Da,trackIndex:b.cs,streamIndex:b.rh,movieTime:a.Ka+h,bandwidth:d,longtermBw:d,rebuffer:0},D(this,a.type,a));P5P=13;break;}}};b.prototype.kJa=function(a,b,c,d,g,h){var z5P,x21;z5P=2;while(z5P!==5){x21="streamPresent";x21+="i";x21+="ng";switch(z5P){case 2:a={type:x21,startPts:b,contentStartPts:c,mediaType:a.O,manifestIndex:d,trackIndex:g,streamIndex:h};D(this,a.type,a);z5P=5;break;}}};b.prototype.oJa=function(a){var D5P,P21;D5P=2;while(D5P!==5){P21="vi";P21+="de";P21+="oL";P21+="oo";P21+="ped";switch(D5P){case 2:a={type:P21,offset:a};D(this,a.type,a);D5P=5;break;}}};b.prototype.eea=function(a){var m5P,y21;m5P=2;while(m5P!==1){y21="lo";y21+="cationSel";y21+="ected";switch(m5P){case 4:D(this,"",a);m5P=2;break;m5P=1;break;case 2:D(this,y21,a);m5P=1;break;}}};b.prototype.gea=function(a,b,c,d,g){var t5P,f,m,f21,O21,F21;t5P=2;while(t5P!==14){f21="se";f21+="rverS";f21+="witch";O21="au";O21+="d";O21+="i";O21+="o";F21="vi";F21+="de";F21+="o";switch(t5P){case 6:D(this,b.type,b);t5P=14;break;case 2:a=a.O;f=a==h.G.VIDEO?F21:O21;m=this.La.Hb.get(!1);t5P=3;break;case 3:b={type:f21,mediatype:f,server:b,reason:c,location:d,bitrate:g,confidence:m.$b};m.$b&&(b.throughput=m.ia.ta);c=this.Wa.rb[a];c.kw&&(b.oldserver=c.kw);t5P=6;break;}}};b.prototype.mJa=function(a,b,c){var l5P,s21;l5P=2;while(l5P!==5){s21="updateStr";s21+="eaming";s21+="Pts";switch(l5P){case 2:a={type:s21,manifestIndex:a,trackIndex:b,movieTime:c};D(this,a.type,a);l5P=5;break;}}};b.prototype.TIa=function(a){var C5P,W21;C5P=2;while(C5P!==5){W21="firstReque";W21+="stAppende";W21+="d";switch(C5P){case 2:a={type:W21,mediatype:a.O,time:F.time.la()};D(this,a.type,a);C5P=5;break;}}};b.prototype.YIa=function(){var s5P,a,b,l21,k21,u21;s5P=2;while(s5P!==3){l21="i";l21+="n";l21+="itialAudi";l21+="oTra";l21+="ck";k21="over number of tr";k21+="acks";k21+=":";u21="a";u21+="udioTra";u21+="ckIndex";u21+=":";switch(s5P){case 2:a=this.Er[h.G.AUDIO];b=this.Mr.audio_tracks;a>b.length?this.ba(u21,a,k21,b.length):(a={type:l21,trackId:b[a].track_id,trackIndex:a},D(this,a.type,a));s5P=3;break;}}};b.prototype.MIa=function(a,b,c){var R5P,j21;R5P=2;while(R5P!==9){j21="aud";j21+="ioTrackSwitchSta";j21+="rted";switch(R5P){case 2:a=a.audio_tracks;b=a[b];c=a[c];c={type:j21,oldLangCode:b.language,oldNumChannels:b.channels,newLangCode:c.language,newNumChannels:c.channels};R5P=3;break;case 3:D(this,c.type,c);R5P=9;break;}}};b.prototype.LIa=function(a){var T5P;T5P=2;while(T5P!==1){switch(T5P){case 2:setTimeout(function(){var y5P,b,a61;y5P=2;while(y5P!==4){a61="aud";a61+="ioTrackS";a61+="w";a61+="it";a61+="chComplete";switch(y5P){case 2:b={type:a61,trackId:a.Ab,trackIndex:a.lj};D(this,b.type,b);y5P=4;break;}}}.bind(this),0);T5P=1;break;}}};b.prototype.jJa=function(a,b){var X5P,S61;X5P=2;while(X5P!==5){S61="currentStreamI";S61+="n";S61+="feasi";S61+="ble";switch(X5P){case 2:a={type:S61,oldBitrate:a,newBitrate:b};D(this,a.type,a);X5P=5;break;}}};b.prototype.IHa=function(a){var p5P,b;p5P=2;while(p5P!==8){switch(p5P){case 2:p5P=1;break;case 1:b=a.mediaType;a=this.Ca[a.manifestIndex].pe[b].Xm[a.streamId];this.qKa(this.ja.Ml(b),a);this.H=this.qGa(a.le,this.H);this.Ca.forEach(function(a,b){var q5P;q5P=2;while(q5P!==1){switch(q5P){case 2:a.Lka||0===b||this.tW(a.M,b,a.pe);q5P=1;break;}}}.bind(this));p5P=8;break;}}};b.prototype.LHa=function(a){var x5P,b;x5P=2;while(x5P!==6){switch(x5P){case 7:a.Hm&&this.hJa(b.O,a.Da,b.jc.na);x5P=6;break;case 2:a=a.request;b=a.yf;b.Ia.xH(a);x5P=3;break;case 3:b.l0a=a.toString();b.Bka=!0;a.EN&&this.TIa(a);x5P=7;break;}}};b.prototype.qKa=function(a,b){var J79;J79=2;while(J79!==1){switch(J79){case 2:this.Wa.rb[a.O].Im={id:b.id,index:b.rh,J:b.J,ia:b.ma&&b.ma.$b&&b.ma.ia?b.ma.ia.ta:0,location:b.location};J79=1;break;}}};b.prototype.LV=function(a,b,c){var U79;U79=2;while(U79!==6){switch(U79){case 2:U79=!c||c.h6a||c.pi&&c.jha?1:6;break;case 4:U79=a.jia?3:9;break;case 3:return;break;case 5:a=this.Wa.rb[a.O];U79=4;break;case 1:U79=c?5:8;break;case 9:a.jia=!0;U79=8;break;case 8:this.RIa(b,c);this.Sy(this.Bc+1);U79=6;break;}}};b.prototype.PIa=function(){var W79,a,N61,p61;W79=2;while(W79!==9){N61="s";N61+="tar";N61+="t";N61+="Bufferin";N61+="g";p61="bufferin";p61+="g";p61+="St";p61+="ar";p61+="ted";switch(W79){case 2:a={type:p61,time:F.time.la(),percentage:0};D(this,a.type,a);this.emit(N61);W79=3;break;case 3:this.TV=0;W79=9;break;}}};b.prototype.NIa=function(){var e79,a,b,c,d,D61;e79=2;while(e79!==7){D61="buffe";D61+="r";D61+="in";D61+="g";switch(e79){case 2:e79=1;break;case 1:a=this.H;b=F.time.la();c=this.ja.Ml(h.G.VIDEO);d=c.Nd;e79=9;break;case 9:a=Math.min(Math.max(Math.round(100*(c.oG?(b-this.kV)/a.VA:c.Rh?c.Rh:d/a.Ph)),this.TV),99);a!=this.TV&&(b={type:D61,time:b,percentage:a},D(this,b.type,b),this.TV=a);e79=7;break;}}};b.prototype.OIa=function(){var Z79,a,b,c,d,g,K61;Z79=2;while(Z79!==11){K61="buf";K61+="feringComp";K61+="lete";switch(Z79){case 2:a=this.H;b=this.Wa.rb[h.G.VIDEO];c=this.ja.Yd;d=c[h.G.AUDIO];c=c[h.G.VIDEO];this.dea();Z79=7;break;case 7:g=b.uE;d={type:K61,time:F.time.la(),actualStartPts:g,aBufferLevelMs:d.Nd,vBufferLevelMs:c.Nd,selector:c.R8a,initBitrate:b.Nk,skipbackBufferSizeBytes:this.La.BKa};this.ec.mVa({initSelReason:b.Em,initSelectionPredictedDelay:b.YF,buffCompleteReason:b.rE,hashindsight:!!this.Lk,hasasereport:!!this.Kj});D(this,d.type,d);a.SM&&(this.mW=!0);Z79=11;break;}}};b.prototype.S0=function(a){var F79,b,c,d,g;F79=2;while(F79!==13){switch(F79){case 6:a&&d&&(a=d[h.G.VIDEO],d=d[h.G.AUDIO],a&&d&&(b.atoappend=JSON.stringify(a.Dh),b.vtoappend=JSON.stringify(d.Dh)));F79=14;break;case 3:F79=c?9:14;break;case 9:g=c[h.G.VIDEO];c=c[h.G.AUDIO];g&&c&&(b.vspts=g.Ka,b.aspts=c.Ka,b.vbuflbytes=g.Gh,b.abuflbytes=c.Gh,b.vbuflmsec=g.Nd,b.abuflmsec=c.Nd,a&&(b.asent=c.Ia.bra.toJSON(),b.vsent=g.Ia.bra.toJSON()));F79=6;break;case 14:return b;break;case 2:b={};c=this.ja.Yd;d=this.Se;F79=3;break;}}};A3P=200;break;case 122:b.prototype.iKa=function(a,b){var d4P,c,d,g,T61;d4P=2;while(d4P!==8){T61="maxPts between streams is l";T61+="argely different.";T61+=" Choo";T61+="sing";T61+=" lower maxPts:";switch(d4P){case 3:g<=c.hP?d=a.aj>b.aj?a:b:g>c.hP&&(d=a.aj<b.aj?a:b,this.ba(T61,d));return d;break;case 2:c=this.H;d=b;g=Math.abs(a.aj-b.aj);d4P=3;break;}}};b.prototype.vW=function(a,b){var r4P;r4P=2;while(r4P!==5){switch(r4P){case 2:this.ja.xm.reset(!0,a,b);(void 0===b?[h.G.AUDIO,h.G.VIDEO]:[b]).forEach(function(a){var u4P;u4P=2;while(u4P!==4){switch(u4P){case 2:this.Se[a].reset();this.hKa(a);this.ec.m4a(a);u4P=4;break;}}}.bind(this));r4P=5;break;}}};b.prototype.hKa=function(a){var Q4P;Q4P=2;while(Q4P!==8){switch(Q4P){case 2:a=this.Wa.rb[a];a.jt=void 0;a.o1=void 0;a.Qm=0;Q4P=3;break;case 3:a.fH=0;a.connected=!1;Q4P=8;break;}}};b.prototype.zW=function(a,b){var n4P,d,h61;n4P=2;while(n4P!==3){h61="p";h61+="tsc";h61+="h";h61+="a";h61+="nged";switch(n4P){case 2:d=this.Wa.rb[a];c.S(d.En)&&(d.En=b,a===h.G.VIDEO&&(a=this.Wa.rb[h.G.AUDIO],c.S(a.En)&&(a=this.ja.Ml(h.G.AUDIO),a.yo(b)),this.emit(h61,b)));c.S(d.uE)&&(d.uE=b);n4P=3;break;}}};b.prototype.JHa=function(a){var f4P,b,c,M61,n61;f4P=2;while(f4P!==3){M61=" ig";M61+="nored";M61+=", pipelines sh";M61+="utdown";n61="He";n61+="ade";n61+="r reque";n61+="s";n61+="t ";switch(f4P){case 2:b=a.yf;c=b.O;f4P=4;break;case 4:this.Kd()?this.ba(n61+a+M61):(a.Eoa>a.y4a&&(this.Wa.rb[c].m1=a.Eoa),this.Eda(b,a));f4P=3;break;}}};b.prototype.Gda=function(a){var h4P,b,c,d;h4P=2;while(h4P!==9){switch(h4P){case 2:b=this.H;d=a.yf;h4P=4;break;case 4:c=a.Da;this.Ib.value!=h.xa.jy&&this.Ib.value!=h.xa.iy&&(this.mJa(c,d.cs,d.nz),this.Ku()||(c=this.ja.Ml(h.G.VIDEO),!c.Nn&&c.pO&&this.Wa.gO(c)),this.oV(d),this.pg&&(a=this.pg.indexOf(a),-1!=a&&this.pg.splice(a,1),0===this.pg.length&&(delete this.pg,b.eE||this.dV||this.UW())),this.pV(d)&&this.vg());h4P=9;break;}}};b.prototype.$D=function(){var k4P,a,b,d,g,f,m,q61;k4P=2;while(k4P!==20){q61="n";q61+="u";q61+="mb";q61+="er";switch(k4P){case 6:b=this.ja.nYa(),q61===typeof b&&b-a.H2<=f&&(m=Math.min(m,a.PNa));k4P=14;break;case 7:k4P=a.jF||a.wia?6:14;break;case 14:d.Km.aj-g<=a.xna&&this.La.uc&&this.La.uc.fE(!0,this.wj.sessionId);this.Ib.value===h.xa.nf&&([h.G.VIDEO,h.G.AUDIO].forEach(function(a){var a4P,b,d,l,p,r,k,c61;a4P=2;while(a4P!==7){c61="Unable to fin";c61+="d req";c61+="ue";c61+="st presen";c61+="ting at playerPts:";switch(a4P){case 3:(k=b.Ia.Ps(g))?(r=k.df-g,r<m&&(m=r),p=this.Wa.rb[a],l=k.Da,r=k.yf,a===h.G.VIDEO&&(this.ja.vt(k,k.mh),l>this.jL?(this.jL=l,this.ZIa(l,g,k.mh),f=this.pz(l,g)):this.ED&&k.mh!=p.m0a&&this.oJa(k.mh)),r.vt(k),p.m0a=k.mh,d=k.ib,d!=p.o1&&(p.o1=d,a=this.Ca[l].pe[a].Xm,a=a[d],l=this.pz(l,k.hb),this.kJa(r,k.hb,l,a.Da,a.cs,a.rh)),k=k.J,c.S(k)||k==b.Uoa||(b.Uoa=k)):b.ba(c61,g);this.RJa(r,g);this.ja.w6a();a4P=7;break;case 2:b=this.ja.Ml(a);r=b;this.oV(b,g);a4P=3;break;}}}.bind(this)),this.mW=!1,this.ja.cn(g,f));this.vg();this.Xr&&clearTimeout(this.Xr);k4P=10;break;case 10:this.Xr=setTimeout(this.$D.bind(this),m);k4P=20;break;case 2:a=this.H;b=this.WP;d=this.Ca[b];g=this.Hg()||0;f=this.pz(b,g);m=a.MR;k4P=7;break;}}};b.prototype.vg=function(){var v4P,a;v4P=2;while(v4P!==4){switch(v4P){case 2:a=this.H;!this.uea||this.mW||this.av||this.ev||(this.av=setTimeout(function(){var b4P;b4P=2;while(b4P!==4){switch(b4P){case 2:clearTimeout(this.av);delete this.av;b4P=5;break;case 5:this.hda();b4P=4;break;}}}.bind(this),a.y3),a.Kz&&(this.tK||(this.tK=setTimeout(function(){var c4P;c4P=2;while(c4P!==4){switch(c4P){case 5:this.jca(this.ja.Ml(h.G.VIDEO));c4P=4;break;case 2:clearTimeout(this.tK);delete this.tK;c4P=5;break;}}}.bind(this),a.DLa))));v4P=4;break;}}};b.prototype.hda=function(){var O4P,a,b,c,I61,b61;O4P=2;while(O4P!==14){I61="stream";I61+="ere";I61+="n";I61+="d";b61="fi";b61+="rstDr";b61+="ive";b61+="Strea";b61+="ming";switch(O4P){case 5:O4P=!this.bfa&&!this.Kd()?4:14;break;case 4:void 0===this.eHa&&(this.eHa=!0,this.kp(b61));b=this.ja.Yd;c=b[h.G.VIDEO];b[h.G.AUDIO].fg&&c.fg&&(this.ED?this.ja.gPa(this.Bc,c.fa):!this.MV&&this.La.uc&&(b=a.eE,this.La.uc&&this.La.uc.fE(b,this.wj.sessionId),this.MV=!0,a.d3&&(a={type:I61,time:F.time.la()},D(this,a.type,a))));this.fda(this.ja.xm);this.ja.Yd.forEach(function(a){var Y4P;Y4P=2;while(Y4P!==1){switch(Y4P){case 4:this.FKa(a);Y4P=3;break;Y4P=1;break;case 2:this.FKa(a);Y4P=1;break;}}}.bind(this));O4P=14;break;case 2:a=this.H;O4P=5;break;}}};b.prototype.pV=function(a){var E4P;E4P=2;while(E4P!==1){switch(E4P){case 2:return this.Kd()||this.Ib.value==h.xa.jy||this.Ib.value==h.xa.iy||this.Wa.rb[a.O].Hx||this.dV?!1:!0;break;}}};b.prototype.fda=function(a,b){var I4P,c,d,g,R61;I4P=2;while(I4P!==13){R61="S";R61+="till in buff";R61+="ering st";R61+="ate while pipeline's are d";R61+="one";switch(I4P){case 9:I4P=!d.fg||!g.fg?8:6;break;case 8:I4P=(this.gda(a,d,g),this.gda(a,g,d),!d.fg||!g.fg)?7:6;break;case 6:this.hm(this.Ib.value)&&(this.ba(R61),this.Ku());b||c.HB||this.Ii||!a.TOa()||((b=this.hm(this.Ib.value))&&this.H.sZ&&(this.AW(),b=!1),a.LN||this.ja.JZa(a,b),d.Bka&&g.Bka&&(d=Object.keys(a.children),1!==d.length||a.children[d[0]].active||this.ja.Mma(a,d[0]),this.gHa(a,c)));I4P=13;break;case 2:c=a.na;d=a.kb[h.G.VIDEO];g=a.kb[h.G.AUDIO];c.Y2||this.ja.o3a(a,c,this.Ii&&0===a.Da);I4P=9;break;case 7:return;break;}}};b.prototype.gHa=function(a,b){var j4P,d,g,h,f,m,A61;j4P=2;while(j4P!==11){A61="No subbranch c";A61+="andidate";A61+="s";A61+=" to";A61+=" drive";switch(j4P){case 2:d=this.H;g=[];h=[];j4P=3;break;case 3:c.Kc(a.children,function(a,c){var i4P;i4P=2;while(i4P!==5){switch(i4P){case 2:c=b.Jk[c].weight;0!==c&&(c={weight:c,jc:a},a.lz(d.Ph,!0)||h.push(c),g.push(c));i4P=5;break;}}}.bind(this));0===h.length?h=g:2<h.length&&(h.sort(function(a,b){var B4P;B4P=2;while(B4P!==1){switch(B4P){case 2:return b.weight-a.weight;break;case 4:return b.weight+a.weight;break;B4P=1;break;}}}),h.length=2);j4P=8;break;case 13:0!==f&&0!==m?(c.Kc(h,function(a){var S4P;S4P=2;while(S4P!==4){switch(S4P){case 2:a.Tcb=a.weight/f;a.XNa=a.wna/m;a.Qsa=a.XNa-a.Tcb;S4P=4;break;}}}),h.sort(function(a,b){var N4P;N4P=2;while(N4P!==1){switch(N4P){case 2:return a.Qsa-b.Qsa;break;case 4:return a.Qsa/b.Qsa;break;N4P=1;break;}}})):h.sort(function(a,b){var L4P;L4P=2;while(L4P!==4){switch(L4P){case 2:a=Math.min.apply(null,a.jc.Yj);b=Math.min.apply(null,b.jc.Yj);v7AA.W91(3);return v7AA.s91(b,a);break;}}});j4P=12;break;case 7:a=h.reduce(function(a,b){var M4P,P79;M4P=2;while(M4P!==4){switch(M4P){case 2:b.Yj=b.jc.Yj;b.wna=Math.min(b.Yj[0],b.Yj[1]);v7AA.W91(5);P79=v7AA.f91(5,13,247,14);return[a[0]+b.weight,a[P79]+b.wna];break;}}},[0,0]);f=a[0];m=a[1];j4P=13;break;case 8:j4P=1<h.length?7:12;break;case 12:0===h.length?this.ba(A61):(a=h[0].jc,a.Ac||(a.Ac={CO:F.time.la(),$w:0}),a.Ac.weight=h[0].weight,this.fda(a,!0));j4P=11;break;}}};b.prototype.gda=function(a,b,d){var g4P,g,f,m,l,t61,m61,C61,V61;g4P=2;while(g4P!==33){t61="a";t61+="u";t61+="d";t61+="io";m61="v";m61+="i";m61+="d";m61+="e";m61+="o";C61="l";C61+="ocationS";C61+="el";C61+="ecte";C61+="d";V61="drivePipeline, delaying audio until video";V61+=" actualStartPts determi";V61+="ned";switch(g4P){case 9:g4P=m.Si&&(!b.zt||(b.yo(b.OP),!b.zt))?8:33;break;case 21:return;break;case 7:g4P=l.Km&&!c.S(l.Km.aj)?6:33;break;case 22:g4P=!d?21:35;break;case 35:g=d.rh;g4P=34;break;case 3:m=this.Wa.rb[f];g4P=9;break;case 12:this.Ii&&c.S(l.fa)||(b.fg||this.Yea(b),this.Bc<this.Ca.length-1&&this.Sy(this.Bc+1));g4P=33;break;case 25:g4P=(f=this.BHa(b,g))?24:33;break;case 17:g4P=c.S(g)?16:15;break;case 4:g4P=!b.fg?3:33;break;case 23:d=this.jIa(b,d);g4P=22;break;case 14:b.ba(V61);g4P=33;break;case 11:g4P=this.pV(b)?10:33;break;case 6:g4P=g.Vm&&f===h.G.AUDIO&&c.S(this.Wa.rb[h.G.VIDEO].En)?14:13;break;case 34:g=b.Nc[g];g4P=25;break;case 2:g=this.H;f=b.O;g4P=4;break;case 24:g.Wb&&g.Wb!=m.kw&&(this.gea(b,g.Wb,g.QQ,g.location,g.J),m.kw=g.Wb),g.location&&g.location!==m.dma&&(this.eea({type:C61,mediatype:b.O===h.G.VIDEO?m61:t61,location:g.location,locationlv:g.b1a,serverid:g.Wb,servername:g.HH,selreason:g.QQ,seldetail:g.hH}),delete g.hH,m.dma=g.location),g.cma=g.location,g.pA=g.Wb,b.i0a=g.J,this.iIa(b,g,f,d.iB),a.Ac&&++a.Ac.$w;g4P=33;break;case 27:g4P=this.Eca(b,g).FI?26:25;break;case 8:l=this.Ca[this.Bc];g4P=7;break;case 26:return;break;case 10:g4P=this.Fca(b,d)?20:23;break;case 15:g=b.Nc[g];g4P=27;break;case 20:b.p1=F.time.la();d=this.Wa.gO(b);g=d.rh;g4P=17;break;case 13:g4P=(c.S(b.ih)&&(b.ih=b.wf?b.wf.index:this.XK(f,a.Da,b.Ka)),b.Rk&&b.ih>b.Rk.index)?12:11;break;case 16:return;break;}}};b.prototype.oV=function(a,b){var P4P,d,g;P4P=2;while(P4P!==3){switch(P4P){case 2:d=this.H;g=a.jc;!g.na.HB||this.ED||this.oW||(c.S(b)&&(b=this.Hg()||0),b-=g.Ub,a.fg&&!a.fu&&b+d.Sab>=a.fa&&0===a.Ia.yt&&0===a.Ia.LR&&this.SIa(a));P4P=3;break;}}};b.prototype.iIa=function(a,b,d,g){var z4P,f,m,l,p,r,B61,o61,Q61,Z61,X61,H61,w61,v61,Y61;z4P=2;while(z4P!==6){B61="NFEr";B61+="r_M";B61+="C_Streamin";B61+="g";B61+="Failure";o61="MediaRe";o61+="quest ";o61+="open f";o61+="ail";o61+="ed (1)";Q61="mak";Q61+="eRequest ca";Q61+="ught:";Z61=" ";Z61+="n";Z61+="ati";Z61+="ve: ";X61="Me";X61+="diaRequest.open er";X61+="ror: ";H61="!continueDriving in reque";H61+="stC";H61+="reated";w61="f";w61+="ast";w61+="play:";v61="pas";v61+="t fr";v61+="agments le";v61+="ng";v61+="th:";Y61="makeRequest nextFragmen";Y61+="t";Y61+="Index:";switch(z4P){case 8:r=a.ih;r>=d.length?a.ba(Y61,r,v61,d.length,w61,this.Ii):(d=this.AHa(a,b,d,r),this.hm(this.Ib.value)&&++a.bY,d.Hm&&l===h.G.VIDEO&&this.dW(f.na,d.fa),this.zW(l,d.X),l=f.Ub,d.lra(f.Ub),F.time.la(),g=a.Ia.KM(this,f,d,p.Si,b,g),g.open()?(c.da(p.Nk)||(p.Em=b.O8a,p.YF=b.YF||-1,p.Nk=b.J,p.n_a=b.U4,c.S(b.U4)||this.ec.jra(b.U4,b.Qk,b.Qj)),m&&(p.r1=d.url),this.pV(a)||a.ba(H61),a.G9a(g.fa-l,d.index+1),this.OGa(a),this.vg()):(a.ba(X61+g.Mj+Z61+g.Uk),g.readyState!==T.Va.$l&&(a.ba(Q61,g.Mj),this.Aj(o61,B61))));z4P=6;break;case 2:f=a.jc;m=b.url;l=a.O;p=this.Wa.rb[l];d=d.T;z4P=8;break;}}};b.prototype.XW=function(a,b){var D4P;D4P=2;while(D4P!==1){switch(D4P){case 2:return this.zr(this.ja.Ml(a.O),a,b);break;}}};b.prototype.zr=function(a,b,c){var m4P,d,g;m4P=2;while(m4P!==14){switch(m4P){case 2:d=this.H;g=b.abort();b.ze();b.sf&&b.sf.clear();m4P=9;break;case 9:d.nv||a.Ia.wH(b);this.Se[a.O].wH(b);!0===c&&this.vg();return g;break;}}};b.prototype.PJa=function(a,b,c){var t4P;t4P=2;while(t4P!==3){switch(t4P){case 2:a.Vob=c;a.yo(b);this.pg&&0<this.pg.length&&(this.pg.forEach(function(a){var l4P;l4P=2;while(l4P!==1){switch(l4P){case 2:this.XW(a,!1);l4P=1;break;case 4:this.XW(a,+6);l4P=8;break;l4P=1;break;}}}.bind(this)),delete this.pg);this.Iea(a);t4P=3;break;}}};b.prototype.GKa=function(a){var C4P,b,d,G61;C4P=2;while(C4P!==3){G61="no new";G61+="Audi";G61+="oT";G61+="rack se";G61+="t";switch(C4P){case 4:c.S(d.MG)?a.ba(G61):(this.Se[b].pause(),d.Hx=!0,this.MIa(this.Mr,this.Er[h.G.AUDIO],d.MG.lj));C4P=3;break;case 2:b=a.O;d=this.Wa.rb[b];C4P=4;break;}}};b.prototype.QJa=function(a){var s4P,b,c,d,g,f,m,r61;s4P=2;while(s4P!==32){r61="audioTrackC";r61+="h";r61+="an";r61+="ge";switch(s4P){case 14:d.MG=void 0;this.pg&&0<this.pg.length&&(this.pg=this.pg.filter(function(b){var R4P;R4P=2;while(R4P!==4){switch(R4P){case 8:return-2;break;R4P=4;break;case 1:return!0;break;case 5:this.zr(a,b,!1);R4P=4;break;case 2:R4P=b.O===h.G.VIDEO?1:5;break;}}}.bind(this)),0===this.pg.length&&(delete this.pg,b.eE||this.UW()));s4P=12;break;case 2:b=this.H;c=a.jc;d=this.Wa.rb[a.O];this.Iu=d.MG;g=this.Hg();s4P=8;break;case 12:this.Iea(a);d.Im=void 0;s4P=10;break;case 27:b=function(a){var T4P,b,c;T4P=2;while(T4P!==8){switch(T4P){case 1:b=this.Ca[a];c=b.pe;T4P=4;break;case 4:a=this.wL(b.Sa,a,this.Er,this.Ii,c,h.G.AUDIO);a[h.G.VIDEO]=c[h.G.VIDEO];b.pe=a;T4P=8;break;case 2:T4P=1;break;}}}.bind(this);s4P=26;break;case 35:a.yo(g);a.Opa(g);this.ja.xm.M0(this.Bc);s4P=32;break;case 8:f=this.vz;g=g-c.Ub;this.Er[h.G.AUDIO]=this.Iu.lj;s4P=14;break;case 10:d.Nh=void 0;d.sF=void 0;d.Nk=void 0;this.vW(r61,h.G.AUDIO);this.ja.hra(c,!0);this.ja.nqa(c);this.fV[h.G.AUDIO]=this.La.xja(this.Mr,this.Er,h.G.AUDIO)[h.G.AUDIO];s4P=27;break;case 24:b(c);s4P=23;break;case 21:f.pe[h.G.AUDIO].Nc.some(function(a){var y4P;y4P=2;while(y4P!==1){switch(y4P){case 2:return(m=this.Ge[h.G.AUDIO][a.id])&&m.T;break;}}}.bind(this))?(f.Vb[h.G.AUDIO]=m,delete a.wf,delete a.Rk,f.fQ=!1,this.oD(f,this.Bc)):f.Vb[h.G.AUDIO].Jsa=!0;s4P=35;break;case 23:++c;s4P=25;break;case 25:s4P=c<this.Ca.length?24:22;break;case 26:c=this.Bc;s4P=25;break;case 22:s4P=f.Vb&&f.Vb[h.G.AUDIO]?21:35;break;}}};b.prototype.$ea=function(a,b,d){var X4P;X4P=2;while(X4P!==1){switch(X4P){case 2:c.S(b)||c.S(d)||(a.location=b,a.Ec=d,this.La.Hb.UQ(b),this.ec.j4a(a.O,b));X4P=1;break;}}};b.prototype.QW=function(){var p4P,a,b,d,g,h,E61,z61;p4P=2;while(p4P!==20){E61="mani";E61+="f";E61+="est";E61+="s";E61+=":";z61="u";z61+="pdateR";z61+="equestUrls";z61+=", no manifestEntry:";switch(p4P){case 2:a=[];b=0;d=this.vz;p4P=3;break;case 3:p4P=!d?9:8;break;case 6:p4P=0<a.length?14:10;break;case 8:g=d.fo;this.ja.Yd.forEach(function(b){var q4P,c,d61,g61;q4P=2;while(q4P!==3){d61="location ";d61+="selector is gone, sessio";d61+="n ";d61+="has ";d61+="been closed";g61="location selector ret";g61+="u";g61+="rned null ";g61+="streamList";switch(q4P){case 1:q4P=g?5:9;break;case 2:q4P=1;break;case 5:c=this.Wa.BA(b);g.NR(c,b.Nc)?(b=b.Ia.hcb(b.Xm,this.$ea.bind(this)),0<b.length&&a.push.apply(a,b)):b.ba(g61);q4P=3;break;case 9:b.ba(d61);q4P=3;break;}}}.bind(this));p4P=6;break;case 9:return this.Yb(z61,this.Bc,E61,this.Ca.length),!1;break;case 14:h={};a.forEach(function(a){var x4P,c;x4P=2;while(x4P!==4){switch(x4P){case 2:c=a.Da;a.zc&&c>this.Bc&&(h[a.Da]=!0,++b);x4P=4;break;}}}.bind(this));c.Kc(h,function(a,b){var J5P;J5P=2;while(J5P!==5){switch(J5P){case 2:a=this.Ca[b];this.tW(a.M,b,a.pe);J5P=5;break;}}}.bind(this));return b===a.length?!0:!1;break;case 10:return!0;break;}}};A3P=168;break;case 79:b.prototype.Ps=function(a,b,c){var Z9P;Z9P=2;while(Z9P!==1){switch(Z9P){case 2:return this.ja.yi.kb[b].Ia.Ps(a,void 0,c);break;}}};b.prototype.Cga=function(a){var F9P,b,c;F9P=2;while(F9P!==13){switch(F9P){case 4:return!1;break;case 2:b=this.ja.yi;F9P=5;break;case 5:F9P=b.Ih?4:3;break;case 3:c=0<Object.keys(b.na&&b.na.Jk||{}).length?b.df-this.H.Cna:b.df;F9P=9;break;case 9:F9P=a<b.qc||a>=c?8:7;break;case 8:return!1;break;case 7:b=this.Ps(a,h.G.AUDIO,!0);a=this.Ps(a,h.G.VIDEO,!0);return b&&a&&b.complete&&a.complete;break;}}};b.prototype.XZ=function(a,b){var o9P,c,d;o9P=2;while(o9P!==8){switch(o9P){case 2:c=this.Wa;o9P=5;break;case 5:a=c.i_(a,b);d=this.ec.cQ;a&&!a.Zy&&d.WZ(a);b?c.y4():(b=d.KWa(),this.XIa(b));o9P=8;break;}}};b.prototype.qda=function(a,b){var B93=v7AA;var w9P,c,d,g,U61,J61,z79;w9P=2;while(w9P!==14){U61=" retu";U61+="rnin";U61+="g index: ";J61="findNewStreamInd";J61+="ex unable to ";J61+="find st";J61+="ream for bitrate: ";switch(w9P){case 1:w9P=0<=g?5:7;break;case 4:w9P=d.J<=b?3:9;break;case 5:w9P=(d=a[g],d.Ye&&!d.fh&&d.inRange)?4:8;break;case 2:B93.u91(2);z79=B93.f91(20,20);g=a.length-z79;w9P=1;break;case 3:return g;break;case 9:c=g;w9P=8;break;case 7:B93.u91(6);this.ba(B93.s91(J61,U61,c,b));return c;break;case 8:--g;w9P=1;break;}}};b.prototype.OGa=function(a){var G9P,b;G9P=2;while(G9P!==3){switch(G9P){case 1:b=this.Wa.rb[a.O];b.Nh&&b.Nh.xM&&delete b.Nh.xM;a.uQ&&(delete b.Im,delete b.Nh,delete b.sF,delete b.Nk,delete a.uQ);G9P=3;break;case 2:G9P=1;break;}}};b.prototype.nKa=function(a,b){var H9P,g,d;H9P=2;while(H9P!==19){switch(H9P){case 20:return!1;break;case 4:return a.Hs=b,!0;break;case 11:return a.Hs=[g],!0;break;case 14:g=0;H9P=13;break;case 8:H9P=a.Nd<d.D2?7:6;break;case 12:H9P=(d=b[g],d.Ye&&d.inRange&&!d.fh&&c.S(this.Ge[a.O][d.id]))?11:10;break;case 7:return!1;break;case 9:return!0;break;case 13:H9P=g<b.length?12:20;break;case 6:b=a.Nc;H9P=14;break;case 5:H9P=b?4:3;break;case 3:H9P=a.Hs&&0<a.Hs.length?9:8;break;case 10:++g;H9P=13;break;case 2:d=this.H;H9P=5;break;}}};b.prototype.RK=function(a,b,d){var A9P,g;A9P=2;while(A9P!==4){switch(A9P){case 2:g=this.H;A9P=5;break;case 5:return d?g.yN?g.yN:g.tO:g.Xsa&&b?b.offset+b.size:!c.S(a)&&(a=this.Wa.rb[a],a.m1)?a.m1+128:2292+12*Math.ceil(this.wd/2E3);break;}}};b.prototype.AOa=function(a){var V9P,b,c;V9P=2;while(V9P!==9){switch(V9P){case 3:return a;break;case 2:b=this.Ca[0];c=h.G.VIDEO;b&&b.Vb&&b.Vb[c]&&b.Vb[c].T?b.Wp&&b.Wp[c]&&b.Wp[c].X<=a&&b.Wp[c].fa>a?a=b.Wp[c].hb:(b=b.Vb[c].T,a=b.Ll(a,void 0,!0),void 0==a&&a<b.length-1&&++a,a=b.Nq(a)):a=void 0;V9P=3;break;}}};b.prototype.DK=function(a,b,c,d,g){var K9P,f,m,l,p;K9P=2;while(K9P!==8){switch(K9P){case 2:f=this.Ca[a];d&&(l=d.kb[h.G.VIDEO].Rk.fa,p=d.kb[h.G.AUDIO].Rk,d=p.fa,m=d-l,g||(l=void 0),p=d-p.X);b=this.pda(c.kb,f.Vb,b,l,m,p);a===this.ja.Fha&&(c.kb[h.G.VIDEO].wf=b[h.G.VIDEO],c.kb[h.G.AUDIO].wf=b[h.G.AUDIO]);K9P=9;break;case 9:return{$A:b.map(function(a){var d9P;d9P=2;while(d9P!==1){switch(d9P){case 4:return a.X;break;d9P=1;break;case 2:return a.X;break;}}}),Wp:b};break;}}};b.prototype.pz=function(a,b){var r9P,d,g;r9P=2;while(r9P!==14){switch(r9P){case 3:d=g.Ub;r9P=9;break;case 4:r9P=g?3:7;break;case 2:void 0===a&&(a=this.WP);g=this.ja.uVa(b,a);r9P=4;break;case 9:c.da(d)||(d=this.Ca[a].Rl);v7AA.W91(3);return v7AA.f91(d,b);break;case 7:r9P=(g=this.ja.Yia(a))?6:9;break;case 6:d=g.Ub;r9P=9;break;}}};b.prototype.MPa=function(a,b){var u9P,d,g;u9P=2;while(u9P!==14){switch(u9P){case 2:void 0===a&&(a=this.WP);g=this.ja.tVa(b,a);u9P=4;break;case 4:u9P=g?3:7;break;case 9:c.da(d)||(d=this.Ca[a].Rl);v7AA.u91(0);return v7AA.f91(b,d);break;case 7:u9P=(g=this.ja.Yia(a))?6:9;break;case 3:d=g.Ub;u9P=9;break;case 6:d=g.Ub;u9P=9;break;}}};b.prototype.aka=function(a,b,c){var Q9P;Q9P=2;while(Q9P!==9){switch(Q9P){case 2:a=(c?this.pda:this.sD).call(this,a.kb,this.bq(a.Da).Vb,b);Q9P=1;break;case 4:b=a[h.G.VIDEO];return c?b.X:b.fa;break;case 1:Q9P=!a.length?5:4;break;case 5:return b;break;}}};b.prototype.pda=function(a,b,c,d,g,f){var n9P;n9P=2;while(n9P!==1){switch(n9P){case 2:return b&&b[h.G.VIDEO]&&b[h.G.VIDEO].T&&b[h.G.AUDIO]&&b[h.G.AUDIO].T?[h.G.VIDEO,h.G.AUDIO].map(function(h){var f9P;f9P=2;while(f9P!==4){switch(f9P){case 2:h=a[h].Zia(b[h].stream,c,d,g,f);c=h.X;return h;break;}}}.bind(this)).reverse():[];break;}}};b.prototype.sD=function(a,b,c){var h9P;h9P=2;while(h9P!==1){switch(h9P){case 2:return b&&b[h.G.VIDEO]&&b[h.G.VIDEO].T&&b[h.G.AUDIO]&&b[h.G.AUDIO].T?[h.G.VIDEO,h.G.AUDIO].map(function(d){var k9P;k9P=2;while(k9P!==4){switch(k9P){case 2:d=a[d].wVa(b[d].stream,c);c=d.fa;return d;break;}}}.bind(this)).reverse():[];break;}}};b.prototype.AHa=function(a,b,c,d){var a9P,g;a9P=2;while(a9P!==14){switch(a9P){case 3:++d;a9P=9;break;case 2:c=b.T;g=d===a.Rk.index;d===a.wf.index?(b=b.Nja(a.wf),b.JH(a.wf.Ut)):g?(b=b.Nja(a.Rk),b.JH(a.Rk.Ut),b.Rma()):b=b.Vi(d);a9P=3;break;case 9:a9P=d<c.length&&d<a.Rk.index&&b.ga<a.E2a?8:6;break;case 8:b.nMa(c.get(d));a9P=7;break;case 7:++d;a9P=9;break;case 6:return b;break;}}};b.prototype.Eca=function(a,b){var v9P,c,d,g,h,L61;v9P=2;while(v9P!==7){L61="abortUns";L61+="ent";L61+="Requests on s";L61+="erver change";switch(v9P){case 2:c=this.H;d=!1;v9P=4;break;case 4:g=function(b){var b9P;b9P=2;while(b9P!==1){switch(b9P){case 2:0!==b.length&&(b=b[0],b.Ri<a.Ka&&(b=b.Ri,a.m8a(b)),d=!0);b9P=1;break;}}}.bind(this);c.lm&&a.Ia.L9a(this.Bc,b.J,g);h=this.Wa.rb[a.O];return this.uea&&b.Wb&&b.Wb!=h.kw&&(c.lm&&(a.Ia.rfa(this.Bc,g),c.Zd&&this.ug(L61)),0<a.Ia.yt)?{FI:!0,Dn:d}:{FI:!1,Dn:d};break;}}};b.prototype.jca=function(a,b){var c9P,c,d,g,h;c9P=2;while(c9P!==8){switch(c9P){case 4:g=d.Im;h=d.jt;g&&h&&(d=d.Si)&&(this.hm(this.Ib.value)||this.ec.CLa(c,d,g.J,h.J,a.Qka.J,b));c9P=8;break;case 2:c=a.O;d=this.Wa.rb[c];c9P=4;break;}}};b.prototype.GHa=function(a){var O9P;O9P=2;while(O9P!==1){switch(O9P){case 2:return this.ja.QNa.reduce(function(b,c){var Y9P;Y9P=2;while(Y9P!==1){switch(Y9P){case 2:return b+c.tYa(a);break;case 4:return b/c.tYa(a);break;Y9P=1;break;}}},0);break;}}};b.prototype.Fca=function(a,b){var E9P,d,g,f,m,l,p,r,i61,e61;E9P=2;while(E9P!==24){i61="floor";i61+="ed ";i61+="to 0";e61="negativ";e61+="e ";e61+="scheduledBufferLevel:";switch(E9P){case 26:return!1;break;case 12:E9P=f>=d.DA||p&&f>Math.max(p*d.k2/100,d.F2)?11:10;break;case 18:l=this.ja.kbb();E9P=17;break;case 19:return!1;break;case 17:E9P=!c.S(d.qG)&&l>=d.qG||a.PB+f>=Math.max(d.i2,this.La.wra+d.h3*m.h2[g])?16:15;break;case 11:return!1;break;case 20:E9P=!b.fg&&l>=d.o2&&r>d.Ph&&(l=d.pcb?b.WNa:b.VNa,void 0===l||l<d.P1a)||d.lm&&a.Ia.LR>=d.q2||this.GHa(g)>=d.tw?19:18;break;case 25:return 0<d.qq&&!m&&a.Yt+b.Yt>d.qq||g===h.G.VIDEO&&this.Ii&&a.Nd>d.g2&&(b=this.La.Hb.get(!1),b.$b&&b.ia&&b.ia.ta*a.PB>d.f2)?!1:!0;break;case 4:f=a.jc;m=this.Ca[f.Da];l=b.Ka;p=a.Nd;E9P=7;break;case 7:r=this.Hg();E9P=6;break;case 10:l=a.Ka-l;E9P=20;break;case 6:r=a.Ka+f.Ub-r;0>r&&(a.ba(e61,r,i61),r=0);f=a.Ia.Foa;E9P=12;break;case 16:return!1;break;case 15:E9P=(m=this.hm(this.Ib.value))?27:25;break;case 27:E9P=(f=1,a.bY<d.rw&&(f=d.rw),a.Ia.yt>=f)?26:25;break;case 2:d=this.H;g=a.O;E9P=4;break;}}};b.prototype.jIa=function(a,b){var I9P,d,g,h;I9P=2;while(I9P!==12){switch(I9P){case 5:I9P=!(!d.qX&&!d.lm||a.p1+d.YW>F.time.la())?4:12;break;case 4:a.p1=F.time.la();d=this.Wa.gO(a);g=d.rh;I9P=8;break;case 2:d=this.H;I9P=5;break;case 14:I9P=h&&h.T&&(g=this.Eca(a,g),!g.FI&&g.Dn&&this.Fca(a,b))?13:12;break;case 7:g=a.Nc[g];h=this.Ge[a.O][g.id];I9P=14;break;case 8:I9P=!c.S(g)?7:12;break;case 13:return d;break;}}};b.prototype.BHa=function(a,b){var j9P,c,d,g;j9P=2;while(j9P!==13){switch(j9P){case 7:return g;break;case 9:g.yB&&(a.fR===d&&delete a.fR,g.yB=!1);j9P=13;break;case 3:j9P=g&&!g.T?9:8;break;case 8:j9P=g?7:6;break;case 2:c=a.O;d=b.id;g=this.Ge[c][d];j9P=3;break;case 6:c=this.RK(c,b.$k,b.ki);this.FD(a,this.xl,b,{url:b.url,offset:0,ga:c});j9P=13;break;}}};b.prototype.Ku=function(){var i9P,a,b,c,d,g,f,m,s61,f61,O61,F61,y61,P61,x61;i9P=2;while(i9P!==24){s61=" ";s61+="v";s61+="i";s61+="deo: ";f61="Sess";f61+="io";f61+="n che";f61+="ckBufferingCo";f61+="mplete, audio: ";O61=" ";O61+="m";O61+="s";F61=" ms,";F61+=" video buffer";F61+=": ";y61=", aud";y61+="i";y61+="o b";y61+="uff";y61+="er: ";P61=" ";P61+=">";P61+="=";P61+=" ";x61="bu";x61+="ffering";x61+=" lo";x61+="nger than limit:";x61+=" ";switch(i9P){case 3:return!0;break;case 15:i9P=f>=a.Ph&&g>=a.Ph&&(b=F.time.la()-this.kV,b>=a.VA)?27:26;break;case 25:return!1;break;case 17:return this.AW(),!0;break;case 11:return!1;break;case 4:i9P=!b&&!this.Iu?3:9;break;case 2:a=this.H;b=this.hm(this.Ib.value);i9P=4;break;case 7:g=this.ja.Yd;f=g[h.G.AUDIO].Nd;g=g[h.G.VIDEO].Nd;m=a.Ph;i9P=12;break;case 12:i9P=d.Qm>=a.Ph&&(a.V7a&&(m=d.Qm+1E3),a.W7a&&(!c.connected||!d.connected))?11:10;break;case 18:i9P=c?17:16;break;case 27:return this.ba(x61+b+P61+a.VA+y61+f+F61+g+O61),this.AW(),!0;break;case 16:i9P=b?15:25;break;case 9:c=this.Wa.rb[h.G.AUDIO];d=this.Wa.rb[h.G.VIDEO];i9P=7;break;case 10:a.Zd&&this.ug(f61+f+s61+g);c=this.ja.xm.lz(m);this.Iu&&(f>=a.Ph||c)&&(this.gNa(),this.Iu=void 0);i9P=18;break;case 26:this.NIa();i9P=25;break;}}};A3P=113;break;case 25:Z=F.MediaSource;O=a(270);a(67);B=a(88);ja=a(44);l=a(30);V=l.iBa;D=l.Ha;l=a(41);S=l.T_a;A=l.UXa;b.prototype=Object.create(B.prototype);b.prototype.constructor=b;Object.defineProperties(b.prototype,{M:{get:function(){var Q3P;Q3P=2;while(Q3P!==1){switch(Q3P){case 2:return this.xl;break;case 4:return this.xl;break;Q3P=1;break;}}}},aa:{get:function(){var n3P;n3P=2;while(n3P!==1){switch(n3P){case 2:return this.VW;break;case 4:return this.VW;break;n3P=1;break;}}}},UA:{get:function(){var f3P;f3P=2;while(f3P!==1){switch(f3P){case 2:return this.Ib;break;case 4:return this.Ib;break;f3P=1;break;}}}},$s:{get:function(){var h3P;h3P=2;while(h3P!==1){switch(h3P){case 2:return this.ja.$s;break;case 4:return this.ja.$s;break;h3P=1;break;}}}},attributes:{get:function(){var k3P;k3P=2;while(k3P!==1){switch(k3P){case 2:return this.fV;break;case 4:return this.fV;break;k3P=1;break;}}}},x1:{get:function(){var a3P;a3P=2;while(a3P!==1){switch(a3P){case 2:return this.sf;break;case 4:return this.sf;break;a3P=1;break;}}}},Da:{get:function(){var v3P;v3P=2;while(v3P!==1){switch(v3P){case 2:return this.Bc;break;case 4:return this.Bc;break;v3P=1;break;}}}},WP:{get:function(){var b3P;b3P=2;while(b3P!==1){switch(b3P){case 2:return 0<=this.jL?this.jL:0;break;case 4:return 5>=this.jL?this.jL:7;break;b3P=1;break;}}}},vz:{get:function(){var c3P;c3P=2;while(c3P!==1){switch(c3P){case 4:return this.Ca[this.Bc];break;c3P=1;break;case 2:return this.Ca[this.Bc];break;}}}},ej:{get:function(){var O3P;O3P=2;while(O3P!==1){switch(O3P){case 4:return this.La.ej;break;O3P=1;break;case 2:return this.La.ej;break;}}}},Lq:{get:function(){var Y3P;Y3P=2;while(Y3P!==1){switch(Y3P){case 4:return this.La.Lq;break;Y3P=1;break;case 2:return this.La.Lq;break;}}}},dE:{get:function(){var E3P;E3P=2;while(E3P!==1){switch(E3P){case 4:return this.ec;break;E3P=1;break;case 2:return this.ec;break;}}}},P7a:{get:function(){var I3P;I3P=2;while(I3P!==1){switch(I3P){case 2:return this.Oea;break;case 4:return this.Oea;break;I3P=1;break;}}}}});b.prototype.N1a=function(){var j3P,a;j3P=2;while(j3P!==3){switch(j3P){case 2:a=0;c.forEach(this.Mr.audio_tracks,function(b){var i3P;i3P=2;while(i3P!==1){switch(i3P){case 2:c.forEach(b.streams,function(b){var B3P;B3P=2;while(B3P!==1){switch(B3P){case 2:a=Math.max(a,b.bitrate);B3P=1;break;}}});i3P=1;break;}}});return a;break;}}};b.prototype.Hg=function(){var M3P;M3P=2;while(M3P!==1){switch(M3P){case 2:return this.Hy.Hg();break;case 4:return this.Hy.Hg();break;M3P=1;break;}}};b.prototype.Bm=function(a){var S3P;S3P=2;while(S3P!==1){switch(S3P){case 4:return this.ja.Bm(a);break;S3P=1;break;case 2:return this.ja.Bm(a);break;}}};b.prototype.bq=function(a){var N3P;N3P=2;while(N3P!==1){switch(N3P){case 2:return this.Ca[a];break;case 4:return this.Ca[a];break;N3P=1;break;}}};b.prototype.EXa=function(){var L3P,a;L3P=2;while(L3P!==4){switch(L3P){case 2:a=this.Ca[0];return a.ki?this.Ca[1]:a;break;}}};b.prototype.dG=function(a,b){var g3P;g3P=2;while(g3P!==9){switch(g3P){case 2:g3P=a===b?1:5;break;case 5:a=this.Ca[a];g3P=4;break;case 1:return!0;break;case 4:b=this.Ca[b];return a.ki&&b.vG||b.ki&&a.vG;break;}}};b.prototype.Uz=function(a){var P3P;P3P=2;while(P3P!==1){switch(P3P){case 2:return this.Ge[a];break;case 4:return this.Ge[a];break;P3P=1;break;}}};b.prototype.NWa=function(a){var z3P;z3P=2;while(z3P!==5){switch(z3P){case 2:z3P=(a=this.ja.yi.children[a])?1:5;break;case 1:return{Ub:a.Ub,qc:a.qc,df:a.df,Ri:a.Ri,Ij:a.Ij};break;}}};A3P=54;break;case 219:b.prototype.MA=function(a){var N79,b,l61,k61,u61,W61;N79=2;while(N79!==4){l61="NFErr_";l61+="MC_Streami";l61+="ngFailure";k61=", err";k61+="orm";k61+="sg";k61+=": ";u61="MP";u61+="4 parsing error o";u61+="n:";u61+=" ";W61="requestError igno";W61+="red, pipelin";W61+="es shutdown, mediaRequest:";switch(N79){case 2:b=a.Mj;this.Kd()?this.ba(W61,a):a.zc&&a.parseError?(this.ba(u61+a+k61,a.parseError),this.Aj(a.parseError)):(this.H.gZa&&b===T.dr.sT&&0<a.Jc&&(b=T.dr.lS),this.Ca[a.Da].Mz.Xk(a.status,b,a.Uk,{url:a.url}),this.QW()||this.Aj(a.c_,l61,b,a.status,a.Uk));N79=4;break;}}};f.P=b;A3P=217;break;}}}());},function(f,c,a){var d,h,l,g,m,p;function b(a,b,c){m=c;p=c.map(function(a,b){return a.Ye&&a.inRange&&!a.fh?b:null;}).filter(function(a){return null!==a;});if(null===g)return a=h(c),g=c[a].J,new l(a);if(!p.length)return null;a=p.filter(function(a){return c[a].J==g;})[0];return void 0===a?(d.log("Defaulting to first stream due to unvalid bitrate requested: "+g),new l(p[0])):new l(a);}a(10);a(13);c=a(41);a=a(9);d=c.console;h=c.m_;l=c.gm;g=null;m=null;p=null;a.SOa&&(a.SOa.EB={Xc:function(){p=m=g=null;},V4:function(a){g=a;},job:function(){return{all:m,Psa:p};}});f.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){(function(){var j61,b;j61=2;while(j61!==9){switch(j61){case 2:j61=1;break;case 1:a(10);b=a(13);a(41);f.P={checkBuffering:function(a,c,f,g,m){var X93=v7AA;var a51,h,l,k,n,q,G,x,x3g,F3g,c3g,q3g,N51,D51,K51;a51=2;while(a51!==38){x3g="m";x3g+="a";x3g+="xsi";x3g+="z";x3g+="e";F3g="outo";F3g+="f";F3g+="ra";F3g+="nge";c3g="h";c3g+="igh";c3g+="tp";q3g="n";q3g+="ore";q3g+="bu";q3g+="ff";switch(a51){case 10:a51=!k?20:19;break;case 42:--m;a51=31;break;case 15:a=c.T.Ll(h.Ka);a51=27;break;case 25:G=c.T.i3(a);a51=24;break;case 41:return{complete:!0,reason:q3g};break;case 24:a51=l>=n?23:40;break;case 1:h=a.buffer;l=a.Nd||h.Qi-h.me;k=c.ia||0;n=0;a51=9;break;case 22:return{complete:!0,reason:c3g};break;case 32:--m;a51=31;break;case 23:a51=k>c.J*m.zN?22:21;break;case 44:return n=Math.min(f,l+x),{complete:!1,cx:n,Rh:d(n)};break;case 16:return k<c.J&&(n=Math.min(f,Math.max(m.rH*(c.J/k-1),n))),{complete:!1,cx:n,Rh:(q-h.Mw)/(q+(n-(h.Ka-h.me))*c.J/8)};break;case 28:a51=0<x?44:43;break;case 40:0<k&&k<c.J&&(n=Math.min(f,Math.max(m.rH*(c.J/k-1),n)));return{complete:!1,cx:n,Rh:d(n)};break;case 6:return{complete:!1,oG:!0};break;case 26:return{complete:!0,reason:F3g};break;case 8:return{complete:!0,reason:x3g};break;case 31:a51=m>a?30:41;break;case 20:return{complete:!1,cx:n};break;case 21:n=c.T.hF(a);m=Math.min(a+Math.floor(m.rH/n),c.T.length-1);x=c.T.i3(m);a51=33;break;case 12:g&&(n+=g.MM*m.mX);n=f?Math.min(f,n):n;a51=10;break;case 33:X93.B3g(0);N51=X93.H3g(33,23,18);n=N51*G/k-h.me;a51=32;break;case 27:a51=-1===a?26:25;break;case 30:g=c.T.get(m);X93.f3g(1);D51=X93.X3g(37,2,15,10,72);x=D51*x/k-g.X-n;a51=28;break;case 14:X93.f3g(2);K51=X93.X3g(29,10,19);n=m.Ph*(a.state===b.xa.qr?m.g4:K51);m.mUa&&c.ma&&c.ma.he&&c.ma.he.ta>m.L1&&(n+=m.lX+c.ma.he.ta*m.r3);a51=12;break;case 9:a51=l>=f?8:7;break;case 17:a51=!c.T||!c.T.length?16:15;break;case 7:a51=k<=m.R1&&(0<k||!m.YZ)?6:14;break;case 43:x=g.offset;a51=42;break;case 19:q=0;h.T.forEach(function(a){var p51;p51=2;while(p51!==1){switch(p51){case 2:q+=a.X+a.duration>h.me?a.ga:0;p51=1;break;}}});a51=17;break;case 2:a51=1;break;}}function d(a){var S51;S51=2;while(S51!==5){switch(S51){case 2:a=c.T.j_(h.me+a,void 0,!0);return(q-h.Mw)/(q+(a.offset+a.ga)-G);break;}}}}};j61=9;break;}}}());},function(f,c,a){(function(){var P3g,c,h,l,g;P3g=2;function b(a,b,d,h){var Q3g,f,B2S,S2S,w3g;Q3g=2;while(Q3g!==11){B2S="pl";B2S+="ayer m";B2S+="issing streamingIndex";S2S="Must have at";S2S+=" leas";S2S+="t one selected ";S2S+="strea";S2S+="m";switch(Q3g){case 8:f=d[h];Q3g=7;break;case 2:l(!c.S(h),S2S);l(c.da(b.al),B2S);b=g(h);Q3g=3;break;case 3:v7AA.f2S(0);w3g=v7AA.U2S(6,12,17);h=d.length-w3g;Q3g=9;break;case 7:Q3g=f.ma&&f.ma.ia&&f.J<f.ma.ia.ta-a.Oab?6:14;break;case 6:return b.se=h,b;break;case 13:b.se=0;return b;break;case 9:Q3g=-1<h?8:13;break;case 14:--h;Q3g=9;break;}}}while(P3g!==14){switch(P3g){case 7:h=a(133);f.P={STARTING:h.STARTING,BUFFERING:h.BUFFERING,REBUFFERING:h.REBUFFERING,PLAYING:b,PAUSED:b};P3g=14;break;case 2:c=a(10);a(13);h=a(41);a(9);l=h.assert;P3g=8;break;case 8:g=h.gm;P3g=7;break;}}}());},function(f,c,a){var d;function b(a,b,c){return new d(c.length-1);}a(10);d=a(41).gm;f.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){var d;function b(){return new d(0);}a(10);d=a(41).gm;f.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){var h;function b(a,b){if(!a)throw Error("Conv Net assertion failed"+(b?" : "+b:""));}function d(a,b,c,d,h){this.UK=a;this.VK=a[0].length;this.tca=b;this.GW=c;this.uL=d;this.bea=h;}a(10);a(9);h=a(35).tanh;d.prototype.constructor=d;d.prototype.forward=function(a){var c,d,f,l,k;c=a.length;b(0===(a.length-this.VK+2*this.uL)%this.GW,"inputs' dimension does not fit into this conv layer");b(this.UK.length===this.tca.length,"the number of filters need to match the number of biases");if(0<this.uL){f=[];for(d=0;d<this.uL;d++)f.push(0);a=f.concat(a).concat(f);}f=[];for(d=0;d<=a.length-this.VK;d+=this.GW)for(var v=0;v<this.UK.length;v++)l=this.UK[v],k=this.tca[v],l=this.u_a(a.slice(d,d+this.VK),l)+k,"tanh"===this.bea?f.push(h(l)):b(!1,"Unsupported NL type: "+this.bea);b(f.length===this.UK.length*((c-this.VK+2*this.uL)/this.GW+1),"outputs dimension is wrong!");return f;};d.prototype.u_a=function(a,c){b(a.length===c.length,"");for(var d=0,g=0;g<a.length;g++)d+=a[g]*c[g];return d;};f.P=d;},function(f,c,a){(function(){var N2S,x,y,C,F,N,T,t,Z,O,B,ja,V,D,S,A;function c(a,b,c){var L93=v7AA;var v2S,X47,r47,q47,I47,P47,O8S,P8S,F8S,I8S,y8S,u8S,M8S;v2S=2;while(v2S!==4){X47="b";X47+="itrate-l";X47+="i";X47+="ne";X47+="ar";r47="vmaf-";r47+="line";r47+="ar";q47="bitrate-rec";q47+="ip";q47+="rocal";I47="b";I47+="itra";I47+="t";I47+="e-lo";I47+="g";P47="vm";P47+="a";P47+="f-reciprocal";switch(v2S){case 13:v2S=a===P47?12:11;break;case 7:L93.t47(6);O8S=L93.J47(25,75);a=b.je/O8S;v2S=5;break;case 3:v2S=a===I47?9:8;break;case 6:v2S=a===q47?14:13;break;case 8:v2S=a===r47?7:6;break;case 1:L93.t47(1);P8S=L93.J47(879937,109993,9);a=b.J/P8S;v2S=5;break;case 10:L93.t47(7);F8S=L93.G47(1870000,17,357519,4,2);a=b.J/F8S;v2S=5;break;case 9:a=Math.log(b.J)/A;v2S=5;break;case 14:L93.c47(8);I8S=L93.J47(14,7,20,18,17);L93.c47(6);y8S=L93.J47(80,20);a=I8S/b.J*y8S;v2S=5;break;case 12:L93.c47(9);u8S=L93.J47(1);L93.t47(10);M8S=L93.J47(20,15,1,5);a=u8S/b.je*M8S;v2S=5;break;case 5:return isFinite(a)?c*a:0;break;case 11:v2S=10;break;case 2:v2S=a===X47?1:3;break;}}}function b(a,b){var T2S,m,l,p,c,d,g,h,f,r;T2S=2;while(T2S!==21){switch(T2S){case 25:a={};a.Ysb=c;a.ANa=d;return a;break;case 19:T2S=p<a.length?18:15;break;case 18:r=Math.abs(f-a[p]);r<l&&(l=r,m=p);T2S=16;break;case 16:p++;T2S=19;break;case 26:void 0!==m&&(g[m]=!0,d[m]=h);T2S=10;break;case 20:l=Number.POSITIVE_INFINITY,p=0;T2S=19;break;case 13:f=b[h];T2S=12;break;case 10:h++;T2S=14;break;case 3:h=0;T2S=9;break;case 12:T2S=void 0===f?11:20;break;case 6:h=0;T2S=14;break;case 11:c[h]=void 0;T2S=10;break;case 14:T2S=h<b.length?13:25;break;case 15:g[m]&&(m=void 0);c[h]=m;T2S=26;break;case 4:g=Array(a.length);T2S=3;break;case 7:h++;T2S=9;break;case 8:d[h]=void 0,g[h]=!1;T2S=7;break;case 9:T2S=h<a.length?8:6;break;case 2:c=[];d=Array(a.length);T2S=4;break;}}}function G(a,d,f,l,u,v){var w8S,y,w,z,G,T,B,t,ca,O,D,V,X,ja,S,A,U,ea,da,H,ia,ba,ha,P,Y,aa,fa,C47,p47,V47,l47,Y47,D47,j47,i47,H47,k47,a47,n47,f47,o47,v47,e47,w47,s47,E47,g47,z47,m47,F47,S47,O47;w8S=2;while(w8S!==167){C47="Invalid mixWithProd value (min";C47+="/max/undef";C47+="ined support";C47+="ed): ";p47="m";p47+="a";p47+="x";V47="m";V47+="i";V47+="n";l47="s";l47+="o";l47+="f";l47+="tm";l47+="ax";Y47="m";Y47+="a";Y47+="x";D47="m";D47+="i";D47+="n";j47="Nee";j47+="d to prov";j47+="ide v";j47+="alid";j47+=" number of throughput stats";i47="q";i47+="ua";i47+="dr";i47+="a";i47+="tic";H47="li";H47+="n";H47+="ear";k47="rl";k47+=" is not set up correctly. Fa";k47+="ll back ";k47+="to original algorithm.";a47="p";a47+="s";a47+="d";n47="Must hav";n47+="e rlPara";n47+="m specified!";f47="play";f47+="er missing ";f47+="s";f47+="treami";f47+="ngIndex";o47="Must have at ";o47+="lea";o47+="st one se";o47+="lected stream";v47="pe";v47+="rcen";v47+="tile";e47="Invali";e47+="d polic";e47+="y";e47+=" mappin";e47+="g!!";w47="quadrat";w47+="i";w47+="c";s47="f";s47+="ix";s47+="ed";E47="i";E47+="q";E47+="r";g47="f";g47+="i";g47+="x";g47+="ed";z47="throug";z47+="hp";z47+="ut-s";z47+="w";m47="t";m47+="hroughput-";m47+="sw";F47="Must sup";F47+="ply rlPara";F47+="m.bitrates!";S47="bas";S47+="eN";S47+="etw";S47+="ork";O47="Must have rlPar";O47+="am.repea";O47+="tLen";O47+="gth";switch(w8S){case 69:w=a.Fa.discountPolicyMapping;U=a.Fa.addInputsToPolicyNetwork;z=q(z.ma,d.buffer,a.Fa.bandwidthManifold);w8S=66;break;case 64:A.push(O?O.time?O.time:0:0);w8S=63;break;case 63:O=m(a,A,Y,D,G,ba,ha,da,ea,P,f[f.length-1].J,z.J);w8S=62;break;case 73:U=k(O,B,a.Fa.baseNetwork,a.Fa.policyNetwork,a.Fa.valueNetwork,t,void 0!==a.Fa.bandwidthManifold);D=U.E5a;t=U.Dcb;w8S=70;break;case 113:z=ia;w8S=99;break;case 127:w8S=D<z.length?126:124;break;case 21:++U;w8S=22;break;case 122:w8S=U<ia.length?121:152;break;case 60:return w.iB={a1:!0,state:O,j6:!1,Uc:{Eo:T,J:w.Lb.J,YX:G,al:ca},tY:w.Lb.J,uY:w.Lb.je,gga:H},w;break;case 35:ea=z.T?z.T.length:void 0;da=ea?ea-ca:void 0;S=a.Fa.bitrates;H=f.map(function(a){var e8S;e8S=2;while(e8S!==1){switch(e8S){case 2:return a.J;break;case 4:return a.J;break;e8S=1;break;}}});w8S=31;break;case 70:w8S=void 0!==a.Fa.bandwidthManifold?69:150;break;case 62:F(!x.S(a.Fa.repeatLength),O47);w8S=61;break;case 50:w8S=ja&&ja.length?49:45;break;case 104:U++;w8S=79;break;case 56:t=p(a.Fa.convLayerPars,a.Fa.convNetwork);w8S=55;break;case 103:w8S=!a.Fa.useControl&&a.Fa.randomizeAction?102:113;break;case 147:B=ia.map(function(a){var n93=v7AA;var Y8S;Y8S=2;while(Y8S!==1){switch(Y8S){case 4:n93.c47(4);return n93.G47(a,1);break;Y8S=1;break;case 2:n93.t47(5);return n93.G47(a,0);break;}}});w8S=73;break;case 40:w8S=U<ia.length?39:37;break;case 133:U++;w8S=135;break;case 13:w8S=!a.Fa.hasOwnProperty(S47)?12:11;break;case 81:z=Number.NEGATIVE_INFINITY;w8S=80;break;case 146:w8S=A.length<aa?145:64;break;case 47:A.push(ja[U]||0);w8S=46;break;case 129:w8S=U<z.length?128:123;break;case 123:U=0;w8S=122;break;case 109:U=0;w8S=108;break;case 144:w8S=U<aa?143:64;break;case 136:U++;w8S=138;break;case 31:F(!x.S(S),F47);ia=b(S,H).ANa;ba=h(a.Fa.qualityFunction,f,a.Fa.numOfChunkQualities,a.Fa.qualityRewardMultiplier,a.Fa.useProdSimulation,ia);c(a.Fa.qualityFunction,z,a.Fa.qualityRewardMultiplier);ha=g(a.Fa.chunkSizeFetchStyle,a.Fa.numOfChunkSizes,a.Fa.lookAhead||1,f,ca);w8S=43;break;case 145:U=A.length;w8S=144;break;case 39:void 0!==ia[U]&&f[ia[U]]==aa.Lb?P.push(1):P.push(0);w8S=38;break;case 102:U=Math.random(),z=ia=0;w8S=101;break;case 92:w.AN=!1;w8S=91;break;case 43:P=void 0;w8S=42;break;case 97:w8S=U<f.length?96:94;break;case 134:z.push(O.pM[U]);w8S=133;break;case 79:w8S=U<D.length?78:103;break;case 125:D++;w8S=127;break;case 26:V=0;S&&S.Om&&S.Om.jh&&S.Om.Tf&&S.Om.kh&&(V=Number((S.Om.kh-S.Om.jh)/S.Om.Tf).toFixed(6));A=O&&O[m47]?O[z47].ta:0;w8S=23;break;case 100:z++;w8S=101;break;case 75:B[U]=!0;w8S=74;break;case 87:X=Math.abs(S[U]-z),X=Math.exp(-X*X/.1),D.push(X),ia+=X;w8S=86;break;case 20:ca=d.al;O=z.ma;D=O?O.o8a:void 0;V=O?O.dk:void 0;X=O?O.Ht:void 0;ja=V?V.cf([0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]):void 0;S=O?O.Xi:void 0;w8S=26;break;case 80:U=ia=0;w8S=79;break;case 84:w8S=U<S.length?83:81;break;case 66:w8S=g47===w?90:112;break;case 49:U=0;w8S=48;break;case 14:T=z.ma.ia.ta;w8S=13;break;case 89:U=ia=0;w8S=88;break;case 61:w8S=0!=ca%a.Fa.repeatLength?60:59;break;case 93:w=aa;w8S=92;break;case 23:U=0;w8S=22;break;case 150:fa=n.call(this,D,a.Fa,S,ia,a,d,f,l,u,v);z=fa.P8a;w8S=148;break;case 139:A.push(X.Cp),U=0;w8S=138;break;case 11:B=d.buffer.X;t=d.buffer.Ka;w8S=20;break;case 119:aa=y.call(this,a,d,f,l,u,v);w8S=118;break;case 88:w8S=U<S.length?87:85;break;case 48:w8S=U<ja.length?47:45;break;case 96:f[U].ma.fpa=S[z],f[U].ia=u(f[U].ma,d.buffer);w8S=95;break;case 124:U++;w8S=129;break;case 57:return w=y.call(this,a,d,f,l,u,v),w.AN=!0,w.iB={a1:!1,j6:!0,Uc:{Eo:T,J:w.Lb.J,YX:G,al:ca},uY:w.Lb.je,tY:w.Lb.J,gga:H},w;break;case 169:w8S=U===E47?168:45;break;case 168:A.push(V),Y=!1;w8S=45;break;case 115:w.iB={a1:!1,j6:!1,state:O,action:z,frb:D,value:t,Qpb:B,Uc:{Eo:T,J:w.Lb.J,YX:G,rga:fa&&fa.value?Number(fa.value).toFixed(3):0,ut:V,ega:fa?Number(fa.ega).toFixed(6):0,al:ca},tY:w.Lb.J,uY:w.Lb.je,gga:H};return w;break;case 143:A.push(0);w8S=142;break;case 142:U++;w8S=144;break;case 55:w8S=a.Fa.useProdSimulation?77:147;break;case 148:w.Lb=fa.Lb;w8S=92;break;case 120:U++;w8S=122;break;case 99:w8S=!a.Fa.useControl&&(s47!==w||a.Fa.randomizeAction)?98:94;break;case 128:D=U;w8S=127;break;case 38:U++;w8S=40;break;case 132:w8S=w47===w?131:152;break;case 82:U++;w8S=84;break;case 111:z=[z];w8S=110;break;case 22:w8S=U<d.buffer.T.length?21:35;break;case 59:U=a.Fa.periodOfUseControl?a.Fa.periodOfUseControl:3E4;w8S=58;break;case 138:w8S=U<X.z.length?137:170;break;case 110:w8S=U?109:132;break;case 78:X=D[U],X>z&&(ia=U,z=X);w8S=104;break;case 94:aa=y.call(this,a,d,f,l,u,v);w8S=93;break;case 77:B=Array(S.length),U=0;w8S=76;break;case 95:U++;w8S=97;break;case 65:A=A.slice(0,aa);w8S=64;break;case 126:ia.push(z[U]*z[D]);w8S=125;break;case 151:F(!1,e47);w8S=81;break;case 46:U++;w8S=48;break;case 106:U++;w8S=108;break;case 51:w8S=U===v47?50:141;break;case 91:w8S=void 0!==a.Fa.mixWithProd?119:115;break;case 2:F(!x.S(l),o47);F(x.da(d.al),f47);F(!x.S(a.Fa),n47);w8S=3;break;case 117:w=aa,w.AN=!0;w8S=116;break;case 131:ia=[];w8S=130;break;case 140:w8S=X&&X.Cp&&X.z?139:170;break;case 141:w8S=U===a47?140:169;break;case 76:w8S=U<S.length?75:73;break;case 170:Y=!1;w8S=45;break;case 130:U=0;w8S=129;break;case 121:z.push(ia[U]);w8S=120;break;case 3:y=Z.PLAYING;w=N();w8S=8;break;case 74:U++;w8S=76;break;case 107:z.push(O.BR[U]);w8S=106;break;case 41:aa=y.call(this,a,d,f,l,u,v),aa.Lb,P=[],U=0;w8S=40;break;case 45:w8S=A.length>aa?65:146;break;case 12:return C.error(k47),w=y.call(this,a,d,f,l,u,v),w.AN=!0,w.iB={a1:!1,j6:!0,uY:w.Lb.je,tY:w.Lb.J,Uc:{Eo:T,J:w.Lb.J,YX:G}},w;break;case 108:w8S=U<O.BR.length?107:105;break;case 86:U++;w8S=88;break;case 83:D[U]/=ia;w8S=82;break;case 8:z=f[l];w.Lb=z;G=(d.buffer.Qi-d.buffer.me)/1E3;w8S=14;break;case 112:w8S=H47===w||i47===w?111:151;break;case 90:D=[];w8S=89;break;case 58:w8S=a.Fa.useControlEwmaMax&&T>a.Fa.useControlEwmaMax||a.Fa.useControl||a.Fa.useControlAtStart&&t<=B+U?57:56;break;case 42:w8S=a.Fa.addProdOutput?41:37;break;case 37:aa=a.Fa.numThroughputStats;U=a.Fa.throughputStatsType;F(aa&&1<=aa,j47);A=[T,A];Y=!0;w8S=51;break;case 118:w8S=D47===a.Fa.mixWithProd&&w.Lb.J>aa.Lb.J||Y47===a.Fa.mixWithProd&&w.Lb.J<aa.Lb.J?117:116;break;case 137:A.push(Number(X.z[U]).toFixed(6)/1);w8S=136;break;case 98:U=0;w8S=97;break;case 101:w8S=z<S.length&&!(ia+=D[z],U<ia)?100:99;break;case 85:U=0;w8S=84;break;case 152:D=r(z,a.Fa.policyNetwork,B,l47);w8S=81;break;case 105:U=0;w8S=135;break;case 116:V47!==a.Fa.mixWithProd&&p47!==a.Fa.mixWithProd&&F(!1,C47+a.Fa.mixWithProd);w8S=115;break;case 135:w8S=U<O.pM.length?134:132;break;}}}function v(a,b){var D2S,c,d,g,h;D2S=2;while(D2S!==3){switch(D2S){case 2:c=Number.POSITIVE_INFINITY,h=0;D2S=1;break;case 1:D2S=h<a.length&&!(d=Math.abs(a[h]-b),d<c&&(c=d,g=h),a[h]>b)?5:4;break;case 4:return g;break;case 5:h++;D2S=1;break;case 6:h--;D2S=3;break;D2S=1;break;}}}function k(a,b,c,d,g,h,f){var b2S,N77,h77;b2S=2;while(b2S!==9){N77="s";N77+="o";N77+="f";N77+="tm";N77+="ax";h77="t";h77+="a";h77+="n";h77+="h";switch(b2S){case 2:null===h?a=a.BR.concat(a.bsa).concat(a.pM).concat(a.Kga):(h=h.forward(a.bsa),a=a.BR.concat(h).concat(a.pM).concat(a.Kga));b2S=1;break;case 1:c=r(a,c,void 0,h77);b2S=5;break;case 5:b=f?void 0:r(c,d,b,N77);g=r(c,g,void 0,void 0)[0];return{E5a:b,Dcb:g,Xob:a};break;}}}function l(a,b,c,d){var a2S;a2S=2;while(a2S!==1){switch(a2S){case 2:return a.T&&0<a.T.length?b<a.T.length?a.T.Rja(b)/d:a.T.Rja(a.T.length-1)/d:a.J*c/8;break;}}}function g(a,b,c,d,g){var Q82=v7AA;var E2S,r,k,h,f,m,p,Q77,r8S;E2S=2;while(E2S!==30){Q77="ho";Q77+="ri";Q77+="zont";Q77+="a";Q77+="l";switch(E2S){case 9:p=0;E2S=8;break;case 15:p++;E2S=17;break;case 1:E2S=void 0===b||0>=b?5:4;break;case 4:h=1;E2S=3;break;case 19:E2S=Q77===a?18:23;break;case 10:p++;E2S=8;break;case 11:h=m/d[p].J;E2S=20;break;case 7:E2S=d[p].T&&0<d[p].T.length?6:10;break;case 23:a=Math.min(b,d.length),p=d.length-1;E2S=22;break;case 25:m.push(g);E2S=26;break;case 35:E2S=k<c?34:32;break;case 22:E2S=p>=d.length-a?21:27;break;case 18:c=d[d.length-1],m.push(c.J/8),p=0;E2S=17;break;case 3:f=2002;E2S=9;break;case 17:E2S=p<b-1?16:27;break;case 31:p--;E2S=22;break;case 34:r+=l(d[p],g+k,h,f);E2S=33;break;case 21:r=0,k=0;E2S=35;break;case 27:Q82.t47(1);r8S=Q82.J47(179,20,9);g=m[m.length-r8S];E2S=26;break;case 26:E2S=m.length<b?25:24;break;case 16:m.push(l(c,g+p,h,f));E2S=15;break;case 6:f=d[p].T;m=f.Rja(g);f=f.Vnb(g);Q82.t47(2);m=Q82.J47(8,f,m);E2S=11;break;case 2:E2S=1;break;case 20:m=[];E2S=19;break;case 32:Q82.c47(3);m.push(Q82.G47(c,r));E2S=31;break;case 5:return[];break;case 33:k++;E2S=35;break;case 24:return m;break;case 8:E2S=p<d.length?7:20;break;}}}N2S=2;function q(a,b,c){var n2S,d,g,h,f,m,l,p;n2S=2;while(n2S!==12){switch(n2S){case 7:a=Math.pow(Math.max(1-(a[l]&&a[l].ta||p)/f,0),m);b=b.Qi-b.me;h?g=D(h,b,a)*a:c?(d=D(d,b,1),g=D(g,b,1),g=d*a+g*(1-a)):g=D(S(d,g,a),b,1);return g;break;case 2:Array.isArray(c.curves)?(d=V(c.curves[0],0,0,1),g=V(c.curves[1],0,0,1)):h=V(c.curves,0,0,1);f=ja(c.threshold||6E3,1,1E5);m=ja(c.gamma||1,.1,10);l=c.filter;c=!!c.simpleScaling;p=a.ia&&a.ia.ta||0;n2S=7;break;}}}function p(a,b){var J2S,h,f,m,l,c,d,g,R77,T77;J2S=2;while(J2S!==15){R77="Only 1 conv ";R77+="laye";R77+="r currently supported!";T77="t";T77+="a";T77+="n";T77+="h";switch(J2S){case 8:b=b[0].W;g=a[0].filter_size;a=a[0].num_filters;J2S=14;break;case 12:f=[];J2S=11;break;case 19:l++;J2S=10;break;case 20:f.push(b[l][0][m]);J2S=19;break;case 14:h=[],m=0;J2S=13;break;case 18:h.push(f);J2S=17;break;case 1:J2S=void 0===a||void 0===b||0===a.length||0===b.length?5:4;break;case 11:l=0;J2S=10;break;case 10:J2S=l<g?20:18;break;case 16:return new O(h,c,d,0,T77);break;case 13:J2S=m<a?12:16;break;case 5:return null;break;case 4:F(1==a.length,R77);c=b[0].b;d=a[0].stride;J2S=8;break;case 17:m++;J2S=13;break;case 2:J2S=1;break;}}}while(N2S!==27){switch(N2S){case 2:x=a(10);N2S=5;break;case 10:ja=a(35).FE;V=a(35).Mga;D=a(35).Hia;a(35);N2S=17;break;case 7:N=y.gm;T=y.yX;t=y.hja;N2S=13;break;case 9:C=y.console;F=y.assert;N2S=7;break;case 5:a(13);y=a(41);a(9);N2S=9;break;case 17:S=a(35).Gqa;A=Math.log(110001);f.P={STARTING:Z.STARTING,BUFFERING:Z.BUFFERING,REBUFFERING:Z.REBUFFERING,PLAYING:G,PAUSED:G};N2S=27;break;case 13:Z=a(133);O=a(483);B=a(35).tanh;N2S=10;break;}}function r(a,b,c,d){var p2S,r,g,h,f,m,l,p,k,u,v,b77,u77,y77,x77,U77,d77,A77,W77,B77,K77,L77,Z77,M77;p2S=2;while(p2S!==44){b77="U";b77+="ns";b77+="upported ";b77+="NL type: ";u77="s";u77+="oft";u77+="max";y77="t";y77+="a";y77+="n";y77+="h";x77="r";x77+="e";x77+="l";x77+="u";U77="Mask should ";U77+="have same n";U77+="um";U77+="ber of ";U77+="elements as rows of mat!";d77="Masking only supported for softma";d77+="x n";d77+="o";d77+="nline";d77+="arity!";A77="soft";A77+="m";A77+="a";A77+="x";W77=") as length of ";W77+="vec";W77+=" ";W77+="+ (";B77="mat";B77+=" should have same ";B77+="n";B77+="umber of columns (";K77=") as len";K77+="gth of bi";K77+="as (";L77="mat should have ";L77+="s";L77+="ame number of ro";L77+="w";L77+="s (";Z77="t";Z77+="a";Z77+="n";Z77+="h";M77="s";M77+="o";M77+="f";M77+="tm";M77+="ax";switch(p2S){case 33:p2S=g<r.length?32:30;break;case 21:r[g]=void 0===p||p[g]?Math.exp(r[g]):0,h+=r[g];p2S=35;break;case 28:return h;break;case 17:p2S=v<f.length?16:27;break;case 29:a++;p2S=3;break;case 20:r=[],g=0;p2S=19;break;case 31:g++;p2S=33;break;case 19:p2S=g<h.length?18:24;break;case 32:r[g]/=h;p2S=31;break;case 16:u+=k[v]*f[v];p2S=15;break;case 9:h=b[a].W;p2S=8;break;case 34:g=0;p2S=33;break;case 24:p2S=M77===l?23:30;break;case 25:++g;p2S=19;break;case 2:g=a;h=a;p2S=4;break;case 8:f=g;m=b[a].b;l=a===b.length-1?d:Z77;p=a===b.length-1?c:void 0;F(h.length===m.length,L77+h.length+K77+m.length+")");F(f.length===h[0].length,B77+h[0].length+W77+f.length+")");p2S=11;break;case 35:g++;p2S=22;break;case 22:p2S=g<r.length?21:34;break;case 11:F(void 0===p||A77===l,d77);void 0!==p&&F(p.length===h.length,U77);p2S=20;break;case 30:g=h=r;p2S=29;break;case 18:k=h[g],u=m[g],v=0;p2S=17;break;case 15:++v;p2S=17;break;case 23:g=h=0;p2S=22;break;case 3:p2S=a<b.length?9:28;break;case 27:x77===l?u=Math.max(0,u):y77===l?u=B(u):void 0!==l&&u77!==l&&F(!1,b77+l);r[g]=u;p2S=25;break;case 4:a=0;p2S=3;break;}}}function n(a,b,c,d,g,h,f,m,l,p){var x2S,y,n,r,k,u,q,w,z,x,C,k2S,Z2S,F77,S77,O77,X77,r77,q77,I77,J77,G77;x2S=2;while(x2S!==45){F77="c";F77+="los";F77+="e";F77+="s";F77+="t";S77="dire";S77+="c";S77+="t";O77="re";O77+="l";O77+="at";O77+="i";O77+="ve";X77="ma";X77+="p";X77+="ping";r77="f";r77+="act";r77+="or";q77="hi";q77+="ghestLowerTh";q77+="an";I77="me";I77+="a";I77+="n";J77="Cannot us";J77+="e ";J77+="mapping strategy when usin";J77+="g mean!";G77="Invalid bitra";G77+="teMapStrateg";G77+="y config value: ";switch(x2S){case 40:F(!1,G77+g.Fa.bitrateMapStrategy);x2S=25;break;case 27:F(!g.Fa.useBitrateMean,J77);x2S=26;break;case 50:u=k=0;x2S=49;break;case 49:y=a[0],n=0;x2S=48;break;case 18:z=u;x2S=13;break;case 13:r.value=z;t(f,function(a){var q2S,Q2S,P77,t77,c77;q2S=2;while(q2S!==11){P77="abs";P77+="olut";P77+="e";t77="f";t77+="a";t77+="ct";t77+="o";t77+="r";c77="r";c77+="e";c77+="l";c77+="ativ";c77+="e";switch(q2S){case 4:w=0===w?1:w;a.ia=w;q2S=11;break;case 13:w=z;q2S=4;break;case 7:q2S=Q2S===c77?6:14;break;case 9:q2S=Q2S===t77?8:7;break;case 8:w=Math.floor(a.ma.ia.ta*z);q2S=4;break;case 12:delete a.ia;q2S=11;break;case 5:w=z;q2S=4;break;case 1:Q2S=b.estimateType;q2S=Q2S===P77?5:9;break;case 6:w=a.ia;q2S=4;break;case 2:q2S=a.Ye&&a.inRange&&!a.fh&&a.ma&&a.ma.$b?1:12;break;case 14:q2S=13;break;}}});x=Z.PLAYING.call(this,g,h,f,m,l,p);x2S=10;break;case 47:a[n]>y&&(k=n,y=a[n]),u+=a[n]*c[n];x2S=46;break;case 19:x2S=Z2S===I77?18:17;break;case 42:n++;x2S=44;break;case 2:r={};n=f[m].rga;x2S=4;break;case 17:x2S=16;break;case 21:n=f.length-1;x2S=35;break;case 36:n=Math.random();q=0;x2S=53;break;case 25:r.Lb=f[C];x2S=20;break;case 34:x2S=streamBitrates[n]<=a?33:32;break;case 39:x2S=b.randomizeAction?38:50;break;case 24:x2S=k2S===q77?23:31;break;case 48:x2S=n<a.length?47:9;break;case 20:return r;break;case 9:r.P8a=k;r.ega=y?y:0;x2S=7;break;case 4:x2S=b.useControlAtTraining&&!0===b.useProdSimulation&&r77===b.estimateType?3:39;break;case 38:x2S=Math.random()<(b.epsilon||0)?37:36;break;case 7:x2S=!0===b.useProdSimulation?6:15;break;case 37:k=Math.floor(Math.random()*Math.floor(c.length));x2S=9;break;case 52:x2S=k<a.length&&!(q+=a[k],n<q)?51:9;break;case 32:n--;x2S=35;break;case 16:z=c[k];x2S=13;break;case 28:n=C=0;x2S=44;break;case 53:k=0;x2S=52;break;case 43:d=Math.abs(streamBitrates[n]-a),d<c&&(c=d,C=n);x2S=42;break;case 46:n++;x2S=48;break;case 15:k2S=b.bitrateMapStrategy;x2S=k2S===X77?27:24;break;case 10:O77===b.estimateType?(m=T(f,function(a){var W2S;W2S=2;while(W2S!==1){switch(W2S){case 2:return a.id===x.Lb.id;break;case 4:return a.id!==x.Lb.id;break;W2S=1;break;}}}),m+=r.value,m=Math.max(0,m),m=Math.min(m,f.length-1),r.Lb=f[m]):r.Lb=x.Lb;x2S=20;break;case 26:C=d[k];x2S=25;break;case 44:x2S=n<f.length?43:25;break;case 3:k=v(c,n);x2S=9;break;case 51:k++;x2S=52;break;case 6:Z2S=b.actionStrategy;x2S=Z2S===S77?14:19;break;case 31:x2S=k2S===F77?30:41;break;case 23:a=g.Fa.useBitrateMean?u:baseBitrates[k];C=0;x2S=21;break;case 33:C=n;x2S=25;break;case 30:a=g.Fa.useBitrateMean?u:baseBitrates[k];c=Number.POSITIVE_INFINITY;x2S=28;break;case 41:x2S=40;break;case 35:x2S=-1<n?34:25;break;case 14:z=c[k];x2S=13;break;}}}function h(a,b,d,g,h,f){var z2S,m,o8S;z2S=2;while(z2S!==15){switch(z2S){case 11:z2S=h<d?10:14;break;case 8:h--;z2S=3;break;case 17:d=f[h],void 0!==d?m.push(c(a,b[d],g)):m.push(0);z2S=16;break;case 2:m=[];z2S=5;break;case 5:z2S=h?4:19;break;case 14:return m;break;case 13:z2S=m.length<d?12:14;break;case 6:m=m.slice(0,d);z2S=14;break;case 3:z2S=0<=h?9:7;break;case 7:z2S=m.length>d?6:13;break;case 4:v7AA.t47(0);o8S=v7AA.J47(16,15);h=b.length-o8S;z2S=3;break;case 18:z2S=h<f.length?17:14;break;case 9:m.push(c(a,b[h],g));z2S=8;break;case 19:h=0;z2S=18;break;case 16:h++;z2S=18;break;case 10:m.push(0);z2S=20;break;case 20:h++;z2S=11;break;case 12:h=m.length;z2S=11;break;}}}function m(a,b,c,d,g,h,f,m,l,p,r,k){var R2S,v,n,q,y,g77,z77,m77;R2S=2;while(R2S!==40){g77="Adding chunk sizes does ";g77+="not match the";g77+=" config!";z77="pro";z77+="d outputs must be supp";z77+="lied i";z77+="f addProdOutpu";z77+="t is turned on!";m77="Somet";m77+="hing went wr";m77+="ong w";m77+="ith input vector!";switch(R2S){case 20:F(c.length===a.Fa.numBToFeed,m77);d=[];R2S=18;break;case 3:c?n.push(u(b[v])):n.push(b[v]);R2S=9;break;case 24:g.push(h[v]);R2S=23;break;case 23:v++;R2S=25;break;case 43:g.push(p[v]);R2S=42;break;case 26:v=0;R2S=25;break;case 4:R2S=v<b.length-1?3:8;break;case 30:a.Fa.addNumChunksLeft&&(void 0!==m&&void 0!==l&&0<=m?g.push(m/l):g.push(1));R2S=29;break;case 31:v++;R2S=33;break;case 32:g.push(f[v]/25E6);R2S=31;break;case 28:F(void 0!==p,z77),v=0;R2S=44;break;case 25:R2S=v<h.length?24:22;break;case 33:R2S=v<f.length?32:30;break;case 6:v=0;R2S=14;break;case 35:R2S=a.Fa.numOfChunkSizes&&0<a.Fa.numOfChunkSizes?34:30;break;case 22:a.Fa.addTopBitrate&&g.push(u(r));a.Fa.addHighEndSignal&&(h=0,a.Fa.HERatio&&b[0]&&b[0]>a.Fa.HERatio*r&&(h=1),g.push(h));R2S=35;break;case 44:R2S=v<p.length?43:41;break;case 41:return{BR:n,bsa:c,pM:d,Kga:g};break;case 2:n=[u(b[0])];R2S=5;break;case 27:R2S=a.Fa.addChunkQualities?26:22;break;case 14:R2S=v<a.Fa.numBToFeed?13:20;break;case 18:a.Fa.addBufferStats&&d.push(g/240);g=[];a.Fa.addLastBitrate&&g.push(u(k));a.Fa.addAudioBitrate&&g.push(u(0));R2S=27;break;case 10:v++;R2S=14;break;case 34:F(f.length===a.Fa.numOfChunkSizes,g77),v=0;R2S=33;break;case 42:v++;R2S=44;break;case 13:y=void 0!==d?d.length-2-v:-1;-1<y&&(q=d[y]);c.push(u(q));R2S=10;break;case 29:R2S=a.Fa.addProdOutput?28:41;break;case 8:c=[];q=0;R2S=6;break;case 9:v++;R2S=4;break;case 5:v=1;R2S=4;break;}}function u(b){var G2S;G2S=2;while(G2S!==3){switch(G2S){case 1:return 0;break;case 5:a.Fa.takeLog?(b=Math.log(1+Math.max(0,b)),b/=A):b/=11E4;return b;break;case 2:G2S=0===b?1:5;break;case 7:return 3;break;G2S=3;break;}}}}}());},function(f,c,a){(function(){var E77,p,r,k,v,n,q,G,x,y,C;function m(a,b,c,d){var H77;H77=2;while(H77!==1){switch(H77){case 2:return!d&&a>c.ow&&(p.S(this.co)||this.rA>this.co||b-this.co>c.dP);break;}}}function l(a,b,c,d){var o77;o77=2;while(o77!==1){switch(o77){case 2:return g(a,b,c,d,!1);break;case 4:return g(a,b,c,d,+2);break;o77=1;break;}}}E77=2;function g(a,b,d,g,h){var f77,f,l,r,u,q,w,z,F,C,u2u,y2u,x2u,U2u,d2u,A2u,W2u,B2u,K2u,L2u,Z2u,M2u,R2u,T2u,Q2u,N2u,h2u,C77,p77,V77,l77,Y77,D77,j77;f77=2;while(f77!==42){u2u="Must hav";u2u+="e at least one selected strea";u2u+="m";y2u="m";y2u+="s";x2u=", b";x2u+="uff";x2u+="er lev";x2u+="el = ";U2u=", las";U2u+="tUp";U2u+="switc";U2u+="hPts = ";d2u="  ";d2u+="Ups";d2u+="witch ";d2u+="not allowed. lastDownswitchPts =";d2u+=" ";A2u="new selected stream not al";A2u+="igned with last buffered fragmen";A2u+="t, stay on previous streamIndex";W2u=" ";W2u+="k";W2u+="b";W2u+="p";W2u+="s";B2u=" ";B2u+="kb";B2u+="ps ";B2u+="> ";K2u="throughput ";K2u+="for ";K2u+="audio ";L2u="kbps,";L2u+=" streamingPts ";L2u+=":";Z2u=", ";Z2u+="audio th";Z2u+="roughput:";M2u=" k";M2u+="bps, pro";M2u+="f";M2u+="ile :";R2u="selectAudioStr";R2u+="eam: selecte";R2u+="d stre";R2u+="am";R2u+=" :";T2u=" ";T2u+="k";T2u+="b";T2u+="p";T2u+="s";Q2u=" kbp";Q2u+="s";Q2u+=", to ";N2u="swit";N2u+="chin";N2u+="g au";N2u+="di";N2u+="o from ";h2u="d";h2u+="o";h2u+="w";h2u+="n";C77="u";C77+="p";p77=" kbps, try to down";p77+="switc";p77+="h";V77=" ";V77+="kb";V77+="ps ";V77+="<";V77+=" ";l77="t";l77+="hroughpu";l77+="t for audi";l77+="o ";Y77=", stream";Y77+="ingP";Y77+="ts = ";D77=", las";D77+="tUpswitchPts =";D77+=" ";j77="  Upswitch allowed.";j77+=" lastDownswi";j77+="tchPts";j77+=" = ";switch(f77){case 25:f77=w<r.length-1&&z>F.Esa*q?24:10;break;case 26:w--;f77=16;break;case 6:w=r.indexOf(g);z=u.ia;F=a.fNa;f77=12;break;case 35:f77=m(C,q.Ka,F,h)?34:30;break;case 16:f77=0<=w?15:10;break;case 20:f77=(F=z.length)?19:29;break;case 31:f=h;f77=10;break;case 18:f77=w&&z<F.gia*q?17:25;break;case 32:f77=(h=r[w],q=d[h],x(q)&&z>F.Esa*q.J)?31:33;break;case 34:v&&k.log(j77+this.co+D77+this.rA+Y77+q.Ka);f77=33;break;case 17:v&&k.log(l77+z+V77+F.gia+"*"+q+p77),--w;f77=16;break;case 12:f77=0>w?11:18;break;case 15:f77=(h=r[w],q=d[h],x(q)&&(0==w||q.J*F.gia<z))?27:26;break;case 29:z=d[f];f!==g&&v&&k.log((f>g?C77:h2u)+N2u+u.J+Q2u+z.J+T2u);v&&k.log(R2u+z.J+M2u+l+Z2u+z.ia+L2u+b.buffer.Ka);return new y(f);break;case 10:z=b.buffer.T;f77=20;break;case 24:v&&k.log(K2u+z+B2u+F.Esa+"*"+q+W2u);q=b.buffer;C=q.Qi-q.me;f77=21;break;case 8:u=d[g];q=u.J;f77=6;break;case 19:z=z[F-1],c(z,d[f])||(v&&k.log(A2u),z.stream&&(f=z.stream.rh));f77=29;break;case 9:f77=r&&1<r.length?8:29;break;case 33:f77=++w<r.length?32:10;break;case 27:f=h;f77=10;break;case 21:f77=u.T&&u.T.length?35:10;break;case 11:f=0;f77=10;break;case 30:v&&k.log(d2u+this.co+U2u+this.rA+x2u+C+y2u);f77=10;break;case 2:n(!p.S(g),u2u);f=g;l=d[g].le;a.M5.some(function(c){var n77,g,h,f,m;n77=2;while(n77!==6){switch(n77){case 3:f=c.Lw.sP||a.sP;m=b.buffer.Av;n77=8;break;case 7:return h;break;case 2:g=c.profiles;h=g&&0<=g.indexOf(l);n77=4;break;case 8:r=d.filter(function(a){var a77;a77=2;while(a77!==1){switch(a77){case 2:return 0<=g.indexOf(a.le)&&a.J*f/8<m;break;}}}).map(function(a){var k77;k77=2;while(k77!==1){switch(k77){case 4:return a.rh;break;k77=1;break;case 2:return a.rh;break;}}});n77=7;break;case 4:n77=h?3:7;break;}}});f77=9;break;}}}function h(a,b,c,d){var v77;v77=2;while(v77!==1){switch(v77){case 4:return g(a,b,c,d,+8);break;v77=1;break;case 2:return g(a,b,c,d,!0);break;}}}while(E77!==11){switch(E77){case 2:p=a(10);r=a(41);k=r.console;E77=3;break;case 12:f.P={STARTING:function(a,c,d,g){var i77,h,f,J2u,G2u,b2u;i77=2;while(i77!==14){J2u=" ";J2u+="kbps, profil";J2u+="e :";G2u="selectAudio";G2u+="StreamSt";G2u+="arting: ";G2u+="selected";G2u+=" stream :";b2u="se";b2u+="lect";b2u+="AudioStreamStarting: overriding confi";b2u+="g with ";switch(i77){case 2:i77=1;break;case 1:h=a;f=d[g||0].le;i77=4;break;case 3:h={minInitAudioBitrate:a.BG,minHCInitAudioBitrate:a.AG,maxInitAudioBitrate:a.rG,minRequiredAudioBuffer:a.sP},v&&k.log(b2u+JSON.stringify(f)),q(f,h);i77=9;break;case 4:i77=(f=b(f,a.M5)||b(f,a.cNa))?3:9;break;case 9:a=C[G.xa.name[G.xa.ng]](h,c,d,g);d=d[a.se];v&&k.log(G2u+d.J+J2u+d.le);return a;break;}}},BUFFERING:h,REBUFFERING:h,PLAYING:l,PAUSED:l};E77=11;break;case 3:v=r.debug;n=r.assert;q=a(44);E77=7;break;case 7:G=a(13);x=r.iw;y=r.gm;C=a(258);E77=12;break;}}function c(a,b){var e77,c;e77=2;while(e77!==4){switch(e77){case 2:c=b.T;return c?(b=a.Ad,a=a.mi,(c=c.j_(b,b,!1))&&c.Ad==b&&c.mi==a):!0;break;}}}function b(a,b){var s77,c;s77=2;while(s77!==3){switch(s77){case 2:c=void 0;b.some(function(b){var w77,d;w77=2;while(w77!==9){switch(w77){case 4:c=b.Lw;w77=3;break;case 5:w77=(d=d&&0<=d.indexOf(a))?4:3;break;case 3:return d;break;case 2:d=b.profiles;w77=5;break;}}});return c;break;}}}}());},function(f,c,a){var d,h,l,g;function b(a,b,c){var f,m;f=this.UV;b=b.buffer.Ka;m="forward"===a.p8a;if(d.S(f))return f=m?h(c):h(c,c.length),this.VV=b,this.UV=f,new g(f);l(c[f])||(f=h(c,f),this.VV=b,this.UV=f);if(0>f)return null;if(b>this.VV+a.Rab){a=c.map(function(a,b){return a.Ye&&a.inRange&&!a.fh?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;m?f=(a.indexOf(f)+1)%a.length:(f=a.indexOf(f)-1,0>f&&(f=a.length-1));this.UV=a[f];this.VV=b;return new g(a[f]);}return new g(f);}d=a(10);a(13);c=a(41);h=c.m_;l=c.iw;g=c.gm;f.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){var d;function b(a,b,c){a=c.map(function(a,b){return a.Ye&&a.inRange&&!a.fh?b:null;}).filter(function(a){return null!==a;});return a.length?new d(a[Math.floor(Math.random()*a.length)]):null;}a(13);d=a(41).gm;f.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){var d,h,l,g;function b(a,b,c,f){if(d.S(f))a=h(c);else if(l(c[f]))a=f;else if(a=h(c,f),0>a)return null;return new g(a);}d=a(10);a(13);c=a(41);h=c.m_;l=c.iw;g=c.gm;f.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){(function(){var c2u,c,h,l,g,m,p,r,k,v,n,q,D2u,j2u,i2u,H2u,k2u,a2u,n2u;c2u=2;function b(a,b,d,g){var t2u;t2u=2;while(t2u!==8){switch(t2u){case 2:this.config=d;this.events=a||h(l,{});g&&(this.Su=g.Su,this.dL=g.dL);b=b||d.kx;this.dE=v.reduce(function(a,d){var P2u,g;P2u=2;while(P2u!==3){switch(P2u){case 5:a[d]=((n[g]||n[q[d]])[d]||n[q[d]][d]).bind(this);return a;break;case 2:g=c.Pd(b)?b[d]||q[d]:b;P2u=5;break;}}}.bind(this),{});d.Tp&&(this.n8a=n.rlabr);t2u=8;break;}}}while(c2u!==16){D2u="checkd";D2u+="efa";D2u+="ult";j2u="d";j2u+="e";j2u+="fa";j2u+="ul";j2u+="t";i2u="de";i2u+="fau";i2u+="l";i2u+="t";H2u="d";H2u+="ef";H2u+="a";H2u+="ul";H2u+="t";k2u="de";k2u+="f";k2u+="a";k2u+="ult";a2u="d";a2u+="e";a2u+="fa";a2u+="u";a2u+="lt";n2u="checkB";n2u+="u";n2u+="ff";n2u+="ering";switch(c2u){case 3:g=a(13);m=a(41);a(9);c2u=7;break;case 2:c=a(10);h=a(44);l=a(31).EventEmitter;c2u=3;break;case 7:p=m.console;r=m.hja;k=m.yX;c2u=13;break;case 13:v=[g.xa.name[g.xa.ng],g.xa.name[g.xa.Yq],g.xa.name[g.xa.qr],g.xa.name[g.xa.nf],g.xa.name[g.xa.sn],n2u];n={first:a(488),random:a(487),optimized:a(133),roundrobin:a(486),selectaudio:a(258),selectaudioadaptive:a(485),"default":a(133),rlabr:a(484),lowest:a(482),highest:a(481),throughputthreshold:a(480),checkdefault:a(479),testscript:a(478)};q={STARTING:a2u,BUFFERING:k2u,REBUFFERING:H2u,PLAYING:i2u,PAUSED:j2u,checkBuffering:D2u};b.prototype.constructor=b;b.prototype.V4=function(a,b,d,h,f,m,l){var I2u,u,v,n,q,y,w,z,x,F,C,N,G,T,t,A,q2u,l2u,Y2u;I2u=2;while(I2u!==60){l2u="Stream s";l2u+="elector ca";l2u+="lled with";l2u+=" invalid player state ";Y2u="r";Y2u+="l";Y2u+="a";Y2u+="br";switch(I2u){case 36:I2u=!u||null===u.se?54:53;break;case 44:t=u.Lb||b[u.se];t.ma&&t.ma.ia&&(F=t.ma.ia.ta||0);A=f.Lb;A.ma&&A.ma.ia&&(G=A.ma.ia.ta||0);T=b[w].J||0;I2u=39;break;case 12:c.S(w)&&(w=this.Su);r(b,function(b){var X2u;X2u=2;while(X2u!==8){switch(X2u){case 1:X2u=v!==b.ma||v&&v.Dq!==a.Dq||v&&v.Ht!==a.Ht?5:4;break;case 2:X2u=b.Ye&&b.inRange&&!b.fh&&b.ma&&b.ma.$b?1:9;break;case 4:b.ia=q;b.rga=1*q/b.ma.ia.ta;X2u=8;break;case 5:v=b.ma,v.Dq=a.Dq,v.Ht=a.Ht,a&&a.Gm&&b.ma&&(b.ma.Gm=!0),n==g.xa.ng&&y.kF&&a.zO&&(b.ma.ia.ta=a.zO),q=Math.floor(h(b.ma,a.buffer)),q=0===q?1:q;X2u=4;break;case 9:delete b.ia;X2u=8;break;}}});n===g.xa.ng&&c.da(w)&&(n=g.xa.Yq);N=b.filter(function(a){var O2u;O2u=2;while(O2u!==1){switch(O2u){case 2:return a&&a.Ye&&a.inRange&&!a.fh;break;}}});N.length||(N=b.filter(function(a){var S2u;S2u=2;while(S2u!==1){switch(S2u){case 4:return a||a.Ye||+a.fh;break;S2u=1;break;case 2:return a&&a.Ye&&!a.fh;break;}}}),N.forEach(function(a){var F2u;F2u=2;while(F2u!==1){switch(F2u){case 4:a.inRange=~8;F2u=0;break;F2u=1;break;case 2:a.inRange=!0;F2u=1;break;}}}));I2u=18;break;case 21:I2u=y.Tp&&Y2u!==y.kx&&(n===g.xa.nf||n===g.xa.sn)&&0===a.al%y.jB?35:36;break;case 23:u=this.dE[g.xa.name[n]].call(this,y,a,N,z,h,f);u.Lb?(u.Mv=[],b.forEach(function(a,b){var E2u;E2u=2;while(E2u!==4){switch(E2u){case 2:a===u.Lb&&(u.se=b);a.sR&&u.Mv.push(b);a.sR=!1;E2u=4;break;}}}),u.Mv.length||(u.Mv=void 0)):(x=function(a){var s2u;s2u=2;while(s2u!==1){switch(s2u){case 2:return k(b,function(b){var w2u;w2u=2;while(w2u!==1){switch(w2u){case 4:return b==N[a];break;w2u=1;break;case 2:return b===N[a];break;}}});break;case 4:return k(b,function(b){return b==N[a];});break;s2u=1;break;}}},u.se=x(u.se),u.Mv&&(u.Mv=u.Mv.map(x)));I2u=21;break;case 15:void 0!==w&&(z=k(N,function(a){var g2u;g2u=2;while(g2u!==1){switch(g2u){case 4:return a.J>=b[w].J;break;g2u=1;break;case 2:return a.J>b[w].J;break;}}}),z=0<z?z-1:0===z?0:N.length-1);I2u=27;break;case 62:return p.error(l2u+g.xa.name[a.state]),null;break;case 35:f=this.n8a[g.xa.name[n]].call(this,y,a,N,z,h,f);b.forEach(function(a){var e2u;e2u=2;while(e2u!==1){switch(e2u){case 2:a.sR=!1;e2u=1;break;case 4:a.sR=+5;e2u=2;break;e2u=1;break;}}});z=a.Nd||d.Qi-d.me;I2u=32;break;case 24:this.dL=g.xJ.ng;I2u=23;break;case 46:I2u=q2u===g.xa.Yq?45:65;break;case 13:C=x[F-1].ib,w=k(b,function(a){var r2u;r2u=2;while(r2u!==1){switch(r2u){case 4:return a.id!=C;break;r2u=1;break;case 2:return a.id===C;break;}}}),w=0<=w?w:void 0;I2u=12;break;case 65:I2u=q2u===g.xa.qr?45:64;break;case 54:return null;break;case 48:a.Kj&&(u.Ka=d.Ka,u.gH=f.ia||0,u.QG=f.ma&&f.ma.ia&&f.ma.ia.ta||0,u.wE=d.Qi-d.me,u.vE=d.Yf,u.UA=n);return u;break;case 63:I2u=q2u===g.xa.sn?23:62;break;case 2:d=a&&a.buffer;I2u=5;break;case 14:I2u=0<F?13:12;break;case 18:x=N;y.VH?x=N.filter(function(a){var m2u;m2u=2;while(m2u!==1){switch(m2u){case 4:return a.Ok;break;m2u=1;break;case 2:return a.Ok;break;}}}):a.state!==g.xa.nf&&a.state!==g.xa.sn&&(x=N.filter(function(a){var z2u;z2u=2;while(z2u!==1){switch(z2u){case 4:return~a.ZQ;break;z2u=1;break;case 2:return!a.ZQ;break;}}}));N=0<x.length?x:N.slice(0,1);I2u=15;break;case 26:delete this.co;delete this.rA;I2u=24;break;case 45:this.dL=g.xJ.ng;I2u=23;break;case 37:u.kB={current_tpt:x,prod_tpt:F,rl_tpt:G,current_br:T,prod_br:t,rl_br:A,blms:z,fellBackToProd:f.AN};I2u=36;break;case 32:G=F=x=0;T=0;t=0;A=0;b[w].ma&&b[w].ma.ia&&(x=b[w].ma.ia.ta||0);I2u=44;break;case 27:q2u=a.state;I2u=q2u===g.xa.ng?26:46;break;case 5:n=a&&a.state;y=this.config;w=this.Su;c.da(w)&&a&&a.state===g.xa.ng&&(delete this.Su,w=void 0);c.da(w)&&w>=b.length&&(delete this.Su,w=void 0);x=d.T;I2u=6;break;case 53:this.Su=u.se;f=b[u.se];u.reason&&(f.O8a=u.reason,f.U4=u.Ws,f.YF=u.YF,f.Qk=u.Qk,f.Qj=u.Qj);c.da(w)&&f.J<b[w].J&&(this.co=d.Ka);a.state!==g.xa.nf&&a.state!==g.xa.sn?(m=this.lz(a,f,m,l),(u.Nn=m.complete)?u.reason=m.reason:(u.Nn=!1,u.cx=m.cx,u.oG=m.oG,u.Rh=m.Rh)):u.Nn=!0;I2u=48;break;case 39:t=t.J||0;A=A.J||0;I2u=37;break;case 64:I2u=q2u===g.xa.nf?23:63;break;case 6:F=x.length;I2u=14;break;}}};c2u=19;break;case 19:b.prototype.lz=function(a,b,c,d){var v2u;v2u=2;while(v2u!==1){switch(v2u){case 2:return this.dE.checkBuffering.call(this,a,b,c,d,this.config);break;}}};b.prototype.R$a=function(a,b,d){var o2u;o2u=2;while(o2u!==1){switch(o2u){case 2:c.S(b)?(delete this.rA,delete this.co):b.J<d.J&&(this.rA=a);o2u=1;break;}}};c2u=17;break;case 17:f.P=b;c2u=16;break;}}}());},function(f,c,a){(function(){var V2u,k,v,n,q,G,x,U22,e22;function b(a){var p2u;p2u=2;while(p2u!==1){switch(p2u){case 2:a.x6=a.ma.$b>=x.Pc.gr&&!a.ma.Xv?a.ma.ia.ta*a.weight:0;p2u=1;break;}}}function l(a){var T1u,b,c,d,L22,P22;T1u=2;while(T1u!==9){L22="TEM";L22+="P ";L22+="fai";L22+="lin";L22+="g :";P22="PER";P22+="M ";P22+="fai";P22+="ling :";switch(T1u){case 1:b=(a=a.parent)?a.children:null;c=!1;d={};T1u=3;break;case 2:T1u=1;break;case 3:a&&b&&(d[0]=[],d[2]=[],d[1]=[],b.forEach(function(a){var R1u;R1u=2;while(R1u!==1){switch(R1u){case 2:d[a.Nb].push(a);R1u=1;break;case 4:d[a.Nb].push(a);R1u=7;break;R1u=1;break;}}}),0<d[0].length||(d[2].length==b.length?2!=a.Nb&&(a.Nb=2,G.error(P22,x.Fe.name[a.Vv]+" "+a.id),c=!0):(0==a.Nb&&(a.Nb=1,G.error(L22,x.Fe.name[a.Vv]+" "+a.id),c=!0),d[1].forEach(function(a){var M1u;M1u=2;while(M1u!==1){switch(M1u){case 4:a.Nb=8;M1u=0;break;M1u=1;break;case 2:a.Nb=0;M1u=1;break;}}})),c&&l(a)));T1u=9;break;}}}V2u=2;function c(a,b,c,d,g){var C2u,R22,l22,B22;C2u=2;while(C2u!==16){R22="c";R22+="l";R22+="ose";l22="und";l22+="erf";l22+="low";B22="net";B22+="wo";B22+="r";B22+="k";switch(C2u){case 8:this.npa=x.oU.dK;this.Sf={};this.Yk={};this.ag={};C2u=13;break;case 13:this.Db={};a=[];this.ee={id:B22,Vv:x.Fe.Qo,Nb:0,YM:!1,Sf:a,children:a};this.DH=this.nL=null;C2u=20;break;case 2:this.events=a||v(n,{});this.config=g;this.ej=b;this.C1=c;this.mode=0;this.uo=g.Lz&&d;C2u=8;break;case 20:this.PQ=x.Xo.dK;this.events.on(l22,function(){var h1u;h1u=2;while(h1u!==1){switch(h1u){case 4:this.R7a(x.oU.YDa);h1u=9;break;h1u=1;break;case 2:this.R7a(x.oU.YDa);h1u=1;break;}}}.bind(this));C2u=18;break;case 17:this.events.on(R22,function(){var N1u;N1u=2;while(N1u!==1){switch(N1u){case 2:this.i5a();N1u=1;break;case 4:this.i5a();N1u=2;break;N1u=1;break;}}}.bind(this));C2u=16;break;case 18:C2u=g.a1a?17:16;break;}}}function r(a){var d1u,K22,z22,Z22,u22;d1u=2;while(d1u!==13){K22="I";K22+="NVA";K22+="LI";K22+="D";z22="FAILED PERMANEN";z22+="T";z22+="LY";Z22="O";Z22+="K";u22="FAILED TE";u22+="M";u22+="PO";u22+="RARI";u22+="LY";switch(d1u){case 2:d1u=a&&k.Pd(a)&&k.da(a.Nb)?1:5;break;case 1:return r(a.Nb);break;case 5:d1u=a===0?4:3;break;case 8:d1u=a===1?7:6;break;case 3:d1u=a===2?9:8;break;case 7:return u22;break;case 4:return Z22;break;case 9:return z22;break;case 6:return K22;break;}}}function g(a){var Z1u,b,L1u,x22;Z1u=2;while(Z1u!==9){x22="<";x22+="ur";x22+="l for ";switch(Z1u){case 2:b=[];Z1u=1;break;case 1:Z1u=a?5:13;break;case 5:L1u=a.Vv;Z1u=L1u===x.Fe.Au?4:8;break;case 4:b.unshift(a.id+"("+a.name+")");Z1u=3;break;case 3:a=a.parent;Z1u=1;break;case 7:b.unshift(a.id);Z1u=3;break;case 8:Z1u=L1u===x.Fe.K9?7:6;break;case 14:b.unshift(x22+a.stream.J+">");Z1u=3;break;case 6:Z1u=L1u===x.Fe.URL?14:3;break;case 13:return b.length?"/"+b.join("/"):"";break;}}}function m(a,b){var K1u;K1u=2;while(K1u!==4){switch(K1u){case 5:a.children&&a.children.forEach(function(a){var B1u;B1u=2;while(B1u!==1){switch(B1u){case 2:m(a,b);B1u=1;break;case 4:m(a,b);B1u=9;break;B1u=1;break;}}});K1u=4;break;case 2:K1u=1==a.Nb||2==a.Nb&&b?1:5;break;case 1:a.Nb=0;K1u=5;break;}}}function p(a){var W1u,b,c;W1u=2;while(W1u!==3){switch(W1u){case 2:b=(a=a.parent)?a.children:null;c={};a&&b&&0!==a.Nb&&(c[0]=[],c[2]=[],c[1]=[],b.forEach(function(a){var A1u;A1u=2;while(A1u!==1){switch(A1u){case 4:c[a.Nb].push(a);A1u=9;break;A1u=1;break;case 2:c[a.Nb].push(a);A1u=1;break;}}}),0<c[0].length&&(a.Nb=0,p(a)));W1u=3;break;}}}while(V2u!==35){U22="medi";U22+="a|";U22+="a";U22+="sej";U22+="s";e22="ASE";e22+="JS_LOCATION_SELEC";e22+="TOR";switch(V2u){case 2:k=a(10);v=a(44);V2u=4;break;case 9:G=new q.Console(e22,U22);x=a(13);v(n,c.prototype);c.prototype.dM=function(a){var U1u,o22;U1u=2;while(U1u!==11){o22="ma";o22+="nifest";o22+="Add";o22+="ed";switch(U1u){case 13:this.emit(o22);this.dump();U1u=11;break;case 7:a.forEach(function(a){var P1u;P1u=2;while(P1u!==1){switch(P1u){case 2:a.Yk.sort(function(a,b){var I1u;I1u=2;while(I1u!==1){switch(I1u){case 2:return a.Fd-b.Fd;break;case 4:return a.Fd+b.Fd;break;I1u=1;break;}}});P1u=1;break;}}});this.ee.Sf=a;this.ee.children=a;U1u=13;break;case 2:a.locations.forEach(function(a){var x1u,c,d,g;x1u=2;while(x1u!==14){switch(x1u){case 2:c=a.key;x1u=5;break;case 4:d=[];g=this.C1.get(c);a={id:c,Fd:a.rank,level:a.level,weight:a.weight,Vv:x.Fe.K9,Nb:0,parent:this.ee,Yk:d,children:d,Db:{},Cq:!1,M3:!1,ma:g,x6:null};x1u=8;break;case 5:x1u=!k.has(this.Sf,c)?4:14;break;case 8:this.Sf[a.id]=a;a.parent.children.push(a);b(a);x1u=14;break;}}},this);this.nL=q.time.la();this.ee.Sf.sort(function(a,b){var y1u;y1u=2;while(y1u!==1){switch(y1u){case 2:return a.level-b.level||a.Fd-b.Fd;break;}}});a.servers.forEach(function(a){var u1u,b,c;u1u=2;while(u1u!==7){switch(u1u){case 5:b=this.Sf[a.key];c=[];a={id:a.id,name:a.name,type:a.type,Fd:a.rank,Vv:x.Fe.Au,Nb:0,parent:b,location:b,ag:c,children:c};this.Yk[a.id]=a;u1u=8;break;case 1:u1u=!k.has(this.Yk,a.id)?5:7;break;case 2:u1u=1;break;case 8:a.parent.children.push(a);u1u=7;break;}}},this);a.audio_tracks.forEach(function(a){var b1u;b1u=2;while(b1u!==1){switch(b1u){case 2:this.opa(a);b1u=1;break;case 4:this.opa(a);b1u=6;break;b1u=1;break;}}},this);a.video_tracks.forEach(function(a){var G1u;G1u=2;while(G1u!==1){switch(G1u){case 4:this.opa(a);G1u=2;break;G1u=1;break;case 2:this.opa(a);G1u=1;break;}}},this);a=this.ee.Sf.filter(function(a){var J1u,b;J1u=2;while(J1u!==3){switch(J1u){case 2:b=a.Yk.every(function(a){var c1u,B3u;c1u=2;while(c1u!==1){switch(c1u){case 4:v7AA.a22(0);B3u=v7AA.H22(20,20);return B3u!=a.ag.length;break;c1u=1;break;case 2:return 0===a.ag.length;break;}}});b&&(a.Yk.forEach(function(a){var t1u;t1u=2;while(t1u!==1){switch(t1u){case 2:delete this.Yk[a.id];t1u=1;break;case 4:+this.Yk[a.id];t1u=5;break;t1u=1;break;}}},this),delete this.Sf[a.id],delete a.parent,delete a.Yk,delete a.children,delete a.Db);return!b;break;}}},this);U1u=7;break;}}};V2u=14;break;case 14:c.prototype.opa=function(a){var q1u;q1u=2;while(q1u!==1){switch(q1u){case 2:a.streams.forEach(function(a){var r1u,b,O22;r1u=2;while(r1u!==8){O22="n";O22+="o";O22+="n";O22+="e";O22+="-";switch(r1u){case 3:k.Kc(b.PR,function(a){var O1u;O1u=2;while(O1u!==1){switch(O1u){case 2:a.sort(function(a,b){var S1u;S1u=2;while(S1u!==1){switch(S1u){case 4:return a.Wb.Fd*b.Wb.Fd;break;S1u=1;break;case 2:return a.Wb.Fd-b.Wb.Fd;break;}}});O1u=1;break;}}});b.Sf=b.Sf.sort(function(a,b){var F1u;F1u=2;while(F1u!==1){switch(F1u){case 2:return a.level-b.level||a.Fd-b.Fd;break;}}});r1u=8;break;case 2:b=this.Db[a.downloadable_id];k.S(b)&&(b={id:a.downloadable_id,J:a.bitrate,je:a.vmaf,type:a.type,profile:a.content_profile,clear:0===a.content_profile.indexOf(O22),ag:[],PR:{},Sf:[]},this.Db[b.id]=b);a.urls.forEach(function(a){var X1u,c,d;X1u=2;while(X1u!==11){switch(X1u){case 2:c=this.ag[a.url];X1u=5;break;case 4:c=this.Yk[a.cdn_id];d=c.location;c={id:a.url,url:a.url,Vv:x.Fe.URL,Nb:0,parent:c,Wb:c,stream:b};this.ag[c.url]=c;X1u=7;break;case 5:X1u=k.S(c)?4:11;break;case 7:c.parent.children.push(c);X1u=6;break;case 12:(a=b.PR[d.id])?a.push(c):b.PR[d.id]=[c];X1u=11;break;case 6:b.ag.push(c);b.Sf.push(d);d.Db[b.id]=b;X1u=12;break;}}},this);r1u=3;break;}}},this);q1u=1;break;}}};c.prototype.Xv=function(){var m1u,W3u;m1u=2;while(m1u!==1){switch(m1u){case 2:return 0!=this.ee.Nb;break;case 4:v7AA.X22(1);W3u=v7AA.n22(14,13,2366,26);return W3u==this.ee.Nb;break;m1u=1;break;}}};c.prototype.NR=function(a,c){var z1u,d,g,f,m,l,p,r,s32,V32,E32,t32;z1u=2;while(z1u!==27){s32="(empty strea";s32+="m lis";s32+="t)";V32="D";V32+="id no";V32+="t find";V32+=" a URL";V32+=" for ANY stream...";E32="netwo";E32+="rkFa";E32+="i";E32+="le";E32+="d";t32="Network has fail";t32+="ed, not updating s";t32+="tream selection";switch(z1u){case 12:r=this.Sf[this.ej.location];z1u=11;break;case 17:return this.Xk(x.Fe.Qo,!1),null;break;case 6:p=x.Pc.gr;z1u=14;break;case 14:d.LG&&(p=x.Pc.ln);z1u=13;break;case 4:m=this.uo;l=0;q.Fl&&q.Fl();z1u=8;break;case 7:return null;break;case 20:this.DH=this.dcb(a);z1u=19;break;case 18:z1u=!f||!f.length?17:16;break;case 16:c.forEach(function(a,b){var g1u,c,F22,k22,c22,y22;g1u=2;while(g1u!==4){F22=" K";F22+="b";F22+="p";F22+="s";F22+=")";k22=" ";k22+="(";c22="]";c22+=" ";y22="F";y22+="ai";y22+="lin";y22+="g s";y22+="tream [";switch(g1u){case 2:c=a.id;f.some(function(b){var E1u,h,l;E1u=2;while(E1u!==8){switch(E1u){case 4:return!1;break;case 2:h=b.Db[c];E1u=5;break;case 5:E1u=!h?4:3;break;case 3:l=h.Sf[0];return h.PR[b.id].some(function(c){var s1u,h,Q22,i22,G22,r22,M22,Y22,v22,C22,m22,T22,w22,N22,h22;s1u=2;while(s1u!==12){Q22="loc";Q22+="ati";Q22+="o";Q22+="nfa";Q22+="ilover";i22="serv";i22+="e";i22+="r";i22+="failover";G22="perfor";G22+="m";G22+="anc";G22+="e";r22="p";r22+="r";r22+="obe";M22="i";M22+="n";M22+="i";M22+="t";Y22="bi";Y22+="t";Y22+="r";Y22+="a";Y22+="te";v22="loc";v22+="s";v22+="w";v22+="itchb";v22+="ack";C22="se";C22+="rverswitch";C22+="ba";C22+="ck";m22="un";m22+="kn";m22+="o";m22+="wn";T22="i";T22+="n";T22+="i";T22+="t";w22="bitra";w22+="t";w22+="e";N22="serv";N22+="ers";N22+="witch";N22+="awa";N22+="y";h22="locsw";h22+="i";h22+="tchawa";h22+="y";switch(s1u){case 1:s1u=0!=c.Wb.Nb?5:4;break;case 2:s1u=1;break;case 3:return!1;break;case 5:return 1===c.Wb.Nb&&(a.Nb=1),d.so&&a.Wb===c.Wb.id&&c.Wb.hH&&(a.hH=c.Wb.hH),!1;break;case 4:s1u=0!=c.Nb?3:9;break;case 9:a.location!==b.id&&(h=d.so?b.id!==l.id||k.S(a.location)||a.location===b.id?b.id!==l.id?h22:!k.S(a.pA)&&a.pA!==c.Wb.id&&a.Nb?N22:k.S(a.pA)||a.pA===c.Wb.id||void 0!==a.Nb?b.id===l.id&&b!==f[0]?w22:void 0===a.location?T22:m22:C22:v22:b!==f[0]?Y22:void 0===a.location?M22:m?r22:k.S(a.cma)||a.cma==b.id?k.S(a.pA)||a.pA==c.Wb.id?G22:i22:Q22,a.location=b.id,a.b1a=b.level,a.QQ=h);a.url=c.url;a.Wb=c.Wb.id;s1u=6;break;case 6:a.HH=c.Wb.name;a.ma=d.VX?b.ma.$b>=x.Pc.ln?b.ma:g.$b<p?b.ma:g:g.$b==x.Pc.HAVE_NOTHING||b.ma.$b>=x.Pc.ln?b.ma:g;return!0;break;}}});break;}}})?(delete a.fh,delete a.Nb,a.Ye&&++l):a.Nb&&1===a.Nb?this.ee.Nb=1:a.fh||(G.warn(y22+b+c22+c+k22+a.J+F22),h(a),a.fh=!0);g1u=4;break;}}},this);return 0!=this.ee.Nb?(G.warn(t32),this.ee.YM=!0,this.emit(E32,2==this.ee.Nb),null):l?c:(G.warn(V32+(c.length?"":s32)),this.Xk(x.Fe.Qo,!0),null);break;case 13:z1u=this.ej.location&&g.$b>=p?12:10;break;case 11:r&&(r.ma=g,b(r));z1u=10;break;case 19:f=this.DH;z1u=18;break;case 8:z1u=0!=this.ee.Nb?7:6;break;case 10:z1u=k.Ja(this.DH)||m?20:19;break;case 2:d=this.config;g=this.ej.get();z1u=4;break;}}};c.prototype.dcb=function(a){var w1u,b,c,d,g,h;w1u=2;while(w1u!==15){switch(w1u){case 2:b=this;c=this.config;w1u=4;break;case 6:w1u=k.Ja(this.nL)||this.nL+c.E1<q.time.la()?14:13;break;case 7:return null;break;case 19:c.Lz?a.sort(function(a,c){var n1u;n1u=2;while(n1u!==1){switch(n1u){case 2:return a.level-c.level||(b.uo&&a.Cq&&!c.Cq?-1:0)||(b.uo&&c.Cq&&!a.Cq?1:0)||(b.uo&&a.Cq&&c.Cq?a.Fd-c.Fd:0)||c.KY-a.KY||c.x6-a.x6||a.Fd-c.Fd;break;}}}):a.sort(function(a,b){var a1u;a1u=2;while(a1u!==1){switch(a1u){case 2:return a.level-b.level||a.Fd-b.Fd;break;}}});this.cP||k.Ja(g)||(this.y3a(a[0],this.npa,g,this.Vqa),this.cP=!0);return a;break;case 14:a.forEach(function(a){var v1u;v1u=2;while(v1u!==1){switch(v1u){case 2:a.id!==this.ej.location&&(a.ma=this.C1.get(a.id));v1u=1;break;}}},this),this.nL=q.time.la();w1u=13;break;case 4:a=a.buffer;d=a.Qi-a.me;a=this.ee.Sf.filter(function(a){var e1u;e1u=2;while(e1u!==1){switch(e1u){case 4:return 2===a.Nb||8==a.level;break;e1u=1;break;case 2:return 0==a.Nb&&0!==a.level;break;}}});w1u=8;break;case 12:w1u=this.uo?11:16;break;case 13:g=null;w1u=12;break;case 8:w1u=0===a.length?7:6;break;case 11:a.forEach(function(a){var o1u;o1u=2;while(o1u!==1){switch(o1u){case 2:a.ma.$b>=x.Pc.ln?(a.M3=a.M3||a.Cq,a.Cq=!1,a.KY=x.Pc.ln):(a.Cq=!0,a.KY=a.ma.$b);o1u=1;break;}}},this);h=null;w1u=20;break;case 20:a.every(function(a){var f1u;f1u=2;while(f1u!==5){switch(f1u){case 2:k.Ja(h)&&(h=a.level);return h!=a.level?(this.uo=!1,g=x.Xo.U6,!1):a.ma.$b<x.Pc.ln?!1:a.ma.ia.ta>c.xN?(this.uo=!1,g=x.Xo.sxa,!1):!0;break;}}},this)&&(this.uo=!1,g=x.Xo.U6);w1u=19;break;case 16:c.Lz?(g=x.Xo.Dza,1==this.mode&&(this.uo=d>c.R5)):g=this.PQ;w1u=19;break;}}};V2u=10;break;case 10:c.prototype.R7a=function(a){var k1u,b;k1u=2;while(k1u!==8){switch(k1u){case 2:b=this.ej.location;k1u=5;break;case 5:this.cP=!1;this.uo=this.config.Lz&&!0;k1u=3;break;case 3:this.npa=a;this.ee.Sf.forEach(function(a){var H1u;H1u=2;while(H1u!==1){switch(H1u){case 2:a.id!=b&&a.ma&&a.ma.$b>x.Pc.gr&&(a.ma.$b=x.Pc.gr);H1u=1;break;}}});k1u=8;break;}}};c.prototype.cra=function(a){var i1u;i1u=2;while(i1u!==5){switch(i1u){case 2:i1u=(a=this.ag[a])?1:5;break;case 3:i1u=(a=this.ag[a])?5:3;break;i1u=(a=this.ag[a])?1:5;break;case 9:return a.parent.id;break;i1u=5;break;case 1:return a.parent.id;break;}}};c.prototype.bP=function(a){var j1u;j1u=2;while(j1u!==5){switch(j1u){case 2:j1u=(a=this.ag[a])?1:5;break;case 9:return a.parent.location;break;j1u=5;break;case 1:return a.parent.location;break;}}};V2u=18;break;case 4:n=a(31).EventEmitter;q=a(9);V2u=9;break;case 25:c.prototype.Dw=function(a){var T3u,f32;T3u=2;while(T3u!==1){f32="lo";f32+="gd";f32+="a";f32+="ta";switch(T3u){case 4:this.Ha("",a);T3u=7;break;T3u=1;break;case 2:this.Ha(f32,a);T3u=1;break;}}};V2u=24;break;case 18:c.prototype.Nra=function(a){var D1u;D1u=2;while(D1u!==5){switch(D1u){case 3:D1u=(a=this.ag[a])?3:9;break;D1u=(a=this.ag[a])?1:5;break;case 2:D1u=(a=this.ag[a])?1:5;break;case 1:return a.stream;break;case 9:return a.stream;break;D1u=5;break;}}};c.prototype.m9a=function(a,b){var Y1u,c,d;Y1u=2;while(Y1u!==9){switch(Y1u){case 3:return c;break;case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;k.forEach(this.ag,function(g,h){var l1u,f,m,l,p,D32,d32,A3u;l1u=2;while(l1u!==14){D32="8";D32+="0";d32="4";d32+="4";d32+="3";switch(l1u){case 9:v7AA.a22(2);A3u=v7AA.n22(21,405,14,8);l="s"===m[A3u];p=m[2];l1u=7;break;case 5:f=c[g];m=h.match(d);l1u=3;break;case 3:l1u=m&&4===m.length?9:14;break;case 2:g=g.parent.id;l1u=5;break;case 7:m=m[3];k.oc(p)&&k.oc(m)&&(m.length||(m=l?d32:D32),p==a&&m==b&&(f?f.push(h):c[g]=[h]));l1u=14;break;}}});Y1u=3;break;}}};c.prototype.Xk=function(a,b,c,d){var V1u,p1u,h,f,m,W32,j32,S32,I32,q32,p32,g32,b32,J32;V1u=2;while(V1u!==25){W32="n";W32+="etworkFaile";W32+="d";j32="Emitting networkF";j32+="ailed, perm";j32+="a";j32+="nent";j32+=" =";S32="Inv";S32+="alid f";S32+="ailure s";S32+="tate";I32="Unabl";I32+="e to f";I32+="ind failure entity for U";I32+="RL ";q32=" : ";q32+="w";q32+="a";q32+="s";q32+=" ";p32=" ";p32+="a";p32+="t";p32+=" ";g32=" fail";g32+="ur";g32+="e repo";g32+="rted for ";b32="T";b32+="E";b32+="M";b32+="P";J32="P";J32+="E";J32+="R";J32+="M";switch(V1u){case 9:G.warn((b?J32:b32)+g32+x.Fe.name[a]+p32+g(h)+q32+r(h.Nb));V1u=8;break;case 5:h=h.parent;V1u=1;break;case 4:V1u=h?3:26;break;case 26:v7AA.X22(3);G.warn(v7AA.H22(I32,c));V1u=25;break;case 27:throw Error(S32);V1u=14;break;case 6:V1u=p1u===1?14:16;break;case 8:p1u=h.Nb;V1u=p1u===2?7:6;break;case 16:V1u=p1u===0?14:15;break;case 14:h.Nb=m;l(h);this.ee.YM=this.ee.YM||0!=this.ee.Nb;a=this.ee.Nb;V1u=10;break;case 10:a>f&&(G.warn(j32,2==a),this.emit(W32,2==a));this.DH=null;this.PQ=x.Xo.ERROR;d&&(this.PQ=x.Xo.HCa,this.Vqa={f5:d.pX,ew:d.ew,Mj:d.Mj,wN:d.wN,Uk:d.Uk},h.hH=d);this.dump();V1u=25;break;case 7:return;break;case 3:V1u=m!=h.Nb?9:25;break;case 2:h=a==x.Fe.Qo?this.ee:this.ag[c],f=this.ee.Nb,m=b?2:1;V1u=1;break;case 15:V1u=27;break;case 1:V1u=h&&h.Vv!=a?5:4;break;}}};c.prototype.pqa=function(a,b){var C1u;C1u=2;while(C1u!==9){switch(C1u){case 3:this.Vqa={f5:a};C1u=9;break;case 2:m(this.Yk[a],b);p(this.Yk[a]);this.DH=null;this.PQ=x.Xo.ICa;C1u=3;break;}}};V2u=27;break;case 21:f.P=c;V2u=35;break;case 27:c.prototype.fB=function(a){var h3u;h3u=2;while(h3u!==1){switch(h3u){case 2:m(this.ee,a);h3u=1;break;case 4:m(this.ee,a);h3u=4;break;h3u=1;break;}}};c.prototype.i5a=function(){var N3u;N3u=2;while(N3u!==1){switch(N3u){case 2:this.ee.YM||this.ee.Sf.forEach(function(a){var Q3u;Q3u=2;while(Q3u!==1){switch(Q3u){case 2:1==a.Nb&&this.C1.fail(a.id,q.time.la());Q3u=1;break;}}},this);N3u=1;break;}}};V2u=25;break;case 24:c.prototype.y3a=function(a,b,c,d){var R3u,g,H32,A32;R3u=2;while(R3u!==4){H32="loc";H32+="a";H32+="ti";H32+="onSel";H32+="ected";A32="loc";A32+="at";A32+="ionSelected";switch(R3u){case 5:this.Ha(A32,{type:H32,location:a.id,locationlv:a.level,serverid:a.Yk[0].id,servername:a.Yk[0].name,serverrtt:0,serverbw:a.ma&&a.ma.ia?a.ma.ia.ta:0,probedata:g,testreason:x.oU.name[b],selreason:x.Xo.name[c],fastselthreshold:this.config.xN,seldetail:d});R3u=4;break;case 2:g=this.ee.Sf.filter(function(a){var M3u;M3u=2;while(M3u!==1){switch(M3u){case 4:return a.M3;break;M3u=1;break;case 2:return a.M3;break;}}}).map(function(a){var Z3u,b;Z3u=2;while(Z3u!==3){switch(Z3u){case 2:b={id:a.id,locid:a.id};a.ma&&(a.ma.ia&&(b.bw=a.ma.ia.ta),a.ma.he&&(b.rtt=a.ma.he.ta));return b;break;}}});R3u=5;break;}}};c.prototype.dump=function(){};c.prototype.ija=function(a){var L3u,b;L3u=2;while(L3u!==3){switch(L3u){case 1:L3u=a?5:3;break;case 5:b=a.bind(this);k.forEach(this.ag,function(a){var K3u,c;K3u=2;while(K3u!==4){switch(K3u){case 2:c=a.Wb;b(c.location,c,a.stream,a);K3u=4;break;}}});L3u=3;break;case 2:L3u=1;break;}}};V2u=21;break;}}function h(a){var Q1u;Q1u=2;while(Q1u!==9){switch(Q1u){case 4:delete a.ma;delete a.ia;Q1u=9;break;case 2:delete a.url;delete a.location;delete a.Wb;Q1u=4;break;}}}}());},function(f,c,a){var d;function b(a,c){var g,h,f;g=[];if(d.Pd(c)){h={};f={};f[a]=h;g.push(f);g=Object.keys(c).reduce(function(g,f){var m,l,p;m=c[f];p={};d.A_a(m)?(l=a+".__embed__."+f,p[l]=m,g.push(p)):d.Pd(m)?(l=a+".__sub__."+f,m=b(l,m),h[f]=m[0][l],g=g.concat(m.slice(1))):h[f]=m;return g;},g);}else f={},f[a]=c,g.push(f);return g;}d=a(116);f.P={uTa:b,v_a:function(a){var b,q;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(function(a,b){return a.length>b.length;});for(var c=b[0],d=c.length,c=a[c.join(".")],h=1;h<b.length;h++)for(var f=!1,k=!1,v=c,n=d;n<b[h].length;n++){q=b[h][n];switch(q){case"__metadata__":break;case"__sub__":k=!0;break;case"__embed__":f=!0;break;default:k?(v=v[q],k=!1):f&&(v[q]=a[b[h].join(".")],f=!1);}}return c;},J_a:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(f,c,a){function b(a){return a;}function d(){return b;}a(10);f.P={DF:d,b0:d};},function(f,c,a){var b,d,h,l;b=a(10);d=a(116);h={};h[d.kl.cu]=function(a){return a;};h[d.kl.eK]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[d.kl.OBJECT]=function(a){a=a||new ArrayBuffer(0);return JSON.parse(String.fromCharCode.apply(null,new Uint8Array(a)));};l={};l[d.kl.cu]=function(a){return a;};l[d.kl.eK]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,g=a.length;d<g;d++)c[d]=a.charCodeAt(d);return b;};l[d.kl.OBJECT]=function(a){return b.S(a)||b.Ja(a)?a:l[d.kl.eK](JSON.stringify(a));};f.P={DF:function(a){return h[a]||h[d.kl.cu];},b0:function(a){return l[a]||l[d.kl.cu];}};},function(f){function c(a){if(!(this instanceof c))return new c(a);if("undefined"===typeof a)this.Gi=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Gi=a;}this.vl=[];}function a(c,h){var d,g,f,p,r,k,v;d=c.vl;g=c.Gi;f=2*h+1;p=2*h+2;r=d[h];k=d[f];v=d[p];k&&g(k.Vc,r.Vc)&&(!v||g(k.Vc,v.Vc))?(b(d,h,f),a(c,f)):v&&g(v.Vc,r.Vc)&&(b(d,h,p),a(c,p));}function b(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}c.prototype.clear=function(){this.vl=[];};c.prototype.jA=function(a,c){this.vl.push({Vc:a,value:c});a=this.vl;c=this.Gi;for(var d=a.length-1,g=0===d?null:Math.floor((d-1)/2);null!==g&&c(a[d].Vc,a[g].Vc);)b(a,d,g),d=g,g=0===d?null:Math.floor((d-1)/2);};c.prototype.remove=function(){var c;if(0!==this.vl.length){c=this.vl[0];b(this.vl,0,this.vl.length-1);this.vl.pop();a(this,0);return c.value;}};c.prototype.$G=function(){if(0!==this.vl.length)return this.vl[0].value;};c.prototype.enqueue=c.prototype.jA;c.prototype.XSa=c.prototype.remove;c.prototype.sx=function(){return this.vl.map(function(a){return a.value;});};f.P=c;},function(f,c,a){var d,h,l,g,m;function b(a,c,f){var C,F;function p(a,b,c,d){a.info.call(a,function(a){var g;try{g=a.values[this.context].entries[b][c].size;}catch(ja){g=-1;}-1<g?d(g):this.o6(function(a){try{g=a[c].size;}catch(V){g=-1;}d(g);});}.bind(a));}function r(a,c,d,g,f,m,l){m?m.Ni||(m.Ni={}):m={Ni:{}};C(g);a.create(h.storage.Yx,c,d,function(d){d.K?p(a,h.storage.Yx,c,function(a){F(a);C(a);m.Ni[b.JI.FT]={K:!0,time:f,El:a,ft:c,Bpa:d};m.Lh=d.Lh;l(null,m);}):(m.Ni[b.JI.FT]={K:!1,ft:c,error:d.error},l(null,m));});}function k(a,b,c,d,g,h){d.jA(c.time,c);for(var f=c.time-864E5,m=d.$G();m&&!isNaN(m.time)&&m.time<f;)m=d.XSa(),C(0-(m.ga||0)),m=d.$G();d=d.sx().map(function(a){return a.time+";"+a.ga;});r(a,b,Array.prototype.join.call(d,"|"),c.ga,c.time,g,h);}function u(a,c,d,g,h,f,m,r,u){a.create(d,g,h,function(h){var v;if(h.K){v=h.Lh;p(a,d,g,function(d){var l,p;l={time:r,ga:d||0};p={Lh:v,Ni:{}};p.Ni[b.JI.REPLACE]={K:!0,time:r,El:d,ft:g,Bpa:h};f?k(a,c,l,m,p,u):(C(d),u(null,p));});}else u(l.qK.Zl(h.error||"Failed to create item"));});}function n(a,c,d,g,h,f,m,r,u){a.append(d,g,h,function(h){var v;if(h.K){v=h.Lh;p(a,d,g,function(d){var l,p;l={time:r,ga:d||0};p={Lh:v,Ni:{}};p.Ni[b.JI.jEa]={K:!0,time:r,El:d,ft:g,Bpa:h};f?k(a,c,l,m,p,u):(C(d),u(null,p));});}else u(l.qK.Zl(h.error||"Failed to save item"));});}function q(a,b){a&&d.wb(a.remove)&&a.valid&&a.remove(h.storage.Yx,b.Cy,function(c){try{c&&(d.S(c.error)||c.error.some(function(a){return"NFErr_FileNotFound"===a.jnb;}))&&k(a,b.Cy,{time:0,ga:0},b.RD,0,function(){});}catch(Z){}});}if(!a.valid)return m;this.$ca=d.S(c)||d.Ja(c)?0:c;this.vV=a;this.PV=this.nD=0;this.RD=new g();this.EJa=f||"default";this.Cy=this.EJa+".NRDCACHEJOURNALKEY";C=function(a){isNaN(a)||(this.nD+=a);return this.nD;}.bind(this);F=function(a){isNaN(a)||(this.PV+=a);return this.PV;}.bind(this);this.Tja=function(){return this.Cy;};this.save=function(a,b,c,d){var g;g=h.time.now();n(this.vV,this.Cy,a,b,c,0<=this.$ca,this.RD,g,d);};this.replace=function(a,b,c,d){var g;g=h.time.now();u(this.vV,this.Cy,a,b,c,0<=this.$ca,this.RD,g,d);};this.Dja=function(a){var b,g;b=this.nD;a-=864E5;for(var c=this.RD.sx(),d=0;d<c.length;d++){g=c[d];g.time<a&&!isNaN(g.ga)&&(b-=g.ga);}return b;};(function(a){var b;b=a.vV;a.nD=0;b.read(h.storage.Yx,a.Cy,0,-1,function(c){var d,g,f,l;d=[];g=0;f=!0;if(c.K){c=String.fromCharCode.apply(null,new Uint8Array(c.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a+(b.length+40);},0);C(d);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),ga:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.ga;},0)))for(var f=!1,m=h.time.now()-864E5;g<d.length;g++){l=d[g];l.time<m||(a.RD.jA(l.time,l),C(l.ga));}}catch(D){}}f&&q(b,a);});}(this));}d=a(10);h=a(100);l=a(171);g=a(494);c=a(44);new h.Console("DISKWRITEMANAGER","media|asejs");c({JI:{jEa:"saveitem",REPLACE:"replaceitem",FT:"journalupdate"}},b);m={save:function(a,b,c,d){d(l.c$);},replace:function(a,b,c,d){d(l.c$);},Tja:function(){return"";},Dja:function(){return 0;}};b.prototype.constructor=b;f.P={create:function(a,c,d){return new b(a,c,d);},Shb:m};},function(f,c,a){var p,r,k,v,n,q,G,x;function b(){}function d(c,g,f,m,k){var u;u=p.wb(m)?m:b;this.Pr=c;this.pl=f.Av;this.sp=0;this.mHa=f.MUa||"NONE";this.ap=p.S(k)||p.Ja(k)?0:k;this.Ld={};this.vn=f.Xpb||r.storage.Yx;this.bp=g;this.aE=n.create(this.bp,f.mSa*this.ap,this.Pr);this.on=this.addEventListener=x.addEventListener;this.removeEventListener=x.removeEventListener;this.emit=this.Ha=x.Ha;this.Fda=l(this,d.bd.REPLACE);this.OHa=l(this,d.bd.dca);this.bv;this.bv=f.Vsa?a(493):a(492);this.Wz(function(a){this.gQ(a.filter(function(a){return q.mA(a);}),function(a,b){Object.keys(b).map(function(a){this.Ld[q.Oia(a)]=b[a];}.bind(this));h(this.bp,this.vn,this.Pr,function(a){this.sp=a;u(this);}.bind(this));}.bind(this));}.bind(this));}function h(a,c,d,g){var h;h=p.wb(g)?g:b;a.query(c,d,function(a){var b;b=Object.keys(a).reduce(function(b,c){return b+(a[c].size||0);},0);h(b);});}function l(a,b){return function(c,f,m,l,k){return function(u,v){var n;if(u)f||a.Ha(d.bd.ERROR,{itemKey:c,error:u}),m(u);else{n={El:0,items:[],time:r.time.now()};Object.keys(v.Ni).map(function(b){var c;c=v.Ni[b];b={key:a.wsa(c.ft),fe:b};c.K?(n.El+=c.El,b.LO=c.El):b.error=c.error;n.items.push(b);});u=p.wb(l)?l():0;0<k&&(n.wz=k-u);h(a.bp,a.vn,a.Pr,function(c){a.sp=c;n.Lh=a.pl-c;f||a.Ha(b,g(n));m(null,n);});}};};}function g(a){var b;b={freeSize:a.Lh,dailyBytesRemaining:a.wz,bytesWritten:a.El,time:a.time};a.items&&(b.items=a.items.map(function(a){return{key:a.key,operation:a.fe,itemBytes:a.LO,error:a.error};}));return b;}function m(a,b){return 0<b&&a>=b?!0:!1;}p=a(10);r=a(100);k=a(171);c=a(44);v=new r.Console("MEDIACACHE","media|asejs");n=a(495);q=a(261);G=a(116);x=a(31).EventEmitter;c({bd:{dca:"writeitem",REPLACE:"replaceitem",FT:"journalupdate",ERROR:"mediacache-error"}},d);d.prototype.getName=function(){return this.Pr;};d.prototype.wsa=function(a){return a.slice(this.Pr.length+1);};d.prototype.Pja=function(){return Object.keys(this.Ld).filter(function(a){a=q.w_(this.Ld[a]);return void 0===a||0>=a.fha();}.bind(this));};d.prototype.dYa=function(){return Object.keys(this.Ld).reduce(function(a,b){var c;c=this.Ld[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:r.time.now()}).isb;};d.prototype.oXa=function(){var a;switch(this.mHa){case"FIFO":a=this.dYa();}return a;};d.prototype.USa=function(a){var c;c=p.wb(a)?a:b;this.Wz(function(b){var d,g,h;d=this.Ld;g=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!q.mA(a)&&0>g.indexOf(a);}))&&0<b.length){h=this;r.Promise.all(b.map(function(a){return new r.Promise(function(b,c){h["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{j4:!0});},function(a){c(a,{j4:!1});});}else a(void 0,{j4:!1});}.bind(this));};d.prototype.S6a=function(a,c,d){var g;g=p.wb(c)?c:b;this.bp.read(this.vn,this.yw(a),0,-1,function(b){var c;if(b&&b.K&&b.value){p.wb(d)||(d=this.bv.DF(G.kl.cu),q.mA(a)?d=this.bv.DF(G.kl.OBJECT):(c=this.Ld[a],!p.S(c)&&p.da(c.resourceIndex[a])?(c=c.resourceIndex[a],p.S(c)&&(c=G.kl.cu),d=this.bv.DF(c)):v.warn("Metadata is undefined or does not contain a resource format for key",a,":",c)));b=d(b.value);g(null,b);}else g(k.WC.Zl(b.error));}.bind(this));};d.prototype.read=function(a,b,c){this.S6a(a,b,c);};d.prototype.gQ=function(a,c,d){var g,h;g=p.wb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))g(k.WC.Zl("item keys must be an array"));else{h={};r.Promise.all(a.map(function(a){return new r.Promise(function(b,c){var g;d&&!p.S(d[a])&&(g=this.bv.DF(d[a]));this.read(a,function(d,g){d?(g={},g[a]=d,c(g)):(h[a]=g,b());},g);}.bind(this));}.bind(this))).then(function(){g(null,h);},function(a){g(a);});}};d.prototype.write=function(a,c,d,g,h){var f,l,r;d=p.wb(d)?d:b;f=this.yw(a);l="function"===typeof h?h():0;r=G.i0(c);r=this.bv.b0(r)(c);r.byteLength+this.sp>=this.pl?d(k.Kx):m(r.byteLength+l,this.ap)?d(k.rK):this.aE.save(this.vn,f,c,this.OHa(a,g,d,h,this.ap),r.byteLength);};d.prototype.replace=function(a,c,d,g,h){var f,l,r,u;f=p.wb(d)?d:b;l=this.yw(a);r=0;"function"===typeof h&&(r=h());d=G.i0(c);u=this.bv.b0(d)(c);d=(this.Ld[a]||{}).size||0;0>=d&&this.Ld[a]?this.cka([a],function(b){v.trace("Replacing key",a,"which exists:",!!this.Ld[a],this.Ld[a]?this.Ld[a]:void 0,"and has size",b,"with",c,"with size",u.byteLength,"plus _used",this.sp,"vs capacity",this.pl);u.byteLength-b+this.sp>=this.pl?f(k.Kx):m(u.byteLength-b+r,this.ap)?f(k.rK):this.aE.replace(this.vn,l,c,this.Fda(a,g,f,h,this.ap),u.byteLength);}.bind(this)):(v.trace("Replacing key",a,"which exists:",!!this.Ld[a],this.Ld[a]?this.Ld[a]:void 0,"and has size",d,"with",c,"with size",u.byteLength,"plus _used",this.sp,"vs capacity",this.pl),u.byteLength-d+this.sp>=this.pl?f(k.Kx):m(u.byteLength-d+r,this.ap)?f(k.rK):this.aE.replace(this.vn,l,c,this.Fda(a,g,f,h,this.ap),u.byteLength));};d.prototype.J7a=function(a,c,h,f){var m;m=p.wb(c)?c:b;"[object Object]"!==Object.prototype.toString.call(a)?m(k.qK.Zl("items must be a map of keys to objects")):r.Promise.all(Object.keys(a).map(function(b){return new r.Promise(function(c){this.replace(b,a[b],function(a,d){a?c({error:a,key:b}):c(d);},!0,f);}.bind(this));}.bind(this))).then(function(a){var b,c,l,k;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.El+=c.El,!p.S(c.Lh)&&c.Lh<b&&(b=c.Lh),c.items.map(function(b){a.items.push({key:b.key,fe:b.fe,LO:b.LO,o1a:b.o1a});}),b<Number.MAX_VALUE&&(a.Lh=b));return a;},{El:0,items:[],time:r.time.now()});0<this.ap&&(c.wz=this.ap-f());l=null;k=a.filter(function(a){return!p.S(a.error);});0<k.length&&(l=k.reduce(function(a,b){a[b.key]=b.error;return a;},{}));h||(l?this.Ha(d.bd.ERROR,l):this.Ha(d.bd.REPLACE,g(c)));m(l,c);}catch(V){m(V);}}.bind(this),function(a){h||this.Ha(d.bd.ERROR,a);m(a);}.bind(this));};d.prototype["delete"]=function(a,c){var d;d=p.wb(c)?c:b;this.bp.remove(this.vn,this.yw(a),function(a){a&&a.K?h(this.bp,this.vn,this.yw(""),function(a){this.sp=a;d();}.bind(this)):d(k.Jva.Zl(a.error));}.bind(this));};d.prototype.Wz=function(a){this.query("",a);};d.prototype.query=function(a,c){var d,g;d=p.wb(c)?c:b;g=this.aE.Tja();this.bp.query(this.vn,this.yw(a),function(a){d(Object.keys(a).filter(function(a){return a!==g;}).map(this.wsa.bind(this)));}.bind(this));};d.prototype.yw=function(a){return this.Pr+"."+a;};d.prototype.clear=function(a){var c;c=p.wb(a)?a:b;this.Wz(function(a){r.Promise.all(a.map(function(a){return new r.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){c(a);},function(a){this.Ha(d.bd.ERROR,a);c([],a);}.bind(this));}.bind(this));};d.prototype.cka=function(a,c){var d,g;d=p.wb(c)?c:b;g=(a||[]).map(function(a){return this.yw(a);}.bind(this));this.bp.query(this.vn,this.Pr,function(a){var b;b=Object.keys(a).filter(function(a){return 0<=g.indexOf(a);}).reduce(function(b,c){return b+(a[c].size||0);},0);d(b);}.bind(this));};d.prototype.IWa=function(a){return this.aE.Dja(a);};d.prototype.constructor=d;f.P=d;},function(f,c,a){var b,d,h,l,g;b=a(10);d=a(100);h=new d.Console("DISKCACHE","media|asejs");l={context:"NULLCONTEXT",read:function(a,b,c,d,g){g("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};f.P={FRa:function(a){var c,f,m,k,n;c=a.Nmb||"NRDMEDIADISKCACHE";g=a.Ez||0;0!==g||b.S(d.options)||b.S(d.options.oP)||(g=d.options.oP);a=g;try{k=d.storage.dF;if(!k||!b.Pd(k))throw h.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(m=k[c])h.warn("Disk store exists, returning"),f=m;else{if(b.S(d.storage)||!b.wb(d.storage.IM)||d.options&&0===d.options.oP)throw h.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";h.warn("Disk store context doesn't exist, creating with size "+a);n=d.storage.IM({context:c,size:a,encrypted:!0,signed:!0});if(!n)throw"Failed to create disk store context";f=n;}}catch(w){h.warn("Exception creating disk store context - returning NullContext (noops)",w);f=l;}return f;},gXa:function(){return g;}};},function(f,c,a){var b,d,h,l,g;b=a(10);h=[];g=!1;f.P={lla:function(c,f,r){var m;if(g)b.wb(r)&&(d.Wi||d.iA?setTimeout(function(){r(d);},0):h.push(r));else{g=!0;m=a(100);m.UF(c);l=new m.Console("MEDIACACHE","media|asejs");d=new(a(262))(f,function(a){a&&l.warn("Failed to initialize MediaCache",a);b.wb(r)&&setTimeout(function(){r(d);},0);h.map(function(a){setTimeout(function(){a(d);},0);});});}return d;},Jnb:function(c,g){d=new(a(262))(c,function(a,c){a&&l.warn("Failed to initialize MediaCache",a);b.wb(g)&&setTimeout(function(){g(c);},0);});}};},function(f,c,a){var d,h,l,g,m,p,r,k;function b(a,b,c,f,p,r){m.call(this,a,c,f,r);f=l.prototype.toString.call(this)+(p?"(cache)":"");this.push(new g(a,b,f+"(moof)",{offset:c.offset,ga:c.HG,responseType:d.Ei.el},this,r));c={offset:this.offset+c.HG+8,ga:this.ga-(c.HG+8),responseType:d.Zg&&!d.Zg.tQ.Yo?d.Ei.el:d.Ei.Yo};this.O===h.G.VIDEO&&this.Lc&&(this.Ad!==this.X?(c.offset=this.offset+this.Lc.offset,c.ga=this.ga-this.Lc.offset):this.mi>this.fa&&(c.ga-=this.ga-this.Lc.offset));this.push(new g(a,b,f+"(mdat)",c,this,r));}a(21);d=a(9).Pa;h=a(13);l=a(67);g=a(173);m=a(172);p=a(79).HJ;r=a(79).X1;k=a(30).Dv;b.prototype=Object.create(m.prototype);b.prototype.$y=function(a){var b,c;if(this.Nf||!this.fw())callback(!1);else{c=!1;if(this.nja)c=a.appendBuffer(k(this.pia),this);else if(this.yd&&this.X!=this.Ad){b=new p(this.stream,this.yb[0].response);if(b=b.aqa(this.Lc.Rd,this.jb))c=a.appendBuffer(k(b.Xp),this),this.yL(b.Xp);this.SD();}else if(this.yd&&this.fa!=this.mi){b=new p(this.stream,this.yb[0].response);if(b=b.bqa(this.Lc.Rd,this.jb))c=a.appendBuffer(k(b.Xp),this),this.yL(b.Xp);this.SD();}else c=a.append(this.yb[0].response,this);c&&(c=a.appendBuffer(r(this.yb[1].ga),this))&&(c=a.appendBuffer(this.yb[1].response,this));this.Nf=c;this.z7a();return c;}};f.P=b;},function(f,c,a){var h,l,g;function b(a,b,c){b.ga=c.byteLength;l.call(this,a,b);g.call(this,a,b);h(c instanceof ArrayBuffer);this.$u=c;this.Ju=b.ga;}function d(){h(!1);}h=a(21);c=a(71);l=a(67);g=a(117);b.prototype=Object.create(l.prototype);c(g.prototype,b.prototype);Object.defineProperties(b.prototype,{complete:{get:function(){return!0;},set:d},response:{get:function(){return this.$u;},set:d},Y0a:{get:function(){return!0;},set:d},Jc:{get:function(){return this.Ju;},set:d}});b.prototype.fw=function(){return!0;};b.prototype.$y=function(a){return this.Nf=a.appendBuffer(this.response,this);};b.prototype.oi=function(){return-1;};b.prototype.abort=function(){};b.prototype.ze=function(){};f.P=b;},function(f){f.P={"heaac-2-dash":{profile:53,qpa:"heaac-2-dash",kz:2,sampleRate:24E3,duration:1024,Qt:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer},"heaac-2-dash-alt":{profile:53,qpa:"heaac-2-dash",kz:2,sampleRate:24E3,duration:1024,Qt:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer},"ddplus-5.1-dash":{profile:54,qpa:"ddplus-5.1-dash",kz:6,sampleRate:48E3,duration:1536,Qt:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer}};},function(f,c,a){var h,l,g,m,p;function b(a,b,c){g.call(this,a,b,c);this.Jha=[];this.Sv=[];}function d(a,c){b.call(this,a,c);}a(21);h=a(30).Dv;l=a(175);g=a(268).XT;m=a(501);a(68);p=a(68).Mca;a(68);b.prototype=Object.create(g.prototype);b.prototype.eZ=function(a,c,d){return new b(this.stream,{data:this.data,offset:c,length:d},a);};b.prototype.zj=function(a,b){this.Ky(a,void 0,b);};b.prototype.Ky=function(a,b,c){c=void 0!==c?c:this.offset;this.Wu?this.Wu.Ky(a,b,c):this.Sv.push({offset:c,remove:a,replace:b});};b.prototype.oL=function(a,b){b=void 0!==b?b:this.offset;this.Wu?this.Wu.o.oL(a,b):this.Jha.push({offset:b,Ga:a});};b.prototype.yy=function(){var a,b,c,d;if(0<this.Sv.length){this.Jha.forEach(function(a){var b,c;b=a.Ga+this.view.getUint32(a.offset);c=this.Sv.reduce(function(c,d){return d.offset>a.Ga&&d.offset<b?c+(d.remove-(d.replace?d.replace.byteLength:0)):c;},0);this.view.setUint32(a.offset,b-a.Ga-c);}.bind(this));a=[];this.Sv.sort(function(a,b){return a.offset-b.offset;});this.Sv=this.Sv.reduce(function(a,b){var c,d;if(0===a.length)return a.push(b),a;c=a[a.length-1];d=c.offset+c.remove;b.offset>=d?a.push(b):b.offset+b.remove>d&&(c.remove+=b.offset+b.remove-d,b.replace&&(c.replace=c.replace?h(c.replace,b.replace):b.replace));return a;},[]);b=0;c=this.data.byteLength;d=0;this.Sv.filter(function(a){return a.offset<c;}).forEach(function(c){c.offset>b&&(a.push(this.data.slice(b,c.offset)),d+=c.offset-b);c.replace&&(a.push(c.replace),d+=c.replace.byteLength);b=c.offset+c.remove;}.bind(this));a.push(this.data.slice(b));d+=c-b;return{Xp:a,length:d,OA:this.data.byteLength};}return{Xp:[this.data],length:this.data.byteLength,OA:this.data.byteLength};};d.prototype=Object.create(b.prototype);d.prototype.aqa=function(a,b,c,d){return this.yd(a,b,!1,c,d);};d.prototype.bqa=function(a,b,c,d){return this.yd(a,b,!0,c,d);};d.prototype.yd=function(a,b,c,d,g){var f,p,r,k,u,v,n,q,z,w,t,V,D,A;function h(a){r=p[a];k=r.bn("traf");if(void 0===k||void 0===k.Fp)return!1;u=k.bn("tfdt");if(void 0===u)return!1;v=k.bn("trun");return void 0===v?!1:!0;}f=[];if(!this.parse())return!1;p=this.ic.moof;if(!p||0===p.length)return!1;if(void 0!==a)for(n=a,a=0;a<p.length;++a){if(!h(a))return!1;if(v.$c>n||c&&v.$c===n)break;n-=v.$c;}else if(a=c?p.length-1:0,!h(a))return!1;c&&a<p.length-1?(f=p[a+1],this.zj(this.lZ-f.startOffset,f.startOffset)):!c&&0<a&&this.zj(r.startOffset,0);f=k.bn("tfhd");if(void 0===f)return!1;u=k.bn("tfdt");q=v.$c;z=k.bn("saiz");w=k.bn("saio");t=k.bn(l.Q$);V=k.bn("sbgp");if(!(!z&&!w||z&&w))return!1;D=k.bn("sdtp");if(this.ic.mdat&&a<this.ic.mdat.length)A=this.ic.mdat[a];else if(a!==p.length-1)return!1;void 0===n&&(n=c?v.$c:0);if(v.yd(k,f,A||this,b,n,k.Fp,c))v.oia&&(!c&&u&&u.yd(v.k$a),z&&w&&(z.yd(v.wB,c),w.yd(t?0:z.H4,k.Fp,c)),t&&t.yd(v.wB,c),D&&D.yd(v.wB,q,c),V&&V.yd(v.wB,c));else if(!c){if(a===p.length-1)return!1;this.zj(p[a+1].startOffset-r.startOffset,r.startOffset);}else if(0===v.wB)return!1;d&&m[g||this.profile]&&v.K7a(k,f,A,c,d,m[g||this.profile]);f=this.yy();v.oia&&!A&&(f.dB=k.Fp+v.dB,f.Gq=v.Gq);return f;};f.P={HJ:d,X1:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a+8);c.setUint32(4,p("mdat"));return b;}};},function(f,c,a){var h,l;function b(a,b,c,d){var g;g=a.reduce(function(a,b){return a+(b&&b.length||0);},0);this.If=c;this.IKa=d;this.Iy=new Uint16Array(a.length);this.EL=new Uint16Array(g);this.Uu=new Uint32Array(g);for(var h=d=0;d<a.length;++d)this.Iy[d]=h,a[d]&&(a[d].forEach(function(a,d){var g;g=new l(a.timestamp,b);this.EL[h+d]=g.Gz(c);this.Uu[h+d]=a.offset;}.bind(this)),h+=a[d].length);}function d(){h(!1);}h=a(21);new(a(9)).Console("FRAGMENTS","media|asejs");l=a(72);Object.defineProperties(b.prototype,{length:{get:function(){return this.Iy.length;},set:d},i3:{get:function(){return this.Uu;},set:d}});b.prototype.get=function(a){h(0<=a);if(a>=this.Iy.length)return[];for(var b=[],c=a===this.Iy.length-1?this.EL.length:this.Iy[a+1],d=this.Iy[a];d<c;++d)b.push({Rd:this.EL[d],Qb:this.IKa(a)+this.If.O2(this.EL[d]).hh,offset:this.Uu[d]});return b;};f.P=b;},function(f,c,a){(function(){var n32,F,N,t,ca,Z,O,B,A,V,D,S,H,X,U,ha,ba,ea,ia,ka,P,la,Y,aa,fa,ga,ma,na,oa,pa,c6u,o6u,P6u,Y3u;function q(a){var S42,b,c,d;S42=2;while(S42!==13){switch(S42){case 5:S42=a&&a.data?4:13;break;case 2:b=[];S42=5;break;case 4:for(c in a.data){d=a.data[c];0<d.length&&(b[d[0].O]={ib:c,pi:a.headers[c],data:d});}b.Nk=a.Nk;b.Em=a.Em;b.Ol=a.Ol;S42=7;break;case 7:b.Qk=a.Qk;b.Qj=a.Qj;return b;break;}}}function v(a,b){var d42,c,V3u,d3u;d42=2;while(d42!==3){V3u="me";V3u+="diaca";V3u+="c";V3u+="he";d3u="medi";d3u+="a";d3u+="c";d3u+="ache-erro";d3u+="r";switch(d42){case 4:c.on(a,d3u,function(a){var b42,r3u,n3u;b42=2;while(b42!==5){r3u="med";r3u+="iac";r3u+="ac";r3u+="h";r3u+="e";n3u="e";n3u+="r";n3u+="r";n3u+="o";n3u+="r";switch(b42){case 2:a.type=n3u;b.Ha(r3u,a);b42=5;break;}}});d42=3;break;case 2:c=new ka();c.on(a,V3u,function(a){var D42,X3u;D42=2;while(D42!==4){X3u="me";X3u+="di";X3u+="a";X3u+="ca";X3u+="che";switch(D42){case 2:D42=a.keys||a.items?1:5;break;case 9:D42=a.keys&&a.items?9:7;break;D42=a.keys||a.items?1:5;break;case 1:a.keys||a.items.map(function(a){var J42;J42=2;while(J42!==1){switch(J42){case 4:return a.key;break;J42=1;break;case 2:return a.key;break;}}});D42=5;break;case 5:b.Ha(X3u,a);D42=4;break;}}});d42=4;break;}}}function x(a){var W42,b;W42=2;while(W42!==8){switch(W42){case 4:b.audioSampleRate=a.Mn;b.audioFrameLength=a.Kn;return b;break;case 2:b=y(a);b.fragmentsTimescale=a.T&&a.T.jb||void 0;W42=4;break;}}}function g(a){var u32,b;u32=2;while(u32!==3){switch(u32){case 2:b=0;F.forEach(a,function(a){var Z32;Z32=2;while(Z32!==1){switch(Z32){case 2:F.forEach(a.streams,function(a){var z32;z32=2;while(z32!==1){switch(z32){case 2:b=Math.max(b,a.bitrate);z32=1;break;}}});Z32=1;break;}}});return b;break;}}}function G(a){var j42;j42=2;while(j42!==1){switch(j42){case 2:return{priority:a.Vc,movieId:a.M,headers:Object.create(null),saveToDisk:a.Sd,stats:{},firstSelectedStreamBitrate:a.Nk,initSelectionReason:a.Em,histDiscountedThroughputValue:a.Ol,histTdigest:a.Qj,histAge:a.Qk};break;}}}n32=2;function b(a,b){var a32;a32=2;while(a32!==1){switch(a32){case 4:return b.Vc%a.Vc;break;a32=1;break;case 2:return b.Vc-a.Vc;break;}}}function n(a,b,c,d){var g42;g42=2;while(g42!==27){switch(g42){case 18:this.Ji=this.ZV=void 0;this.Zr&&(this.H.Ez||(this.H.Ez=(N.options||{}).oP||0),this.qL=new U(function(a,b){var p42;p42=2;while(p42!==1){switch(p42){case 2:(void 0!==d?d.lla:function(a){var q42;q42=2;while(q42!==1){switch(q42){case 4:return P.lla(N,this.H,a);break;q42=1;break;case 2:return P.lla(N,this.H,a);break;}}}.bind(this))(function(c){var I42;I42=2;while(I42!==3){switch(I42){case 2:this.Ji=c;this.ZV=c.iA;v(this.Ji,this);this.ZV?b(this.ZV):a();I42=3;break;}}}.bind(this));p42=1;break;}}}.bind(this)));g42=16;break;case 3:this.ry=0;this.yn=[];this.HD=b.RM;this.gv=[];g42=6;break;case 2:this.La=a;this.ul=Object.create(null);this.H=b;this.Gc=Object.create(null);g42=3;break;case 6:this.LK=!1;this.vy=[];this.My={};this.on=this.addEventListener=ia.addEventListener;g42=11;break;case 11:this.removeEventListener=ia.removeEventListener;this.emit=this.Ha=ia.Ha;this.dIa=m.bind(this);this.Zr=(this.H.Bx||this.H.Ssa)&&0<(this.H.Ez||(N.options||{}).oP||0);g42=18;break;case 16:this.wj=c;H.call(this);g42=27;break;}}}while(n32!==69){c6u="me";c6u+="di";c6u+="a|asej";c6u+="s";o6u="M";o6u+="EDI";o6u+="ACACH";o6u+="E";P6u="med";P6u+="i";P6u+="a|asejs";Y3u="HE";Y3u+="ADE";Y3u+="RCACHE";switch(n32){case 20:X=a(72);U=N.Promise;ha=new N.Console(Y3u,P6u);ba=new N.Console(o6u,c6u);ea=a(31);ia=ea.EventEmitter;ka=ea.kC;n32=26;break;case 72:n.prototype.gKa=function(a){var f82=v7AA;var R52,b,c,d,g,h,f,a6u,i6u,I6u,m6u,O6u;R52=2;while(R52!==17){a6u="head";a6u+="e";a6u+="r";i6u=".";i6u+="h";i6u+="eade";i6u+="r";i6u+="Data";I6u=".metada";I6u+="t";I6u+="a";m6u=".f";m6u+="rag";m6u+="m";m6u+="en";m6u+="ts";O6u=".d";O6u+="r";O6u+="mH";O6u+="eader";switch(R52){case 3:R52=!a.Sd||!this.Zr||a.GA[d]&&a.GA[d].header?9:7;break;case 2:b=this.H;c=function(){var u52;u52=2;while(u52!==1){switch(u52){case 2:F.S(a.kqa)||this.CL(a,a.kqa,b);u52=1;break;}}}.bind(this);d=a.M+"."+a.ib;R52=3;break;case 9:c();R52=8;break;case 8:b.QR||0!==Object.keys(this.ul).length||this.cda();R52=17;break;case 10:g=a.Ti||a.W2;F.S(g)||(f[d+O6u]={Jt:g,Uc:ga});f82.w3u(1);f[f82.x3u(m6u,d)]={Jt:h,Uc:ga};R52=18;break;case 13:f={};f82.F3u(1);f[f82.x3u(I6u,d)]={Jt:g,Uc:ga};f82.F3u(1);f[f82.x3u(i6u,d)]={Jt:a.hq,Uc:ga};R52=10;break;case 18:this.Ji.Fqa(f,c);R52=8;break;case 7:d=[a.M,a.ib,a6u].join(".");g=x(a);h=a.T&&a.T.buffer||void 0;R52=13;break;}}};n.prototype.mKa=function(a,b){var Z52,H6u;Z52=2;while(Z52!==4){H6u="prebuff";H6u+="st";H6u+="ats";switch(Z52){case 2:a.ad.eH=b;a={type:H6u,movieId:a.M,stats:{prebuffstarted:a.ad.WA,prebuffcomplete:a.ad.eH}};this.Ha(a.type,a);Z52=4;break;}}};f.P=n;n32=69;break;case 56:n.prototype.cKa=function(a){var H52,U6u;H52=2;while(H52!==1){U6u="flushedB";U6u+="yt";U6u+="es";switch(H52){case 2:0!==a&&(a={type:U6u,bytes:a},this.Ha(a.type,a));H52=1;break;}}};n.prototype.$Ja=function(a){var n52,k6u;n52=2;while(n52!==5){k6u="cacheEv";k6u+="i";k6u+="ct";switch(n52){case 2:a={type:k6u,movieId:a};this.Ha(a.type,a);n52=5;break;}}};n.prototype.Iw=function(a){var a52,b;a52=2;while(a52!==4){switch(a52){case 2:b=this.Gc[a.M];b&&(a.zc?F.S(b.ad.Mka)&&(b.ad.Mka=a.Ed):F.S(b.ad.WA)&&(b.ad.WA=a.Ed));a52=4;break;}}};n.prototype.wi=function(a){var X52;X52=2;while(X52!==1){switch(X52){case 2:a.zc?this.v4a(a):this.w4a(a);X52=1;break;}}};n.prototype.v4a=function(a){var P52;P52=2;while(P52!==8){switch(P52){case 2:a.Vab=a.Be;this.kca(a);a.rO(a.Vab);this.gKa(a);a.ww.sO--;this.Ar(a);P52=8;break;}}};n.prototype.w4a=function(a){var L52,b,c,d,g,h,f,m,v6u,C6u,M6u,q6u,p6u,G6u,z6u,B6u,l6u;L52=2;while(L52!==17){v6u=".";v6u+="re";v6u+="spon";v6u+="se";C6u=".drm";C6u+="Head";C6u+="er";M6u=".he";M6u+="ader";M6u+="Da";M6u+="t";M6u+="a";q6u=".";q6u+="m";q6u+="et";q6u+="adata";p6u="man";p6u+="ag";p6u+="erdebugevent";G6u=",";G6u+=" rem";G6u+="aining: ";z6u=", ";z6u+="p";z6u+="t";z6u+="s";z6u+=": ";B6u=", ";B6u+="strea";B6u+="m";B6u+="Id";B6u+=": ";l6u=", h";l6u+="eaderCache d";l6u+="ataComplete: movieId:";l6u+=" ";switch(L52){case 3:L52=d?9:17;break;case 9:L52=(c.Zd&&(b="@"+N.time.la()+l6u+b+B6u+a.ib+z6u+a.X+G6u+(d.UE-1),this.Ha(p6u,{message:b})),b=function(){var B52;B52=2;while(B52!==5){switch(B52){case 2:--d.UE;this.Ar(a);B52=5;break;}}}.bind(this),a.Sd&&a.responseType===O.Ei.el&&this.Zr)?8:18;break;case 6:h=a.Ti;f=[a.M,a.ib,a.hb].join(".");L52=13;break;case 13:m={};v7AA.w3u(1);m[v7AA.s3u(q6u,f)]={Jt:y(a),Uc:ga};F.S(g)||(m[f+M6u]={Jt:g,Uc:ga});L52=10;break;case 2:b=a.M;c=this.H;d=this.Gc[b]||a.ww;L52=3;break;case 8:c=a.response;g=a.hq;L52=6;break;case 10:F.S(h)||(m[f+C6u]={Jt:h,Uc:ga});F.S(c)||(m[f+v6u]={Jt:c,Uc:ga});this.Ji.Fqa(m,b);L52=17;break;case 18:b();L52=17;break;}}};n.prototype.MA=function(a){var l52,u6u;l52=2;while(l52!==5){u6u="_";u6u+="onError";u6u+=": ";switch(l52){case 2:na(u6u,a.toString());this.Ar(a);l52=5;break;}}};n32=72;break;case 44:Object.defineProperties(n.prototype,{cache:{get:function(){var n42;n42=2;while(n42!==1){switch(n42){case 4:return this.Gc;break;n42=1;break;case 2:return this.Gc;break;}}}}});n.prototype.wc=ea;n.prototype.ba=na;n.prototype.Yb=oa;n.prototype.ym=function(){var a42;a42=2;while(a42!==5){switch(a42){case 3:this.flush();this.cda();a42=7;break;a42=5;break;case 2:this.flush();this.cda();a42=5;break;}}};n.prototype.XGa=function(){var X42,a;X42=2;while(X42!==9){switch(X42){case 1:X42=0===this.gv.length?5:9;break;case 5:a=this;a.gv=[{type:la.G.AUDIO,openRange:!1,pipeline:!1,connections:1},{type:la.G.VIDEO,openRange:!1,pipeline:!1,connections:1}].map(function(b){var P42,L6u;P42=2;while(P42!==3){L6u="e";L6u+="r";L6u+="r";L6u+="o";L6u+="r";switch(P42){case 14:return b;break;P42=3;break;case 2:b=new fa(b,a.wj);b.on(L6u,function(){});F.S(b.Xc)||b.Xc();P42=4;break;case 4:return b;break;}}});fa.Pf();X42=9;break;case 2:X42=1;break;}}};n.prototype.cda=function(){var L42,a;L42=2;while(L42!==3){switch(L42){case 2:a=this.gv;this.gv=[];a.forEach(function(a){var B42;B42=2;while(B42!==5){switch(B42){case 2:a.removeAllListeners();a.ym();B42=5;break;case 3:a.removeAllListeners();a.ym();B42=6;break;B42=5;break;}}});L42=3;break;}}};n32=37;break;case 26:P=a(498);la=a(13);Y=a(260);aa=a(259);fa=N.Lx;a(30);ga={lifespan:259200};n32=34;break;case 49:n.prototype.A1a=function(a){var T42,b;T42=2;while(T42!==4){switch(T42){case 2:b=F.S(a)?"":a.toString();return new U(function(a){var m42,C42;m42=2;while(m42!==4){switch(m42){case 2:m42=F.S(this.Ji)?1:5;break;case 1:a({});m42=4;break;case 9:m42=F.S(this.Ji)?0:7;break;m42=F.S(this.Ji)?1:5;break;case 8:a({});m42=5;break;m42=4;break;case 5:try{C42=2;while(C42!==1){switch(C42){case 2:this.Ji.aB("",function(c){var v42;v42=2;while(v42!==5){switch(v42){case 2:c=c.filter(function(a){var Y42,J6u;Y42=2;while(Y42!==5){J6u="movie";J6u+="E";J6u+="n";J6u+="try";switch(Y42){case 2:a=a.split(".");return b&&(b===a[0]||J6u===a[0]&&b===a[1]);break;}}}.bind(this)).reduce(function(a,b){var M42,c,g6u;M42=2;while(M42!==3){g6u="m";g6u+="o";g6u+="vie";g6u+="Entry";switch(M42){case 4:return a;break;case 2:c=b.split(".");g6u!==c[0]&&(b=c[0]+"."+c[1],c=c[2],F.S(a[b])&&(a[b]={}),F.S(a[b][c])&&(a[b][c]=!0));M42=4;break;case 14:return a;break;M42=3;break;}}},{});a(c);v42=5;break;}}}.bind(this));C42=1;break;}}}catch(Ya){a({});}m42=4;break;}}}.bind(this));break;}}};n.prototype.M1=function(a,b){var r42;r42=2;while(r42!==4){switch(r42){case 2:r42=(a=this.Gc[a])?1:4;break;case 5:return b;break;case 7:return b;break;r42=4;break;case 1:r42=(b=a.headers[b])?5:4;break;}}};n.prototype.y1a=function(a){var G42,b;G42=2;while(G42!==4){switch(G42){case 2:b=this.Gma(a);return b||!this.Zr?U.resolve(b):this.dIa(a).then(function(a){var i42;i42=2;while(i42!==1){switch(i42){case 4:return q(a);break;i42=1;break;case 2:return q(a);break;}}});break;}}};n.prototype.Gma=function(a){var Q42;Q42=2;while(Q42!==1){switch(Q42){case 4:return q(this.Gc[a]);break;Q42=1;break;case 2:return q(this.Gc[a]);break;}}};n.prototype.nw=function(){var y42,a,f6u;y42=2;while(y42!==4){f6u="M";f6u+="edia cach";f6u+="e is not enabled";switch(y42){case 2:a=this.Ji;return this.qL?this.qL.then(function(){var c42;c42=2;while(c42!==1){switch(c42){case 2:return new U(function(b){var k42,y6u;k42=2;while(k42!==1){y6u="m";y6u+="ovieE";y6u+="ntr";y6u+="y";switch(k42){case 2:a.aB(y6u,function(a){var F42,c;F42=2;while(F42!==8){switch(F42){case 4:c=[];a.forEach(function(a){var t52;t52=2;while(t52!==1){switch(t52){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(parseInt(a[1],10));t52=1;break;}}});b(c);F42=8;break;case 1:F42=!a||0>=a.length?5:4;break;case 2:F42=1;break;case 5:b([]);F42=8;break;}}});k42=1;break;}}});break;}}}):U.reject(f6u);break;}}};n.prototype.fja=function(){var E52,c,d,g,h,f,D6u,A6u;function b(a,b){var s52;s52=2;while(s52!==1){switch(s52){case 2:a.data[b].forEach(function(a){var f52;f52=2;while(f52!==5){switch(f52){case 2:a.abort(pa);c+=a.Jc;f52=5;break;}}});s52=1;break;}}}E52=2;while(E52!==3){switch(E52){case 2:c=0;for(f in this.Gc)if(g=this.Gc[f],g.data){d=!1;for(var m in g.data){D6u="i";D6u+="n e";D6u+="ntry:";A6u="m";A6u+="issi";A6u+="ng headerEn";A6u+="try for st";A6u+="reamId:";(h=g.headers[m])||oa(A6u,m,D6u,g);F.S(void 0)||!h||void 0===h.O?((F.S(void 0)||void 0!=m)&&b(g,m),g.data[m].forEach(a),delete g.data[m]):d=!0;}d||delete g.data;}this.cKa(c);E52=3;break;}}function a(a){var V52;V52=2;while(V52!==1){switch(V52){case 4:a.dPa();V52=8;break;V52=1;break;case 2:a.dPa();V52=1;break;}}}};n.prototype.Rca=function(a){var d52,b;d52=2;while(d52!==6){switch(d52){case 2:b=a.stream.O;2>this.gv.length&&this.XGa();d52=4;break;case 7:return b;break;case 4:b=void 0===a.X?new D(a.stream,this.H,this.gv[b],a,this,!0,this):S.create(a.stream,this.gv[b],a,this,!0,this);d52=3;break;case 3:b.Sd=a.Sd;b.Wab=N.time.la();b.qob=this;d52=7;break;}}};n32=63;break;case 37:n.prototype.fE=function(a,b,c){var l42,d,g;l42=2;while(l42!==7){switch(l42){case 9:c&&delete d[b];g?(this.LK=!1,this.hIa()):this.LK=!0;l42=7;break;case 4:l42=(d[b]=a)?3:9;break;case 2:d=this.My;g=a;l42=4;break;case 3:for(var h in d){d.hasOwnProperty(h)&&!1===d[h]&&(g=!1);}l42=9;break;}}};n.prototype.hIa=function(){var R42;R42=2;while(R42!==1){switch(R42){case 2:!this.LK&&0<this.vy.length&&(this.vy.forEach(function(a){var u42;u42=2;while(u42!==1){switch(u42){case 2:this.CL(a.CZa,a.Qb,this.H);u42=1;break;}}}.bind(this)),this.vy=[]);R42=1;break;}}};n.prototype.$5a=function(a,c){var Z42,d,g,h,f,b6u,e6u;Z42=2;while(Z42!==25){b6u="); ";b6u+="ignori";b6u+="ng ";b6u+="prepare for m";b6u+="ovieId: ";e6u="PTS passed to HeaderC";e6u+="ache.prepareP is not undefined or a";e6u+=" positive number (";switch(Z42){case 8:Z42=f.k2a?7:6;break;case 4:h=c.Qb;f=c.config?c.config:this.H;this.kra(f.RM);Z42=8;break;case 7:return U.reject();break;case 2:Z42=1;break;case 14:return oa(e6u+h+b6u+d),U.reject();break;case 13:d=this.Gc[d];Z42=12;break;case 27:return U.reject();break;case 15:Z42=g>f.o0||this.ry+1>this.HD&&g>this.yn[0].Vc?27:26;break;case 1:d=c.M;g=c.Vc;Z42=4;break;case 20:Z42=!F.S(h)?19:17;break;case 26:return this.fKa(a,c);break;case 16:Z42=!c.Sd||!this.Zr?15:26;break;case 18:for(var m in d.headers){!F.S(d.headers[m].url)&&null!==d.headers[m].url&&(void 0===d.data||void 0===d.data[m]||d.data[m].length<f.wZ)?this.CL(d.headers[m],h,f):(F.S(d.headers[m].url)||null===d.headers[m].url)&&void 0!==d.data&&void 0!==d.data[m]&&0<d.data[m].length&&delete d.headers[m];}Z42=17;break;case 12:Z42=!F.S(d)&&(2<=d.cA||!f.mF)?11:16;break;case 19:void 0===d.data&&(d.ad.WA=void 0);Z42=18;break;case 6:Z42=!F.S(h)&&(!F.da(h)||0>h)?14:13;break;case 17:return U.resolve();break;case 11:d.Vc=g;this.yn.sort(b);Z42=20;break;}}};n.prototype.fKa=function(a,c){var z42,d,g,h,f,m,p,r,k,u,v,n,q,w;z42=2;while(z42!==23){switch(z42){case 2:d=c.M;g=c.Vc;h=c.Qb;f=c.Sd;m=c.SXa();p=m.Sa;z42=7;break;case 20:z42=!a?19:18;break;case 7:r=m.ki;m=m.LX;k=c.config?c.config:this.H;z42=13;break;case 19:return U.reject();break;case 13:k=Z(k,p);a={stream:[new aa(void 0,k.Zfa,k),new aa(void 0,k.kx,k)],location:new Y(null,a.Hb,a.Jf,!r,k),cc:{state:la.xa.ng,V0:!0,buffer:{Av:a.ol[la.G.VIDEO],X:0,me:0,Ka:0,Qi:0,Mw:0,T:[]}}};a.location.dM(p);a=l(a,p,m,r,k,ha);z42=20;break;case 24:return U.all(v).then(function(a){var e42;e42=2;while(e42!==1){switch(e42){case 2:return new U(function(b){var U42,c,N6u,j6u;U42=2;while(U42!==3){N6u="m";N6u+="ovi";N6u+="eEntry";j6u="b";j6u+="i";j6u+="llb";j6u+="oard";switch(U42){case 1:U42=w&&f?5:9;break;case 2:U42=1;break;case 9:b(a);U42=3;break;case 5:c=G(u);q.save(j6u,[N6u,u.M].join("."),c,ga,function(){var o42;o42=2;while(o42!==1){switch(o42){case 4:b(a);o42=0;break;o42=1;break;case 2:b(a);o42=1;break;}}});U42=3;break;}}});break;}}}).then(function(a){var O42;O42=2;while(O42!==3){switch(O42){case 2:a=Math.max.apply(Math,a);u.ad.GN=u.ad.Mka;u.ad.UO=a;return{firstheadersent:u.ad.GN,lastheadercomplete:u.ad.UO};break;}}});break;case 18:u=this.Gc[d];u||(u={Vc:g,M:d,headers:Object.create(null),cA:0,sO:0,UE:0,data:void 0,Sd:f,ad:{}},u.Sd||(this.Gc[d]=u),this.yn.push(u),this.yn.sort(b));v=[];k.AZa&&(n=2292+12*Math.ceil(p.duration/2E3));a.forEach(function(a){var K42,b,c;K42=2;while(K42!==6){switch(K42){case 2:b=n?n:k.tO;K42=5;break;case 5:K42=!k.mF||!u.headers[a.ib]?4:6;break;case 4:F.S(u.Nk)&&a.O===la.G.VIDEO&&(u.Nk=a.J,u.Em=a.Em,u.Ol=a.Ol,u.Qk=a.FZa,u.Qj=a.uO);r&&a.O===la.G.VIDEO&&k.yN?b=k.yN:k.Xsa&&a.$k&&(b=a.$k.offset+a.$k.size);c={stream:a,url:a.url,offset:0,ga:b,Sd:f,Fx:k.Fx,tv:k.tv};a=f?this.A1a(d).then(function(a){var x42;x42=2;while(x42!==5){switch(x42){case 2:c.GA=a||{};return this.Pea(c,h,u);break;}}}.bind(this)):this.Pea(c,h,u);v.push(a);K42=6;break;}}}.bind(this));z42=26;break;case 26:q=this.Ji;w=this.Zr;z42=24;break;}}};n.prototype.flush=function(){var h42,a,T6u,S6u;h42=2;while(h42!==7){T6u="ma";T6u+="nagerdebuge";T6u+="vent";S6u=", headerC";S6u+="ache ";S6u+="f";S6u+="lush:";S6u+=" ";switch(h42){case 2:this.fja();for(var b in this.ul){a=this.ul[b];a.abort(pa);}h42=4;break;case 4:this.Gc=Object.create(null);this.ry=0;this.yn=[];this.H.Zd&&(a="@"+N.time.la()+S6u,this.Ha(T6u,{message:a}));h42=7;break;}}};n.prototype.list=function(){var N42;N42=2;while(N42!==1){switch(N42){case 2:return this.yn;break;case 4:return this.yn;break;N42=1;break;}}};n.prototype.kra=function(a){var w42;w42=2;while(w42!==1){switch(w42){case 2:this.HD!=a&&(this.HD=a,this.Bca());w42=1;break;}}};n32=49;break;case 7:B=a(270);a(67);A=a(267);V=a(500);D=a(266);S=a(263);H=a(88);n32=20;break;case 63:n.prototype.Ar=function(a){var D52,b;D52=2;while(D52!==8){switch(D52){case 3:b=this.Gc[a.M]||a.ww;0===b.sO&&0===b.UE&&this.mKa(b,a.Be);D52=8;break;case 2:a.zc&&delete this.ul[a.ib];delete a.response;a.ze();D52=3;break;}}};n.prototype.Pea=function(a,b,c){var J52,d;J52=2;while(J52!==20){switch(J52){case 4:d.ww=c;d.GA=a.GA;J52=9;break;case 7:J52=!d.open()?6:14;break;case 6:return U.reject();break;case 9:d.Fx=a.Fx;d.tv=a.tv;J52=7;break;case 11:d.rO=a.rO;J52=20;break;case 14:c.sO++;this.ul[d.ib]=d;J52=12;break;case 2:d=this.Rca(a);d.kqa=b;J52=4;break;case 10:return new U(function(a){var b52;b52=2;while(b52!==1){switch(b52){case 2:d.rO=a;b52=1;break;case 4:d.rO=a;b52=2;break;b52=1;break;}}});break;case 12:J52=a.rO?11:10;break;}}};n.prototype.nIa=function(a,b,c){var g52,d,g;g52=2;while(g52!==7){switch(g52){case 2:d=a.xZ;b.Sd&&this.Zr&&(a.nP?d=a.nP:a.bna&&0<a.bna&&(d=2E3*a.bna));g52=4;break;case 4:g52=0<d?3:9;break;case 3:return function(a,b){var U93=v7AA;var p52;p52=2;while(p52!==1){switch(p52){case 2:U93.w3u(2);return U93.x3u(b,d);break;case 4:U93.w3u(3);return U93.s3u(d,b);break;p52=1;break;}}};break;case 9:g=c.length<a.wZ?c.length:a.wZ;return function(a){var W93=v7AA;var q52;q52=2;while(q52!==1){switch(q52){case 4:W93.w3u(3);return W93.s3u(g,a);break;q52=1;break;case 2:W93.F3u(2);return W93.x3u(a,g);break;}}};break;}}};n.prototype.CL=function(a,b,c){var I52,d,g,h,f,m,l,p,k,r,u,x6u,s6u,h6u,E6u,t6u,Z6u;I52=2;while(I52!==30){x6u="no proper f";x6u+="ra";x6u+="gment found to req";x6u+="uest data at pts";s6u="man";s6u+="a";s6u+="ger";s6u+="d";s6u+="ebugevent";h6u=", s";h6u+="t";h6u+="artP";h6u+="ts:";h6u+=" ";E6u=",";E6u+=" ";E6u+="pt";E6u+="s: ";t6u=", s";t6u+="t";t6u+="ream";t6u+="Id: ";Z6u=", ";Z6u+="he";Z6u+="aderCache";Z6u+=" requestData: movieId: ";switch(I52){case 9:this.vy.push({CZa:a,Qb:b});I52=8;break;case 2:d=a.M;g=a.ib;c=c||this.H;I52=3;break;case 32:++m;I52=34;break;case 21:b=h.data[g];I52=35;break;case 17:I52=-1===m?16:15;break;case 14:I52=h?13:30;break;case 11:h.zZ=a;return;break;case 20:b=h.En;I52=19;break;case 8:I52=this.vy.length>c.n0?7:30;break;case 15:l=a.stream.Vi(m);l.Sd=a.Sd;p=a.O;(p===la.G.VIDEO&&c.Rv||p===la.G.AUDIO&&c.Sp)&&(p=l.l_(b))&&0<p.Qb&&l.oq(p,!1);c.Zd&&(b="@"+N.time.la()+Z6u+d+t6u+g+E6u+b+h6u+l.X,this.Ha(s6u,{message:b}));void 0===h.data&&(h.data=Object.create(null));void 0===h.data[g]&&(h.data[g]=[]);I52=21;break;case 19:f=a.T;m=f.Ll(b);I52=17;break;case 33:void 0===l&&(l=a.stream.Vi(m),l.Sd=a.Sd),F.S(h.En)&&(h.En=l.X),l.Sd&&(l.responseType=O.Ei.el),k=d+"."+g,a.Sd&&this.Zr&&a.GA[k]&&a.GA[k][l.X]||(k=this.Rca(l),k.Sd&&(k.ww=a.ww),k.open(),++h.UE,b.push(k)),++u,r+=l.duration,l=void 0;I52=32;break;case 34:I52=m<f.length&&!p(u,r)?33:31;break;case 13:I52=a.O===la.G.AUDIO?12:19;break;case 31:h.zZ&&(a=h.zZ,delete h.zZ,this.CL(a,h.En,c));I52=30;break;case 12:I52=void 0===h.En?11:20;break;case 6:h=this.Gc[d]||a.ww;I52=14;break;case 3:I52=this.LK?9:6;break;case 7:this.vy.shift();I52=8;break;case 16:oa(x6u,b,a);I52=30;break;case 35:p=this.nIa(c,a,f),r=0,u=0;I52=34;break;}}};n.prototype.kca=function(a){var S52,b,c;S52=2;while(S52!==3){switch(S52){case 2:b=a.ib;c=this.Gc[a.M]||a.ww;c&&(c.eMa||c.Sd||(c.eMa=!0,++this.ry),c.headers||(c.headers={}),c.headers[b]=a,this.H.mF&&++c.cA,this.Bca());S52=3;break;}}};n.prototype.Bca=function(){var j52,b,c,d;function a(a){var W52;W52=2;while(W52!==5){switch(W52){case 1:d+=a.Jc;W52=5;break;case 9:d%=a.Jc;W52=6;break;W52=5;break;case 2:a.abort();W52=1;break;}}}j52=2;while(j52!==11){switch(j52){case 9:b=c.M;j52=8;break;case 5:j52=!(this.ry<=this.HD)?4:11;break;case 2:d=0;j52=5;break;case 3:j52=(c=this.yn.shift())?9:4;break;case 8:j52=c.data?7:6;break;case 6:delete this.Gc[b];--this.ry;j52=13;break;case 4:j52=this.ry>this.HD?3:12;break;case 7:for(var g in c.data){c.data[g].forEach(a);delete c.data[g];}j52=6;break;case 13:this.$Ja(b);j52=4;break;case 12:this.aKa(d);j52=11;break;}}};n.prototype.aKa=function(a){var A52,F6u;A52=2;while(A52!==1){F6u="di";F6u+="scardedByt";F6u+="e";F6u+="s";switch(A52){case 2:0!==a&&(a={type:F6u,bytes:a},this.Ha(a.type,a));A52=1;break;}}};n32=56;break;case 2:F=a(10);N=a(9);t=a(272);ca=a(176);Z=a(271);O=N.Pa;n32=7;break;case 34:ea=ha.trace.bind(ha);ma=ba.trace.bind(ba);na=ha.warn.bind(ha);oa=ha.error.bind(ha);pa={onabort:function(){},onerror:function(){}};n.prototype=Object.create(H.prototype);n.prototype.constructor=n;n32=44;break;}}function r(a){var y32,b,c,w6u,z52;y32=2;while(y32!==7){w6u="h";w6u+="ea";w6u+="de";w6u+="r";switch(y32){case 2:b={};c=a[0].split(".");y32=4;break;case 4:b.movieId=c[0];b.streamId=c[1];v7AA.w3u(0);z52=v7AA.x3u(2,18,18);b.isHeader=w6u===c[z52];return new U(function(c,d){var c32,Q6u;c32=2;while(c32!==1){Q6u="bill";Q6u+="boar";Q6u+="d";switch(c32){case 2:this.Ji.gQ(Q6u,a,function(a,g){var k32,h,F32;k32=2;while(k32!==5){switch(k32){case 2:try{F32=2;while(F32!==4){switch(F32){case 1:d(a);F32=5;break;case 5:c(h);F32=4;break;case 2:F32=a?1:3;break;case 8:h.T&&(h.T=new ca(h.T,h.O,h.TVa,h.Mn&&h.Kn?new X(h.Kn,h.Mn):void 0));F32=5;break;case 3:Object.keys(g).map(function(a){var t42,c,h,E42,s42,R6u,d6u;t42=2;while(t42!==6){R6u="f";R6u+="r";R6u+="agm";R6u+="e";R6u+="nts";d6u="metad";d6u+="a";d6u+="ta";switch(t42){case 2:c=a.substr(a.lastIndexOf(".")+1);t42=5;break;case 5:t42=d6u===c?4:9;break;case 4:try{E42=2;while(E42!==1){switch(E42){case 2:h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g[a])));E42=1;break;}}}catch(Pe){h=g[a];}Object.keys(h).map(function(a){var V42;V42=2;while(V42!==1){switch(V42){case 4:b[a]=h[a];V42=5;break;V42=1;break;case 2:b[a]=h[a];V42=1;break;}}});t42=6;break;case 7:b[c]=g[a];t42=6;break;case 9:t42=R6u===c?8:7;break;case 8:try{s42=2;while(s42!==1){switch(s42){case 4:b[c]=g[a];s42=9;break;s42=1;break;case 2:b[c]=g[a];s42=1;break;}}}catch(Pe){d(Pe);}t42=6;break;}}});h=C(b);F32=8;break;}}}catch(hb){d(hb);}k32=5;break;}}});c32=1;break;}}}.bind(this));break;}}}function k(a){var f42,b,c;f42=2;while(f42!==9){switch(f42){case 4:c=new B({M:a.M,O:a.O,ib:a.ib,J:a.J,T:a.T,bc:a.Mn&&a.Kn?new X(a.Kn,a.Mn):void 0});a.zc?(b=new A(c,{ga:a.ga,offset:a.offset,hq:a.hq,Ti:a.Ti,W2:void 0,DN:void 0,$m:!1}),this.kca(b)):a.response instanceof ArrayBuffer&&(a=new V(c,{ga:a.ga,offset:a.offset,X:a.hb,duration:a.Lg-a.hb},a.response),b.data||(b.data={}),b.data[a.ib]||(b.data[a.ib]=[]),b.data[a.ib].push(a));f42=9;break;case 2:b=this.Gc[a.M];f42=5;break;case 5:f42=b?4:9;break;}}}function y(a){var A42;A42=2;while(A42!==1){switch(A42){case 2:return{mediaType:a.O,streamId:a.ib,movieId:a.M,bitrate:a.J,location:a.location,serverId:a.Ec,saveToDisk:a.Sd,avgFragmentDurationMs:a.Bp,offset:a.offset,bytes:a.ga,ptsStart:a.X,ptsEnd:a.fa,fragmentsTimescale:a.T&&a.T.jb||void 0,audioSampleRate:a.stream.bc&&a.stream.bc.jb,audioFrameLength:a.stream.bc&&a.stream.bc.Bf,byteStart:a.offset,byteEnd:a.offset+a.ga-1};break;}}}function p(a){var i32;i32=2;while(i32!==1){switch(i32){case 2:return Object.keys(a).map(function(b){var Q32;Q32=2;while(Q32!==1){switch(Q32){case 2:return U.resolve(a[b]).then(r.bind(this)).then(k.bind(this));break;}}}.bind(this));break;}}}function C(a){var H42,b;H42=2;while(H42!==6){switch(H42){case 3:b.T=a.fragments;b.Ti=a.drmHeader;b.response=a.response;return b;break;case 2:b={zc:a.isHeader,M:a.movieId,ib:a.streamId,ga:void 0!==a.bytes?a.bytes:a.byteEnd-a.byteStart+1,offset:void 0!==a.offset?a.offset:a.byteStart,hq:a.headerData,T:a.fragments,Ti:a.drmHeader,response:a.response,TVa:a.fragmentsTimescale,Mn:void 0!==a.audioSampleRate?a.audioSampleRate:a.audioFrameRate,Kn:a.audioFrameLength,hb:a.ptsStart,Lg:a.ptsEnd,Bp:a.avgFragmentDurationMs};F.S(a.params)?(b.O=a.mediaType,b.J=a.bitrate,b.location=a.location,b.Ec=a.serverId,b.Sd=a.saveToDisk):(b.O=a.params.mediaType,b.J=a.params.bitrate,b.location=a.params.location,b.Ec=a.params.serverId,b.Sd=a.params.saveToDisk);b.hq=a.headerData;H42=3;break;}}}function h(a,b,d,g,h,f,m,l){var P32,p,r,k,u,v,r6u,n6u;P32=2;while(P32!==14){r6u="vi";r6u+="deo";r6u+="_tr";r6u+="ack";r6u+="s";n6u="au";n6u+="dio_";n6u+="t";n6u+="racks";switch(P32){case 2:p=d===la.G.VIDEO;r=[];k=[];a[[n6u,r6u][d]][g].streams.forEach(function(b,c){var L32,h;L32=2;while(L32!==14){switch(L32){case 2:b=B.pja(void 0,a,d,g,c,l);c=b.J;h=b.je;L32=3;break;case 6:(b.FO?k:r).push(b);L32=14;break;case 7:b.inRange=!1;L32=6;break;case 3:L32=c<f.tna||c>f.Sma?9:8;break;case 9:b.inRange=!1;L32=8;break;case 8:L32=h<f.una||h>f.Tma?7:6;break;}}});P32=9;break;case 9:u=[];h&&0!==r.length&&(v=c(b,r,p,f,m))&&u.push(v);v||(v=c(b,k,p,f,m))&&u.push(v);return u;break;}}}function l(a,b,c,d,f,m){var B32,l,p,r,k,W6u,V6u;B32=2;while(B32!==13){W6u="Unable to ";W6u+="find audio";W6u+=" track in manifest:";V6u="Unabl";V6u+="e to fi";V6u+="nd video ";V6u+="track in";V6u+=" manifest";switch(B32){case 9:na(V6u);B32=13;break;case 8:b.audio_tracks.some(function(g,l){var R32;R32=2;while(R32!==5){switch(R32){case 3:R32=g.track_id!==c?2:2;break;R32=g.track_id==c?1:5;break;case 1:return k=h(b,a,la.G.AUDIO,l,d,f,p,m),!0;break;case 2:R32=g.track_id==c?1:5;break;}}});B32=7;break;case 2:l=b.video_tracks;p=g(b.audio_tracks);B32=4;break;case 7:B32=F.S(k)?6:14;break;case 4:l.some(function(c,g){var l32;l32=2;while(l32!==5){switch(l32){case 1:return r=h(b,a,la.G.VIDEO,g,d,f,p,m),!0;break;case 2:l32=!c.stereo?1:5;break;}}});B32=3;break;case 6:na(W6u,c);B32=13;break;case 3:B32=F.S(r)?9:8;break;case 14:return r.concat(k);break;}}}function c(a,b,c,d,g){var X32,Y6u,X6u;X32=2;while(X32!==8){Y6u="updateS";Y6u+="treamS";Y6u+="electio";Y6u+="n returned n";Y6u+="ull list";X6u="selectStream";X6u+=" re";X6u+="tur";X6u+="n";X6u+="ed null";switch(X32){case 1:d=t(d,g);X32=5;break;case 2:X32=(b=a.location.NR(a.cc,b))?1:9;break;case 3:na(X6u);X32=8;break;case 9:na(Y6u);X32=8;break;case 5:X32=(a=a.stream[c?1:0].V4(a.cc,b,void 0,c?d.hpa:d.gpa))?4:3;break;case 4:return c=b[a.se],c.Em=a.reason,c.Ol=a.Ws,c.FZa=a.Qk,c.uO=a.Qj,c;break;}}}function m(a){var K32,H9u;K32=2;while(K32!==1){H9u="Me";H9u+="di";H9u+="a cache ";H9u+="is not enab";H9u+="led";switch(K32){case 2:return this.qL?this.qL.then(function(){var x32,b;x32=2;while(x32!==4){switch(x32){case 2:b=function(a){var e32,b,c,d,O9u;e32=2;while(e32!==7){O9u="mo";O9u+="vieE";O9u+="n";O9u+="try";switch(e32){case 8:this.Ji.aB(a,c);e32=7;break;case 3:d=function(a){var o32,c9u,o9u,P9u,K6u;o32=2;while(o32!==1){c9u="d";c9u+="e";c9u+="le";c9u+="te";o9u="d";o9u+="e";o9u+="l";o9u+="ete";P9u="bi";P9u+="ll";P9u+="b";P9u+="oard";K6u="del";K6u+="e";K6u+="t";K6u+="e";switch(o32){case 2:this.Ji[K6u](P9u,a);o32=1;break;case 4:this.Ji[o9u](c9u,a);o32=7;break;o32=1;break;}}}.bind(this);this.Ji.aB(b,c);e32=8;break;case 2:b=[O9u,a].join(".");a=a.toString();c=function(a){var U32;U32=2;while(U32!==1){switch(U32){case 4:a.map(d.bind(this));U32=2;break;U32=1;break;case 2:a.map(d.bind(this));U32=1;break;}}}.bind(this);e32=3;break;}}}.bind(this);return new U(function(c){var O32,m9u;O32=2;while(O32!==1){m9u="mov";m9u+="ieEntr";m9u+="y";switch(O32){case 2:this.Ji.aB([m9u,a].join("."),function(d){var h32,g,h,a9u;h32=2;while(h32!==7){a9u="bi";a9u+="l";a9u+="lboar";a9u+="d";switch(h32){case 4:d=d[0];g=function(){var N32;N32=2;while(N32!==1){switch(N32){case 2:this.Ji.aB(a,function(b){var w32;w32=2;while(w32!==4){switch(w32){case 5:U.all(b).then(function(){var m32,I9u;m32=2;while(m32!==5){I9u="N";I9u+="o content data found";I9u+=" for ";switch(m32){case 2:this.Gc[a]&&F.Pd(this.Gc[a].data)?Object.keys(this.Gc[a].data).forEach(function(b){var C32;C32=2;while(C32!==1){switch(C32){case 2:this.Gc[a].data[b].sort(function(a,b){var v32;v32=2;while(v32!==1){switch(v32){case 2:return a.hb-b.hb;break;case 4:return a.hb+b.hb;break;v32=1;break;}}});C32=1;break;}}}.bind(this)):ma(I9u+a,this.Gc[a]);c(this.Gc[a]);m32=5;break;}}}.bind(this),function(){var Y32;Y32=2;while(Y32!==1){switch(Y32){case 2:c();Y32=1;break;case 4:c();Y32=4;break;Y32=1;break;}}});w32=4;break;case 2:b=b.reduce(function(a,b){var T32,c,i9u;T32=2;while(T32!==8){i9u="dr";i9u+="mHeader.__emb";i9u+="ed_";i9u+="_";switch(T32){case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;case 2:c=b.substr(0,b.lastIndexOf("."));T32=5;break;case 5:T32=-1!==c.indexOf(i9u)?4:3;break;case 4:return a;break;}}},{});b=p.bind(this)(b);w32=5;break;}}}.bind(this));N32=1;break;}}}.bind(this);h=function(a){var M32;M32=2;while(M32!==1){switch(M32){case 2:return!(F.S(a)||F.Ja(a)||F.S(a.ad)||F.Ja(a.ad)||F.S(a.M)||F.Ja(a.M)||F.S(a.Vc)||F.Ja(a.Vc));break;}}};h32=8;break;case 1:h32=!d||0>=d.length?5:4;break;case 5:c();h32=7;break;case 8:h(this.Gc[a])?g():this.Ji.read(a9u,d,function(d,f){var r32,m,l,G32;r32=2;while(r32!==9){switch(r32){case 3:h(l)?(this.Gc[a]=l,g()):(b(a),c());r32=9;break;case 2:try{G32=2;while(G32!==1){switch(G32){case 2:m=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));G32=1;break;}}}catch(Db){m=f;}F.S(m)||(l={Vc:m.priority,M:m.movieId,headers:m.headers,cA:0,UE:0,sO:0,Sd:m.saveToDisk,ad:m.stats,Nk:m.firstSelectedStreamBitrate,Em:m.initSelectionReason,Ol:m.histDiscountedThroughputValue,Qj:m.histTdigest,Qk:m.histAge});F.S(l)||F.Ja(l)||(l.ad=l.ad||{},l.headers=l.headers||{});r32=3;break;}}}.bind(this));h32=7;break;case 2:h32=1;break;}}}.bind(this));O32=1;break;}}}.bind(this));break;}}}.bind(this)):U.reject(H9u);break;}}}}());},function(f,c,a){var h,l;function b(){this.jp=this.rD=this.ZK=this.lL=this.QK=null;}function d(a){this.H=a;this.Vr=[];this.ql=new b();this.CD();}h=a(10);a(13);a(30);l=a(9);new l.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.qh=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.QK=a.ens,this.lL=a.lns,this.ZK=a.fns,this.rD=a.d,this.jp=l.time.EP(a.t),b=!0);return b;};b.prototype.ae=function(){var a;if(h.Ja(this.QK)||h.Ja(this.lL)||h.Ja(this.ZK)||h.Ja(this.rD)||h.Ja(this.jp))return null;a={d:this.rD,t:l.time.GG(this.jp)};a.ens=this.QK;a.lns=this.lL;a.fns=this.ZK;return a;};b.prototype.get=function(){var a,b;a=this.ae();if(a){b=new Date(l.time.GG(this.jp));a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};d.prototype.CD=function(){var a;a=l.storage.get("sth");a&&this.VD(a);};d.prototype.VD=function(a){var c,d;c=null;d=this.H;a.forEach(function(a){var d;d=new b();d.qh(a)?(c=!0,this.Vr.push(d)):h.Ja(c)&&(c=!1);},this);this.Vr=this.Vr.filter(function(a){return a.rD>=d.tP;});this.Vr.sort(function(a,b){return a.jp-b.jp;});return h.Ja(c)?!0:c;};d.prototype.JV=function(){var a;a=[];this.Vr.forEach(function(b){a.push(b.ae());},this);return a;};d.prototype.save=function(){var a,c,d;a=this.JV();c=this.H;d=this.ql.ae();d&&d.d>=c.tP&&(a.push(d),this.Vr.push(this.ql));a.length>c.jP&&(a=a.slice(a.length-c.jP,a.length));this.ql=new b();a&&l.storage.set("sth",a);};d.prototype.reset=function(){this.ql=new b();};d.prototype.ZWa=function(){return this.ql.get();};d.prototype.EYa=function(){return this.Vr.length+1;};d.prototype.GLa=function(a){this.ql.QK=a;this.ql.jp=l.time.la();};d.prototype.QLa=function(a){this.ql.lL=a;this.ql.jp=l.time.la();};d.prototype.LLa=function(a,b){this.ql.ZK=a;this.ql.jp=l.time.la();this.ql.rD=b;};f.P=d;},function(f,c,a){var d,h;function b(a){this.H=a;this.CD();}d=a(10);h=a(9);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.ae();h.storage.set("nh",a);};b.prototype.z$a=function(){this.dv||(this.dv=!0,this.np=h.time.la());};b.prototype.K$a=function(){var a;if(this.dv){a=h.time.la();this.qp+=a-this.np;this.np=a;this.dv=!1;this.zD=null;}};b.prototype.qla=function(a,b){this.dv&&(b>this.np&&(this.qp+=b-this.np,this.np=b),null===this.zD||a>this.zD)&&(a=b-a,this.Ay.push([this.qp-a,a]),this.TKa(),this.zD=b);};b.prototype.TKa=function(){var a;a=this.qp-this.H.b3a;this.Ay=this.Ay.filter(function(b){return b[0]>a;});};b.prototype.CD=function(){var a;a=h.storage.get("nh");this.VD(a)||(this.np=h.time.la(),this.qp=0,this.dv=!1,this.zD=null,this.Ay=[]);};b.prototype.VD=function(a){if(!(a&&d.has(a,"t")&&d.has(a,"s")&&d.has(a,"i")&&d.da(a.t)&&d.da(a.s)&&d.isArray(a.i)))return!1;this.np=h.time.EP(1E3*a.t);this.qp=1E3*a.s;this.dv=!1;this.Ay=a.i.map(function(a){return[1E3*a[0],a[1]];});this.zD=null;return!0;};b.prototype.ae=function(){return this.dv?{t:h.time.now()/1E3|0,s:(this.qp+(h.time.la()-this.np))/1E3|0,i:this.Ay.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.GG(this.np)/1E3|0,s:this.qp/1E3|0,i:this.Ay.map(function(a){return[a[0]/1E3|0,a[1]];})};};f.P=b;},function(f,c,a){var h,l,g,m,p,k,u;function b(a){var b;if(!a.OW){b=a.tka();a.Jf.mv(b["default"].ta,a.qg);a.Jf.zx(b.Xi?b.Xi.Om:void 0,b.Xi?b.Xi.gx:void 0);h.Ja(a.zb)||(a.OW=!0);}}function d(a,b,c){var d;this.H=c;this.yk={};this.wy=c.wy;this.mda=new k(this.wy);this.reset();this.Qr=a;this.Jf=b;this.Ida=l.ee.name();this.Jf.SQ(this.Ida);this.ica=0;l.events.on("networkchange",function(a){this.Ida=a;this.Jf.SQ(a);}.bind(this));d=c.rZ;d&&(d={$b:g.Pc.nC,ia:{ta:parseInt(d,10),cg:0},he:{qNa:0,cg:0},Dm:{qNa:0,cg:0}},this.get=function(){return d;});}h=a(10);l=a(9);g=a(13);c=a(30);m=a(31).EventEmitter;p=c.cEa;k=a(279).z8;u=new l.Console("ASEJS_NETWORK_MONITOR","media|asejs");d.prototype=Object.create(m);Object.defineProperties(d.prototype,{startTime:{get:function(){return this.vc;}},$b:{get:function(){return this.qg;}}});d.prototype.WGa=function(){var a,b,c;a=this.H;b=a.EV;c=this.mda;return a.kHa.reduce(function(a,d){a[d]=c.create(d,b);return a;},{});};d.prototype.reset=function(){var a,c;a=this.H.EV;c=this.mda;this.location=null;this.yk=this.WGa();this.op=c.create("respconn-ewma",a);this.gp=c.create("respconn-ewma",a);this.qg=g.Pc.HAVE_NOTHING;this.aLa=function(){b(this);}.bind(this);this.VL=void 0;this.Kr=this.pf=this.zb=this.vc=null;this.yGa=this.RL=0;this.KJa=!1;if(this.H.Tp||"rlabr"===this.H.kx)this.yk.wqa=new p(this.H.Fa.numB,this.H.Fa.bSizeMs,this.H);};d.prototype.UQ=function(a){var b;b=this.yk;if(a!==this.location){h.S(this.VL)||(clearInterval(this.VL),this.VL=void 0);h.Ja(this.location)&&(this.RL=0,this.vc=null);if(!h.Ja(a)){this.qg=g.Pc.HAVE_NOTHING;for(var c in b)b[c]&&b[c].reset&&b[c].reset();(this.H.Tp||"rlabr"===this.H.kx)&&b.wqa.reset();this.op.reset();this.gp.reset();}h.Ja(this.vc)||(this.RL+=(h.Ja(this.zb)?l.time.la():this.zb)-this.vc);this.zb=this.vc=null;this.pf=0;this.location=a;this.Jf.UQ(a);}};d.prototype.SQ=function(a){this.Jf.SQ(a);};d.prototype.KLa=function(a){this.yk.QoEEvaluator?u.warn("monitor (QoEEvaluator) already existed."):this.yk.QoEEvaluator=a;};d.prototype.C7a=function(){delete this.yk.QoEEvaluator;};d.prototype.eX=function(a,c,d){var f,m;f=this.H;m=this.yk;if(h.S(c))u.warn("addDataReceived called with undefined start time");else{f.nHa&&10>d-c?c=d-10:0===d-c&&(c=d-1);for(var l in m)m[l]&&m[l].add&&m[l].add(a,c,d);this.qg=Math.max(this.qg,g.Pc.gr);h.Ja(this.vc)&&(this.vc=c,this.zb=null,this.OW=!1,this.pf=0);h.Ja(this.zb)||(c>this.zb&&(this.vc+=c-this.zb),this.zb=null,this.OW=!1);this.pf+=a;this.qg<g.Pc.ln&&(d-this.vc>f.vIa||this.pf>f.uIa)&&(this.qg=g.Pc.ln);this.qg<g.Pc.nC&&(d-this.vc>f.OJa||this.pf>f.NJa)&&(!this.KJa||this.yGa>f.tIa)&&(this.qg=g.Pc.nC,b(this),this.VL=setInterval(this.aLa,f.fIa));h.Ja(this.Kr)||(c-this.Kr>f.$da?this.Qr.qla(this.Kr,c):d-c>f.$da&&this.Qr.qla(c,d));this.Kr=Math.max(d,this.Kr);}};d.prototype.yp=function(a){this.op.add(a);this.Jf.yp(a);};d.prototype.vp=function(a){this.gp.add(a);this.Jf.vp(a);};d.prototype.start=function(a){var b;h.Ja(this.Kr)&&!h.Ja(this.zb)&&(this.Kr=a);b=this.yk;if(this.H.y5)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};d.prototype.stop=function(a){var b,c;b=this.yk;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.zb=h.Ja(this.zb)?a:Math.min(this.zb,a);this.Kr=null;};d.prototype.flush=function(){var a,b;a=this.yk;for(b in a)a[b]&&a[b].flush&&a[b].flush();};d.prototype.fail=function(){this.vc=null;};d.prototype.nXa=function(){var a,b;a=this.yk.entropy;a&&(b=a.oOa(),a.reset());return b;};d.prototype.tka=function(){var a,b,c,d,g,h,f;a=l.time.la();b={};c=this.yk;d=this.H;g=d.ZGa;h=d.lKa;for(f in c)c[f]&&c[f].get&&(b[f]=c[f].get(a),"iqr"===c[f].type&&(b.Xi=b[f]),"tdigest"===c[f].type&&(b.dk=b[f]));b["default"]=g&&b[g]?b[g]:b["throughput-ewma"];"none"!==d.M4&&"none"!==h&&(b.Mqa=h&&b[h]?b[h]:b["throughput-sw"]);return b;};d.prototype.get=function(){var a,b,c,d,g;a=this.tka();b=a["default"];c=this.op.get();d=this.gp.get();if(a.Mqa)g=a.Mqa,b=h.da(b.ta)&&h.da(g.ta)&&b.ta>g.ta&&0<g.ta?g:b;a.$b=this.qg;a.ia=b;a.he=c;a.Dm=d;if(this.H.Tp||"rlabr"===this.H.kx)a.o8a=this.yk.wqa.g0();b=this.RL+!h.Ja(this.vc)?(h.Ja(this.zb)?l.time.la():this.zb)-this.vc:0;a.time=b;return a;};d.prototype.gqa=function(a){1===++this.ica&&(this.emit("active",a),this.start(a));};d.prototype.T7a=function(){};d.prototype.jqa=function(a){0===--this.ica&&(this.stop(a),this.emit("inactive",a));};f.P=d;},function(f){(function(){var U9u;U9u=2;while(U9u!==9){switch(U9u){case 4:c.prototype.get=function(){var G9u;G9u=2;while(G9u!==1){switch(G9u){case 2:return{ta:this.Sr?Math.floor(8*this.pf/this.Sr):null,wTa:this.Sr?this.Sr:0};break;}}};f.P=c;U9u=9;break;case 2:c.prototype.start=function(a){var l9u;l9u=2;while(l9u!==1){switch(l9u){case 2:this.vc?a<this.vc?(this.Sr+=this.vc-a,this.vc=a):a>this.ya&&(this.ya=this.vc=a):this.ya=this.vc=a;l9u=1;break;}}};c.prototype.stop=function(a){var B9u;B9u=2;while(B9u!==1){switch(B9u){case 2:this.ya&&a>this.ya&&(this.Sr+=a-this.ya,this.ya=a);B9u=1;break;}}};c.prototype.add=function(a,b,c){var z9u;z9u=2;while(z9u!==4){switch(z9u){case 2:this.start(b);this.stop(c);this.pf+=a;z9u=4;break;}}};U9u=4;break;}}function c(){var k9u;k9u=2;while(k9u!==5){switch(k9u){case 2:this.Sr=this.pf=0;this.ya=this.vc=void 0;k9u=5;break;}}}}());},function(f,c,a){var d;function b(a){var b,c;b=a.sw;c=a.mw;this.TW=b;this.iV={uhd:a.uhdl,hd:a.hdl};this.wg=Math.max(Math.ceil(1*b/c),1);this.wIa=a.mins||1;d.call(this,b,c);this.reset();}d=a(101);new(a(9)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(d.prototype);b.prototype.flush=function(){this.Xb.map(function(a,b){this.Gfa(a,this.B_(b));},this);};b.prototype.oOa=function(){var a,b,c,d,f,k,u,G;a=this.iV;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.LW[b];f=this.JW[b];if(d.first){k=d.first;u=d.Tw;void 0!==u&&(f[k][u]+=1);d.first=void 0;}for(var d=[],k=0,c=u=c.length+1,v=0;v<u;v++){for(var n=0,q=0;q<c;q++)n+=f[q][v];k+=n;d.push(n);}n=-1;if(k>this.wIa){for(v=n=0;v<u;v++)if(0<d[v])for(q=0;q<c;q++){G=f[q][v];0<G&&(n-=G*Math.log(1*G/d[v]));}n/=k*Math.log(2);}this.AV[b]=n;}return this.AV;};b.prototype.Gfa=function(a,b){var c,f;for(var c=this.wg,d=this.iV;this.MK.length>=c;)this.MK.shift();for(;this.NK.length>=c;)this.NK.shift();this.MK.push(a);this.NK.push(b);a=this.MK.reduce(function(a,b){return a+b;},0);b=this.NK.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var h in d)if(d.hasOwnProperty(h)){b=this.LW[h];c=this.JW[h];f=this.G6a(a,d[h]);prev=b.Tw;void 0!==prev?c[f][prev]+=1:b.first=f;b.Tw=f;}}};b.prototype.G6a=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.Gfa(this.Xb[0],this.B_(0));d.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.LW={};this.MK=[];this.NK=[];this.JW={};this.AV={};a=this.iV;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.JW,f=b,p,k=void 0,u=Array(k),k=p=a[b].length+1,v=0;v<k;v++){u[v]=Array(p);for(var n=0;n<p;n++)u[v][n]=0;}c[f]=u;this.LW[b]={first:void 0,Tw:void 0};this.AV[b]=0;}d.prototype.reset.call(this);};f.P=b;},function(f,c,a){var d,h,l,g,m,p,k,u,v;function b(a){this.$Ga=a;}c=a(278);d=c.Hwa;h=c.Fwa;l=a(277).Gwa;g=a(276);m=a(275);p=a(177);k=a(273);u=a(509);v=a(508);b.prototype.constructor=b;b.prototype.create=function(a,b){var c,f,r,n;f=this.$Ga[a];r=b[a];n={};f&&Object.keys(f).forEach(function(a){n[a]=f[a];});r&&Object.keys(r).forEach(function(a){n[a]=r[a];});switch(n.type){case"slidingwindow":c=new l(n.mw);break;case"discontiguous-ewma":c=new h(n.mw,n.wt);break;case"iqr":c=new g(n.mx,n.mn,n.bw,n.iv);break;case"tdigest":c=new m(n);break;case"discrete-ewma":c=new d(n.hl,n["in"]);break;case"tdigest-history":c=new p(n);break;case"iqr-history":c=new k(n);break;case"avtp":c=new v();break;case"entropy":c=new u(n);}c&&(c.type=n.type);return c;};f.P=b;},function(f,c,a){function b(a){this.data=a;this.right=this.left=null;}function d(a){this.Qc=null;this.Gi=a;this.size=0;}c=a(274);b.prototype.Ae=function(a){return a?this.right:this.left;};b.prototype.Zk=function(a,b){a?this.right=b:this.left=b;};d.prototype=new c();d.prototype.jA=function(a){if(null===this.Qc)return this.Qc=new b(a),this.size++,!0;for(var c=0,d=null,h=this.Qc;;){if(null===h)return h=new b(a),d.Zk(c,h),ret=!0,this.size++,!0;if(0===this.Gi(h.data,a))return!1;c=0>this.Gi(h.data,a);d=h;h=h.Ae(c);}};d.prototype.remove=function(a){var c,d,h,u,k;if(null===this.Qc)return!1;c=new b(void 0);d=c;d.right=this.Qc;for(var h=null,f=null,k=1;null!==d.Ae(k);){h=d;d=d.Ae(k);u=this.Gi(a,d.data);k=0<u;0===u&&(f=d);}return null!==f?(f.data=d.data,h.Zk(h.right===d,d.Ae(null===d.left)),this.Qc=c.right,this.size--,!0):!1;};f.P=d;},function(f,c,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function d(a){this.Qc=null;this.Gi=a;this.size=0;}function h(a){return null!==a&&a.red;}function l(a,b){var c;c=a.Ae(!b);a.Zk(!b,c.Ae(b));c.Zk(b,a);a.red=!0;c.red=!1;return c;}function g(a,b){a.Zk(!b,l(a.Ae(!b),!b));return l(a,b);}c=a(274);b.prototype.Ae=function(a){return a?this.right:this.left;};b.prototype.Zk=function(a,b){a?this.right=b:this.left=b;};d.prototype=new c();d.prototype.jA=function(a){var c,d,f,m,k,n,q,x,y;c=!1;if(null===this.Qc)this.Qc=new b(a),c=!0,this.size++;else{d=new b(void 0);f=0;m=0;k=null;n=d;q=null;x=this.Qc;for(n.right=this.Qc;;){null===x?(x=new b(a),q.Zk(f,x),c=!0,this.size++):h(x.left)&&h(x.right)&&(x.red=!0,x.left.red=!1,x.right.red=!1);if(h(x)&&h(q)){y=n.right===k;x===q.Ae(m)?n.Zk(y,l(k,!m)):n.Zk(y,g(k,!m));}y=this.Gi(x.data,a);if(0===y)break;m=f;f=0>y;null!==k&&(n=k);k=q;q=x;x=x.Ae(f);}this.Qc=d.right;}this.Qc.red=!1;return c;};d.prototype.remove=function(a){var c,d,q,f,x,n,y;if(null===this.Qc)return!1;c=new b(void 0);d=c;d.right=this.Qc;for(var f=null,m,k=null,n=1;null!==d.Ae(n);){q=n;m=f;f=d;d=d.Ae(n);x=this.Gi(a,d.data);n=0<x;0===x&&(k=d);if(!h(d)&&!h(d.Ae(n)))if(h(d.Ae(!n)))m=l(d,n),f.Zk(q,m),f=m;else if(!h(d.Ae(!n))&&(x=f.Ae(!q),null!==x))if(h(x.Ae(!q))||h(x.Ae(q))){y=m.right===f;h(x.Ae(q))?m.Zk(y,g(f,q)):h(x.Ae(!q))&&m.Zk(y,l(f,q));q=m.Ae(y);q.red=!0;d.red=!0;q.left.red=!1;q.right.red=!1;}else f.red=!1,x.red=!0,d.red=!0;}null!==k&&(k.data=d.data,f.Zk(f.right===d,d.Ae(null===d.left)),this.size--);this.Qc=c.right;null!==this.Qc&&(this.Qc.red=!1);return null!==k;};f.P=d;},function(f,c,a){f.P={XDa:a(512),Mdb:a(511)};},function(f){function c(a){this.ty=a;this.Zb=0;this.Py=null;}c.prototype.add=function(a,b,c){null!==this.Py&&b>this.Py&&(this.Zb+=b-this.Py,this.Py=null);this.ty.add(a,b-this.Zb,c-this.Zb,this.Zb);};c.prototype.stop=function(a){null===this.Py&&(this.Py=a);};c.prototype.I3=function(a,b){return this.ty.I3(a,b);};c.prototype.get=function(){return this.ty.get();};c.prototype.reset=function(){this.ty.reset();};c.prototype.toString=function(){return this.ty.toString();};f.P=c;},function(f){function c(a,b,c){this.Uy=a;this.wg=Math.floor((a+b-1)/b);this.Mb=b;this.WJa=c;this.reset();}c.prototype.shift=function(){this.Xb.shift();this.Uu.shift();};c.prototype.update=function(a,b){this.Xb[a]+=b;};c.prototype.push=function(a){this.Xb.push(0);this.Uu.push(a?a:0);this.ya+=this.Mb;};c.prototype.add=function(a,b,c,h){var d,g;if(null===this.ya){d=Math.max(Math.floor((c-b+this.Mb-1)/this.Mb),1);for(this.ya=b;this.Xb.length<d;)this.push(h);}for(;this.ya<c;)if(this.push(h),this.WJa)for(;1<this.Xb.length&&c+h-(this.ya-this.Mb*this.Xb.length+this.Uu[0])>this.Uy;)this.shift();else this.Xb.length>this.wg&&this.shift();if(b>this.ya-this.Mb)this.update(this.Xb.length-1,a);else if(b==c)h=this.Xb.length-Math.max(Math.ceil((this.ya-c)/this.Mb),1),0<=h&&this.update(h,a);else for(h=1;h<=this.Xb.length;++h){d=this.ya-h*this.Mb;g=d+this.Mb;if(!(d>c)){if(g<b)break;this.update(this.Xb.length-h,Math.round(a*(Math.min(g,c)-Math.max(d,b))/(c-b)));}}for(;this.Xb.length>this.wg;)this.shift();};c.prototype.reset=function(){this.Xb=[];this.Uu=[];this.ya=null;};c.prototype.setInterval=function(a){this.wg=Math.floor((a+this.Mb-1)/this.Mb);};f.P=c;},function(f,c,a){var h,l,g,m;function b(a,b,c){h.call(this,a,b,c);}function d(a,c){l.call(this,new b(a,c,!1));}h=a(515);l=a(514);g=a(35).xWa;m=a(35).bZa;b.prototype=Object.create(h.prototype);b.prototype.ta=function(){return Math.floor(8*g(this.Xb)/this.Mb);};b.prototype.cg=function(){return Math.floor(64*m(this.Xb)/(this.Mb*this.Mb));};b.prototype.get=function(){return{ta:this.ta(),cg:this.cg(),llb:this.Xb.length};};b.prototype.toString=function(){return"bsw("+this.Uy+","+this.Mb+","+this.wg+")";};d.prototype=Object.create(l.prototype);d.prototype.setInterval=function(a){this.ty.setInterval(a);};f.P=d;},function(f,c,a){var d;function b(a){this.Nqa=a;}d=new(a(9)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.Oqa=function(a){var b;b=this.Nqa;return b.charCodeAt(a%b.length);};b.prototype.encrypt=function(a){var b;b="";if(void 0===this.Nqa)d.warn("XORCiper.encrypt is called with undefined secret!");else{for(var c=0;c<a.length;c++)b+=String.fromCharCode(this.Oqa(c)^a.charCodeAt(c));return encodeURIComponent(b);}};b.prototype.decrypt=function(a){var b;b="";a=decodeURIComponent(a);for(var c=0;c<a.length;c++)b+=String.fromCharCode(this.Oqa(c)^a.charCodeAt(c));return b;};f.P=b;},function(f){f.P="function"===typeof Object.create?function(c,a){c.pab=a;c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});}:function(c,a){function b(){}c.pab=a;b.prototype=a.prototype;c.prototype=new b();c.prototype.constructor=c;};},function(f){f.P=function(c){return c&&"object"===typeof c&&"function"===typeof c.SY&&"function"===typeof c.fill&&"function"===typeof c.Yrb;};},function(f,c,a){(function(b,d){var V,D,S,H;function h(a,b){var d;d={Q4:[],Th:g};3<=arguments.length&&(d.depth=arguments[2]);4<=arguments.length&&(d.mz=arguments[3]);x(b)?d.o5=b:b&&c.pHa(d,b);F(d.o5)&&(d.o5=!1);F(d.depth)&&(d.depth=2);F(d.mz)&&(d.mz=!1);F(d.Hha)&&(d.Hha=!0);d.mz&&(d.Th=f);return p(d,a,d.depth);}function f(a,b){return(b=h.cab[b])?"\u001b["+h.mz[b][0]+"m"+a+"\u001b["+h.mz[b][1]+"m":a;}function g(a){return a;}function m(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function p(a,b,d){var g,h,f,l,r;if(a.Hha&&b&&O(b.aG)&&b.aG!==c.aG&&(!b.constructor||b.constructor.prototype!==b)){g=b.aG(d,a);C(g)||(g=p(a,g,d));return g;}if(g=k(a,b))return g;h=Object.keys(b);f=m(h);a.o5&&(h=Object.getOwnPropertyNames(b));if(Z(b)&&(0<=h.indexOf("message")||0<=h.indexOf("description")))return u(b);if(0===h.length){if(O(b))return a.Th("[Function"+(b.name?": "+b.name:"")+"]","special");if(N(b))return a.Th(RegExp.prototype.toString.call(b),"regexp");if(ca(b))return a.Th(Date.prototype.toString.call(b),"date");if(Z(b))return u(b);}g="";l=!1;r=["{","}"];G(b)&&(l=!0,r=["[","]"]);O(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");N(b)&&(g=" "+RegExp.prototype.toString.call(b));ca(b)&&(g=" "+Date.prototype.toUTCString.call(b));Z(b)&&(g=" "+u(b));if(0===h.length&&(!l||0==b.length))return r[0]+g+r[1];if(0>d)return N(b)?a.Th(RegExp.prototype.toString.call(b),"regexp"):a.Th("[Object]","special");a.Q4.push(b);h=l?n(a,b,d,f,h):h.map(function(c){return q(a,b,d,f,c,l);});a.Q4.pop();return w(h,g,r);}function k(a,b){if(F(b))return a.Th("undefined","undefined");if(C(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Th(b,"string");if(y(b))return a.Th(""+b,"number");if(x(b))return a.Th(""+b,"boolean");if(null===b)return a.Th("null","null");}function u(a){return"["+Error.prototype.toString.call(a)+"]";}function n(a,b,c,d,g){for(var h=[],f=0,m=b.length;f<m;++f)Object.prototype.hasOwnProperty.call(b,String(f))?h.push(q(a,b,c,d,String(f),!0)):h.push("");g.forEach(function(g){g.match(/^\d+$/)||h.push(q(a,b,c,d,g,!0));});return h;}function q(a,b,c,d,g,h){var f,m;b=Object.getOwnPropertyDescriptor(b,g)||{value:b[g]};b.get?m=b.set?a.Th("[Getter/Setter]","special"):a.Th("[Getter]","special"):b.set&&(m=a.Th("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,g)||(f="["+g+"]");m||(0>a.Q4.indexOf(b.value)?(m=null===c?p(a,b.value,null):p(a,b.value,c-1),-1<m.indexOf("\n")&&(m=h?m.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+m.split("\n").map(function(a){return"   "+a;}).join("\n"))):m=a.Th("[Circular]","special"));if(F(f)){if(h&&g.match(/^\d+$/))return m;f=JSON.stringify(""+g);f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=a.Th(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=a.Th(f,"string"));}return f+": "+m;}function w(a,b,c){var d;d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function G(a){return Array.isArray(a);}function x(a){return"boolean"===typeof a;}function y(a){return"number"===typeof a;}function C(a){return"string"===typeof a;}function F(a){return void 0===a;}function N(a){return t(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function t(a){return"object"===typeof a&&null!==a;}function ca(a){return t(a)&&"[object Date]"===Object.prototype.toString.call(a);}function Z(a){return t(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function O(a){return"function"===typeof a;}function B(a){return 10>a?"0"+a.toString(10):a.toString(10);}function A(){var a,b;a=new Date();b=[B(a.getHours()),B(a.getMinutes()),B(a.getSeconds())].join(":");return[a.getDate(),H[a.getMonth()],b].join(" ");}V=/%[sdj%]/g;c.format=function(a){if(!C(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(h(arguments[c]));return b.join(" ");}for(var c=1,d=arguments,g=d.length,b=String(a).replace(V,function(a){if("%%"===a)return"%";if(c>=g)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++]);}catch(ua){return"[Circular]";}default:return a;}}),f=d[c];c<g;f=d[++c])b=null!==f&&t(f)?b+(" "+h(f)):b+(" "+f);return b;};c.WSa=function(a,g){var h;if(F(b.xrb))return function(){return c.WSa(a,g).apply(this,arguments);};if(!0===d.vqb)return a;h=!1;return function(){if(!h){if(d.ltb)throw Error(g);d.ptb?console.trace(g):console.error(g);h=!0;}return a.apply(this,arguments);};};D={};c.ymb=function(a){var b;F(S)&&(S=d.DUa.Dhb||"");a=a.toUpperCase();if(!D[a])if(new RegExp("\\b"+a+"\\b","i").test(S)){b=d.$qb;D[a]=function(){var d;d=c.format.apply(c,arguments);console.error("%s %d: %s",a,b,d);};}else D[a]=function(){};return D[a];};c.aG=h;h.mz={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};h.cab={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};c.isArray=G;c.C_a=x;c.Ja=function(a){return null===a;};c.lpb=function(a){return null==a;};c.da=y;c.oc=C;c.ppb=function(a){return"symbol"===typeof a;};c.S=F;c.Lla=N;c.Pd=t;c.cG=ca;c.eG=Z;c.wb=O;c.Hla=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};c.isBuffer=a(519);H="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");c.log=function(){console.log("%s - %s",A(),c.format.apply(c,arguments));};c.l_a=a(518);c.pHa=function(a,b){if(b&&t(b))for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];};}.call(this,a(162),a(280)));},function(f,c,a){(function(){var p9u,c,c52;p9u=2;function b(a,b,d){var q9u;q9u=2;while(q9u!==5){switch(q9u){case 2:v7AA.K52(0);c.call(this,v7AA.o52(a,b),b);this.config=d;q9u=5;break;}}}while(p9u!==13){c52="RLTPUT";c52+="_ASE";c52+="JS";switch(p9u){case 9:b.prototype.g0=function(){var C9u;C9u=2;while(C9u!==1){switch(C9u){case 2:return this.get(this.config.Fa.fillS,this.config.Fa.fillHl);break;}}};b.prototype.stop=function(a){var v9u;v9u=2;while(v9u!==1){switch(v9u){case 2:c.prototype.stop.call(this,a);v9u=1;break;}}};b.prototype.reset=function(){var u9u;u9u=2;while(u9u!==1){switch(u9u){case 4:c.prototype.reset.call(this);u9u=5;break;u9u=1;break;case 2:c.prototype.reset.call(this);u9u=1;break;}}};b.prototype.toString=function(){var L9u,C52;L9u=2;while(L9u!==1){C52="r";C52+="ltp";C52+="ut(";switch(L9u){case 4:return(")"-this.Mb)/")";break;L9u=1;break;case 2:return C52+this.Mb+")";break;}}};f.P=b;p9u=13;break;case 2:new(a(9)).Console(c52);c=a(101);b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var M9u;M9u=2;while(M9u!==1){switch(M9u){case 2:c.prototype.shift.call(this);M9u=1;break;case 4:c.prototype.shift.call(this);M9u=5;break;M9u=1;break;}}};p9u=9;break;}}}());},function(f,c,a){var b;b=0;f.P=function(c,h){var g,f,p,k;function d(a,b){return(a["$ASE$order"+k]||0)-(b["$ASE$order"+k]||0);}g=a(44);f=this;p=h?[h]:[];k="$op$"+b++;g({value:c,addListener:function(a,b){a["$ASE$order"+k]=b;p=p.slice();p.push(a);p.sort(d);},removeListener:function(a){var b;p=p.slice();0<=(b=p.indexOf(a))&&p.splice(b,1);},set:function(a,b){var c;if(f.value!==a){c={oldValue:f.value,newValue:a};b&&g(b,c);f.value=a;a=p;b=a.length;for(var d=0;d<b;d++)a[d](c);}}},f);};},function(f){function c(a,b){this.ta=a;this.cg=b;}c.prototype.G3=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),c=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),f=0;2>f;f++)var l=Math.abs(c),g=1/(1+l/2),l=g*Math.exp(-l*l-1.26551223+g*(1.00002368+g*(.37409196+g*(.09678418+g*(-.18628806+g*(.27886807+g*(-1.13520398+g*(1.48851587+g*(-.82215223+.17087277*g))))))))),l=(0<=c?l:2-l)-b,c=c+l/(1.1283791670955126*Math.exp(-(c*c))-c*l);a=1>a?c:-c;}return this.ta-Math.sqrt(2*this.cg)*a;};f.P=c;},function(f,c,a){var g,m,p,k,u,n;function b(a){var b;b=a.EV;this.H=a;this.qg=m.Pc.HAVE_NOTHING;this.wy=a.wy;a=new u(this.wy);this.YD=a.create("throughput-location-history",b);this.op=a.create("respconn-location-history",b);this.gp=a.create("respconn-location-history",b);this.NL=a.create("throughput-tdigest-history",b);this.eL=a.create("throughput-iqr-history",b);this.ya=null;}function d(a,c,d,g,f){this.fp=new b(f);this.Al=[];this.rIa=p.time.la()-Date.now()%864E5;this.cp=null;this.H=f;for(a=0;a<g;++a)this.Al.push(new b(f));}function h(a,b,c){return g.has(a,b)?a[b]:a[b]=c;}function l(a,c){var d;this.H=a;this.QL=c;this.EUa();this.vD=new b(this.H);this.CD();d=a.pZ;d&&(d={$b:m.Pc.nC,ia:{ta:parseInt(d,10),cg:0},he:{ta:0,cg:0},Dm:{ta:0,cg:0}},this.get=function(){return d;});}g=a(10);m=a(13);c=a(30);p=a(9);k=c.Axa;u=a(279).z8;new p.Console("ASEJS_LOCATION_HISTORY","media|asejs");n={$b:m.Pc.HAVE_NOTHING};b.prototype.mv=function(a,b){this.qg=b;this.YD.add(a);this.NL.add(a);this.ya=p.time.la();};b.prototype.zx=function(a,b){this.eL.set(a,b);};b.prototype.yp=function(a){this.op.add(a);};b.prototype.vp=function(a){this.gp.add(a);};b.prototype.ae=function(){var a,b,c,d,f,h;a=this.YD.ae();b=this.op.ae();c=this.gp.ae();d=this.eL.ae();f=this.NL.ae();if(g.Ja(a)&&g.Ja(b)&&g.Ja(c))return null;h={c:this.qg,t:p.time.GG(this.ya)};g.Ja(a)||(h.tp=a);g.Ja(b)||(h.rt=b);g.Ja(c)||(h.hrt=c);g.Ja(d)||(h.iqr=d);g.Ja(f)||(h.td=f);return h;};b.prototype.qh=function(a){var b;b=p.time.now();if(!(a&&g.has(a,"c")&&g.has(a,"t")&&g.has(a,"tp")&&g.isFinite(a.c)&&g.isFinite(a.t))||0>a.c||a.c>m.Pc.nC||a.t>b||!this.YD.qh(a.tp))return this.qg=m.Pc.HAVE_NOTHING,this.cp=this.ya=null,this.YD.qh(null),this.op.qh(null),this.gp.qh(null),!1;this.qg=a.c;this.ya=p.time.EP(a.t);this.op.qh(g.has(a,"rt")?a.rt:null);this.gp.qh(g.has(a,"hrt")?a.hrt:null);g.has(a,"iqr")&&this.eL.qh(a.iqr);g.has(a,"td")&&this.NL.qh(a.td);return!0;};b.prototype.get=function(){var a,b,c,d,f,h;a=this.H;if(g.Ja(this.ya))return n;b=(p.time.la()-this.ya)/1E3;b>a.QHa?this.qg=m.Pc.HAVE_NOTHING:b>a.rHa&&(this.qg=Math.min(this.qg,m.Pc.gr));a=this.YD.get();c=this.op.get();d=this.gp.get();f=this.eL.get();h=this.NL.get();b={Cj:b,$b:this.qg,ia:a,he:c,Dm:d,Xi:f,dk:h};a&&(b.ktb=k.prototype.G3.bind(a));c&&(b.jsb=k.prototype.G3.bind(c));d&&(b.Nob=k.prototype.G3.bind(d));return b;};b.prototype.time=function(){return this.ya;};b.prototype.Fr=function(){this.get();p.time.la();};d.prototype.wl=function(){return((p.time.la()-this.rIa)/1E3/3600/(24/this.Al.length)|0)%this.Al.length;};d.prototype.ae=function(){var a;a={g:this.fp.ae(),h:this.Al.map(function(a){return a.ae();})};g.Ja(this.cp)||(a.f=p.time.GG(this.cp));return a;};d.prototype.qh=function(a){var b,c;if(!this.fp.qh(a.g))return!1;b=this.Al.length;c=!1;this.Al.forEach(function(d,g){c=!d.qh(a.h[g*a.h.length/b|0])||c;});this.cp=g.has(a,"f")?p.time.EP(a.f):null;return c;};d.prototype.mv=function(a,b){this.fp.mv(a,b);this.Al[this.wl()].mv(a,b);this.cp=null;};d.prototype.zx=function(a,b){this.fp.zx(a,b);this.Al[this.wl()].zx(a,b);};d.prototype.yp=function(a){this.fp.yp(a);this.Al[this.wl()].yp(a);};d.prototype.vp=function(a){this.fp.vp(a);this.Al[this.wl()].vp(a);};d.prototype.fail=function(a){this.cp=a;};d.prototype.get=function(){var a,b;if(!g.Ja(this.cp)){if((p.time.la()-this.cp)/1E3<this.H.qHa)return{$b:m.Pc.HAVE_NOTHING,Xv:!0};this.cp=null;}a=this.Al[this.wl()].get();b=this.fp.get();a=a.$b>=b.$b?a:b;a.Xv=!1;return a;};d.prototype.time=function(){return this.fp.time();};d.prototype.Fr=function(a){this.fp.Fr(a+": global");this.Al.forEach(function(b,c,d){g.Ja(b.time())||(c=24*c/d.length,b.Fr(a+":  "+((10>c?"0":"")+c+"00")+"h"));});};l.prototype.zda=function(a,b){var c;c=this.H;a=h(this.zy,a,{});return h(a,b,new d(0,0,0,c.tea||4,c));};l.prototype.CD=function(){var a,b;a=p.storage.get("lh");b=p.storage.get("gh");a&&this.VD(a);b&&this.oKa(b);};l.prototype.JV=function(){var a;a={};g.Kc(this.zy,function(b,c){g.Kc(b,function(b,d){h(a,c,{})[d]=b.ae();},this);},this);return a;};l.prototype.oKa=function(a){this.vD.qh(a);};l.prototype.VD=function(a){var b,c;b=null;c=this.H;g.Kc(a,function(a,f){g.Kc(a,function(a,m){var l;l=new d(0,0,0,c.tea||4,c);l.qh(a)?(h(this.zy,f,{})[m]=l,b=!0):g.Ja(b)&&(b=!1);},this);},this);return g.Ja(b)?!0:b;};l.prototype.save=function(){var a;a=this.JV();p.storage.set("lh",a);p.storage.set("gh",this.vD.ae());this.QL&&this.QL.h5(this.vD.ae());};l.prototype.EUa=function(){this.zy={};this.uy=this.Vca="";this.Jf=null;};l.prototype.UQ=function(a){this.Vca=a;this.Jf=null;};l.prototype.SQ=function(a){this.uy=a;this.Jf=null;};l.prototype.aL=function(){g.Ja(this.Jf)&&(this.Jf=this.zda(this.Vca,this.uy));return this.Jf;};l.prototype.mv=function(a,b){this.aL().mv(a,b);this.vD.mv(a,b);};l.prototype.zx=function(a,b){a&&a.jh&&a.Tf&&a.kh&&(this.aL().zx(a,b),this.vD.zx(a,b));};l.prototype.yp=function(a){this.aL().yp(a);};l.prototype.vp=function(a){this.aL().vp(a);};l.prototype.fail=function(a,b){this.zda(a,this.uy).fail(b);};l.prototype.get=function(a,b){var c,d,f,h;a=(a=this.zy[a])?a[this.uy]:null;c=null;if(a&&(c=a.get(),c.$b>m.Pc.HAVE_NOTHING))return c;if(!1===b)return n;d=c=null;f=!1;h=null;g.Kc(this.zy,function(a){g.Kc(a,function(a,b){var g;if(!f||b==this.uy){g=a.get();g&&(!d||d<=g.$b)&&(!h||d<g.$b||h<a.time())&&(d=g.$b,f=b==this.uy,h=a.time(),c=g);}},this);},this);return c?c:n;};l.prototype.Fr=function(){g.Kc(this.zy,function(a,b){g.Kc(a,function(a,c){a.Fr(b+":"+c);});});};f.P=l;},function(f,c,a){f.P={kza:a(524),XAa:a(507),WAa:a(506),$fb:a(273),Djb:a(177),VEa:a(505)};},function(f,c,a){(function(){var Q52,c,h,l,g,m,p,k,u,n,q,w,G,x,y,C;Q52=2;while(Q52!==43){var z82="m";z82+="edia|as";z82+="ej";z82+="s";var E82="AS";E82+="E";E82+="J";E82+="S";switch(Q52){case 3:g=a(525);m=g.kza;p=g.XAa;k=g.WAa;Q52=6;break;case 2:c=a(10);h=a(13);l=a(31).EventEmitter;Q52=3;break;case 6:u=g.VEa;n=a(504);q=a(477);w=a(9);Q52=11;break;case 16:g.error.bind(g);b.prototype.constructor=b;Object.defineProperties(b.prototype,{ej:{get:function(){var T82;T82=2;while(T82!==1){switch(T82){case 2:return this.Hb;break;case 4:return this.Hb;break;T82=1;break;}}}},Lq:{get:function(){var X82;X82=2;while(X82!==1){switch(X82){case 2:return this.Xea;break;case 4:return this.Xea;break;X82=1;break;}}}},wra:{get:function(){var Z82;Z82=2;while(Z82!==1){switch(Z82){case 4:return this.EW;break;Z82=1;break;case 2:return this.EW;break;}}}}});b.prototype.Xc=function(a,b,c,d,g,f){var x82,h;x82=2;while(x82!==19){var i82="med";i82+="i";i82+="a";i82+="ca";i82+="che";var q82="cacheE";q82+="v";q82+="ict";var m82="flushe";m82+="dB";m82+="yt";m82+="es";var W82="disc";W82+="ard";W82+="edBytes";var U82="pr";U82+="eb";U82+="uffs";U82+="t";U82+="ats";switch(x82){case 9:this.BKa=g;x82=8;break;case 8:G(h);this.Jf=new m(h,this.QL);this.Qr=new k(h);x82=14;break;case 2:h=this.H;0<h.qq&&(a>h.qq&&(a=h.qq),b>h.qq&&(b=h.qq));this.ol=[a,b];this.EW=d;x82=9;break;case 11:x82=h.VB||h.QR?10:20;break;case 10:b=new n(this,h,c,f),a=function(a){var r82;r82=2;while(r82!==1){switch(r82){case 4:this.Ha(a.type,a);r82=4;break;r82=1;break;case 2:this.Ha(a.type,a);r82=1;break;}}}.bind(this),b.addEventListener(U82,a),b.addEventListener(W82,a),b.addEventListener(m82,a),b.addEventListener(q82,a),(h.Ssa||h.Bx)&&b.addEventListener(i82,function(a){var v82;v82=2;while(v82!==1){var N82="m";N82+="edia";N82+="c";N82+="ache";switch(v82){case 4:this.Ha("",a);v82=4;break;v82=1;break;case 2:this.Ha(N82,a);v82=1;break;}}}.bind(this)),this.uc=b;x82=20;break;case 14:this.Hb=new p(this.Qr,this.Jf,h);this.Xea=new u(h);h.PP&&!this.jKa&&(this.jKa=setInterval(function(){var B82;B82=2;while(B82!==5){switch(B82){case 2:this.Jf.save();this.Qr.save();B82=5;break;}}}.bind(this),h.PP));x82=11;break;case 20:this.Hda=!0;x82=19;break;}}};b.prototype.Cs=function(a,b,d,g,f,m,l,p){var M82;M82=2;while(M82!==4){var G82="open:";G82+=" st";G82+="reamingMan";G82+="ager not initted";var H82="b";H82+="ra";H82+="n";H82+="chin";H82+="g";switch(M82){case 1:return p=p||this.H,this.Hb.reset(),this.Qr.z$a(),this.Xea.reset(),void 0===m&&(m=this.xja(a,b)),c.S(this.EW)&&(this.EW=this.ol[h.G.VIDEO]<=p.G2a?0:p.sQ),a&&a.choiceMap&&H82===a.choiceMap.type&&(f.Qf=!0),a=new q(this,a,b,d,g,f,m,l,p),this.My.push(a),a;break;case 7:C("");M82=6;break;M82=4;break;case 5:C(G82);M82=4;break;case 2:M82=this.Hda?1:5;break;}}};Q52=24;break;case 11:G=a(454);x=w.Promise;g=new w.Console(E82,z82);g.trace.bind(g);g.log.bind(g);C=g.warn.bind(g);Q52=16;break;case 24:b.prototype.M1=function(a,b){var S82;S82=2;while(S82!==1){switch(S82){case 2:return this.uc&&(a=this.uc.M1(a,b))?a:!1;break;}}};b.prototype.z1a=function(a){var Y82;Y82=2;while(Y82!==1){switch(Y82){case 2:return this.uc&&(a=this.uc.Gma(a))?a:!1;break;}}};b.prototype.nw=function(){var y82;y82=2;while(y82!==1){switch(y82){case 2:return this.uc?this.uc.nw():x.resolve([]);break;}}};b.prototype.ZJa=function(a){var g82,b;g82=2;while(g82!==3){var s82="can't find ses";s82+="sion i";s82+="n arr";s82+="ay, mov";s82+="ieId:";switch(g82){case 2:this.Hb.UQ(null);b=this.My.indexOf(a);c.S(b)?C(s82,a.xl):(this.My.splice(b,1),0===this.My.length&&this.Qr.K$a(),this.Qr.save(),this.Jf.save());g82=3;break;}}};b.prototype.yja=function(a){var e82,b;e82=2;while(e82!==3){switch(e82){case 5:a.spoofedProfile&&(b.originalProfile=a.profile);return b;break;case 6:a.spoofedProfile||(b.originalProfile=a.profile);return b;break;e82=3;break;case 2:b={profile:a.spoofedProfile||a.profile,VVa:a.max_framerate_value,UVa:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,brb:a.pixelAspectX,crb:a.pixelAspectY,kz:a.channels,sampleRate:48E3};e82=5;break;}}};b.prototype.xja=function(a,b,c){var n82,d;n82=2;while(n82!==3){var o82="video_t";o82+="rac";o82+="ks";var P82="audio_t";P82+="rac";P82+="ks";var D82="aud";D82+="io_";D82+="t";D82+="racks";switch(n82){case 2:d=[{},{}];(c===h.G.AUDIO?[D82]:[P82,o82]).forEach(function(c,g){var k82;k82=2;while(k82!==1){switch(k82){case 2:a[c].some(function(a,c){var l82;l82=2;while(l82!==1){switch(l82){case 2:return c===b[g]?(d[g]=y.yja(a),!0):!1;break;}}});k82=1;break;}}});return d;break;}}};Q52=33;break;case 33:b.prototype.Ksa=function(a){var d82;d82=2;while(d82!==1){switch(d82){case 2:w.UF(a);d82=1;break;case 4:w.UF(a);d82=7;break;d82=1;break;}}};b.prototype.tga=function(a,b){var F82;F82=2;while(F82!==1){switch(F82){case 2:this.uc&&(a=this.uc.$5a(this,a),c.S(b)||a.then(b));F82=1;break;}}};b.prototype.gY=function(){var w82;w82=2;while(w82!==1){switch(w82){case 2:this.uc&&this.uc.flush();w82=1;break;}}};Q52=30;break;case 30:b.prototype.hOa=function(){var A82;A82=2;while(A82!==1){switch(A82){case 2:this.uc&&this.uc.fja();A82=1;break;}}};b.prototype.tM=function(){var J82;J82=2;while(J82!==1){switch(J82){case 4:return this.uc?this.uc.list():[];break;J82=1;break;case 2:return this.uc?this.uc.list():[];break;}}};b.prototype.sga=function(){var a82;a82=2;while(a82!==1){switch(a82){case 2:this.uc&&this.uc.ym();a82=1;break;}}};Q52=44;break;case 44:f.P=b;Q52=43;break;}}function b(b,c){var L82,d;L82=2;while(L82!==12){var O82="DE";O82+="B";O82+="U";O82+="G";O82+=":";var t82="nf-ase versi";t82+="o";t82+="n:";switch(L82){case 4:this.Hda=!1;this.H=b;this.My=[];this.on=this.addEventListener=l.addEventListener;L82=7;break;case 2:d=a(453);C(t82,d,O82,!1);L82=4;break;case 7:this.removeEventListener=l.removeEventListener;this.emit=this.Ha=l.Ha;this.QL=c;L82=13;break;case 13:y=this;L82=12;break;}}}}());},function(f){f.P={JA:["minInitVideoBitrate",-Infinity],E2:["minHCInitVideoBitrate",-Infinity],CA:["maxInitVideoBitrate",Infinity],BG:["minInitAudioBitrate",-Infinity],AG:["minHCInitAudioBitrate",-Infinity],rG:["maxInitAudioBitrate",Infinity],qP:["minAcceptableVideoBitrate",-Infinity],tna:["minAllowedVideoBitrate",-Infinity],Sma:["maxAllowedVideoBitrate",Infinity],una:["minAllowedVmaf",-Infinity],Tma:["maxAllowedVmaf",Infinity],CG:["minRequiredBuffer",3E4],sP:["minRequiredAudioBuffer",0],Ph:["minPrebufSize",5800],V7a:["requireDownloadDataAtBuffering",!1],W7a:["requireSetupConnectionDuringBuffering",!1],g4:["rebufferingFactor",1],pq:["maxBufferingTime",2E3],k6:["useMaxPrebufSize",!0],EA:["maxPrebufSize",4E4],m2:["maxRebufSize",Infinity],BO:["initialBitrateSelectionCurve",null],hla:["initSelectionLowerBound",-Infinity],ila:["initSelectionUpperBound",Infinity],AR:["throughputPercentForAudio",15],QX:["bandwidthMargin",0],SX:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],vNa:["bandwidthMarginCurveAudio",{min:.1676072032,max:.85,Mp:91975.78164233442,scale:229505.91382074592,gamma:2.185264623558083}],RX:["bandwidthMarginContinuous",!1],wNa:["bandwidthMarginForAudio",!0],J5:["switchConfigBasedOnInSessionTput",!0],NY:["conservBandwidthMargin",20],JE:["conservBandwidthMarginTputThreshold",6E3],OY:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Ura:["switchAlgoBasedOnHistIQR",!1],Tt:["switchConfigBasedOnThroughputHistory","iqr"],l2:["maxPlayerStateToSwitchConfig",-1],N1:["lowEndMarkingCriteria","iqr"],AT:["IQRThreshold",.5],A0:["histIQRCalcToUse","simple"],Cl:["bandwidthManifold",{curves:[{min:.05,max:.82,Mp:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Mp:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],qq:["maxTotalBufferLevelPerSession",0],Pka:["highWatermarkLevel",3E4],nsa:["toStableThreshold",3E4],HR:["toUnstableThreshold",0],t5:["skipBitrateInUpswitch",!1],w6:["watermarkLevelForSkipStart",8E3],u0:["highStreamRetentionWindow",9E4],O1:["lowStreamTransitionWindow",51E4],w0:["highStreamRetentionWindowUp",5E5],Q1:["lowStreamTransitionWindowUp",1E5],v0:["highStreamRetentionWindowDown",6E5],P1:["lowStreamTransitionWindowDown",0],t0:["highStreamInfeasibleBitrateFactor",.5],ow:["lowestBufForUpswitch",9E3],dP:["lockPeriodAfterDownswitch",15E3],S1:["lowWatermarkLevel",15E3],pw:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],V1:["lowestWaterMarkLevelBufferRelaxed",!1],t2:["mediaRate",1.5],p2:["maxTrailingBufferLen",15E3],GX:["audioBufferTargetAvailableSize",262144],r6:["videoBufferTargetAvailableSize",1048576],hna:["maxVideoTrailingBufferSize",8388608],Vma:["maxAudioTrailingBufferSize",393216],zN:["fastUpswitchFactor",3],d_:["fastDownswitchFactor",3],i2:["maxMediaBufferAllowed",27E4],$Q:["simulatePartialBlocks",!0],vra:["simulateBufferFull",!0],PY:["considerConnectTime",!0],LY:["connectTimeMultiplier",1],Ima:["lowGradeModeEnterThreshold",12E4],Jma:["lowGradeModeExitThreshold",9E4],Xma:["maxDomainFailureWaitDuration",3E4],Uma:["maxAttemptsOnFailure",18],Jia:["exhaustAllLocationsForFailure",!0],cna:["maxNetworkErrorsDuringBuffering",20],d2:["maxBufferingTimeAllowedWithNetworkError",6E4],xN:["fastDomainSelectionBwThreshold",2E3],R5:["throughputProbingEnterThreshold",4E4],dsa:["throughputProbingExitThreshold",34E3],uma:["locationProbingTimeout",1E4],Via:["finalLocationSelectionBwThreshold",1E4],asa:["throughputHighConfidenceLevel",.75],csa:["throughputLowConfidenceLevel",.4],E1:["locationStatisticsUpdateInterval",6E4],a1a:["locationSelectorPersistFailures",!0],Lz:["enablePerfBasedLocationSwitch",!1],y3:["pipelineScheduleTimeoutMs",2],rw:["maxPartialBuffersAtBufferingStart",2],F2:["minPendingBufferLen",3E3],DA:["maxPendingBufferLen",6E3],fP:["maxActiveRequestsSABCell100",2],kP:["maxPendingBufferLenSABCell100",500],o2:["maxStreamingSkew",2E3],P1a:["maxBufferOccupancyForSkewCheck",Infinity],pcb:["useBufferOccupancySkipBack",!1],k2:["maxPendingBufferPercentage",10],tw:["maxRequestsInBuffer",120],tO:["headerRequestSize",4096],AZa:["headerCacheEstimateHeaderSize",!1],Xsa:["useSidxInfoFromManifestForHeaderRequestSize",!1],yN:["fastPlayHeaderRequestSize",0],uG:["maxRequestSize",0],D2:["minBufferLenForHeaderDownloading",1E4],G2a:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],sQ:["reserveForSkipbackBufferMs",15E3],h3:["numExtraFragmentsAllowed",2],Pm:["pipelineEnabled",!0],rcb:["usePipelineForBranchedAudio",!0],qw:["maxParallelConnections",3],xra:["socketReceiveBufferSize",0],KX:["audioSocketReceiveBufferSize",32768],u6:["videoSocketReceiveBufferSize",65536],p0:["headersSocketReceiveBufferSize",32768],MR:["updatePtsIntervalMs",1E3],aY:["bufferTraceDenominator",0],ez:["bufferLevelNotifyIntervalMs",2E3],sia:["enableAbortTesting",!1],qfa:["abortRequestFrequency",8],F5:["streamingStatusIntervalMs",2E3],VA:["prebufferTimeLimit",6E4],rP:["minBufferLevelForTrackSwitch",2E3],mUa:["enablePenaltyForLongConnectTime",!1],r3:["penaltyFactorForLongConnectTime",2],L1:["longConnectTimeThreshold",200],lX:["additionalBufferingLongConnectTime",2E3],mX:["additionalBufferingPerFailure",8E3],rH:["rebufferCheckDuration",6E4],xia:["enableLookaheadHints",!1],Fma:["lookaheadFragments",2],Qn:["enableOCSideChannel",!0],K3:["probeRequestTimeoutMilliseconds",3E4],wrb:["probeRequestConnectTimeoutMilliseconds",8E3],PJ:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],Gsa:["updateDrmRequestOnNetworkFailure",!0],hP:["maxDiffAudioVideoEndPtsMs",1E3],O1a:["maxAudioFragmentOverlapMs",80],QSa:["deferAseHeaderCache",!1],SM:["deferAseScheduling",!1],Sab:["timeBeforeEndOfStreamBufferMark",6E3],g2:["maxFastPlayBufferInMs",2E4],f2:["maxFastPlayBitThreshold",2E8],C2:["minAudioMediaRequestSizeBytes",0],G2:["minVideoMediaRequestSizeBytes",0],kUa:["enableMultiFragmentRequest",!1],VB:[["useHeaderCache","usehc"],!0],QR:[["useHeaderCacheData","usehcd"],!0],RM:["defaultHeaderCacheSize",4],wZ:["defaultHeaderCacheDataCount",4],xZ:["defaultHeaderCacheDataPrefetchMs",0],n0:["headerCacheMaxPendingData",6],o0:["headerCachePriorityLimit",5],zZa:["headerCacheAdoptBothAV",!1],Cna:["minimumTimeBeforeBranchDecision",3E3],H2:["minimumJustInTimeBufferLevel",3E3],wia:["enableJustInTimeAppends",!1],jF:["enableDelayedSeamless",!1],PNa:["branchEndPtsIntervalMs",250],DLa:["adaptiveParallelTimeoutMs",1E3],Kz:["enableAdaptiveParallelStreaming",!1],sTa:["disableBitrateSelectionOnSingleConnection",!1],qM:["bufferThresholdToSwitchToSingleConnMs",45E3],$X:["bufferThresholdToSwitchToParallelConnMs",35E3],S2:["networkFailureResetWaitMs",2E3],R2:["networkFailureAbandonMs",6E4],lP:["maxThrottledNetworkFailures",5],zR:["throttledNetworkFailureThresholdMs",200],lm:["abortUnsentBlocks",!0],YW:["abortStreamSelectionPeriod",2E3],q2:["maxUnsentBlocks",2],R1:["lowThroughputThreshold",400],YZ:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Rab:["timeAtEachBitrateRoundRobin",1E4],p8a:["roundRobinDirection","forward"],gZa:["hackForHttpsErrorCodes",!1],$Za:["httpsConnectErrorAsPerm",!1],Fna:["mp4ParsingInNative",!1],Zd:["enableManagerDebugTraces",!1],Oma:["managerDebugMessageInterval",1E3],Nma:["managerDebugMessageCount",20],d3:["notifyManifestCacheEom",!0],mF:["enableUsingHeaderCount",!1],yra:["sourceBufferInOrderAppend",!0],Vm:["requireAudioStreamToEncompassVideo",!1],Hfa:["allowAudioToStreamPastVideo",!1],nv:["allowReissueMediaRequestAfterAbort",!1],TY:["countGapInBuffer",!1],qX:["allowCallToStreamSelector",!1],ZX:["bufferThresholdForAbort",2E4],kx:["ase_stream_selector","optimized"],Zfa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],L0:["initBitrateSelectorAlgorithm","default"],cY:["bufferingSelectorAlgorithm","default"],qZ:["ase_ls_failure_simulation",""],oZ:["ase_dump_fragments",!1],pZ:["ase_location_history",0],rZ:["ase_throughput",0],Nha:["ase_simulate_verbose",!1],Y1:["marginPredictor","simple"],ura:["simplePercentilePredictorPercentile",25],sra:["simplePercentilePredictorCalcToUse","simple"],tra:["simplePercentilePredictorMethod","simple"],ocb:["useBackupUnderflowTimer",!0],Ctb:["useManifestDrmHeader",!0],Dtb:["useOnlyManifestDrmHeader",!0],w9:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],b3a:["netIntrStoreWindow",36E3],pqb:["minNetIntrDuration",8E3],rHa:["fastHistoricBandwidthExpirationTime",10368E3],QHa:["bandwidthExpirationTime",5184E3],qHa:["failureExpirationTime",86400],tea:["historyTimeOfDayGranularity",4],nHa:["expandDownloadTime",!0],vIa:["minimumMeasurementTime",500],uIa:["minimumMeasurementBytes",131072],OJa:["throughputMeasurementTimeout",2E3],NJa:["initThroughputMeasureDataSize",262144],fIa:["historicBandwidthUpdateInterval",2E3],tIa:["minimumBufferToStopProbing",1E4],Ckb:["throughputPredictor","ewma"],M4:["secondThroughputEstimator","slidingwindow"],Lqa:["secondThroughputMeasureWindowInMs",3E5],Bkb:["throughputMeasureWindow",5E3],Dkb:["throughputWarmupTime",5E3],Akb:["throughputIQRMeasureWindow",1E3],gkb:["IQRBucketizerWindow",15E3],$ma:["maxIQRSamples",100],yna:["minIQRSamples",5],xkb:["connectTimeHalflife",10],qkb:["responseTimeHalflife",10],pkb:["historicThroughputHalflife",14400],okb:["historicResponseTimeHalflife",100],nkb:["historicHttpResponseTimeHalflife",100],O8:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],$da:["minReportedNetIntrDuration",4E3],zkb:["throughputBucketMs",500],lkb:["bucketHoltWintersWindow",2E3],kHa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],EV:["filterDefinitionOverrides",{}],ZGa:["defaultFilter","throughput-ewma"],lKa:["secondaryFilter","throughput-sw"],wy:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:0},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":0},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":0},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":0},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:3E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],lF:["enableSessionHistoryReport",!1],KZ:["earlyStageEstimatePeriod",1E4],fma:["lateStageEstimatePeriod",3E4],jP:["maxNumSessionHistoryStored",30],tP:["minSessionHistoryDuration",3E4],kF:["enableInitThroughputEstimate",!1],N0:["initThroughputPredictor",{bwThreshold:4E3,maxBwPrediction:1E4,lrWeights:{"ens-avtp-p25":.007069755838185646,"ens-avtp-p50":.0014759203002165067,"ens-avtp-p75":.0012048710233565575,"ens-avtp-mean":-.0684842120926241,"ens-avtp-std":.09646338560636658,"ens-avtp-niqr":2.6500395825528322,"ens-avtp-b":1669.0650809596475,"ens-avtp-last":-.004857563751533936,"lns-avtp-p25":-.0042718366875048215,"lns-avtp-p50":.004808364661181474,"lns-avtp-p75":.015617017398377233,"lns-avtp-mean":-.02620579063568642,"lns-avtp-std":.04468915565921288,"lns-avtp-niqr":-4.698146930128107,"lns-avtp-b":969.7348807867857,"lns-avtp-last":.008545871259714845,"fns-avtp-p25":-.007878093424826744,"fns-avtp-p50":-.02861210261519133,"fns-avtp-p75":-.027131434792881215,"fns-avtp-mean":.059129072786609144,"fns-avtp-std":-.04936720840108429,"fns-avtp-niqr":-13.660396894822597,"fns-avtp-b":-1159.3924447524219,"fns-avtp-last":.024855300168582624,"fns-niqr-p25":-131.08190389212535,"fns-niqr-p50":-17.814966600277362,"fns-niqr-p75":-1.5193876346035593,"fns-niqr-mean":.052880316050808646,"fns-niqr-std":-.04533189874532191,"fns-niqr-niqr":6.648137046899443,"fns-niqr-b":-17.856967037364768,"fns-niqr-last":.020566941518494242,sessionCnt:.10494832296661184,prevHour:2.551508589545865,prevMonoTime:-333.029563123041,currentHour:-2.9659895755462435,currentMonoTime:333.02956319680015,timeSinceLastSession:-333.02956343133275,intercept:-112330.51405121207}}],hX:["addHeaderDataToNetworkMonitor",!0],y5:["startMonitorOnLoadStart",!1],t4:["reportFailedRequestsToNetworkMonitor",!1],PP:["periodicHistoryPersistMs",0],DQ:["saveVideoBitrateMs",0],LG:["needMinimumNetworkConfidence",!0],VX:["biasTowardHistoricalThroughput",!1],h1a:["logMemoryUsage",!1],Kka:["headerCacheTruncateHeaderAfterParsing",!0],tv:["audioFragmentDurationMilliseconds",null],Fx:["videoFragmentDurationMilliseconds",null],so:["probeServerWhenError",!0],zp:["allowSwitchback",!0],Uw:["probeDetailDenominator",100],gP:["maxDelayToReportFailure",300],eE:["allowParallelStreaming",!1],k2a:["mediaPrefetchDisabled",!1],xna:["minBufferLevelToAllowPrefetch",5E3],Rv:["editVideoFragments",!1],Sp:["editAudioFragments",!1],L4:["seamlessAudioProfiles",[]],Zs:["insertSilentFrames",0],R0:["insertSilentFramesOnExit",void 0],Q0:["insertSilentFramesOnEntry",void 0],EO:["insertSilentFramesForProfile",void 0],bUa:["editCompleteFragments",!0],I2a:["minimumAudioFramesPerFragment",1],Qfa:["applyProfileTimestampOffset",!1],xX:["applyProfileStreamingOffset",!1],ZP:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}}}],vna:["minAudioPtsGap",void 0],jN:["enablePsd",!1],S3:["psdCallFrequency",6E4],T3:["psdReturnToNormal",!1],lH:["psdThroughputThresh",0],cF:["discardLastNPsdBins",0],Vf:["psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}],kN:["enableRecordJSBridgePerf",!1],D9:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Tp:["enableRl",!1],jB:["rlLogParam",5],Fa:["rlParam",{numThroughputStats:1,numOfChunkQualities:0,lookAhead:5,numBToFeed:0,baseNetwork:[],qualityFunction:"vmaf-linear",addChunkQualities:!1,bufferTimeLimitSecs:240,chunkSizeFetchStyle:"horizontal",addLastBitrate:!1,numOfChunkSizes:0,qualityRewardMultiplier:.001,fillHl:1E3,addNumChunksLeft:!1,addBufferStats:!0,convLayerPars:[],useBitrateMean:!1,bitrates:[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],fillS:"average",useProdSimulation:!0,lockPeriodAfterDownswitch:15E3,takeLog:!1,addTopBitrate:!1,addProdOutput:!1,numB:100,convNetwork:[],epsilon:0,discountPolicyMapping:"quadratic",HERatio:2.5,valueNetwork:[{b:[.05533123016357422,-.12677599489688873,-.37196388840675354,.43002787232398987,-.3278537392616272,.3157925009727478,.49705439805984497,.3623315989971161,.4049244821071625,.306795597076416,.023460865020751953,-.5374774932861328,-.27872857451438904,-.3958677351474762,-.44132015109062195,-.3485901951789856],W:[[-.02745220810174942,-.09654457122087479],[.05102335661649704,.20058313012123108],[.10397858172655106,.03029954433441162],[.44732457399368286,.1439521312713623],[-.8370619416236877,-.016037840396165848],[-.19805389642715454,-.37058570981025696],[-.7537248134613037,.21142733097076416],[.00784209556877613,2.646312350407243E-4],[.024667738005518913,.05554830655455589],[-.15302683413028717,-.12483158707618713],[-.022026509046554565,-.046648088842630386],[.47357091307640076,-.08255043625831604],[.2401454746723175,.2645523250102997],[-1.1895869970321655,.16134504973888397],[.13846588134765625,.1347809135913849],[-.8497114777565002,-.02514016069471836]]},{b:[.13616295158863068],W:[[-.0059984177350997925,5.688384044333361E-5,-.31482797861099243,.2679792642593384,-.26990222930908203,.24288281798362732,.33975696563720703,.24208010733127594,.20434308052062988,.17735609412193298,-.005353386979550123,-.2435941994190216,-.3793827295303345,-.5024093389511108,-.18502868711948395,-.25674858689308167]]}],randomizeAction:!1,repeatLength:1,numChunkOffsets:0,useControlAtStart:!0,qualityAlpha:1,policyNetwork:[{b:[-.412638783454895,-.3944492042064667,.361627995967865,-.20585310459136963,.15680213272571564,.16230282187461853,.2959774434566498,-.29338908195495605,-.3977995812892914,-.2826499044895172,.2839594781398773,-.378938764333725,-.28052815794944763,.29201599955558777,-.2694973349571228,.32858505845069885],W:[[-.25744718313217163,-.2579941749572754],[-.3987915813922882,-.3113815188407898],[.3914099931716919,.1927962452173233],[-.2907905876636505,-.3993949592113495],[.3429926633834839,.5154353380203247],[.46402043104171753,.3750675320625305],[.3165140151977539,.3362429738044739],[-.2831599712371826,-.33043336868286133],[-.3665153682231903,-.36741551756858826],[-.42878684401512146,-.3090651035308838],[.21995356678962708,.2324381172657013],[-.40021345019340515,-.2974157929420471],[-.3892492949962616,-.21423658728599548],[.4002467691898346,.4845951199531555],[-.4312516748905182,-.4456460475921631],[.30747276544570923,.40754443407058716]]},{b:[.1032010167837143,.23244233429431915,-.01785256341099739,.17829757928848267,.03387175127863884,.03424593061208725,.10686955600976944,.11391088366508484,.1236717626452446,.12204533070325851,.09762528538703918,.22837036848068237,.2101789116859436,.1395697444677353,.0755317211151123,.05933607369661331,.020733339712023735,-.2973330318927765,-.5567834973335266,-.7997101545333862,-1.1866400241851807],W:[[-.18243752419948578,-.18205209076404572,.12897171080112457,-.18163728713989258,.18924736976623535,.10615333169698715,-.06378988176584244,-.23385876417160034,-.11631970852613449,-.18195857107639313,.2122160941362381,-.14674511551856995,-.062984399497509,-.03046603314578533,-.042016394436359406,.059213291853666306],[-.25253725051879883,-.05791608244180679,.22158899903297424,-.1807052493095398,.006767614278942347,.04307352378964424,.1975916475057602,-.2383284568786621,-.05942298099398613,-.1357770562171936,.1037694662809372,-.14311830699443817,.0012564989738166332,.2055424004793167,-.1739828735589981,.28440845012664795],[-.2820572257041931,-.2243836224079132,-.009474185295403004,-.12801462411880493,.2770399749279022,.13915841281414032,.24947895109653473,-.0901138037443161,-.14535419642925262,-.06771376729011536,.13680143654346466,-.18201519548892975,-.2172870635986328,.11829230934381485,-.108485147356987,.22689661383628845],[-.35503271222114563,-.0775824636220932,.12027252465486526,-.2573116421699524,.02839498780667782,.07367391139268875,.07984186708927155,-.10638942569494247,-.22296731173992157,-.05553358420729637,.05830622464418411,-.25039055943489075,-.2609282433986664,.08369264751672745,-.05966627597808838,.03639725223183632],[-.018235042691230774,-.056563250720500946,.11467722803354263,-.059557829052209854,.2816635072231293,.02629885822534561,.03319495543837547,-.2324208915233612,-.21133288741111755,-.22949211299419403,.02839614637196064,-.06933751702308655,-.2568594515323639,.23111720383167267,-.07870880514383316,.14231324195861816],[-.17236000299453735,-.24168795347213745,.18550589680671692,-.21688313782215118,.08988945186138153,.23491528630256653,-.014212478883564472,-.16345223784446716,-.101213738322258,-.08315055817365646,.3163166046142578,-.128215491771698,-.2556995749473572,.19001033902168274,-.13374188542366028,.23563364148139954],[-.16922716796398163,-.23347386717796326,.11554708331823349,-.06031706556677818,.00787605531513691,.1717318296432495,.08365252614021301,-.19791926443576813,-.21750250458717346,-.10088957101106644,.07592057436704636,-.2526659071445465,-.16954083740711212,.21436604857444763,-.10623046010732651,.07676853984594345],[-.07076448202133179,-.21048475801944733,.0519600510597229,-.03461375832557678,.27661260962486267,.19848895072937012,.2243914157152176,-.17512662708759308,-.10555917024612427,-.17998510599136353,.14169420301914215,-.049020566046237946,.02801593765616417,.13342608511447906,-.15784481167793274,.09766186773777008],[-.14827829599380493,-.05338667333126068,-.014936452731490135,-.14944781363010406,.22573451697826385,.12348072230815887,.11484410613775253,-.004883829038590193,-.047992318868637085,-.1594856232404709,.2568851709365845,-.09031572192907333,-.05706582963466644,-4.983098478987813E-4,-.22049573063850403,.13852019608020782],[-.13956879079341888,-.2400752156972885,.08272846043109894,-.3206534683704376,.0981164276599884,.12269225716590881,.13008926808834076,-.03977770730853081,-.17421235144138336,-.051229119300842285,-.015088572166860104,-.17017802596092224,.03453931212425232,.1788467913866043,-.2593126893043518,.13894088566303253],[-.15852025151252747,-.13752885162830353,.18085233867168427,-.026975378394126892,.08118204027414322,.22511836886405945,.1578889936208725,-.11105726659297943,-.17974312603473663,-.045371219515800476,.09727480262517929,-.12441378831863403,.004754172172397375,.1462913453578949,-.20255130529403687,.2307319939136505],[-.13445983827114105,-.14145679771900177,.12339618057012558,-.028057938441634178,.03399171307682991,.07780994474887848,.22680453956127167,-.10456500202417374,-.03876079246401787,-.24656173586845398,.09278947860002518,-.0888059139251709,-.1322716921567917,.08019872009754181,-.08939266204833984,.23991352319717407],[-.2594526410102844,-.14361591637134552,.045561034232378006,-.04839532822370529,.11469841748476028,.0423651784658432,.0579223670065403,-.19615131616592407,-.148156076669693,-.061122845858335495,.12850065529346466,-.1314231902360916,-.06075485050678253,.15828271210193634,-.15889498591423035,-.01321683544665575],[-.1502031683921814,-.18404962122440338,.16521699726581573,-.08913173526525497,.05336243659257889,-.027618568390607834,.11079095304012299,.08470268547534943,-.021151361986994743,-.06379488855600357,.12175280600786209,-.013277744874358177,-.034269627183675766,-.008312849327921867,-.03604540601372719,.12241926044225693],[-.0744841918349266,-.1421520859003067,.18444211781024933,-.04605941101908684,.11995276063680649,.09755964577198029,.10934597253799438,-.021958131343126297,-.17636388540267944,-.12492060661315918,.07608187943696976,-.08557915687561035,-.2167670875787735,.095750592648983,-.0021581973414868116,-.009261039085686207],[.06437303125858307,-.05704565346240997,.048856545239686966,-.08741368353366852,.016187647357583046,.1458374559879303,.08231929689645767,-.019222980365157127,-.05964486673474312,-.07991735637187958,.11003319174051285,.026625651866197586,.07264247536659241,-.06023328751325607,-.05094010382890701,.01619056798517704],[.08831681311130524,-.07976476848125458,-.03673217073082924,-.15939712524414062,-.17922301590442657,-.16756311058998108,.14311327040195465,-.00514716561883688,.18524976074695587,-.011256037279963493,.1348915994167328,.03704274445772171,.04992883652448654,.04108894616365433,-.0028529949486255646,-.007784273941069841],[.4063608944416046,.5422101020812988,-.5427196621894836,.41301098465919495,-.5999374389648438,-.34260493516921997,-.5859764218330383,.5120940208435059,.5512343645095825,.6822419166564941,-.3864021301269531,.5557493567466736,.4380606710910797,-.5522674918174744,.6156930923461914,-.4743066430091858],[.785748302936554,.8619656562805176,-.6125167012214661,.5297011137008667,-.7045852541923523,-.7832399606704712,-.5993849635124207,.7085978388786316,.7993820309638977,.9091770052909851,-.6160148978233337,.6583526730537415,.7830554842948914,-.8268464803695679,.7583157420158386,-.7235265374183655],[1.179926872253418,1.2110354900360107,-1.0844197273254395,1.119935393333435,-1.152762532234192,-1.3002325296401978,-1.128269910812378,1.038150429725647,1.1494382619857788,1.1892924308776855,-.9371172189712524,1.1270517110824585,.8690900802612305,-1.3279619216918945,1.1718264818191528,-1.1779474020004272],[1.5185304880142212,1.5353447198867798,-1.2523194551467896,1.4043301343917847,-1.6284000873565674,-1.4568737745285034,-1.3200061321258545,1.1629387140274048,1.6285243034362793,1.267655372619629,-1.2686002254486084,1.607189416885376,1.225298523902893,-1.4611514806747437,1.2336887121200562,-1.381975769996643]]}],rebufferPenalty:10,bSizeMs:2E3,bandwidthManifold:{threshold:6507.88,filter:"throughput-sw",simpleScaling:!0,curves:[{max:1.0054097175598145,scale:183973.15740585327,center:87446.38562202454,gamma:1.767388939857483,min:.493443101644516},{max:-.0027726502157747746,scale:99630.0995349884,center:216892.07553863525,gamma:2.908198356628418,min:0}],gamma:1.81668775},dropoutKeepProb:1,estimateType:"factor",bitrateMapStrategy:"mapping",addAudioBitrate:!1,addHighEndSignal:!1,throughputStatsType:"percentile"}],Oab:["throughputThresholdSelectorParam",0],ncb:["upswitchDuringBufferingFactor",2],pMa:["allowUpswitchDuringBuffering",!1],kha:["contentOverrides",void 0],RY:["contentProfileOverrides",void 0],z0:["hindsightDenominator",0],y0:["hindsightDebugDenominator",0],OF:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],wX:["appendMediaRequestOnComplete",!1],YR:["waitForDrmToAppendMedia",!1],s_:["forceAppendHeadersAfterDrm",!1],qH:["reappendRequestsOnSkip",!1],sZ:["declareBufferingCompleteAtSegmentEnd",!1],qG:["maxActiveRequestsPerSession",void 0],v1:["limitAudioDiscountByMaxAudioBitrate",!1],vX:["appendFirstHeaderOnComplete",!0],VH:["strictBufferCapacityCheck",!1],az:["aseReportDenominator",0],BX:["aseReportIntervalMs",3E5],d6:["translateToVp9Draft",!1],cNa:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:257,minRequiredAudioBuffer:7E4}}]],M5:["switchableAudioProfilesOverride",[]],fNa:["audioSwitchConfig",{upSwitchFactor:23.7076576,downSwitchFactor:9.398858461,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Y1a:["maxStartingVideoVMAF",110],Ana:["minStartingVideoVMAF",1],sfa:["activateSelectStartingVMAF",!1],OQ:["selectStartingVMAFTDigest",-1],NQ:["selectStartingVMAFMethod","fallback"],Uqa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],Vqb:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}]};},function(f,c,a){f.P={Lv:a(527),G1a:function(b){a(9).UF(b);return a(526);}};},function(f){function c(a,c,h,f){a.trace(":",h,":",f);c(f);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,h,f){h=f?h.bind(f):h;f=!1;if(a){this.console&&(h=c.bind(null,this.console,h,d));if("function"===typeof a.addEventListener)f=a.addEventListener(d,h);else if("function"===typeof a.addListener)f=a.addListener(d,h);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,h]);}return f;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};f.P=a;},function(f){function c(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.uk)return this.uk={},this.uk[a]=[c],!0;b=this.uk[a];return void 0===b?(this.uk[a]=[c],!0):0>b.indexOf(c)?(b.push(c),!0):!1;}function a(a,c){a=this.uk?this.uk[a]:void 0;if(!a)return!1;a.forEach(function(a){a(c);});return!0;}f.P={addEventListener:c,on:c,removeEventListener:function(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.uk)return!1;b=this.uk[a];if(void 0===b)return!1;c=b.indexOf(c);if(0>c)return!1;if(1===b.length)return delete this.uk[a],!0;b.splice(c,1);return!0;},Ha:a,emit:a,removeAllListeners:function(a){this.uk&&(void 0===a?delete this.uk:delete this.uk[a]);return this;}};},function(f,c,a){var k,u,n,q,w,G,x,y,C,F,t,T,ca,Z,O,B,A;function b(){}function d(){}function h(){}function l(){}function g(){return y?y:"0.0.0.0";}function m(a,b,c){a=t(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function p(a){a({voa:0,dI:0,Nka:0,Ria:0});}c=a(120);d.prototype.constructor=d;d.prototype.set=function(a,b){n[a]=b;q.save(a,b);};d.prototype.get=function(a,b){if(n.hasOwnProperty(a))return n[a];x.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");q.load(a,function(c){c.K?(n[a]=c.data,b&&b(c.data)):n[a]=void 0;});};d.prototype.remove=function(a){q.remove(a);};d.prototype.clear=function(){x.info("WARNING: Calling unimplemented function Storage.clear()");};d.prototype.dF=c.Rp.dF;d.prototype.IM=c.Rp.IM.bind(c.Rp);d.prototype.Yx="NDA";h.prototype.now=function(){return w();};h.prototype.la=function(){return G();};h.prototype.GG=function(a){return a+w()-G();};h.prototype.EP=function(a){return a+G()-w();};c=a(31).EventEmitter;a(44)(c,l.prototype);T=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();f.P=function(a){k=a.Qw;t=a.Cc;q=a.storage;n=a.sA;w=a.aYa;C=a.HF;F=a.WF;G=a.getTime;x=a.FMa;ca=a.Pa;A=a.Wo;Z=a.Lx;O=a.SourceBuffer;B=a.MediaSource;y=a.cpb;u=a.Fl;return{name:"cadmium",Fl:u,Qw:k,HF:C,WF:F,ready:b,storage:new d(),Storage:d,time:new h(),events:new l(),console:new m("JS-ASE",void 0,"default"),Console:m,options:b,Promise:T,Pa:ca,Lx:Z,gAa:O,MediaSource:B,Wo:A,ee:{name:g},memory:{wXa:p},Vpb:void 0};};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(28);c.NDa=function(){b.Cc("ProbeDownloader");return{zF:function(a){d.Za.m6a({url:a.url,j6a:a});}};}();},function(f,c,a){var d,h,l,g,m,p,k;function b(){var a;a=new h.Ci();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.mc.bind(this);this.Zu=p++;this.wa=l.Cc("ProbeRequest");this.zea=d.NDa;g.ea(void 0!==this.zea);this.xe=c.Wo.Va.UNSENT;}Object.defineProperty(c,"__esModule",{value:!0});d=a(532);h=a(57);l=a(3);g=a(8);m=a(14);p=0;(function(){function a(){return JSON.stringify({url:this.Mf,id:this.Zu,affected:this.vK,readystate:this.xe});}m.oa(b.prototype,{vi:function(a){a.affected=this.vK;a.probed={requestId:this.Zu,url:this.Mf,Ec:this.Wea,groupId:this.Dda};this.emit(c.Wo.bd.NC,a);},e3:function(a){this.WD=a.httpcode;a.affected=this.vK;a.probed={requestId:this.Zu,url:this.Mf,Ec:this.Wea,groupId:this.Dda};this.emit(c.Wo.bd.uu,a);},open:function(a,b,d,g){if(!a)return!1;this.Mf=a;this.vK=b;this.Wea=d;this.xe=c.Wo.Va.OPENED;this.eIa=g;this.zea.zF(this);return!0;},ze:function(){return!0;},oi:function(){return this.Zu;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.xe;},set:function(){}},status:{get:function(){return this.WD;}},url:{get:function(){return this.Mf;}},Jkb:{get:function(){return this.vK;}},$0a:{get:function(){return this.eIa;}}});}());(function(a){a.bd={NC:"pr0",uu:"pr1"};a.Va={UNSENT:0,OPENED:1,ur:2,DONE:3,bm:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(k||(k={})));c.Wo=Object.assign(b,k);},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.$Ra=function(a,b,c){return{hka:function(){return a.V_();},ca:b,request:c,Ke:!1};};},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(3);a=a(341);a=f.Z.get(a.K6);a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.R1a=function(a,b){var g,m;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],f=b(c),l=1;l<a.length;l++){g=a[l];m=b(g);m>f&&(c=g,f=m);}return c;}};},function(f,c,a){var d;function b(a,b,c){a=d.FS.call(this,a,b)||this;a.iz=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(287);oa(b,d.FS);c.jva=b;},function(f,c,a){var b,d,h,l,g,m,p,k,u,n,q,w,G,x;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);d=a(340);h=a(119);l=a(6);g=a(4);m=a(92);p=a(16);k=a(17);f=a(2);u=a(3);n=a(95);q=a(5);w=a(32);G=a(15);b.Dd(f.v.f9,function(a){var f;function c(){var a,c,d,l;a={browserua:q.Ug,browserhref:q.KJ.href,initstart:b.YO,initdelay:b.z1-b.YO};c=q.cd.documentMode;c&&(a.browserdm=""+c);"undefined"!==typeof t.nrdp&&t.nrdp.device&&(a.firmware_version=t.nrdp.device.firmwareVersion);G.kq(g.config.Sia)&&(a.fesn=g.config.Sia);h.RAa(a);d=q.cm&&q.cm.timing;d&&g.config.k1a.map(function(b){var c;c=d[b];c&&(a["pt_"+b]=c-k.Rga());});l=f.Yja();Object.keys(l).forEach(function(b){return a["m_"+b]=l[b];});c=new m.Zx(p.ZJ&&p.ZJ.L,"startup","info",a);x.Vl(c);}x=u.Z.get(d.L9);t._cad_global.logBatcher=x;f=u.Z.get(n.xr);b.kG(function(){x.Xc();w.Xa(c);});a(l.cb);});},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);d=a(4);h=a(17);c.aeb=function(a){var c;c={Hkb:a,Kia:!0,k4:!1,hG:h.Ra(),load:function(a){(a||b.Gb)(b.cb);},save:function(){c.Kia=!0;},remove:function(a){c.Kia=!1;(a||b.Gb)(b.cb);},Ljb:d.config.Dg.Sw,dpb:!0};return c;};},function(f,c,a){var l,g,m,p;function b(a,b,c,f){var k,r,u;l.ea(p.Pd(a)&&!p.isArray(a));f=f||"";k="";r=a.hasOwnProperty(m.Vh)&&a[m.Vh];r&&g.Kb(r,function(a,b){k&&(k+=" ");k+=a+'="'+h(b)+'"';});c=(b?b+":":"")+c;r=f+"<"+c+(k?" "+k:"");u=a.hasOwnProperty(m.Io)&&a[m.Io].trim&&""!==a[m.Io].trim()&&a[m.Io];if(u)return r+">"+h(u)+"</"+c+">";a=d(a,b,f+"  ");return r+(a?">\n"+a+"\n"+f+"</"+c+">":"/>");}function d(a,c,d){var f;l.ea(p.Pd(a)&&!p.isArray(a));d=d||"";f="";g.Kb(a,function(a,m){var r;if("$"!=a[0])for(var l=g.F1a(m),k=0;k<l.length;k++)if(m=l[k],f&&(f+="\n"),p.Pd(m))f+=b(m,c,a,d);else{r=(c?c+":":"")+a;f+=d+"<"+r+">"+h(m)+"</"+r+">";}});return f;}function h(a){if(p.oc(a))return g.C0(a);if(p.da(a))return l.OM(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";l.ea(!1,"Invalid xml value.");return"";}Object.defineProperty(c,"__esModule",{value:!0});l=a(8);g=a(19);m=a(122);p=a(15);c.spb=b;c.tpb=d;c.ntb=h;},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(28);d=a(8);h=a(14);l=a(2);c.Lob=function(a){var g,f,k,n;function c(a){var d;c=h.Gb;k.onload=null;k.onabort=null;k.onerror=null;d=k.status;!a&&200<=d&&299>=d?(n.content=b.aGa(k,n),n.K=!0):(n.R=a?l.u.No:l.u.Ox,n.Fg=n.ub=d,n.K=!1);}g=/^[a-z]*:\/\/.*/i;f=a.url;k=new XMLHttpRequest();n={request:a,type:a.responseType};d.ea(h.oc(f)&&!g.test(f),"Url must be relative");k.onload=function(){c();};k.onerror=function(){c();};k.onabort=function(){c(!0);};b.bGa(k,f,!0,a);d.sSa(n.K);return n;};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(18);c=a(2);b=a(3);d=a(319);f.Dd(c.v.Z8,function(a){b.Z.get(d.c8)().then(function(){a({K:!0});})["catch"](function(c){b.log.error("error in initializing indexedDb debug tool",c);a({K:!0});});});},function(f,c,a){var b,d,h,l,g,m,p,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);d=a(25);h=a(6);l=a(4);g=a(2);m=a(414);p=a(36);k=a(5);p.g$&&b.Dd(g.v.r9,function(a){k.Gl&&k.Gl.generateKey&&k.Gl.importKey&&k.Gl.unwrapKey?!p.Ne.F7&&l.config.jE!=m.LI.LCa&&l.config.jE!=m.LI.Hza||k.cU?(b.lG("wcs"),d.NA(k.Gl.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){b.lG("wcdone");a(h.cb);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=g.u.$U:0<=b.indexOf("timeout waiting for iframe to load")&&(c=g.u.XFa);a({R:c,za:b});})):a({R:g.u.WFa}):a({R:g.u.$U});});},function(f,c,a){var h,l,g,m,p,k,u,n,q,w,t,x,y,C,F,N,T,ca,Z;function b(){try{F.write(new w.B$([T]));T="";}catch(O){ca.lb(b);}}function d(a){a.level<=C&&(a=a.lI(!1,!0)+"\n",T+=a,ca.lb(b));}Object.defineProperty(c,"__esModule",{value:!0});f=a(18);h=a(192);l=a(4);g=a(6);c=a(91);m=a(17);p=a(12);k=a(84);u=a(3);n=a(2);q=a(8);w=a(5);t=a(142);x=a(90);y={create:!0};C=p.wh.PU;N=[];T="";ca=new c.dD(10);Z=u.Z.get(k.ou);Z.cB(t.Ux.JT,function(a){N.push(a);});f.Dd(n.v.a9,function(a){var f,p,k,r;function c(){var a;Z.Dsa(t.Ux.JT);if(F){F.seek(F.length);a="Version: 6.0011.853.011\n"+(x.Bg?"Esn: "+x.Bg.$d+"\n":"")+"JsSid: "+m.ir+", Epoch: "+m.On()+", Start: "+m.fPa()+", TimeZone: "+new Date().getTimezoneOffset()+"\nHref: "+w.KJ.href+"\nUserAgent: "+w.Ug+"\n--------------------------------------------------------------------------------\n";T+=a;ca.lb(b);for(a=0;a<N.length;a++)d(N[a]);N=void 0;Z.cB(t.Ux.YFa,d);}}q.ea(l.config);if(h.CN){f=m.ir+".log";p=function(a){F=a;c();};k=function(){q.ea(!1);c();};r=function(a){a.createWriter(p,k);};h.CN.root.getDirectory("netflix.player.logs",y,function(a){l.config.Xqb?a.getFile(f,y,r,k):(a.removeRecursively(g.Gb),c());},k);}else Z.Dsa(t.Ux.JT),N=void 0;a(g.cb);});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ojb=function(a){this.userAgent=a;};},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(18);a(4);a(6);a(91);a(3);a(84);a(142);a(2);},function(f,c,a){var p,k,u,n,q;function b(a){var b,g;k.VE(a);if(u.oc(a)&&c.Kya.test(a)){b=a.split(".");if(4===b.length){for(var d=0;d<b.length;d++){g=u.Zc(b[d]);if(0>g||!q.et(g,0,255)||1!==b[d].length&&0===b[d].indexOf("0"))return;}return a;}}}function d(a){var c;c=0;if(b(a)===a)return a=a.split("."),c+=u.Zc(a[0])<<24,c+=u.Zc(a[1])<<16,c+=u.Zc(a[2])<<8,c+u.Zc(a[3]);}function h(a){var b;k.VE(a);if(u.oc(a)&&a.match(c.Lya)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=l(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?g(a):b,a=b.length,8===a)){for(;a--;)if(!q.et(parseInt(b[a],16),0,p.Cza))return;return b.join(":");}}}function l(a){var b;a=d(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function g(a){var b,c,d;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(d=0;d<c;d++)b.push("0");for(d=0;d<a.length;d++)b.push(a[d]);return b;}function m(a){return-1<<32-a;}Object.defineProperty(c,"__esModule",{value:!0});p=a(6);k=a(8);u=a(14);n=a(5);q=a(15);c.Kya=/^[0-9.]*$/;c.Lya=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;c.Rx="0000000000000000";c.Wfb=b;c.Sfb=d;c.Xfb=h;c.Ufb=l;c.Vfb=g;c.Yfb=function(a,g,f){var l,p,k,r;l=b(a);p=h(a);k=b(g);r=h(g);if(!l&&!p||!k&&!r||l&&!k||p&&!r)return!1;if(a===l)return f=m(f),(d(a)&f)!==(d(g)&f)?!1:!0;if(a===p){a=a.split(":");g=g.split(":");for(l=n.Xh(f/c.Rx.length);l--;)if(a[l]!==g[l])return!1;f%=c.Rx.length;if(0!==f)for(a=parseInt(a[l],16).toString(2),g=parseInt(g[l],16).toString(2),a=c.Rx.substring(0,c.Rx.length-a.length)+a,g=c.Rx.substring(0,c.Rx.length-g.length)+g,l=0;l<f;l++)if(a[l]!==g[l])return!1;return!0;}return!1;};c.Tfb=m;},function(f,c,a){var b,d,h,l,g,m,p,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(8);h=a(103);a(19);l=a(14);g=a(2);m=a(36);p=a(32);k=a(5);a(15);c.Cpb=function(a,c){var u,n,v;function f(a){var b;b=c;c=l.Gb;b(a);}function r(a){var b,c,h,m;try{b=JSON.parse(a.data);c=b.method;h=b.success;m=b.payload;d.ea("ready"==c);"ready"==c&&(n.removeEventListener("message",r),v.Og(),p.Xa(function(){u.info("Plugin sent ready message");h?f({success:!0,pluginObject:n,pluginVersion:m&&m.version}):f({R:g.u.aaa,ub:b.errorCode});}));}catch(Z){u.error("Exception while parsing message from plugin",Z);f({R:g.u.baa});}}u=b.Cc("Plugin");d.ea(a);if(a){a=a[0].type;u.info("Injecting plugin OBJECT",{Type:a});n=l.createElement("OBJECT",m.Ne.CCa,void 0,{type:a,"class":"netflix-plugin"});n.addEventListener("message",r);v=new h.my(8E3,function(){u.error("Plugin load timeout");f({R:g.u.daa});});k.cd.body.appendChild(n);v.Sn();}else f({R:g.u.caa});};c.Epb=function(){};c.Dpb=function(a){var c,d,f;c=b.Cc("Plugin");d=1;f={};a.addEventListener("message",function(a){var b,d,h,m;try{b=JSON.parse(a.data);d=b.success;h=b.payload;m=f[b.idx];m&&(d?m({K:!0,Okb:h}):m({K:!1,R:g.u.ACa,za:b.errorMessage,ub:b.errorCode}));}catch(N){c.error("Exception while parsing message from plugin",N);}},!1);return function(m,l,p){var r,u,n,v;function k(a){a.K||c.info("Plugin called back with error",{Method:m},b.jk(a));n.Og();delete f[r];p(a);}try{r=d++;u={idx:r,method:m};u.argsObj=l||{};n=new h.my(8E3,function(){c.error("Plugin never called back",{Method:m});delete f[r];p({R:g.u.BCa});});n.Sn();v=JSON.stringify(u);f[r]=k;a.postMessage(v);}catch(Z){c.error("Exception calling plugin",Z);p({R:g.u.DCa});}};};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(94);d=a(8);h=a(5);b.prototype.kta=function(a){a=new b(a);for(var c,f;;)if(c=a.Oj(),f=c>>>14)f=h.ue(4,f),d.ea(1<=f),this.A6(192|f),this.II(a,16384*f);else{d.ea(16384>c);128>c?this.A6(c):this.lta(c|32768,2);this.II(a,c);break;}};b.prototype.Cpa=function(){for(var a=[],c=new b(a),d;;){d=this.ef();if(d&128)if(128==(d&192))d&=63,d=(d<<8)+this.ef(),c.II(this,d);else if(d&=63,0<d&&4>=d){c.II(this,16384*d);continue;}else throw Error("bad asn1");else c.II(this,d);break;}return new Uint8Array(a);};},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(3);c=a(84);a=a(142);f.Z.get(c.ou).cB(a.Ux.Rua,function(a){var b,c;b=a.level;if(!t._cad_global.config||b<=t._cad_global.config.p1a){a=a.lI();c=t.console;1>=b?c.error(a):2>=b?c.warn(a):c.log(a);}});},function(f){function c(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}f.P={oPa:function(a,b,c){for(var d=0;d<a.length;d++)if(a[d]!==b[d])return c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},fZ:function(a,b,c){var d;d={};d.displayTime=a.Jh;d.duration=a.duration;d.originX=a.GP;d.originY=a.HP;d.sizeX=a.cR;d.sizeY=a.dR;d.imageData=b;d.id=a.ao;d.rootContainerExtentX=c.vQ;d.rootContainerExtentY=c.wQ;return d;},hXa:function(a,b){return"o_"+a+"s_"+b;},cta:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},$a:function(a){return"undefined"!==typeof a;},C8a:function(a,b){return a.some(function(a){return a.id===b;});},XTa:function(d,f){return d.filter(c.bind(null,f)).map(a).reduce(b,0);},EF:function(a,b){var c,d;c=Object.create({});for(d in a)c[d]=a[d];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(f,c,a){var T,ca,Z,O,B,A;function b(a){T.call(this);this.XWa=p;this.Mf=a.url;this.TD=a.request;this.AL=a.Qb||0;this.gL=a.Ke;this.eb=a.ca;this.di=this.sg=null;this.qD={};this.Cr=0;this.GD=a.bufferSize||4194304;this.jW={};this.kfa=a.version||1;a.key&&(this.Tca=a.crypto,this.Ru=this.Tca.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.B2?this.sg=a.B2:(this.Zb=a.offset,this.AKa=a.size);}function d(){}function h(){}function l(a,b){var c,f,h,m,l,p,k,r;if(a)this.emit(B.ERROR,O.EF(a,A.Iza));else try{if(2===this.kfa){f=new d();h=Z.a4(b)[0];m=h.$p("636F6D2E-6E65-7466-6C69-782E68696E66");l=h.$p("636F6D2E-6E65-7466-6C69-782E6D696478");f.xO=m.Ufa;f.hi=m.hi;f.oo=m.oo;f.M=m.M;f.vQ=m.vQ;f.wQ=m.wQ;f.language=m.h0a;f.Hab=m.iab;f.startOffset=l.M8a;p=[];k=0;for(a=0;a<l.bk.length;a++){r=l.bk[a];b={};b.duration=r.duration;b.size=r.size;p.push(b);k+=b.duration;}f.entries=p;f.endTime=k;c=f;}else{p=new ca(b);k=new d();k.identifier=p.It(4);O.assert("midx"===k.identifier);k.version=p.qd(4);O.assert(0===k.version);k.xO=p.re(36);k.hi=p.ff();k.oo=p.ff();k.M=p.ff();k.vQ=p.xb();k.wQ=p.xb();k.language=p.re(16);k.Hab=p.re(16);k.startOffset=p.ff();k.Tn=p.xb();f=[];for(r=l=0;r<k.Tn;r++)a={},a.duration=p.qd(4),a.size=p.xb(),f.push(a),l+=a.duration;k.entries=f;k.endTime=l;c=k;}this.sg=c;g.call(this);}catch(ka){this.emit(B.ERROR,O.EF(ka,A.Jza));}}function g(){var a,b;a=this.sg;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Mf,offset:b,size:a},this.emit(B.Kza,this.sg),this.TD(b,m.bind(this))):this.emit(B.ERROR,O.EF({},A.HAa));}function m(a,b){var c,d,g,f;c=this;if(a)c.emit(B.ERROR,O.EF(a,A.pEa));else{d=0;g=[];f=0;try{c.sg.entries.forEach(function(a){var m,l,p,k,r,n,v;l=d;p=c.sg.xO;k=c.eb;if(2===c.kfa){m=new h();r=Z.a4(b);m.entries=[];m.images=[];for(var u=0;u<r.length;u++)for(p=r[u],l=p.$p("636F6D2E-6E65-7466-6C69-782E73696478"),p=p.$p("636F6D2E-6E65-7466-6C69-782E73656E63"),k=0;k<l.vo.length;k++){n={};v=l.vo[k];n.Jh=v.Jh;n.duration=v.duration;n.GP=v.GP;n.HP=v.HP;n.cR=v.cR;n.dR=v.dR;n.ao=v.ao;n.dA=v.dA;if(v=p&&p.vo[k])n.zia={ht:v.ht.slice(0),mode:v.Aia};m.entries.push(n);}}else{m=new ca(b);r=new h();u=0;m.position=l;r.identifier=m.It(4);O.assert("sidx"===r.identifier);r.xO=m.re(36);O.oPa(r.xO,p,k);r.duration=m.qd(4);r.Tn=m.xb();r.entries=[];for(r.images=[];u<r.Tn;)l={},l.Jh=m.qd(4),l.duration=m.qd(4),l.GP=m.xb(),l.HP=m.xb(),l.cR=m.xb(),l.dR=m.xb(),l.ao=m.ff(),l.dA=m.qd(4),u++,r.entries.push(l);m=r;}g.push(m);a.p5=m;m.Y3=f;m.oH=f+a.duration;f=m.oH;r=m.entries;r.length&&(m.startTime=r[0].Jh,m.endTime=r[r.length-1].Jh+r[r.length-1].duration);d+=a.size;});}catch(ha){c.emit(B.ERROR,O.EF(ha,A.qEa));return;}c.di=g;c.emit(B.rEa,this.di);a=k.call(c,c.AL,2);a.length?w.call(c,a,c.AL,function(a){a&&c.eb.error("initial sidx download failed");c.emit(B.Saa);}):c.emit(B.Saa);}}function p(a){var b,c,d,g,f;b=k.call(this,a,2);c=(c=this.sg)?c.endTime:void 0;if(a>c)return[];d=this.qD.$k;g=this.qD.index;c=[];g=O.$a(g)&&this.di[g+1];if(!(g&&g.entries.length||d&&!(a>d.endTime)))return[];b.length&&w.call(this,b,a);d&&d.images.length&&(c=n(d,a,[],this.sg));g&&g.images.length&&(b=n(g,a,c,this.sg),c.push.apply(c,b));b=q(c);if(this.di&&0!=this.di.length){c=this.di[Math.floor(a/6E4)];if(!(c.Y3<=a&&a<=c.oH))a:{c=this.di.length;if(!this.GUa){this.GUa=!0;b:{try{f=String.fromCharCode.apply(String,this.sg.language);break b;}catch(ha){}f="";}this.eb.error("bruteforce search for ",{movieId:this.sg.M,packageId:this.sg.oo,lang:f});}for(f=0;f<c;f++)if(d=this.di[f],d.Y3<=a&&a<=d.oH){c=d;break a;}c=void 0;}f=c;}else f=void 0;if(c=f&&0<f.entries.length&&0===f.images.length)a:{c=f.entries.length;for(g=0;g<c;g++)if(d=f.entries[g],d.Jh<=a&&d.Jh+d.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function k(a,b){var c,f;c=[];if(a=u.call(this,a))this.qD=a;else return this.qD={},c;for(var d=0,g=this.di?this.di.length:0;d<b&&a.index+d<g;){f=this.di[a.index+d];f&&!f.images.length&&c.push(f);d++;}return c;}function u(a){var b,c,d,g,f,h,m;c=this.qD;d=c.$k;g=c.index;f=this.di;this.Of(O.$a(a));d&&(0===g&&a<=d.startTime?(m=!0,b=c):a>=d.startTime&&a<=d.endTime?(m=!0,b=c):(h=f[g-1],f=f[g+1],h&&a>h.endTime&&a<=d.startTime?(m=!0,b=c):f&&a>=d.endTime&&a<=f.endTime&&(m=!0,b={$k:f,index:g+1})));if(!m)for(c=this.sg.entries,d=c.length,g=0;g<d;g++)if(h=c[g].p5,a<=h.startTime||a>h.startTime&&a<=h.endTime){b={$k:c[g].p5,index:g};break;}return b;}function n(a,b,c,d){var g,f,h,m,l,p;g=a.entries;f=g.length;h=[];l=0;if(!g.length)return h;for(;l<f;){m=g[l];if(m.Jh<=b)m.Jh+m.duration>=b&&h.push(O.fZ(m,a.images[l].data,d));else{p=h.length&&h[h.length-1]||c.length&&c[c.length-1];if(p&&p.Jh>b&&p.Jh!==m.Jh)break;p.ao!==m.ao&&h.push(O.fZ(m,a.images[l].data,d));}l++;}return h;}function q(a){return a.map(function(b,c){b.duration+=O.XTa(a.slice(c+1),b);return b;}).reduce(function(a,b){O.C8a(a,b.id)||a.push(b);return a;},[]);}function w(a,b,c){var d,g,f,h,m,l;d=this;g=a[0];f=a[a.length-1];0<g.entries.length&&(h=g.entries[0].ao,m=g.entries[g.entries.length-1]);0<f.entries.length&&(O.$a(h)||(h=f.entries[0].ao),m=f.entries[f.entries.length-1]);if(h){g=m.ao+m.dA-h;l=O.hXa(h,g);d.jW[l]||(d.jW[l]=!0,t.call(d,a,b),d.TD({url:d.Mf,offset:h,size:g},function(b,g){var f,m,p,k;setTimeout(function(){delete d.jW[l];},1E3);if(b)c&&c(b);else{f=new ca(g);m=0;k=[];a.forEach(function(a){a.entries.forEach(function(b,c){var g,l;f.position=b.ao-h;g={data:f.re(b.dA)};l=b.zia;l&&(g.ht=l.ht,g.Aia=l.mode,p=!0,k.push(g));a.images[c]=g;!b.zia&&O.cta(a.images[c].data,d.Of.bind(d));m+=a.images[c].data.length;});});d.Cr+=m;p?d.Ru.then(function(a){return N.call(d,k,a);}).then(function(){c&&c(null);})["catch"](function(a){d.eb.error("decrypterror",a);c&&c({K:!1});}):c&&c(null);}}));}else c&&c(null);}function t(a,b){var f,h,m,l,p,k;function c(){return{pts:b,hasEnoughSpace:f.Cr+h<=f.GD,required:h,currentSize:f.Cr,max:f.GD,currentIndex:u.call(f,b).index,sidxWithImages:y.call(f),newSidxes:a.map(function(a){return f.di.indexOf(a);})};}function d(a,b){f.gL&&!a&&f.eb.info("not done in iteration",b);}function g(a){var b,c,d;b=f.di[a];c=b.images&&b.images.length;if(0<c){d=x([b]);b.images=[];f.Cr-=d;f.gL&&f.eb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:d,images:c});if(f.Cr+h<=f.GD)return!0;}}f=this;h=x(a);f.eb.info("make space start:",c());if(!(f.Cr+h<=f.GD)){m=u.call(f,b).index;l=!1;p=0;k=f.di.length-1;if(0>m){f.eb.error("inconsistent sidx index");return;}for(;!l&&p<m-2;)l=g(p),p++;for(d(l,1);!l&&k>m+2;)l=g(k),k--;for(d(l,2);!l&&p<m;)l=g(p),p++;for(d(l,3);!l&&k>m;)l=g(k),k--;d(l,4);l||f.eb.error("could not make enough space",{maxBuffer:this.GD});}f.eb.info("make space end",c());}function x(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.dA+a;},0);},0);}function y(){var a;a=[];this.sg&&this.sg.entries&&this.sg.entries.reduce(function(b,c,d){var g;c=c.p5;g=0;c&&c.images.length&&(a.push(d),g=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+g;},0);return a.join(", ");}function C(a,b){return a&&a.Y3<=b&&a.oH>=b;}function F(a,b){var c,d,g,f,h,m;c=this;d=c.sg;g=c.di;f=g&&g.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(d&&g){if(0===f)return[];d=g[0].duration;if(O.$a(d)&&0<d)d=Math.floor(a/d),h=d<f&&C(g[d],a)?g[d]:void 0;else for(c.gL&&c.eb.warn("duration not defined, so use brute force to get starting sidx"),d=0;d<f;d++){m=g[d];if(C(m,a)){h=m;break;}}if(O.$a(h)){h=[];for(var l=function(c){var d;d=c.Jh<=a&&a<=c.Jh+c.duration;return a<=c.Jh&&c.Jh<=b||d;};d<f;){m=g[d];h=h.concat(m.entries.filter(l));if(b<m.oH)break;d++;}h=h.map(function(a){return O.fZ(a,null,c.sg);});return q(h);}}}function N(a,b){var d,g;function c(a,b){var c,d;c=this;d=new Uint8Array(16);d.set(a.ht);return c.Tca.decrypt({name:"AES-CTR",counter:d,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));O.cta(a.data,c.Of.bind(c));});}d=this;try{g=[];a.forEach(function(a){a.ht&&(a=c.call(d,a,b),g.push(a));});return(void 0).all(g);}catch(U){return d.eb.error("decrypterror",U),(void 0).reject(U);}}T=a(140).EventEmitter;ca=a(94);Z=a(309);O=a(551);B=b.events={Kza:"midxready",rEa:"sidxready",Saa:"ready",ERROR:"error"};A=b.inb={Iza:"midxdownloaderror",Jza:"midxparseerror",HAa:"nosidxfoundinmidx",pEa:"sidxdownloaderror",qEa:"sidxparseerror"};b.prototype=Object.create(T.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.sg)this.eb.warn("midx was prefectched and provided"),g.call(this);else{a={url:this.Mf,offset:this.Zb,size:this.AKa,responseType:"binary"};this.eb.warn("downloading midx...");this.TD(a,l.bind(this));}};b.prototype.close=function(){};b.prototype.Of=function(a){this.gL&&O.assert(a,this.eb);};b.prototype.Vs=function(a,b){return F.call(this,a,b);};b.prototype.e0=function(a,b){return(a=this.Vs(a,b))?a.length:a;};f.P=b;},function(f,c,a){var h;function b(a,b){return b.reduce(d.bind(this,a),[]);}function d(a,b,c){var d,g;d=c.displayTime-a;a=c.displayTime+c.duration-a;g=0<b.length?b[0].timeout:Infinity;return 0<d&&d<g?[{timeout:d,type:"showsubtitle",Od:c}]:d===g?b.concat([{timeout:d,type:"showsubtitle",Od:c}]):0<a&&a<g?[{timeout:a,type:"removesubtitle",Od:c}]:a===g?b.concat([{timeout:a,type:"removesubtitle",Od:c}]):b;}h=a(140).EventEmitter;c=a(308)({});a=function g(a,b,c){if(!(this instanceof g))return new g(a,b,c);h.call(this);this.ep=a;this.FHa=b;this.pp={};this.Ny={};this.eb=c||console;this.AK=!1;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Mi);Object.keys(a.pp).forEach(function(b){a.emit("removesubtitle",a.pp[b]);});a.pp={};};a.prototype.pause=function(){clearTimeout(this.Mi);};a.prototype.cn=function(a,c){var d,g;d=this;g=d.ep();clearTimeout(this.Mi);a=d.FHa(g);null!==a&&d.AK&&(d.AK=!1,d.emit("bufferingComplete"));c="number"===typeof c?c:0;Object.keys(d.pp).forEach(function(a){a=d.pp[a];a.displayTime<=g&&g<a.displayTime+a.duration||(delete d.pp[a.id],d.emit("removesubtitle",a));});Object.keys(d.Ny).forEach(function(a){a=d.Ny[a];g>=a.displayTime+a.duration&&delete d.Ny[a.id];});null!==a&&0<a.length?(c=a.length,d.eb.info("found "+c+" entries for pts "+g),a.forEach(function(a){a.displayTime<=g&&g<a.displayTime+a.duration&&!d.pp[a.id]&&(d.emit("showsubtitle",a),d.pp[a.id]=a,delete d.Ny[a.id]);}),c=a[a.length-1],d.pp[c.id]||d.Ny[c.id]||(d.emit("stagesubtitle",c),d.Ny[c.id]=c),c=b(g,a),0<c.length?d.FL(c[0].timeout):d.FL(2E4)):null===a?(a=250*Math.pow(2,c),2E3<a&&(a=2E3),d.eb.warn("checking buffer again in "+a+"ms"),d.AK||(d.AK=!0,d.emit("underflow")),d.FL(a,c+1)):d.FL(2E4);};a.prototype.FL=function(a,b){var c;c=this;c.eb.trace("Scheduling pts check.");c.Mi=setTimeout(function(){c.cn(c.ep(),b);},a);};f.P=c(["function","function","object"],a);},function(f,c,a){var g,m,p;function b(a){var b;b=1;"dfxp-ls-sdh"===this.Yu&&(b=a.jlb.length);this.eb.info("show subtitle called at "+this.ep()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Jr[this.Jr.length-1].WQ+=b;}function d(a){this.eb.info("remove subtitle called at "+this.ep()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function h(){this.eb.info("underflow fired by the subtitle timer");this.emit("underflow");}function l(){this.eb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}g=a(140).EventEmitter;m=a(553);c=a(308)();p=a(552);a=function u(a,c){var f,k;f=this;k=a.Ke||!1;if(!(f instanceof u))return new u(a,c);g.call(f);f.eb=a.ca||console;f.TD=a.request;f.ep=a.hka;f.Mi=null;f.lp=!0;f.Jr=[];f.Yu=c.profile;f.Mf=c.url;f.AL=c.Qb;f.LJa=c.T5a;f.aHa=c.Lv;a={url:f.Mf,request:f.TD,Qb:f.AL,xml:c.xml,T5a:f.LJa,Lv:f.aHa,ca:f.eb,Ke:k,bufferSize:c.bufferSize,crypto:c.crypto,key:c.key,B2:c.B2};if("nflx-cmisc"===f.Yu)a.offset=c.rna,a.size=c.sna,f.Hc=new p(a);else if("nflx-cmisc-enc"===f.Yu)a.version=2,a.offset=c.rna,a.size=c.sna,f.Hc=new p(a);else throw Error("SubtitleManager: "+f.Yu+" is an unsupported profile");f.Hc.on("ready",function(){var a,g;a=!!c.mNa;f.eb.info("ready event fired by subtitle stream");f.emit("ready");g=f.Hc.XWa.bind(f.Hc);f.Mi=new m(f.ep,g,f.eb);f.Mi.on("showsubtitle",b.bind(f));f.Mi.on("removesubtitle",d.bind(f));f.Mi.on("underflow",h.bind(f));f.Mi.on("bufferingComplete",l.bind(f));a&&(f.eb.info("autostarting subtitles"),setTimeout(function(){f.cn(f.ep());},10));});f.Hc.on("error",f.emit.bind(f,"error"));};a.prototype=Object.create(g.prototype);a.prototype.start=function(){this.Hc.start();};a.prototype.cn=function(a){this.lp&&(this.lp=!1,this.eb.info("creating a new subtitle interval at "+a),this.Jr.push({X:a,WQ:0}));null!==this.Mi&&this.Mi.cn(a);};a.prototype.stop=function(){var a;this.ep();this.eb.info("stop called");this.lp||this.pause();this.Hc.removeAllListeners(["ready"]);null!==this.Mi&&this.Mi.stop();a=this.Jr.reduce(function(a,b){a.rra+=b.WQ;a.Kl+=b.Lia;a.x_a.push(b);return a;},{rra:0,Kl:0,x_a:[]});"object"===typeof this.Hc&&this.Hc.close();this.eb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.ep();if(this.lp)this.eb.warn("pause called on subtitle manager, but it was already paused!");else{this.eb.info("pause called at "+a);this.lp=!0;this.eb.info("ending subtitle interval at "+a);b=this.Jr[this.Jr.length-1];b.fa=a;b.fa<b.X&&(this.eb.warn("correcting for interval where endPts is smaller than startPts"),b.X=0<b.fa?b.fa-1:0);b.Lia=this.Hc.e0(b.X,b.fa);this.eb.info("showed "+b.WQ+" during this interval");this.eb.info("expected "+b.Lia+" for this interval");}null!==this.Mi&&this.Mi.pause();};a.prototype.Vs=function(a,b){return this.Hc.Vs(a,b);};a.prototype.e0=function(a,b){return this.Hc.e0(a,b);};a=c([{request:"function",hka:"function",ca:"object"},"object"],a);f.P=a;},function(f,c,a){var d,h,l,g,m;function b(a,b){a=g.we.call(this,a)||this;a.config=b;a.Hj="AppInfoConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(47);l=a(54);g=a(53);a=a(39);oa(b,g.we);pa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},Bia:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq/msl_v1";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.nF){case h.er.ZEa:a="www.stage";break;case h.er.Gba:a="www-qa.test";break;case h.er.A9:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}}});m=b;f.__decorate([l.config(l.string,"apiEndpoint")],m.prototype,"endpoint",null);f.__decorate([l.config(l.string,"nqEndpoint")],m.prototype,"Bia",null);m=f.__decorate([d.N(),f.__param(0,d.j(a.nk)),f.__param(1,d.j(h.oj))],m);c.Lta=m;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(555);d=a(27);f=a(0);c.uX=new f.dc(function(a){a(d.lf).to(b.Lta).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wjb="VideoCache";c.OFa="VideoCacheFactorySymbol";},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);d=[b.v.mya,b.v.l9,b.v.i9,b.v.X8,b.v.j9,b.v.k9,b.v.a9,b.v.r9,b.v.b9,b.v.Z8,b.v.zT,b.v.nya,b.v.t9,b.v.c9,b.v.DJ,b.v.e9,b.v.d9,b.v.f9,b.v.jl,b.v.V8,b.v.s9,b.v.Y8,b.v.o9,b.v.p9,b.v.q9,b.v.oya,b.v.qya,b.v.uya,b.v.sya,b.v.rya,b.v.pya,b.v.tya,b.v.n9,b.v.h9,b.v.g9,b.v.m9,b.v.W8];(function(a){a.bBa=function(a){var g;for(var c={},d=0;d<a.length;d++){g=a[d];if(c[g.vm])return{vm:g.vm,dha:b.u.zta};c[g.vm]=1;}};a.cBa=function(a){var g;for(var c=0;c<a.length;c++){g=a[c];if(-1===d.indexOf(g.vm))return{vm:g.vm,dha:b.u.Ata};}};}(h||(h={})));c.g6a=function(a){return new Promise(function(b,c){var g;g=h.cBa(a);g&&c(g);(g=h.bBa(a))&&c(g);b(a.sort(function(a,b){return d.indexOf(a.vm)-d.indexOf(b.vm);}));});};},function(f,c,a){var h,l,g,m,p,k,u,n,q,w,G,x,y,C,F,N;function b(b,c){this.Or=b;this.Rb=c;this.wa=g.Je(this.Rb,"LicenseBroker");this.BD=[];this.H=a(4).config;this.ce=this.H.ce;this.dn=this.H.dn;this.H.iH?p.Jla()?this.WL=!0:this.wa.error("Promise based eme requested but platform does not support it",{browserua:w.Ug}):this.WL=!1;}function d(a){var b,c;b={};G.$a(a.code)?b.R=g.t8(a.code):b.R=l.u.te;try{c=a.message.match(/\((\d*)\)/)[1];b.ub=g.mM(c,4);}catch(O){}b.za=x.yc(a);return b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(126);l=a(2);g=a(3);m=a(107);p=a(25);k=a(6);u=a(114);n=a(384);q=a(7);w=a(5);G=a(15);x=a(14);y=a(0);C=a(314);b.prototype.YK=function(){this.BD.forEach(function(a){return a();});};b.prototype.IV=function(){return this.H.nma?h.Oo.vC:h.Oo.vr;};b.prototype.dd=function(b,c,d){var g;g=a(51).rj;this.Rb.Hh(new g(b,c,d));};b.prototype.Pca=function(a){return new this.mp.cr(a,this.Rb.dj.$v,this.Rb.dj.release,{Ke:!1,dt:!1});};b.prototype.cL=function(b){var c;c=a(16).TT;this.Rb.fireEvent(c,b);};b.prototype.UGa=function(b){var c,d,f,h,p,k;c=this;h=a(17).Ra;this.mp.cr||this.dd(l.v.mu,l.u.Wwa);f=g.Je(this.Rb,"Eme");d=this.Pca(f);p=g.Z.get(m.ky);k=p.HM();p=p.QE(this.Rb.Ud.value.Db);return this.mp.kn(f,b,function(a){return c.Rb.Yc(a);},{Ke:!1,dt:!1,Mla:this.H.Sh,Qqa:{ona:this.H.Pqa,Iga:this.H.O4},Na:{getTime:h},Ta:d,$P:this.WL,Ba:this.Or.Ba,UB:this.H.UB,Dx:this.H.QZ,onerror:function(a,b,d){return c.dd(a,b,d);},DP:function(a){return c.cL(a);},B3:!0,pB:this.H.m6&&this.H.pB,SF:this.H.SF,Yfa:k,t6:p,eA:this.H.eA});};b.prototype.BW=function(a){var b;b=this;return this.WL?new Promise(function(c,g){if(b.Or.Ba)b.Or.Ba.setMediaKeys(a).then(function(){c({K:!0});})["catch"](function(a){var b;b=d(a);g({K:!1,code:l.v.mU,tb:b.R,Sc:b.ub,za:b.za,message:"Set media keys is a failure",cause:a});});else return Promise.resolve({K:!0});}):Promise.resolve({K:!0});};b.prototype.Zea=function(a,b){var d,g;function c(){d.Rb.bh.cqa()["catch"](function(a){d.wa.error("Unable to set the license",{code:a.code,subCode:a.tb,extCode:a.Sc,edgeCode:a.Jj,message:a.message,errorDetails:a.za,errorData:a.ji,state:a.state});a.cause&&a.cause.za&&(a.za=a.za?a.za+a.cause.za:a.cause.za);d.dd(a.code,a,a.Sc);});}d=this;this.wa.info("Setting the license");g=this.Rb.bh;return(b?this.H.i5?g.Ofa().then(function(){return d.BW(g.Oh);}):g.Ofa():g.create(this.ce).then(function(){return d.H.i5?d.BW(g.Oh).then(function(){return g.kd(d.IV(),a);}):g.kd(d.IV(),a);})).then(function(){return d.H.i5?Promise.resolve({K:!0}):d.BW(g.Oh);}).then(function(){d.wa.info("license set");d.YK();d.Or.ita.then(function(){d.H.uA&&(b||d.H.nma)&&(d.dqa=setTimeout(c,d.H.uA));});})["catch"](function(a){d.wa.error("Unable to set the license",{code:a.code,subCode:a.tb,extCode:a.Sc,edgeCode:a.Jj,message:a.message,errorDetails:a.za,errorData:a.ji,state:a.state});a.cause&&a.cause.za&&(a.za=a.za?a.za+a.cause.za:a.cause.za);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.dd(a.code,a,a.Sc);});};b.prototype.cIa=function(){var h,m;function b(a){var b;b={};a.forEach(function(a){b[n.NTa(a.B2a)]=a.time.qa(q.Ma);});return b;}function c(){var a,b,c;a={next:function(a){var b;b=g.Dp(a.NO);h.wa.trace("Key status",{keyId:b,status:a.value});},error:k.Gb,complete:k.Gb};b={next:function(a){h.dd(a.code,a,a.Sc);},error:k.Gb,complete:k.Gb};c={next:function(a){h.cL(a);},error:k.Gb,complete:k.Gb};g.Z.get(u.kJ)().then(function(d){var l;l={ce:h.ce,M:h.Rb.M,aa:h.Rb.aa,Dc:h.Rb.Dc,Is:h.Rb.Is,profileId:h.Rb.profile.id,Ba:h.Or.Ba};l={type:h.IV(),dla:g.Pi(h.Rb.ZA[0]),context:l};F=d;d.WO().subscribe(c);h.Rb.Xmb=F;F.kd(l).tF(function(c){h.Rb.fireEvent(m);h.ida=c;h.Rb.bh=c;h.Rb.XO=c.XO;c.Zla.subscribe(a);c.oF().subscribe(b);return c.iM();}).subscribe(function(){h.wa.info("Finished a license");},function(a){h.dd(a.code,a,a.Sc);},function(){f();});})["catch"](function(a){h.dd(a.code,a,a.Sc);});}function f(){h.wa.info("Successfully applied license");try{h.Or.Ba?h.Or.Ba.setMediaKeys(h.Rb.bh.Oh).then(function(){h.YK();})["catch"](function(a){a=d(a);h.dd(l.v.mU,a,a.ub);}):h.YK();}catch(ja){h.dd(l.v.mU,ja);}}h=this;m=a(16).VC;this.WV||(this.WV=!0,p.IO(this.H)&&this.H.Rm&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.Ui(this.Rb.M,"ldl").then(function(a){h.Rb.bh=a;return a.iM().subscribe(function(){h.wa.info("Finished a license");},function(a){h.dd(a.code,a,a.Sc);},function(){a.hma&&h.cL(a.hma);h.Rb.G0(b(a.de));h.Rb.uga=!0;f();});})["catch"](function(a){h.wa.warn("eme not in cache",a);c();}):c());};b.prototype.PLa=function(a){-1===this.BD.indexOf(a)&&this.BD.push(a);};b.prototype.E7a=function(a){a=this.BD.indexOf(a);0<=a&&this.BD.splice(a,1);};b.prototype.moa=function(b){var d,f,h;function c(){var a;d.Rb.bh=d.UGa(b.initDataType);a=[];d.Rb.ZA.forEach(function(b){a.push(g.Pi(b));});d.Zea(a);}d=this;f=a(16).VC;h=a(81).vh;this.wa.trace("Received event: "+b.type);this.Rb.ge?h.iM().subscribe({error:function(a){d.wa.error("videoCache: setMediKeys failed",{errorCode:a.errorCode,errorSubCode:a.R});d.dd(a.errorCode,a.R);},complete:function(){d.wa.info("VideoCache: setMediKeys");d.Rb.fireEvent(f);d.YK();}}):this.H.dn?this.cIa():this.WV||(this.WV=!0,this.mp.kn?this.Rb.ZA?p.IO(this.H)&&this.H.Rm&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.Ui(this.Rb.M,"ldl").then(function(a){d.Rb.bh=a;return a.hta.then(function(){var b;b=[];d.Rb.ZA.forEach(function(a){b.push(g.Pi(a));});return d.Zea(b,!0).then(function(){var b;if(a.CY)d.dd(l.v.Ywa);else{b=g.Je(d.Rb,"Eme");a.gcb({log:b,Vj:function(a){return d.Rb.Yc(a);}},{Ta:d.Pca(b),onerror:function(a,b,c){return d.dd(a,b,c);}});(b=a.Koa)&&d.cL(b);d.Rb.G0(a.de||{});d.Rb.uga=!0;}});});})["catch"](function(a){d.wa.warn("eme not in cache",a);c();}):c():(this.wa.error("Missing the PSSH on the video track, closing the player"),this.dd(l.v.qCa)):this.dd(l.v.mu,l.u.Xwa));};b.prototype.f5a=function(){var a;a=this;return F&&this.ida?new Promise(function(b){F.J$a(a.ida).tF(function(a){return a.yMa();}).tF(function(b){a.wa.trace("Fulfilled the last secure stop");a.H.Sh&&a.Rb.KA.KQ({success:!0,persisted:!1});return b.close();}).subscribe({error:function(c){a.wa.error("Unable to get/add secure stop data",c);a.H.Sh&&a.Rb.KA.KQ({success:c.K,ErrorCode:c.code,ErrorSubCode:c.tb,ErrorExternalCode:c.Sc,ErrorEdgeCode:c.Jj,ErrorDetails:c.Nv});b();},complete:function(){b();}});}):Promise.resolve();};pa.Object.defineProperties(b.prototype,{mp:{configurable:!0,enumerable:!0,get:function(){return a(36).Ne;}},KG:{configurable:!0,enumerable:!0,get:function(){return this.WL?"encrypted":this.Or.RS+"needkey";}}});N=b;f.__decorate([C.t1],N.prototype,"mp",null);f.__decorate([C.t1],N.prototype,"KG",null);N=f.__decorate([y.N()],N);c.gza=N;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(559);d=a(310);c.r0a=new f.dc(function(a){a(d.N9).lsa(b.gza);});},function(f,c,a){var d,h,l,g,m;function b(a,b){a=h.we.call(this,a)||this;a.Lv=b;a.Hj="TransportConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(53);l=a(39);g=a(54);a=a(161);oa(b,h.we);pa.Object.defineProperties(b.prototype,{$sa:{configurable:!0,enumerable:!0,get:function(){return!0;}},Ina:{configurable:!0,enumerable:!0,get:function(){return this.Lv.kQ;}}});m=b;f.__decorate([g.config(g.We,"usesMsl")],m.prototype,"$sa",null);f.__decorate([g.config(g.We,"refreshCredentialsAfterManifestAuthError")],m.prototype,"Ina",null);m=f.__decorate([d.N(),f.__param(0,d.j(l.nk)),f.__param(1,d.j(a.WJ))],m);c.yFa=m;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.send=function(){return Promise.reject("Not implemented");};b.prototype.QY=function(){return{};};d=b;d=f.__decorate([a.N()],d);c.YEa=d;},function(f,c,a){var d,h,l,g,m,p,k,u;function b(a,b,c,d){this.config=b;this.Le=c;this.receiver=d;this.log=a.Bb("MslTransport");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(12);l=a(2);g=a(111);m=a(311);p=a(7);a=a(197);k={license:!0};b.prototype.send=function(a,b){var c,d;c=this;d={IG:{Za:a.Za,log:a.log,profile:a.profile},method:a.$g,url:a.url,body:JSON.stringify(b),timeout:a.timeout.qa(p.Ma),WB:a.profile.id,M7a:!k[a.$g],CP:!!k[a.$g],mN:!0,D4:a.ex,headers:a.headers};return this.Le.send(d).then(function(d){c.receiver.V3({$g:a.$g,inputs:b,outputs:d});return d;})["catch"](function(d){var g;if(!d.error)throw d.tb=d.R||d.tb,c.receiver.V3({$g:a.$g,inputs:b,outputs:d}),d;g=d.error;g.$j=d.$j;c.log.error("Error sending MSL request",{mslCode:g.sq,subCode:g.tb,data:g.data,message:g.message});"401"===g.Sc&&(g.tb=l.u.HC,g.Sc="4027",c.config.Ina&&"manifest"===a.$g&&c.Le.cla());c.receiver.V3({$g:a.$g,inputs:b,outputs:g});throw g;});};b.prototype.QY=function(){return{userTokens:this.Le.Le.getUserIdTokenKeys()};};u=b;u=f.__decorate([d.N(),f.__param(0,d.j(h.Jb)),f.__param(1,d.j(m.VU)),f.__param(2,d.j(g.Wx)),f.__param(3,d.j(a.sU))],u);c.vAa=u;},function(f,c,a){var b,d,h,l,g;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(311);d=a(312);h=a(563);l=a(562);g=a(561);c.Hbb=new f.dc(function(a){a(b.VU).to(g.yFa).Y();a(d.x$).to(h.vAa);a(d.sba).to(l.YEa);a(d.Qba).Yl(function(a){return function(){return a.kc.get(b.VU).$sa?a.kc.get(d.x$):a.kc.get(d.sba);};});});},function(f,c,a){var d,h,l,g,m,p,k,u,n,q,w,t;function b(a,b,c,d,g,f,h){this.platform=a;this.xc=b;this.Cg=c;this.Za=d;this.config=g;this.Kk=f;this.iq=h;this.name=n.wr.events;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(69);l=a(2);g=a(24);m=a(27);p=a(22);k=a(23);u=a(45);n=a(82);q=a(7);w=a(37);a=a(33);b.prototype.Pf=function(){return Promise.reject(Error("Links are required with DownloadEvent"));};b.prototype.Am=function(a,b,c,d){var g;g=this;return this.Pk(a,b,c.GF("events").href,d).then(function(a){return g.Kk.send(a.context,a.request);}).then(function(){})["catch"](function(a){throw h.Yp(l.v.qwa,a);});};b.prototype.Pk=function(a,b,c,d){var g,f;try{g=h.xE(this.iq.As(),c,this.Cg().$d,this.config,this.platform,d);f=this.Ip(a,b,g);return Promise.resolve({context:f,request:g});}catch(ca){return Promise.reject(ca);}};b.prototype.Ip=function(a,b,c){return{Za:this.Za,log:a,$g:this.name,url:h.yE(this.xc,this.config,this.name),profile:b,ex:3,timeout:q.ij(59),xQ:c.url,headers:{"Content-Type":"text/plain"}};};t=b;t=f.__decorate([d.N(),f.__param(0,d.j(g.Pe)),f.__param(1,d.j(m.lf)),f.__param(2,d.j(p.Ee)),f.__param(3,d.j(a.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(u.Di)),f.__param(6,d.j(w.Rg))],t);c.Jwa=t;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.gg={Ssb:"startDownload",Vsb:"stopDownloadDueToError",Klb:"completeDownload",xlb:"cancelDownload",esb:"reportProgress"};c.Kwa="DownloadEventPboCommandSymbol";},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w,t;function b(a,b,c,d,g,f,h){a=w.or.call(this,a,b,c,d,g,f,h)||this;a.name=t.wr.kd;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(45);k=a(23);r=a(33);u=a(69);n=a(2);q=a(37);w=a(139);t=a(82);oa(b,w.or);b.prototype.Pf=function(a,b,c){var d;d=this;return this.Pk(a,b,c,"/syncDeactivateLinks").then(function(a){return d.Kk.send(a.context,a.request);}).then(function(a){return a.result;})["catch"](function(a){throw u.Yp(n.v.NEa,a);});};b.prototype.Am=function(){return Promise.reject(Error("executeWithLinks is not supported by syncDeactivateLinks"));};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(r.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(m.Di)),f.__param(6,d.j(q.Rg))],a);c.cDa=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.dDa="PboSyncDeactivateLinksCommandSymbol";},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w;function b(a,b,c,d,g,f,h){return n.Bi.call(this,a,b,c,d,g,f,h,u.v.k8,q.gg.Rn,3)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(33);k=a(23);r=a(45);u=a(2);n=a(93);q=a(61);a=a(37);oa(b,n.Bi);b.prototype.sM=function(a){return Object.assign({},n.Bi.prototype.sM.call(this,a),{action:a.action});};w=b;w=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(m.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(r.Di)),f.__param(6,d.j(a.Rg))],w);c.jxa=w;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w;function b(a,b,c,d,g,f,h){return n.Bi.call(this,a,b,c,d,g,f,h,u.v.uEa,q.gg.splice,1)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(33);k=a(23);r=a(45);u=a(2);n=a(93);q=a(61);a=a(37);oa(b,n.Bi);w=b;w=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(m.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(r.Di)),f.__param(6,d.j(a.Rg))],w);c.XEa=w;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w;function b(a,b,c,d,g,f,h){return n.Bi.call(this,a,b,c,d,g,f,h,u.v.Waa,q.gg.resume,1)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(33);k=a(23);r=a(45);u=a(2);n=a(93);q=a(61);a=a(37);oa(b,n.Bi);w=b;w=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(m.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(r.Di)),f.__param(6,d.j(a.Rg))],w);c.iEa=w;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w;function b(a,b,c,d,g,f,h){return n.Bi.call(this,a,b,c,d,g,f,h,u.v.P$,q.gg.pause,1)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(33);k=a(23);r=a(45);u=a(2);n=a(93);q=a(61);a=a(37);oa(b,n.Bi);w=b;w=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(m.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(r.Di)),f.__param(6,d.j(a.Rg))],w);c.MCa=w;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w;function b(a,b,c,d,g,f,h){return n.Bi.call(this,a,b,c,d,g,f,h,u.v.GT,q.gg.MO,1)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(33);k=a(23);r=a(45);u=a(2);n=a(93);q=a(61);a=a(37);oa(b,n.Bi);w=b;w=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(m.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(r.Di)),f.__param(6,d.j(a.Rg))],w);c.aza=w;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w;function b(a,b,c,d,g,f,h){return n.Bi.call(this,a,b,c,d,g,f,h,u.v.$C,q.gg.stop,3)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(33);k=a(23);r=a(45);u=a(2);n=a(93);q=a(61);a=a(37);oa(b,n.Bi);w=b;w=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(m.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(r.Di)),f.__param(6,d.j(a.Rg))],w);c.aFa=w;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w;function b(a,b,c,d,g,f,h){return n.Bi.call(this,a,b,c,d,g,f,h,u.v.HU,q.gg.start,3)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(33);k=a(23);r=a(45);u=a(2);n=a(93);q=a(61);a=a(37);oa(b,n.Bi);w=b;w=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(m.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(r.Di)),f.__param(6,d.j(a.Rg))],w);c.$Ea=w;},function(f,c,a){var d,h,l;function b(a,b){this.kf=a;this.Ep=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(26);a=a(62);b.prototype.rbb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.kf.KP(a.substring(a.indexOf("?")+1));});return{K:!0,Ob:a.map(function(a,b){return{id:a.sessionId,kt:c[b].drmlicensecontextid,tA:c[b].licenseid};}),eo:a.map(function(a){return{data:b.Ep.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.ybb=function(a){return{K:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};l=b;l=f.__decorate([d.N(),f.__param(0,d.j(h.Re)),f.__param(1,d.j(a.fl))],l);c.VCa=l;},function(f,c,a){var d,h,l;function b(a){this.Na=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(52);l=a(7);b.prototype.qbb=function(a){var b;b=this.Na.Eg.qa(l.Zo);return{inputs:a.Fj.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.aa.toString(),mdxControllerEsn:a.wG};}),v0a:"standard"===a.Rf.toLowerCase()?"license":"ldl"};};b.prototype.xbb=function(a){var b,c,d,g;b=this;c=a.G8a||{};d=[];g=a.Ob.map(function(g){var f;d.push(g.id);f=c[g.id];delete c[g.id];return{url:b.pga(g.kt,g.tA),echo:"sessionId",params:{sessionId:g.id,secureStop:f,secureStopId:f?g.tA:void 0,xid:a.aa.toString()}};});Object.keys(c).forEach(function(d){g.push({url:b.pga(a.Ob[0].kt),echo:"sessionId",params:{sessionId:d,secureStop:c[d],secureStopId:void 0,xid:a.aa.toString()}});});return g;};b.prototype.pga=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.mj))],a);c.UCa=a;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w,t;function b(a,b,c,d,g,f,h){a=w.or.call(this,a,b,c,d,g,f,h)||this;a.name=t.wr.kd;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(45);k=a(23);r=a(33);u=a(69);n=a(2);q=a(37);w=a(139);t=a(82);oa(b,w.or);b.prototype.Pf=function(){return Promise.reject(Error("Links are required with deactivate"));};b.prototype.Am=function(a,b,c,d){var g;g=this;c=c.GF("deactivate").href;return this.Pk(a,b,d,c).then(function(a){return g.Kk.send(a.context,a.request);}).then(function(a){return a.result;})["catch"](function(a){throw u.Yp(n.v.Cva,a);});};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(r.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(m.Di)),f.__param(6,d.j(q.Rg))],a);c.QCa=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.RCa="PboDeactivateLicenseCommandSymbol";},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w,t;function b(a,b,c,d,g,f,h){a=w.or.call(this,a,b,c,d,g,f,h)||this;a.name=t.wr.kd;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(45);k=a(23);r=a(33);u=a(69);n=a(2);q=a(37);w=a(139);t=a(82);oa(b,w.or);b.prototype.Pf=function(a,b,c){var d;d=this;return this.Pk(a,b,c,"/bundle").then(function(a){return d.Kk.send(a.context,a.request);}).then(function(a){a=a.result;a.forEach(function(a){if(d.eG(a))throw a.error;});return a;})["catch"](function(a){throw u.Yp(n.v.GU,a);});};b.prototype.Am=function(){return Promise.reject(Error("Links are unsupported with release"));};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(r.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(m.Di)),f.__param(6,d.j(q.Rg))],a);c.bDa=a;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w,t;function b(a,b,c,d,g,f,h){a=w.or.call(this,a,b,c,d,g,f,h)||this;a.name=t.wr.kd;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(45);k=a(23);r=a(33);u=a(69);n=a(2);q=a(37);w=a(139);t=a(82);oa(b,w.or);b.prototype.Pf=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.Am=function(a,b,c,d){var g;g=this;c=c.GF(d.v0a).href;return this.Pk(a,b,d.inputs,c,"sessionId").then(function(a){return g.Kk.send(a.context,a.request);}).then(function(a){a=a.result;a.forEach(function(a){if(g.eG(a))throw a.error;});return a;})["catch"](function(a){throw u.Yp(n.v.mu,a);});};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(r.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(m.Di)),f.__param(6,d.j(q.Rg))],a);c.NCa=a;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w,t,x,y,C,F,N,T,ca,Z,O;function b(a,b,c,d,g,f,h,m,l){this.xc=a;this.Cg=b;this.Za=c;this.Nm=d;this.Kk=g;this.iq=f;this.platform=h;this.config=m;this.dh=l;this.name=q.wr.Sa;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(27);l=a(22);g=a(45);m=a(23);k=a(7);r=a(33);u=a(69);n=a(2);q=a(82);w=a(37);t=a(24);x=a(322);y=a(3);C=a(29);F=a(58);N=a(5);T=a(108);ca=a(64);Z=a(109);a(317);O={fps:"fairplay"};b.prototype.Pf=function(a,b,c){var d;d=this;return this.RXa(c).then(function(c){return d.Pk(a,b,c);}).then(function(a){return d.Kk.send(a.context,a.request);}).then(function(a){return a.result;})["catch"](function(a){throw u.Yp(n.v.y$,a);});};b.prototype.Am=function(a,b,c,d){return this.Pf(a,b,d).then(function(a){c.bE(a.links);a.mt=c;return a;});};b.prototype.Pk=function(a,b,c){var d,g;try{d=this.zE("/"+this.name,c);g=this.Ip(a,b,d);return Promise.resolve({context:g,request:d});}catch(da){return Promise.reject(da);}};b.prototype.zE=function(a,b){return u.xE(this.iq.As(),a,this.Cg().$d,this.Nm,this.platform,b);};b.prototype.Ip=function(a,b,c){return{Za:this.Za,log:a,$g:this.name,url:u.yE(this.xc,this.Nm,this.name),profile:b,ex:3,timeout:k.ij(59),xQ:c.url,headers:{"Content-Type":"text/plain"}};};b.prototype.RXa=function(a){var b,c,d,g,f,h,m,l;b=this;c=a.jf||{};d={};g=a.dg;d[g]={unletterboxed:this.d1(c.preferUnletterboxed)};f=x.PT.Tz();h=O[f]||f;m=this.config().scb?30:25;f=y.Sz();l=(a.Fm?ca.$.F8:f.OYa(g)).concat(f.NYa()).concat(this.config().LB).concat(["BIF240","BIF320"]).filter(Boolean);return Promise.all([a.Fm?Promise.resolve(void 0):f.Yz(),a.Fm?Promise.resolve(void 0):f.IF()]).then(function(f){var k,p;k=Na(f);f=k.next().value;p=k.next().value;k=p&&void 0!==p.SUPPORTS_SECURE_STOP?!!p.SUPPORTS_SECURE_STOP:void 0;p=p?p.DEVICE_SECURITY_LEVEL:void 0;return{type:a.Fm?"offline":"standard",viewableId:g,profiles:l,flavor:F.tc.oha(a.eja),drmType:h,drmVersion:m,usePsshBox:!0,isBranching:a.$s,useHttpsStreams:!0,imageSubtitleHeight:b.CXa(),uiVersion:b.Nm.xx,clientVersion:b.platform.version,supportsPreReleasePin:b.config().Dg.qab,supportsWatermark:b.config().Dg.rab,showAllSubDubTracks:b.config().Dg.g$a||b.d1(c.showAllSubDubTracks),packageId:a.oo?Number(a.oo):void 0,deviceSupportsSecureStop:k,deviceSecurityLevel:p,videoOutputInfo:f,titleSpecificData:d,preferAssistiveAudio:b.d1(c.assistiveAudioPreferred),preferredTextLocale:c.preferredTextLocale,preferredAudioLocale:c.preferredAudioLocale,oxid:a.n3?a.n3.toString():void 0,dxid:a.ZTa?a.ZTa.toString():void 0,downloadQuality:a.Qmb,isNonMember:b.Nm.Rj};});};b.prototype.CXa=function(){var a;a=N.dm&&N.dm.height;return T.nn.ye(a)?1080<=a?1080:720:720;};b.prototype.d1=function(a){return T.nn.Xg(a)?"true"===a.toLowerCase():!!a;};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.lf)),f.__param(1,d.j(l.Ee)),f.__param(2,d.j(r.hg)),f.__param(3,d.j(m.Oe)),f.__param(4,d.j(g.Di)),f.__param(5,d.j(w.Rg)),f.__param(6,d.j(t.Pe)),f.__param(7,d.j(C.Ef)),f.__param(8,d.j(Z.CS))],a);c.YCa=a;},function(f,c,a){var d,h,l,g,m,k,r,u,n,q,w;function b(a,b,c,d,g,f){this.platform=a;this.xc=b;this.Cg=c;this.Za=d;this.config=g;this.Kk=f;this.name=w.wr.r1a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(24);l=a(27);g=a(22);m=a(45);k=a(23);r=a(7);u=a(33);n=a(69);q=a(2);w=a(82);b.prototype.Pf=function(a,b,c){var d;d=this;return this.Pk(a,b,c).then(function(a){return d.Kk.send(a.context,a.request);}).then(function(a){return a.result;})["catch"](function(a){throw n.Yp(q.v.dza,a);});};b.prototype.Am=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};b.prototype.Pk=function(a,b,c){var d,g;try{d=this.zE("/"+this.name,c);g=this.Ip(a,b,d);return Promise.resolve({context:g,request:d});}catch(N){return Promise.reject(N);}};b.prototype.zE=function(a,b){return n.xE(5,a,this.Cg().$d,this.config,this.platform,b);};b.prototype.Ip=function(a,b,c){return{Za:this.Za,log:a,$g:this.name,url:n.yE(this.xc,this.config,this.name),profile:b,ex:1,timeout:r.ij(59),xQ:c.url,headers:{"Content-Type":"text/plain"}};};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.Pe)),f.__param(1,d.j(l.lf)),f.__param(2,d.j(g.Ee)),f.__param(3,d.j(u.hg)),f.__param(4,d.j(k.Oe)),f.__param(5,d.j(m.Di))],a);c.XCa=a;},function(f,c,a){var b,d,h,l,g,m,k,r,u,n,q,w,t,x,y,C,F,N,T,ca,Z,O,B,A,H,D,S,P;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(342);d=a(583);h=a(333);l=a(582);g=a(332);m=a(581);k=a(328);r=a(580);u=a(579);n=a(578);q=a(327);w=a(577);t=a(326);x=a(576);y=a(61);C=a(575);F=a(574);N=a(48);T=a(2);ca=a(573);Z=a(572);O=a(571);B=a(570);A=a(569);H=a(568);D=a(567);S=a(566);P=a(565);c.mPa=new f.dc(function(a){a(b.maa).to(d.XCa);a(h.naa).to(l.YCa);a(g.haa).to(m.NCa);a(k.paa).to(r.bDa);a(u.RCa).to(n.QCa);a(H.dDa).to(D.cDa);a(S.Kwa).to(P.Jwa);a(q.jaa).to(w.UCa);a(t.kaa).to(x.VCa);a(y.tba).to(C.$Ea);a(y.uba).to(F.aFa);a(y.H9).to(ca.aza);a(y.gaa).to(Z.MCa);a(y.bba).to(O.iEa);a(y.rba).to(B.XEa);a(y.r8).to(A.jxa);a(y.mJ).Yl(function(a){return function(b){switch(b){case y.gg.start:return a.kc.get(y.tba);case y.gg.stop:return a.kc.get(y.uba);case y.gg.MO:return a.kc.get(y.H9);case y.gg.pause:return a.kc.get(y.gaa);case y.gg.resume:return a.kc.get(y.bba);case y.gg.splice:return a.kc.get(y.rba);case y.gg.Rn:return a.kc.get(y.r8);}throw new N.nb(T.v.uBa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(f,c,a){var d,h;function b(){this.Bo=new h.yh();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(77);b.prototype.V3=function(a){this.Bo.next(a);};pa.Object.defineProperties(b.prototype,{Ta:{configurable:!0,enumerable:!0,get:function(){return this.Bo;}}});a=b;a=f.__decorate([d.N()],a);c.aDa=a;},function(f,c,a){var d,h,l;function b(a,b){this.Cg=b;this.log=a.Bb("Pbo");this.links={};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(12);a=a(22);b.prototype.bE=function(a){a&&(this.links=Object.assign({},this.links,a));};b.prototype.GF=function(a){return this.links[a];};b.prototype.ELa=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.Cg().$d;a="drmContextId="+a.drmContextId;this.bE({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};l=b;l=f.__decorate([d.N(),f.__param(0,d.j(h.Jb)),f.__param(1,d.j(a.Ee))],l);c.WCa=l;},function(f,c,a){var d,h,l,g,m;function b(a,b){a=h.we.call(this,a)||this;a.config=b;a.Hj="PboConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(53);l=a(39);g=a(54);a=a(29);oa(b,h.we);pa.Object.defineProperties(b.prototype,{xx:{configurable:!0,enumerable:!0,get:function(){return this.config().Dg.xx||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},uoa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Dg.Sw;}},Rj:{configurable:!0,enumerable:!0,get:function(){return!1;}},oh:{configurable:!0,enumerable:!0,get:function(){return{logblob:{active:!0,service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{active:!0,service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{active:!0,service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{active:!0,service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},B0:{configurable:!0,enumerable:!0,get:function(){return 10;}},W3a:{configurable:!0,enumerable:!0,get:function(){return{logblob:{active:!0},manifest:{active:!0},license:{active:!0},events:{active:!0}};}}});m=b;f.__decorate([g.config(g.string,"uiVersion")],m.prototype,"xx",null);f.__decorate([g.config(g.rI,"pboVersion")],m.prototype,"version",null);f.__decorate([g.config(g.string,"pboOrganization")],m.prototype,"uoa",null);f.__decorate([g.config(g.bab,"pboLanguages")],m.prototype,"languages",null);f.__decorate([g.config(g.We,"hasLimitedPlaybackFunctionality")],m.prototype,"Rj",null);f.__decorate([g.config(g.object(),"pboCommands")],m.prototype,"oh",null);f.__decorate([g.config(g.rI,"pboHistorySize")],m.prototype,"B0",null);f.__decorate([g.config(g.object(),"pboOfflineServices")],m.prototype,"W3a",null);m=f.__decorate([d.N(),f.__param(0,d.j(l.nk)),f.__param(1,d.j(a.Ef))],m);c.PCa=m;},function(f,c,a){var l,g,m,k,r,u,n,q,w,t,x,y;function b(a){this.config=a;this.Fk=[];}function d(a,b,c){this.gb=a;this.nI=b;this.context=c;this.startTime=this.gb.oe();}function h(a,c,d,g,f,h,m,l){this.json=d;this.gb=g;this.y_=f;this.nH=h;this.ha=m;this.log=a.Bb("Pbo");this.nI=c();this.Fk=new b(l);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);l=a(0);g=a(7);m=a(2);k=a(312);r=a(12);u=a(50);n=a(38);q=a(47);w=a(110);t=a(43);x=a(69);a=a(23);h.prototype.send=function(a,b){var c;c=new d(this.gb,this.nI,a);this.Fk.append(c);return this.nB(a,b,c);};h.prototype.nB=function(a,b,c){var d;d=this;return new Promise(function(g,f){d.hB(a,b).then(function(a){var b,h;b=Na(d.Bcb(a));h=b.next().value;b=b.next().value;h&&(d.hPa(c),g(a));b&&(d.Wga(c,b),f(b));})["catch"](function(a){var b;b=d.Wga(c,a);a.za&&(a.za=[a.za," ",b].join(""));f(a);});});};h.prototype.Bcb=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.V4a=function(a){var b;if(a){try{b=this.json.parse(a);}catch(N){throw{Ow:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{Ow:!0,code:"FAIL",message:"There is no result property on the response"};}throw{Ow:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.ZMa=function(a,b,c){var d;d=this;return this.nI.send(b,c).then(function(a){return{hB:!1,result:d.V4a(a.body)};})["catch"](function(c){var g,f;f=c&&c.$j&&void 0!==c.$j.maxRetries?Math.min(c.$j.maxRetries,b.ex):b.ex;return d.$9a(b,c,a,f)?(g=d.yOa(c,a,f),d.log.warn("Method failed, retrying",Object.assign({Method:b.$g,Attempt:a+1,WaitTime:g,MaxRetries:f},d.tZ(c))),Promise.resolve({hB:!0,Rc:g,error:c})):Promise.resolve({hB:!1,error:c});});};h.prototype.hB=function(a,b,c){var d;c=void 0===c?0:c;d=this;return this.ZMa(c++,a,b).then(function(g){if(g.hB)return d.FI(g.Rc).then(function(){return d.hB(a,b,c);});if(g.error)throw g.error;if(void 0===g.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return g.result;});};h.prototype.$9a=function(a,b,c,d){var g;g=this.y_.C4||this.S_a(b);if(g&&c<d)return!0;g?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.$g,Attempt:c+1,MaxRetries:d},this.tZ(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.$g},this.tZ(b)));return!1;};h.prototype.S_a=function(a){var b;b=a&&a.code;a=a&&(a.R||a.tb);a=!!a&&a>=m.u.sC&&a<=m.u.Px;return!(!b||"RETRY"!==b)||a;};h.prototype.yOa=function(a,b,c){return a&&a.$j&&void 0!==a.$j.retryAfterSeconds?g.ij(a.$j.retryAfterSeconds):g.Cb(this.nH.X3(1E3,1E3*Math.pow(2,Math.min(b-1,c))));};h.prototype.FI=function(a){var b;b=this;return new Promise(function(c){b.ha.Af(a||g.cl,c);});};h.prototype.tZ=function(a){return x.M_a(a)?a:{message:a.message,subCode:a.tb,extCode:a.Sc,mslCode:a.sq,data:a.data};};h.prototype.hPa=function(a){a.jab();};h.prototype.Wga=function(a,b){var c;a.Xv(b);try{c=this.json.stringify(this.Fk);this.log.error("PBO command history",this.json.parse(c));return c;}catch(T){return"";}};y=h;y=f.__decorate([l.N(),f.__param(0,l.j(r.Jb)),f.__param(1,l.j(k.Qba)),f.__param(2,l.j(u.hr)),f.__param(3,l.j(n.eg)),f.__param(4,l.j(q.oj)),f.__param(5,l.j(w.XC)),f.__param(6,l.j(t.xh)),f.__param(7,l.j(a.Oe))],y);c.SCa=y;d.prototype.jab=function(){this.K=!0;this.elapsedTime=this.gb.oe().ie(this.startTime);};d.prototype.Xv=function(a){this.K=!1;this.elapsedTime=this.gb.oe().ie(this.startTime);this.dab=a.tb||a.subCode;this.TUa=a.Sc||a.extCode;};d.prototype.toString=function(){return JSON.stringify(this);};d.prototype.toJSON=function(){var a;a=Object.assign({success:this.K,method:this.context.$g,profile:this.context.profile.id,startTime:this.startTime.qa(g.Ma),elapsedTime:this.elapsedTime?this.elapsedTime.qa(g.Ma):"in progress"},this.nI.QY());return this.K?a:Object.assign({},a,this.nI.QY(),{subcode:this.dab,extcode:this.TUa});};b.prototype.append=function(a){this.Fk.push(a);0<this.config.B0&&this.Fk.length>this.config.B0&&this.Fk.shift();};b.prototype.toJSON=function(){return this.Fk;};},function(f,c,a){var b,d,h,l,g,m,k,r;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(45);d=a(588);h=a(23);l=a(587);g=a(104);m=a(586);k=a(197);r=a(585);c.c5a=new f.dc(function(a){a(h.Oe).to(l.PCa).Y();a(b.Di).to(d.SCa);a(g.laa).to(m.WCa);a(g.ey).Yl(function(a){return function(){return a.kc.get(g.laa);};});a(k.sU).to(r.aDa).Y();});},function(f,c,a){var d,h,l,g,m;function b(a){a=h.we.call(this,a)||this;a.Hj="MseConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(54);h=a(53);l=a(0);g=a(39);m=a(7);oa(b,h.we);pa.Object.defineProperties(b.prototype,{Bna:{configurable:!0,enumerable:!0,get:function(){return m.Cb(5E3);}},soa:{configurable:!0,enumerable:!0,get:function(){return m.Cb(1E3);}},toa:{configurable:!0,enumerable:!0,get:function(){return m.Cb(1E3);}}});a=b;f.__decorate([d.config(d.cj,"minDecoderBufferMilliseconds")],a.prototype,"Bna",null);f.__decorate([d.config(d.cj,"optimalDecoderBufferMilliseconds")],a.prototype,"soa",null);f.__decorate([d.config(d.cj,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"toa",null);a=f.__decorate([l.N(),f.__param(0,l.j(g.nk))],a);c.sAa=a;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(379);d=a(590);c.O2a=new f.dc(function(a){a(b.v$).to(d.sAa).Y();});},function(f,c,a){var d,h,l,g,b;function b(a){function b(b,c){this.H=b;this.YUa=!1;this.emit=g.prototype.emit;this.addListener=g.prototype.addListener;this.on=g.prototype.on;this.once=g.prototype.once;this.removeListener=g.prototype.removeListener;this.removeAllListeners=g.prototype.removeAllListeners;this.listeners=g.prototype.listeners;this.listenerCount=g.prototype.listenerCount;g.call(this);this.wa=a.Bb("DownloadTrack");this.Nr=c.Sk;}b.prototype.ym=function(){this.SL=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.SL+" config: "+JSON.stringify(this.H);};b.prototype.toJSON=function(){return"Download Track id:"+this.SL+" config: "+JSON.stringify(this.H);};b.prototype.Upa=function(a){var b;b=a.connections;this.H.connections!==b&&(this.H=a,this.Nr.Ksb(b));};b.prototype.nA=function(){return 1<this.H.connections?!0:!1;};pa.Object.defineProperties(b.prototype,{Ab:{configurable:!0,enumerable:!0,get:function(){return this.SL;}},LM:{configurable:!0,enumerable:!0,get:function(){return void 0===this.SL;}},config:{configurable:!0,enumerable:!0,get:function(){return this.H;}},Qw:{configurable:!0,enumerable:!0,get:function(){return this.wa;}},Sk:{configurable:!0,enumerable:!0,get:function(){return this.Nr;}}});this.Lx=Object.assign(b,new l.Mwa());}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(12);l=a(141);g=a(140).EventEmitter;b=f.__decorate([d.N(),f.__param(0,d.j(h.Jb))],b);c.Lwa=b;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(141);d=a(592);c.DMa=new f.dc(function(a){a(b.V7).to(d.Lwa).Y();});},function(f,c,a){var d,h,l,g,m;function b(a){a=h.we.call(this,a)||this;a.Hj="PrefetchEventsConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(53);l=a(39);g=a(54);m=a(7);oa(b,h.we);pa.Object.defineProperties(b.prototype,{Xqa:{configurable:!0,enumerable:!0,get:function(){return!0;}},K1:{configurable:!0,enumerable:!0,get:function(){return m.I2(5);}}});a=b;f.__decorate([g.config(g.We,"sendPrefetchEventLogs")],a.prototype,"Xqa",null);f.__decorate([g.config(g.cj,"logsInterval")],a.prototype,"K1",null);a=f.__decorate([d.N(),f.__param(0,d.j(l.nk))],a);c.JDa=a;},function(f,c,a){var d,h,l;function b(a,b){this.Oa=b;this.ca=a.Bb("PlayPredictionDeserializer");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(12);a=a(20);b.prototype.eTa=function(a){var b;b=this;try{return{direction:a.direction,o0a:a.layoutHasChanged,q8a:a.rowInteractionIndex,sa:a.lolomos.map(function(a){return b.$Sa(a);})};}catch(p){this.ca.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.$Sa=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.ZSa(a);}),requestId:a.requestId,rowIndex:a.rowIndex,s8a:a.rowSegment};};b.prototype.ZSa=function(a){var b,c;b={Qb:a.pts,property:a.property,dg:a.viewableId,index:a.index};c=a.preplay;this.Oa.uf(c)&&(b.XA=this.cTa(c));a=a.params;this.Oa.uf(a)&&(b.mb=this.Wha(a));return b;};b.prototype.cTa=function(a){var b;b={Qb:a.pts,dg:a.viewableId,Pw:a.pipelineNum,index:a.index};a=a.params;this.Oa.uf(a)&&(b.mb=this.Wha(a));return b;};b.prototype.Wha=function(a){return{Oc:a.uiLabel,Zf:a.trackingId,jf:a.sessionParams};};b.prototype.Xha=function(a){var b;b=this;try{return a.map(function(a){return b.aTa(a);});}catch(p){this.ca.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.aTa=function(a){var b,c;c=a.params;this.Oa.uf(c)&&(b=this.bTa(c));return{M:a.movieId,Vc:a.priority,mb:b,Oc:a.uiLabel,utb:a.uiExpectedStartTime,ttb:a.uiExpectedEndTime,Kh:a.firstTimeAdded};};b.prototype.bTa=function(a){var b,c;b=void 0;c=a.sessionParams;this.Oa.uf(c)&&(b=this.dTa(c));return{pm:this.YSa(a.authParams),jf:b,Zf:a.trackingId,X:a.startPts,Sa:a.manifest,Qf:a.isBranching};};b.prototype.YSa=function(a){return{Ooa:a.pinCapableClient};};b.prototype.dTa=function(a){a.wtb=a.uiplaycontext;return a;};b.prototype.c9a=function(a){var b,c;try{b="";this.Oa.uf(a.cpa)&&(b=JSON.stringify(this.f9a(JSON.parse(a.cpa))));c="";this.Oa.uf(a.dpa)&&(c=JSON.stringify(this.g9a(JSON.parse(a.dpa))));return{dest_id:a.UM,offset:a.offset,predictions:a.ipa.map(this.i9a,this),ppm_input:b,ppm_output:c,prepare_type:a.orb};}catch(r){this.ca.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.i9a=function(a){return{title_id:a.Zm};};b.prototype.f9a=function(a){return{direction:a.direction,layoutHasChanged:a.o0a,rowInteractionIndex:a.q8a,lolomos:a.sa.map(this.e9a,this)};};b.prototype.e9a=function(a){return{context:a.context,list:a.list.map(this.d9a,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.s8a};};b.prototype.d9a=function(a){var b,c;this.Oa.uf(a.XA)&&(b=this.j9a(a.XA));this.Oa.uf(a.mb)&&(c=this.d5(a.mb));return{preplay:b,pts:a.Qb,viewableId:a.dg,params:c,property:a.property,index:a.index};};b.prototype.j9a=function(a){var b;this.Oa.uf(a.mb)&&(b=this.d5(a.mb));return{pts:a.Qb,viewableId:a.dg,params:b,pipelineNum:a.Pw,index:a.index};};b.prototype.d5=function(a){return{uiLabel:a.Oc,trackingId:a.Zf,sessionParams:a.jf};};b.prototype.g9a=function(a){return a.map(this.h9a,this);};b.prototype.h9a=function(a){var b;this.Oa.uf(a.mb)&&(b=this.d5(a.mb));return{movieId:a.M,priority:a.Vc,params:b,uiLabel:a.Oc,firstTimeAdded:a.Kh,viewableId:a.dg,pts:a.Qb};};l=b;l=f.__decorate([d.N(),f.__param(0,d.j(h.Jb)),f.__param(1,d.j(a.rd))],l);c.hDa=l;},function(f,c,a){var h,l,g,m,k,r,u,n,q;function b(a,b,c,d,g,f,h,m){this.Yi=a;this.uw=b;this.ha=c;this.Bt=g;this.config=f;this.G_=h;this.z3=m;this.eQ=[];this.k1=[];this.J3={};this.ca=d.Bb("PrefetchEvents");}function d(a,b,c,d,g,f){this.Yi=a;this.uw=b;this.ha=c;this.si=d;this.config=g;this.z3=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(106);l=a(0);g=a(7);m=a(65);k=a(105);r=a(43);u=a(12);n=a(313);a=a(198);d.prototype.create=function(a,c){return new b(this.Yi,this.uw,this.ha,this.si,a,this.config,c,this.z3);};q=d;q=f.__decorate([l.N(),f.__param(0,l.j(m.jr)),f.__param(1,l.j(k.Tx)),f.__param(2,l.j(r.xh)),f.__param(3,l.j(u.Jb)),f.__param(4,l.j(n.Laa)),f.__param(5,l.j(a.uU))],q);c.KDa=q;b.prototype.iOa=function(a,b,c){this.Uj(h.vd.gu.Cua,a,b,void 0,c);};b.prototype.kOa=function(a,b,c){this.Uj(h.vd.gu.Dua,a,b,void 0,c);};b.prototype.gOa=function(a,b,c){this.Uj(h.vd.gu.Bua,a,b,void 0,c);};b.prototype.eOa=function(a,b,c){this.Uj(h.vd.gu.zua,a,b,void 0,c);};b.prototype.CE=function(a,b,c){this.Uj(h.vd.gu.Aua,a,b,void 0,c);};b.prototype.v5a=function(a){this.Uj(h.vd.gu.ABa,void 0,a);};b.prototype.x5a=function(a,b,c,d,g,f,m){this.bM()&&(this.Uj(h.vd.gu.yEa,void 0,a),this.l1a(a,b,c,d,g,f,m),this.gja(),this.wma());this.O_a(a)&&this.Z7a();};b.prototype.fTa=function(a){a={dest_id:a,cache:this.c5(this.G_())};this.EH("destiny_start",a);};b.prototype.V5a=function(a){(a=this.z3.c9a(a))?this.EH("destiny_prepare",a):this.ca.error("failed to serialize prepare event");};b.prototype.gja=function(){0<this.eQ.length&&this.bM()&&(this.EH("destiny_events",{dest_id:this.Bt.sl,events:this.eQ}),this.eQ=[]);this.GQ&&(this.GQ.cancel(),this.GQ=void 0);this.Eia();};b.prototype.wma=function(){var a;if(this.jOa()&&this.bM()){a=this.G_();this.k1=a;a={dest_id:this.Bt.sl,offset:this.Bt.$N(),cache:this.c5(a)};this.EH("destiny_cachestate",a);}this.FQ&&(this.FQ.cancel(),this.FQ=void 0);this.Dia();};b.prototype.update=function(a){var b;b=this;a.sa.forEach(function(a){a.list.forEach(function(a){b.J3[a.dg]=!0;});});};b.prototype.O_a=function(a){return this.J3[a];};b.prototype.jOa=function(){var a,b,c;a=this;b=this.G_();if(b.length!==this.k1.length)return!0;c=!1;b.forEach(function(b,d){try{JSON.stringify(b)!==JSON.stringify(a.k1[d])&&(c=!0);}catch(F){a.ca.error("Failed to stringify cachedTitle",F);}});return c;};b.prototype.Uj=function(a,b,c,d,g){this.bM()&&(a={offset:this.Bt.$N(),event_type:a,title_id:c,asset_type:b,size:d,reason:g},this.eQ.push(a),this.Eia(),this.Dia());};b.prototype.Eia=function(){this.GQ||(this.GQ=this.ha.Af(this.config.K1,this.gja.bind(this)));};b.prototype.Dia=function(){this.FQ||(this.FQ=this.ha.Af(this.config.K1,this.wma.bind(this)));};b.prototype.l1a=function(a,b,c,d,f,m,l){var k;k=[];c&&k.push({Zm:a,Ap:h.vd.Wh.H6,state:h.vd.KI.SI});d&&k.push({Zm:a,Ap:h.vd.Wh.mu,state:h.vd.KI.SI});f&&k.push({Zm:a,Ap:h.vd.Wh.oC,state:h.vd.KI.SI});(0<m.qa(g.Ma)||0<l.qa(g.Ma))&&k.push({Zm:a,Ap:h.vd.Wh.MEDIA,state:h.vd.KI.SI,hNa:m.qa(g.Ma),Ncb:l.qa(g.Ma)});a={dest_id:this.Bt.sl,offset:this.Bt.$N(),xid:b,cache:this.c5(k)};this.EH("destiny_playback",a);};b.prototype.EH=function(a,b){this.config.Xqa&&(a=this.uw.Bs(a,"info",b),this.Yi.Vl(a));};b.prototype.c5=function(a){return a.map(function(a){return{title_id:a.Zm,state:a.state,asset_type:a.Ap,size:a.size,audio_ms:a.hNa,video_ms:a.Ncb};});};b.prototype.bM=function(){return 0!==this.Bt.sl;};b.prototype.Z7a=function(){this.Bt.Y7a();this.J3={};};},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(106);d=a(596);h=a(198);l=a(595);g=a(594);m=a(313);c.Mcb=new f.dc(function(a){a(m.Laa).to(g.JDa).Y();a(b.Maa).to(d.KDa).Y();a(h.uU).to(l.hDa).Y();});},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.vZ=function(a){function b(a){var b,c;b=a.type;c=a.number;a=a.name;return b&&"object"===typeof b&&"number"===typeof c?""+b.prefix+c:0>c?"W"+(4294967295+c+1).toString(16).toUpperCase():"string"===typeof a?a.substr(0,2).toUpperCase():"X999";}for(var c=[];a;a=a.cause)c.push(b(a));return c.join("-");};b.prototype.Ema=function(a){var d,f;function b(a){var g,f,h,m;if(a){g=d.vZ(a);f=a.name;h=a.message;(m=a.stack)?(m=m.split("\n"),m=m.slice(1,Math.min(m.length,6)).map(c).join("\n")):m=void 0;return{code:g,name:f,message:h,stack:m,debug:a.debug,cause:b(a.cause)};}}function c(a){return a.replace(f,"$2$4$6");}d=this;f=/(\s*at )(.+\()(.+\/)(.+.js\:.+\))|(\s*at )(.+\(native code\))/;return b(a);};d=b;d=f.__decorate([a.N()],d);c.ywa=d;},function(f,c,a){var d,h,l,g;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(5);l=a(314);b.prototype.rYa=function(){var a;a=t.devicePixelRatio||1;return{width:this.mp.Nva||h.dm.width*a,height:this.mp.Mva||h.dm.height*a};};pa.Object.defineProperties(b.prototype,{mp:{configurable:!0,enumerable:!0,get:function(){return a(36).Ne;}}});g=b;f.__decorate([l.t1],g.prototype,"mp",null);g=f.__decorate([d.N()],g);c.$Fa=g;},function(f,c,a){var d,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(108);b.prototype.compare=function(a,b){var c;c=[];this.FY(a,b,"",c);return c;};b.prototype.FY=function(a,b,c,d){var g;g=this;if(h.nn.Gn(a))h.nn.Gn(b)&&a.length===b.length?a.forEach(function(f,h){g.FY(a[h],b[h],c+"["+h+"]",d);}):d.push({a:a,b:b,path:c});else if(h.nn.ov(a)&&null!=a)if(h.nn.ov(b)&&null!=b){for(var f in a)this.FY(a[f],b[f],c+"."+f,d);for(var m in b)m in a||void 0===b[m]||d.push({a:void 0,b:b[m],path:c+"."+m});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};a=b;a=f.__decorate([d.N()],a);c.gBa=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.hBa="ObjectComparerSymbol";},function(f,c,a){var d,h,l,g;function b(a){this.location=a;h.$i(this,"location");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(49);l=a(50);a=a(0);b.KP=function(a){var b,g,f;b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){g=a[c].trim();f=g.indexOf("=");0<=f?b[decodeURIComponent(g.substr(0,f).replace(d.eaa,"%20"))]=decodeURIComponent(g.substr(f+1).replace(d.eaa,"%20")):b[g.toLowerCase()]="";}}return b;};pa.Object.defineProperties(b.prototype,{H6a:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=d.KP(this.wpa);}},wpa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.mH)return this.mH;this.mH=this.location.search.substr(1);a=this.mH.indexOf("#");0<=a&&(this.mH=this.wpa.substr(0,a));return this.mH;}}});g=d=b;g.eaa=/[+]/g;g=d=f.__decorate([a.N(),f.__param(0,a.j(l.Q9))],g);c.TDa=g;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.A_=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.A_(a);});};d=b;d=f.__decorate([a.N()],d);c.MFa=d;},function(f,c,a){var d,h,l,g,m,k;function b(a,b){this.is=a;this.json=b;h.$i(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(49);l=a(50);g=a(0);m=a(20);k=a(127);b.prototype.Hpa=function(a){var b;b=this;return d.read(a,function(a){return parseInt(a);},function(a){return b.is.rX(a);});};b.prototype.b4=function(a){var b;b=this;return d.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.Vy(a);});};b.prototype.Aa=function(a){var b;b=this;return d.read(a,function(a){return parseInt(a);},function(a){return b.is.Hn(a);});};b.prototype.O6a=function(a){var b;b=this;return d.read(a,function(a){return parseFloat(a);},function(a){return b.is.ye(a);});};b.prototype.Fpa=function(a,b){return d.read(a,function(a){return d.vVa(a,b);},function(a){return void 0!==a;});};b.prototype.e4=function(a,b){return d.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.Ipa=function(a){var b,c;b=void 0===b?function(){return!0;}:b;c=this;try{return d.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.ov(a)&&b(a);});}catch(z){return new k.ml();}};b.prototype.re=function(a,b,c){var g,f;c=void 0===c?1:c;g=this;a=a.trim();f=b instanceof Function?b:this.TRa(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0!=b||c!=a.length-1)return new k.ml();a=a.substring(b+1,c);try{return d.U4a(a).map(function(a){a=f(g,d.Acb(a));if(a instanceof k.ml)throw a;return a;});}catch(G){return G instanceof k.ml?G:new k.ml();}};b.prototype.TRa=function(a,b){var c;b=void 0===b?1:b;c=this;return function(g,f){g=d.eYa(a);return 1<b?c.re(f,a,b-1):g(c,f);};};b.vVa=function(a,b){var d;for(var c in b){d=parseInt(c);if(b[d]==a)return d;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new k.ml();};b.eYa=function(a){switch(a){case"int":return function(a,b){return a.Hpa(b);};case"bool":return function(a,b){return a.b4(b);};case"uint":return function(a,b){return a.Aa(b);};case"float":return function(a,b){return a.O6a(b);};case"string":return function(a,b){return a.e4(b);};case"object":return function(a,b){return a.Ipa(b);};}};b.U4a=function(a){var l;for(var b=[["[","]"]],c=[],d=0,g=0,f=0,h=[],m={};g<a.length;m={"char":m["char"]},++g){m["char"]=a.charAt(g);l=void 0;","==m["char"]&&0==f?(c.push(a.substr(d,g-d)),d=g+1):(l=b.find(function(a){return function(b){return b[0]==a["char"];};}(m)))?(++f,h.push(l)):0<h.length&&h[h.length-1][1]==m["char"]&&(--f,h.pop());}if(d!=g)c.push(a.substr(d,g-d));else if(d==g&&0<d)throw new k.ml();return c;};b.Acb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new k.ml();return a.substring(1,a.length-1);}return a;};a=d=b;a=d=f.__decorate([g.N(),f.__param(0,g.j(m.rd)),f.__param(1,g.j(l.hr))],a);c.dFa=a;},function(f,c,a){var b,d,h,l,g,m,k,r,u,n,q,w;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(604);d=a(603);h=a(602);l=a(127);g=a(389);m=a(206);k=a(601);r=a(600);u=a(315);n=a(599);q=a(355);w=a(598);c.bg=new f.dc(function(a){a(l.NU).to(b.dFa).Y();a(g.FU).to(h.TDa).Y();a(m.YU).to(d.MFa).Y();a(k.hBa).to(r.gBa).Y();a(u.fca).to(n.$Fa).Y();a(q.R7).to(w.ywa).Y();});},function(f,c,a){var d,h;function b(a){this.i3a=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(316);a=a(0);b.prototype.Kja=function(){var a;a=this.i3a.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};h=b;h=f.__decorate([a.N(),f.__param(0,a.j(d.I$))],h);c.vva=h;},function(f,c,a){var b,d,h,l,g;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(316);d=a(346);h=a(347);l=a(606);g=a(5);c.crypto=new f.dc(function(a){a(h.B7).to(l.vva).Y();a(b.I$).th(g.mr);a(d.C7).th(g.cU);});},function(f,c,a){var d,h,l,g,m,k;function b(a,b,c){var d;d=k.gK.call(this,a,b,"network")||this;d.dh=c;d.d4a=function(){d.data=[];d.refresh();};d.yqa=function(a){a=JSON.stringify(d.data[Number(a.target.id)].value,null,4);d.qha(a);};return d;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(26);l=a(20);g=a(109);m=a(317);k=a(320);oa(b,k.gK);b.prototype.Xc=function(){var a;a=this;if(this.Wi)return Promise.resolve();t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&78==b.keyCode&&a.toggle();});this.data=[];this.dh.addListener(m.P7.tib,function(b){a.data.push(b);a.refresh();});this.Wi=!0;return Promise.resolve();};b.prototype.N_=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.$_=function(a,b,c){var d;d=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.qga.sm(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+d+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.f0=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.N_(),b=0;b<this.data.length;++b)a+=this.$_(b,this.data[b].name,this.data[b].value);return a+"</table>";};b.prototype.Ija=function(){var a;a=this.kf.createElement("button",k.VI,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.d4a;return[a];};b.prototype.Xpa=function(){return Promise.resolve(this.f0());};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.Re)),f.__param(1,d.j(l.rd)),f.__param(2,d.j(g.CS))],a);c.Qhb=a;},function(f,c,a){var l,g,m,k,r,u,n,q,w,G,x,y,C,F;function b(a,b,c,d,g,f,m,l,k){var p;p=this;this.Na=a;this.app=b;this.kf=c;this.ha=d;this.ck=g;this.config=f;this.Cg=m;this.md=k;this.Iab=function(){p.Lsa.lb(function(){p.update();});};this.clear=function(){p.entries=[];p.update();};this.zna=function(){p.Mc.oA=!p.Mc.oA;p.ot&&p.qt&&(p.Mc.oA?(p.ot.style.display="inline-block",p.qt.style.display="none"):(p.qt.style.display="inline-block",p.ot.style.display="none"));p.tB(!1);};this.u1a=function(a){var b;p.entries.push(a);b=p.config.vA;0<=b&&p.entries.length>b&&p.entries.shift();void 0===p.Mc.Lp[a.Ck]&&(p.Mc.Lp[a.Ck]=!0,p.tB(!1));p.Mc.Pl&&!p.Yra?p.Iab():p.Lsa.lb();};this.ETa=function(){h.download("all",p.entries.map(function(a){return a.lI(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Wi=!1;this.Mc={Pl:!1,oA:!0,ZM:!0,xA:w.wh.yT,Lp:{}};this.Lsa=l(u.ij(1));this.entries=[];}function d(a){var b;this.elements=[];b=document.createElementNS(d.cI,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);l=a(0);g=a(26);m=a(378);k=a(43);r=a(52);u=a(7);n=a(38);q=a(22);w=a(12);G=a(84);x=a(142);y=a(318);a=a(56);C=t.Windows&&t.Windows.Storage;h.download=function(a,b){return h.qXa(a).then(function(a){var c;c=b.join("\r\n");return C?h.DTa(a,c):h.SYa(a,c).then(function(a){return h.CTa(a.filename,a.text);});});};h.qXa=function(a){return new Promise(function(b,c){var d,g,f,h,m,l,k;try{d=new Date();g=d.getDate().toString();f=(d.getMonth()+1).toString();h=d.getFullYear().toString();m=d.getHours().toString();l=d.getMinutes().toString();k=d.getSeconds().toString();1===g.length&&(g="0"+g);1===f.length&&(f="0"+f);1===m.length&&(m="0"+m);1===l.length&&(l="0"+l);1===k.length&&(k="0"+k);b(h+f+g+m+l+k+"."+a+".log");}catch(da){c(da);}});};h.SYa=function(a,b){return new Promise(function(c,d){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(O){d(O);}});};h.CTa=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(Z){return Promise.reject(Z);}};h.DTa=function(a,b){var c;try{c=t.Windows.Storage;return c.DownloadsFolder.createFileAsync(a,c.CreationCollisionOption.generateUniqueName).then(function(a){return a.openTransactedWriteAsync();}).then(function(a){var d;d=c.Streams.DataWriter(a.stream);d.writeString(b);return d.storeAsync().then(function(){return a.commitAsync();});});}catch(Z){return Promise.reject(Z);}};d.prototype.zB=function(){var a;a=document.createElementNS(d.cI,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};d.prototype.AB=function(a,b,c){var g;g=document.createElementNS(d.cI,"path");g.setAttribute("d",a);b&&g.setAttribute("fill",b);c&&g.setAttribute("fill-rule",c);this.addElement(g);return this;};d.prototype.SH=function(a,b,c,g,f){var h;f=void 0===f?"#000000":f;h=document.createElementNS(d.cI,"rect");h.setAttribute("x",a.toString());h.setAttribute("y",b.toString());h.setAttribute("height",c.toString());h.setAttribute("width",g.toString());f&&h.setAttribute("fill",f);this.addElement(h);return this;};d.prototype.w$a=function(){var a;a=document.createElementNS(d.cI,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};d.prototype.end=function(){this.elements.pop();return this;};d.prototype.sm=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};d.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};pa.Object.defineProperties(d,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},Jv:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});d.cI="http://www.w3.org/2000/svg";b.prototype.Xc=function(){var a;a=this;this.Ig||(this.Ig=new Promise(function(b){t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&76==b.keyCode&&a.toggle();});a.ck.cB(x.Ux.Ova,a.u1a);b();}));return this.Ig;};b.prototype.show=function(){document.body&&(this.element||(this.CRa(),this.Wi=!0),!this.Mc.Pl&&this.element&&(document.body.appendChild(this.element),this.Mc.Pl=!0,this.update(!0)));};b.prototype.dw=function(){this.Wi&&this.Mc.Pl&&this.element&&(document.body.removeChild(this.element),this.Mc.Pl=!1);};b.prototype.toggle=function(){this.Mc.Pl?this.dw():this.show();};b.prototype.CRa=function(){var a,b;try{a=this.createElement("DIV","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Wt=this.aSa());a.appendChild(this.cSa());a.appendChild(this.wRa());this.element=a;}catch(ca){console.error("Unable to create the log console",ca);}};b.prototype.aSa=function(){var a,b;a=this;b=this.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.Yra=!0;a.update();a.Wt&&(a.Wt.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.Yra=!1;a.update();a.Wt&&(a.Wt.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.cSa=function(){var a;a=this.createElement("DIV","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.ORa());a.appendChild(this.IRa());a.appendChild(this.ERa());a.appendChild(this.dSa());a.appendChild(this.zRa());a.appendChild(this.SRa());a.appendChild(this.RRa());a.appendChild(this.GRa());a.appendChild(this.BRa());return a;};b.prototype.wRa=function(){var a,b,c,d,g,f;a=this;b=this.createElement("DIV","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("DIV","padding:2px");d=this.createElement("SELECT",this.Vn(22,160,1,2),"<option>Select categories</option>");g=this.createElement("DIV","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(g);c.appendChild(d);c.addEventListener("mousedown",function(a){a.preventDefault();});f=!1;c.addEventListener("click",function(){f?g.style.display="none":(g.innerHTML="",["all","none"].concat(Object.keys(a.Mc.Lp).sort()).forEach(function(b){g.appendChild(a.xRa(b,c));}),g.style.display="block");f=!f;});return b;};b.prototype.xRa=function(a,b){var c,d,g;c=this;d=this.createElement("LABEL","display: block;margin:1px");d.htmlFor=a;g=this.createElement("INPUT","margin:1px");g.type="checkbox";g.id=a;g.checked=this.Mc.Lp[a];g.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Mc.Lp).forEach(function(b){c.Mc.Lp[b]="all"===a;}),b.click()):c.Mc.Lp[a]=!c.Mc.Lp[a];c.tB(!0);});d.appendChild(g);d.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return d;};b.prototype.ORa=function(){var a,b;a=this;b=this.createElement("SELECT",this.Vn(22,NaN,1,2),'<option value="'+w.wh.ERROR+'">Error</option>'+('<option value="'+w.wh.bca+'">Warn</option>')+('<option value="'+w.wh.yT+'">Info</option>')+('<option value="'+w.wh.PU+'">Trace</option>')+('<option value="'+w.wh.Dva+'">Debug</option>'));b.value=this.Mc.xA.toString();b.addEventListener("change",function(b){a.Mc.xA=parseInt(b.target.value);a.tB(!0);},!1);return b;};b.prototype.IRa=function(){var b,c;function a(a){a=a.target.value;b.Mc.filter=a?new RegExp(a):void 0;b.tB(!0);}b=this;c=this.createElement("INPUT",this.Vn(14,150,1,2));c.value=this.Mc.filter?this.Mc.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.ERa=function(){var a,b,c,d;a=this;b=this.createElement("div",this.Vn(NaN,NaN));c=this.createElement("INPUT","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Mc.ZM;c.addEventListener("change",function(b){a.Mc.ZM=b.target.checked;a.tB(!0);},!1);d=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");d.setAttribute("for","details");d.innerHTML="View details";b.appendChild(c);b.appendChild(d);return b;};b.prototype.dSa=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.Vn());c=new d("0 0 24 24").zB().w$a().end().AB("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",d.Jv,"nonzero").end().end().sm();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.zRa=function(){var a,b;a=this.createElement("BUTTON",this.Vn());b=new d("0 0 24 24").zB().SH(0,0,24,24,d.background).end().AB("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",d.Jv).end().end().sm();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.SRa=function(){var a;this.qt=this.createElement("BUTTON",this.Vn());this.qt.style.display=this.Mc.oA?"none":"inline-block";a=new d("0 0 24 24").zB().SH(0,0,24,24,d.background).end().AB("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",d.Jv,"nonzero").end().end().sm();this.qt.addEventListener("click",this.zna,!1);this.qt.appendChild(a);this.qt.setAttribute("title","Shrink the log console");return this.qt;};b.prototype.RRa=function(){var a;this.ot=this.createElement("BUTTON",this.Vn());this.ot.style.display=this.Mc.oA?"inline-block":"none";a=new d("0 0 24 24").zB().SH(4,4,16,16,d.background).end().AB("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",d.Jv,"nonzero").end().end().sm();this.ot.addEventListener("click",this.zna,!1);this.ot.appendChild(a);this.ot.setAttribute("title","Expand the log console");return this.ot;};b.prototype.GRa=function(){var a,b;a=this.createElement("BUTTON",this.Vn());b=new d("0 0 26 26").zB().SH(0,0,24,24,d.background).end().AB("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",d.Jv,"nonzero").end().end().sm();a.appendChild(b);a.addEventListener("click",this.ETa,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.BRa=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.Vn());c=new d("0 0 24 24").zB().SH(0,0,24,24,d.background).end().AB("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",d.Jv,"nonzero").end().end().sm();b.appendChild(c);b.addEventListener("click",function(){a.dw();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.tB=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.tH&&Promise.resolve(this.$Na()+this.rXa().join("\r\n")).then(function(c){b.element&&b.Wt&&(b.Wt.value=c,b.element.style.cssText=b.Mc.oA?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ha.Af(u.cl,function(){b.Wt.scrollTop=b.Wt.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.rXa=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Mc.xA&&a.Mc.Lp[c.Ck]&&(c=c.lI(!a.Mc.ZM,!a.Mc.ZM),a.Mc.filter&&!a.Mc.filter.test(c)||b.push(c));});return b;};b.prototype.$Na=function(){var a;a=this.Cg();return"Version: 6.0011.853.011 \n"+((a?"Esn: "+a.$d:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Na.Eg.qa(u.Zo)+", Start: "+this.app.VO.qa(u.Zo)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,d){return this.kf.createElement(a,b,c,d);};b.prototype.Vn=function(a,b,c,g){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+d.Jv+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(g?"border-radius:"+g+"px;":"");};F=b;F.P$a="logDxDisplay";F=f.__decorate([l.N(),f.__param(0,l.j(r.mj)),f.__param(1,l.j(n.eg)),f.__param(2,l.j(g.Re)),f.__param(3,l.j(k.xh)),f.__param(4,l.j(G.ou)),f.__param(5,l.j(y.S9)),f.__param(6,l.j(q.Ee)),f.__param(7,l.j(m.Iba)),f.__param(8,l.j(a.fk))],F);c.oza=F;},function(f,c,a){var d,h,l,g,m;function b(a,b){a=l.we.call(this,a)||this;a.Lv=b;a.Hj="LogDisplayConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(54);l=a(53);g=a(39);a=a(161);oa(b,l.we);pa.Object.defineProperties(b.prototype,{tH:{configurable:!0,enumerable:!0,get:function(){return!0;}},vA:{configurable:!0,enumerable:!0,get:function(){return this.Lv.vA;}},yma:{configurable:!0,enumerable:!0,get:function(){return-1;}}});m=b;f.__decorate([h.config(h.We,"renderDomDiagnostics")],m.prototype,"tH",null);f.__decorate([h.config(h.ola,"logDisplayMaxEntryCount")],m.prototype,"vA",null);f.__decorate([h.config(h.ola,"logDisplayAutoshowLevel")],m.prototype,"yma",null);m=f.__decorate([d.N(),f.__param(0,d.j(g.nk)),f.__param(1,d.j(a.WJ))],m);c.nza=m;},function(f,c,a){var d,h;function b(){this.R4="";this.fta=[[],[]];this.T=[[],[]];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a(7);h=a(83);b.prototype.downloadRequest=function(a){var b;""===this.R4&&(this.R4=a.wo);if(!a.zc){b=this.bbb(a);this.T[a.O].push(b);this.fta[a.O].forEach(function(a){a.Ikb(b);});}};b.prototype.bbb=function(a){return{id:this.zXa(a),wo:a.wo,O:a.O,Gv:a.Gv,startTime:a.hb,endTime:a.Lg,offset:a.mh,BE:a.BE,AE:a.AE,duration:a.gd,J:a.J,state:h.R6.hia,UP:!1,Qob:!1,Dka:!1,Smb:h.Q6.waiting};};b.prototype.zXa=function(a){return a.oi();};b.prototype.update=function(a){this.fta[a.O].forEach(function(b){b.Atb(a);});};pa.Object.defineProperties(b.prototype,{wo:{configurable:!0,enumerable:!0,get:function(){return this.R4;}}});a=b;a=f.__decorate([d.N()],a);c.Tta=a;},function(f,c,a){var d,h;function b(a){this.vTa=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(321);b.prototype.Xc=function(){var a;a=this;this.Ig||(this.Ig=new Promise(function(b,c){var d;d=[];a.vTa.forEach(function(a){d.push(a.Xc());});Promise.all(d).then(function(){b();})["catch"](function(a){c(a);});}));return this.Ig;};h=b;h=f.__decorate([d.N(),f.__param(0,d.tt(a.b8))],h);c.Uwa=h;},function(f,c){function a(a){this.is=a;this.b0a="#881391";this.W$a="#C41A16";this.NNa=this.H3a="#1C00CF";this.y_a="#D79BDB";this.$bb=this.F3a="#808080";}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.sm=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Ss=function(a,c){return'<font color="'+((void 0===c?0:c)?this.y_a:this.b0a)+'">'+a+": </font>";};a.prototype.wja=function(a,c){c=c||"";a=""+('<li><a href="#">'+this.Ss(a)+"Array["+c.length+"]</a>");a+="<ul>";for(var b=0;b<c.length;++b)a+=this.getValue(b.toString(),c[b]);a+=this.getValue("length",c.length,!0);return a+"</ul></li>";};a.prototype.bka=function(a,c){var b,d,g;b=this;if(c instanceof CryptoKey)return this.VWa(a,c);d=Object.keys(c);g="";g=g+('<li><a href="#">'+("~~NONAME~~"!==a?this.Ss(a):"")+"Object</a>");g=g+"<ul>";d.forEach(function(a){g+=b.getValue(a,c[a]);});g+="</ul>";return g+="</li>";};a.prototype.VWa=function(a,c){a=""+('<li><a href="#">'+this.Ss(a)+"CryptoKey</a>");a=a+"<ul>"+this.bka("algorithm",c.algorithm);a+=this.Bja("extractable",c.extractable);a+=this.rka("type",c.type);a+=this.wja("usages",c.usages);return a+"</ul></li>";};a.prototype.cYa=function(a,c,f){return'<li><a href="#">'+this.Ss(a,void 0===f?!1:f)+('<font color="'+this.H3a+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.Bja=function(a,c,f){return'<li><a href="#">'+this.Ss(a,void 0===f?!1:f)+('<font color="'+this.NNa+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.rka=function(a,c,f){128<c.length&&(c=c.substr(0,128)+"...");return'<li><a href="#">'+this.Ss(a,void 0===f?!1:f)+('<font color="'+this.W$a+'">"'+c+'"</font>')+"</a></li>";};a.prototype.bYa=function(a){return'<li><a href="#">'+this.Ss(a)+('<font color="'+this.F3a+'">null</font>')+"</a></li>";};a.prototype.aZa=function(a,c){c="undefined"===typeof c?"":c.toString();255<c.length&&(c=c.substr(0,255)+"...");return'<li><a href="#">'+this.Ss(a)+('<font color="'+this.$bb+'">'+c+"</font>")+"</a></li>";};a.prototype.getValue=function(a,c,f){f=void 0===f?!1:f;return null===c?""+this.bYa(a):this.is.Gn(c)?""+this.wja(a,c):this.is.ov(c)?""+this.bka(a,c):this.is.Xg(c)?""+this.rka(a,c,f):this.is.ye(c)?""+this.cYa(a,c,f):this.is.Vy(c)?""+this.Bja(a,c,f):""+this.aZa(a,c);};c.zFa=a;},function(f,c,a){var d,h,l,g,m;function b(a,b,c){var d;d=m.gK.call(this,a,b,"idb")||this;d.md=c;d.yqa=function(a){d.TSa(a.target.id).then(function(){return d.refresh();});};d.e4a=function(){d.cPa().then(function(){return d.refresh();});};d.n4a=function(){d.refresh();};d.f4a=function(){d.QPa();};return d;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(26);l=a(20);g=a(148);m=a(320);oa(b,m.gK);b.prototype.Xc=function(){var a;a=this;if(this.Wi)return Promise.resolve();t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&73==b.keyCode&&a.toggle();});return this.md.create().then(function(b){a.storage=b;a.Wi=!0;});};b.prototype.N_=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.$_=function(a,b,c){var d;a=a.toString();d='<font color="#C41A16">"'+b+'"</font>';c=this.qga.sm({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+d+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.f0=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.N_(),c=Object.keys(a),d=0;d<c.length;++d)b+=this.$_(d,c[d],a[c[d]]);return b+"</table>";};b.prototype.Ija=function(){var a,b,c;a=this.kf.createElement("button",m.VI,"Clear",{"class":this.prefix+"-display-btn"});b=this.kf.createElement("button",m.VI,"Refresh",{"class":this.prefix+"-display-btn"});c=this.kf.createElement("button",m.VI,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.e4a;b.onclick=this.n4a;c.onclick=this.f4a;return[a,b,c];};b.prototype.S0a=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.Yka=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.Yka;});};b.prototype.TSa=function(a){return this.storage.remove(a);};b.prototype.cPa=function(){return this.storage.removeAll();};b.prototype.Xpa=function(){var a;a=this;return this.S0a().then(function(b){return a.f0(b);});};b.prototype.QPa=function(){var a;a=JSON.stringify(this.Yka,null,4);this.qha(a);};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.Re)),f.__param(1,d.j(l.rd)),f.__param(2,d.j(g.CT))],a);c.Zfb=a;},function(f,c,a){var d,h,l,g,m,k,r,u;function b(a){return function(){return new Promise(function(b,c){var d;d=a.kc.get(h.d8);d.Xc().then(function(){b(d);})["catch"](function(a){c(a);});});};}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);d=a(321);a(614);h=a(319);l=a(612);g=a(83);m=a(611);k=a(318);r=a(610);u=a(609);a(608);c.YTa=new f.dc(function(a){a(k.S9).to(r.nza).Y();a(d.b8).to(u.oza);a(g.P6).to(m.Tta).Y();a(h.d8).to(l.Uwa).Y();a(h.c8).OB(b);});},function(f,c,a){var d,h,l,g,m;function b(a,b,c,d){this.Cv=b;this.mm=c;this.Wd=d;this.log=a.Bb("OfflinePboEventSenderImpl");this.Wd.Fm.subscribe(this.Z0.bind(this));}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(63);h=a(61);l=a(12);g=a(85);a=a(0);b.prototype.Z0=function(a){this.Fm=a;};b.prototype.oB=function(){return Promise.resolve();};b.prototype.GH=function(a){var b,c;b=this;if(this.Fm)return Promise.reject("Not sending event offline");c=this.Cv(h.gg.stop);return this.mm().then(function(d){return c.Pf(b.log,d.Xn(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO event failed",a);throw a;});};b.prototype.Kq=function(){return Promise.resolve();};m=b;m=f.__decorate([a.N(),f.__param(0,a.j(l.Jb)),f.__param(1,a.j(h.mJ)),f.__param(2,a.j(d.gn)),f.__param(3,a.j(g.Wq))],m);c.kBa=m;},function(f,c,a){var d,h,l,g;function b(a,b,c){this.Cv=b;this.mm=c;this.log=a.Bb("OfflinePboEventSenderImpl");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(63);h=a(61);l=a(12);a=a(0);b.prototype.oB=function(a,b){var c;c=this.Cv(h.gg.start);return this.Iia(c,a,b);};b.prototype.GH=function(a){var b,c;b=this;c=this.Cv(h.gg.stop);return this.mm().then(function(d){return c.Pf(b.log,d.Xn(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO event failed",a);throw a;});};b.prototype.Kq=function(a,b,c){a=this.Cv(a);return this.Iia(a,b,c);};b.prototype.Iia=function(a,b,c){var d;d=this;return this.mm().then(function(g){return a.Am(d.log,g.Xn(c.profileId),b.Sa.mt,c);}).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};g=b;g=f.__decorate([a.N(),f.__param(0,a.j(l.Jb)),f.__param(1,a.j(h.mJ)),f.__param(2,a.j(d.gn))],g);c.mBa=g;},function(f,c,a){var d,h;function b(a,b){this.b5={online:a,offline:b};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(199);a=a(0);b.prototype.oB=function(a,b){return this.b5[b.type].oB(a,b);};b.prototype.GH=function(a){return this.b5[a.type].GH(a);};b.prototype.Kq=function(a,b,c){return this.b5[c.type].Kq(a,b,c);};h=b;h=f.__decorate([a.N(),f.__param(0,a.j(d.dy)),f.__param(0,a.yR("type","online")),f.__param(1,a.j(d.dy)),f.__param(1,a.yR("type","offline"))],h);c.TCa=h;},function(f,c,a){var d,h,l,g,m,k;function b(a,b){a=h.we.call(this,a)||this;a.config=b;a.Hj="PlaydataConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(53);l=a(39);g=a(54);m=a(7);a=a(47);oa(b,h.we);pa.Object.defineProperties(b.prototype,{QA:{configurable:!0,enumerable:!0,get:function(){return this.config.Jl?"unsentplaydatatest":"unsentplaydata";}},Z4:{configurable:!0,enumerable:!0,get:function(){return!0;}},Wqa:{configurable:!0,enumerable:!0,get:function(){return m.Cb(1E4);}},t3:{configurable:!0,enumerable:!0,get:function(){return m.Cb(4E3);}},Yla:{configurable:!0,enumerable:!0,get:function(){return m.Cb(1E4);}}});k=b;f.__decorate([g.config(g.string,"playdataPersistKey")],k.prototype,"QA",null);f.__decorate([g.config(g.We,"sendPersistedPlaydata")],k.prototype,"Z4",null);f.__decorate([g.config(g.cj,"playdataSendDelayMilliseconds")],k.prototype,"Wqa",null);f.__decorate([g.config(g.cj,"playdataPersistIntervalMilliseconds")],k.prototype,"t3",null);f.__decorate([g.config(g.cj,"heartbeatCooldown")],k.prototype,"Yla",null);k=f.__decorate([d.N(),f.__param(0,d.j(l.nk)),f.__param(1,d.j(a.oj))],k);c.DDa=k;},function(f,c,a){var d,h,l,g,m;function b(a,b,c,d){this.log=a;this.$v=b;this.JQ=c;this.context=d;}Object.defineProperty(c,"__esModule",{value:!0});d=a(3);c=a(2);h=a(26);l=a(62);g=a(335);m=c.v;b.prototype.kd=function(a){var b,c;b=this;(this.context.Ke||this.context.dt)&&this.log.debug("Requesting a license",a);d.Z.get(h.Re).ws([8,4],a.Fj[0].data)?(b.log.trace("Requesting WideVine attestation data."),c=Promise.resolve({eo:[{sessionId:a.Fj[0].sessionId,data:new Uint8Array(d.Z.get(l.fl).decode(g.cca))}]})):c=function(){b.log.trace("Requesting license",{drmType:a.ii});return b.$v(a)["catch"](function(a){b.log.error("Unable to get the Widevine license",a);throw{code:m.mu,tb:a.tb,Sc:a.Sc,Jj:a.Jj,ne:a.message||a.ne,ji:a.data,message:"Unable to send the Widevine license request. "+(a.message||a.ne),cause:a};});}();return c;};b.prototype.stop=function(a){var b;b=this;this.log.trace("Releasing Widevine license");return this.JQ(a)["catch"](function(a){b.log.error("Unable to release the Widevine license.",{code:a.code,subCode:a.tb,extCode:a.Sc,edgeCode:a.Jj,message:a.message||a.ne});throw{K:!1,code:m.GU,tb:a.tb,Sc:a.Sc,Jj:a.Jj,ne:a.message||a.ne,message:"Unable to release the Widevine license. "+(a.message||a.ne),cause:a};});};f.P=b;},function(f,c,a){var q,w,t,x,y,C,F,N;function b(a,c,d,g){var f;f=this;this.log=a;this.XF=c;this.Vj=d||n.bind(this);this.context=g;this.Koa=this.Dk=this.pd=this.keySessionId=this.$e=this.Oh=void 0;this.de={};this.onMessage=k.bind(this);this.h4a=r.bind(this);this.QV={};this.hta=new Promise(function(a,b){f.d8a=a;f.Zpa=b;});this.hta["catch"](function(a){f.log.error("wait for license rejected",a);});this.fj=function(a,b){f.Zpa(a,b);f.context.onerror(a,b);};this.i4a=function(){f.d8a();};if(!(this instanceof b))throw new TypeError("EmeSession constructor not called correctly.");}function d(){return q.Z.get(x.fl);}function h(){return q.Z.get(t.Re);}function l(a,b,c){return{K:!1,code:b,tb:F.aD.te,message:c+" "+a.message,za:h().yc(a),cause:a,Ifa:!0};}function g(a,b,c,d){return function(g){if(g&&g.Ifa)return Promise.reject(g);a.error(c,g);if(!d)return Promise.resolve();g=l(g,b,c);return Promise.reject(g);};}function m(a,b,c){a.ct()&&a.log.trace("LICENSE: Got the response, calling update",{sessionId:c.sessionId,license:d().encode(b)});return new Promise(function(d,g){c.update(b).then(function(){a.ct()&&a.log.trace("LICENSE: Update succeeded",{sessionId:c.sessionId});d();})["catch"](function(b){var c;c=h().PWa(b);c.code=F.nj.$$;c.message="Unable to update the EME.";a.log.error("LICENSE: Unable to update the EME.",b);g(c);});});}function k(a){var b,c,g;b=this;c=new Uint8Array(a.message);g={sessionId:b.nka()[0],messageType:a.messageType};b.ct()&&(g.message=d().encode(new Uint8Array(a.message)));b.log.trace("Received event: "+a.type,g);"license-renewal"===a.messageType?(b.Vj("renew_lc"),a={Rf:y.tc.cza.vr,pP:a.messageType,ii:/clearkey/i.test(b.$e.keySystem)?"clearkey":"widevine",Fj:[{data:c,sessionId:b.nka()[0]}]},b.context.Ta.kd(a).then(function(a){b.Vj("renew_lr");if(!b.CY)return m(b,a.eo[0].data,b.$e).then(function(){b.Vj("renew_ld");})["catch"](function(a){b.Vj("renew_ld_failed");b.fj&&b.fj(a.code,a);});})["catch"](function(a){b.Vj("renew_lr_failed");b.fj&&b.fj(a.code,a);})):b.log.error("unrecognized messageType",a.messageType);}function r(a){var b;b=this;b.log.trace("Received event: "+a.type);try{h().IZ(a,function(c,g){var f;b.log.trace("key status: "+g);f=b.QV[g];f||(f=b.QV[g]=[]);f.push(b.context.Na.getTime());b.ct()&&b.log.trace("key status change",{sessionId:a.target.sessionId,keyId:d().encode(new Uint8Array(c)),status:g});b.fj&&("expired"==g&&b.fj(F.nj.jU),"internal-error"==g&&b.fj(F.nj.W$),"output-not-allowed"==g&&(b.context.SF?b.log.warn("ignoring keystatus: ",g):b.fj(F.nj.kU)),"output-restricted"!=g&&"output-downscaled"!=g||b.log.warn("output protection status",g));});}catch(Z){b.log.error("Exception in iterating keystatuses",Z);}}function u(a){var b;b=h().Fja(a);this.log.error("Received event: "+a.type);this.fj&&this.fj(F.nj.TJ,b);this.$e=void 0;}function n(a){this.context.Na&&(this.de[a]=this.context.Na.getTime(),this.log.trace("Milestone: "+a+", "+this.de[a]));}Object.defineProperty(c,"__esModule",{value:!0});q=a(3);c=a(2);w=a(20);t=a(26);x=a(62);y=a(58);C=a(5);F={};F.nj=c.v;F.aD=c.u;N=q.Z.get(w.rd);b.prototype.Vz=function(){return this.pd;};b.prototype.gcb=function(a,b){a.log&&(this.log=a.log);a.Vj&&(this.Vj=a.Vj);b.Ta&&(this.context.Ta=b.Ta);b.onerror&&(this.context.onerror=b.onerror);};b.prototype.nka=function(){return this.$e?[this.$e.sessionId]:this.keySessionId?[this.keySessionId]:[];};b.NE=function(a,b,c,f){return new Promise(function(h,m){var k,p,r,u;p=g(c,F.nj.LS,"request mediaKeySystem access rejected:",!0);r=g(c,F.nj.KS,"create media keys rejected:",!0);u=g(c,null,"set servercertificate api failed:",!1);C.Tg.requestMediaKeySystemAccess(b,[{initDataTypes:[a],persistentState:"required",audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.5"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.640028"',robustness:"HW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"SW_SECURE_CRYPTO"}]},{initDataTypes:[a],persistentState:"required"}]).then(function(a){c.trace("keysystemaccess config",JSON.stringify(a.getConfiguration(),null," "));return a;})["catch"](p).then(function(a){return a.createMediaKeys();})["catch"](r).then(function(a){var b;k=a;if(!f)return Promise.resolve();if(!N.Wy(a.setServerCertificate))return c.error("mediaKeys setServerCertificate is not a function"),Promise.resolve();b=d().decode(f);c.trace("calling setServerCertificate");return a.setServerCertificate(b.buffer);})["catch"](u).then(function(){c.trace("mediakeys resolved");h(k);})["catch"](function(a){a&&a.Ifa||(a=l(c,F.nj.axa,"generic mediakeys error"));m(a);});});};b.prototype.create=function(a,c){var g;function d(a){g.Oh=a;return{K:!0,Oh:a};}g=this;g.Vj("lg");g.log.trace("Creating the mediakeys: "+a);g.pd=a;g.context.$P?c?(g.log.trace("consuming pre-cached mediakeys instance"),a=Promise.resolve(d(c))):a=b.NE(g.XF,a,g.log,g.context.pB).then(d):a=function(){return new Promise(function(a){a({K:!0,Oh:null});});}();return a;};b.prototype.close=function(){var a;a=this;if(!a.$e||this.CY)return Promise.resolve();a.log.trace("closing keysession",{sessionId:a.$e.sessionId});this.CY=!0;return a.$e.close().then(function(){a.log.trace("keysession closed");})["catch"](function(b){a.log.trace("error occurred while closing keysession",b);});};b.prototype.kd=function(a,b){var g,f;function c(){g.ct()&&g.log.trace("LICENSE: Setting license with promise based EME");return new Promise(function(c,l){var p;function k(a){g.$e&&(g.$e.removeEventListener("message",p),g.$e.addEventListener("message",g.onMessage));a.state=f;a.K?c(a):(g.close(),g.Zpa(a),l(a));}if(!g.$e){g.log.trace("LICENSE: Creating the key session.");try{g.$e=g.Oh.createSession();}catch(da){k({K:!1,code:F.nj.f8,tb:F.aD.te,message:"Unable to create a persisted key session",za:h().yc(da),cause:da});}}p=function(b){var c,l,p;c=new Uint8Array(b.message);l=b.messageType;p=8==c[0]&&4==c[1];f=p?2:12;p={sessionId:b.target.sessionId,messageType:l,isCertRequest:p};g.ct()&&(p.message=d().encode(c));g.log.trace("LICENSE: Received event: "+b.type,p);p=/clearkey/i.test(g.$e.keySystem)?"clearkey":"widevine";b={Rf:a,pP:l,ii:p,Fj:[{data:c,sessionId:b.target.sessionId}]};12===f&&(g.Vj("lc"),c={data:c,ii:p},g.context.B3?g.context.DP(c):g.Koa=c);g.context.Ta.kd(b).then(function(a){if(12!==f||(g.Vj("lr"),g.i4a(),g.context.B3))return a=m(g,a.eo[0].data,g.$e),2===f?a:a.then(function(){f=30;k({K:!0,state:f});});g.Loa=a.eo[0].data;f=13;k({K:!0,state:f});})["catch"](function(a){k(h().st(a,{state:f}));});};g.$e.addEventListener("message",p);g.$e.addEventListener("keystatuseschange",g.h4a);g.log.trace("LICENSE: Calling generateRequest",{initDataType:g.XF,initData:d().encode(b)});g.$e.generateRequest(g.XF,b).then(function(){g.ct()&&g.log.trace("LICENSE: Generate succeeded",{sessionId:g.$e.sessionId});},function(a){g.log.error("LICENSE: Unable to generate a license request",a);k({K:!1,code:F.nj.NS,tb:F.aD.te,state:f,message:"Unable to generate request.",za:h().yc(a),cause:a});});});}if(0===b.length)return Promise.reject({code:F.nj.pCa});b=b[0];g=this;f=1;return g.context.$P?c():function(){g.ct()&&g.log.trace("LICENSE: Setting license with prefixed EME");return new Promise(function(c,d){function m(b){var c,f;c=b.sessionId;f=b.message;g.log.trace("Received event: "+b.type,{sessionId:c});g.keySessionId=c;g.Dk=f;b={Rf:a,pP:"license-request",ii:/clearkey/i.test(g.pd)?"clearkey":"widevine",Fj:[{data:f,sessionId:c}]};g.Vj("lc");g.context.Ta.kd(b).then(function(a){g.Vj("lr");g.context.Ba.webkitAddKey(g.pd,a.eo[0].data,g.Dk,g.keySessionId);})["catch"](function(a){d(a);});}function l(a){g.log.trace("Received event: "+a.type,{keySystem:a.keySystem,sessionId:g.keySessionId});g.Dk&&2<g.Dk.length&&(g.context.Ba.removeEventListener("webkitkeyerror",k),g.context.Ba.removeEventListener("webkitkeymessage",m),g.context.Ba.removeEventListener("webkitkeyadded",l),c({K:!0}),g.context.Ba.addEventListener("webkitkeyerror",u.bind(g)),g.context.Ba.addEventListener("webkitkeymessage",function(){g.log.error("renewal not supported in prefixed eme");g.fj(F.nj.Zwa);}));}function k(a){g.log.error("Received event: "+a.type,{errorCode:F.aD.eu+a.errorCode.code});a=h().Fja(a);a.K=!1;a.state=f;a.code=F.nj.TJ;a.message="Received a key error";d(a);g.$e=void 0;}g.context.Ba.addEventListener("webkitkeyerror",k);g.context.Ba.addEventListener("webkitkeymessage",m);g.context.Ba.addEventListener("webkitkeyadded",l);try{g.context.Ba.webkitGenerateKeyRequest(g.pd,b);}catch(X){d({code:F.nj.Y$,tb:F.aD.te});}});}();};b.prototype.Ofa=function(){var a;a=this.Loa;a||this.log.error("pending license must exist at this point");this.Loa=void 0;return m(this,a,this.$e);};b.prototype.cqa=function(){return Promise.resolve({K:!0});};b.prototype.Mia=function(a){var b;b=this;b.log.trace("SECURE_STOP: Executing expedite");return new Promise(function(c,d){function g(a){b.close().then(function(){(a.K?c:d)(a);});}return b.context.Ta.stop.call(b.context.Ta,a).then(function(){g({K:!0,z2:void 0,qB:void 0,HY:void 0});})["catch"](function(a){b.log.error("SECURE_STOP: Server request failed",{code:a.code,subCode:a.tb,extCode:a.Sc,edgeCode:a.Jj,message:a.ne});g(a);});});};b.prototype.RSa=function(a){this.log.trace("SECURE_STOP: Executing deferred");return this.Mia(a);};b.prototype.ct=function(){return this.context.Ke||this.context.dt;};f.P=b;},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(24);h=a(161);f=a(7);a=a(42);c.pta=!0;c.Taa=!1;d=b.Z.get(d.Pe);b=b.Z.get(h.WJ);c.NBa=b.ce;c.Yh={};c.g$=d.Tk;c.QS=d.zm;c.lJ=d.HUa;c.E8=d.z_;c.G7=d.BZ;c.yeb=d.WM;c.zeb=d.BZ;c.I7=d.Zha;c.dgb=d.e0a;c.zAa=d.Dma;c.Fhb=!1;c.KAa=!0;c.Ne={QS:d.zm,kn:void 0,cr:void 0,Nva:void 0,Mva:void 0,CCa:void 0,F7:void 0,Lva:void 0};c.GBa=b.jE;c.HBa=b.jNa;c.VBa=b.a5;c.FBa=b.kM;c.dCa=b.DI;c.ZBa=b.LB;c.LBa=b.UZ;c.MBa=b.pN;c.QBa=b.Wma.qa(f.Ma);c.PBa=b.c2.qa(a.gl);c.DBa=b.AX.qa(a.gl);c.EBa=b.DX.qa(a.gl);c.RBa=b.e2.qa(f.Ma);c.SBa=b.U1a.qa(a.gl);c.OBa=b.vA;c.bCa=b.IR;c.eCa=b.z6;c.IBa=b.kY;c.JBa=b.yY;c.KBa=b.Pga;c.XBa=b.qR;c.WBa=b.D5.qa(a.gl);c.cCa=b.bta;c.UBa=b.r4;c.YBa=b.X5;c.$Ba=b.DR.qa(a.gl);c.TBa=b.kQ;c.aCa=b.HR.qa(f.Ma);c.R$=void 0;},function(f,c,a){var h,l,g,m,k,r,u,n,q,w,t,x;function b(a,b,c,d,g,f,h){this.config=a;this.ha=c;this.De=d;this.qo=g;this.lTa=f;this.TP=h;this.PO=Promise.resolve();this.closed=!1;this.log=b.Bb("PlaydataServices");this.Vk=[];this.active=[];}function d(a,b,c,d,g,f){this.log=a;this.ha=b;this.L=c;this.Lj=d;this.De=g;this.r5a=f;this.vs=!1;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(12);g=a(43);m=a(217);k=a(324);r=a(46);u=a(146);n=a(323);q=a(2);w=a(200);t=a(199);d.prototype.rq=function(a,b){var d;function c(){var a;a=d.Lj.zs(d.L,!1);d.De.Ax(a)["catch"](function(a){d.log.error("Unable to schedule playdata changes",a);});}d=this;this.log.trace("Adding initial playdata",b);this.De.iX(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.ak=d.ha.EQ(a,c);})["catch"](function(g){d.log.error("Unable to add playdata",{error:g,playdata:new w.qU().encode(b)});d.ak=d.ha.EQ(a,c);});};d.prototype.stop=function(a){var b,c;b=this;if(this.vs)return Promise.resolve();this.ak.cancel();c=this.Lj.zs(this.L,!1);return this.De.Ax(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.L.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.r5a.GH(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.De.sH(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.M);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};d.prototype.cancel=function(){this.vs=!0;this.ak.cancel();this.De.Ax(this.Lj.zs(this.L,!1));};b.prototype.Xc=function(){var a;a=this;this.Ig||(this.log.trace("Starting playdata services"),this.Ig=this.De.d4().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.Ig;};b.prototype.close=function(){this.closed=!0;this.Vk.forEach(function(a){a.rq.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.QA&&b.Z4?this.W4(a):Promise.resolve();};b.prototype.jR=function(a){a.ge?this.Gra(a,"offline"):this.closed||this.Gra(a,"online");};b.prototype.C5=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=[];d=this.qo.zs(a,!1);this.active=this.active.filter(function(a){return a!==d.aa;});a=this.Vk.filter(function(a){return a.key===d.aa.toString();}).map(function(a){c.push(a);a.Kra=!0;return a.rq.stop(b.config.Z4);});return Promise.all(a).then(function(){c.forEach(function(a){return b.Vk.splice(b.Vk.indexOf(a),1);});});};b.prototype.Gra=function(a,b){var c;c=this;a.addEventListener(r.Ea.SP,function(){c.Hra(a,b);});a.background||a.addEventListener(r.Ea.mma,function(){c.Hra(a,b);});a.addEventListener(r.Ea.SP,function(){c.oB(a);});a.addEventListener(r.Ea.SP,function(){c.r$a(a);},1);a.addEventListener(r.Ea.Vga,function(){c.G$a();});a.addEventListener(r.Ea.Ysa,function(){c.U8a(a);});a.addEventListener(r.Ea.Zsa,function(){c.X8a(a);});a.Fc.addListener(function(){a.Pb.Bz?c.log.trace("stickiness is disabled for timedtext"):c.Zqa(a);});a.gc.addListener(function(){a.Pb.Bz?c.log.trace("stickiness is disabled for audio"):c.Zqa(a);});};b.prototype.Hra=function(a,b){var c,d;a.Yc("pdb");if(this.config.t3.Fla()){c=this.qo.zs(a,!1);d=c.aa;0<=this.Vk.findIndex(function(a){return a.key===d;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.push(d),this.Vk.push({key:d,rq:this.T_(a,c),jx:!1,Kra:!1}));}};b.prototype.W4=function(a){var b,c,d,g;b=this;c=this.De.Qh.filter(function(a){return"online"===a.type;});d=void 0;g=void 0;a&&Infinity===a?d=c.filter(function(a){return 0>b.active.indexOf(a.aa);}):(d=a?c.filter(function(c){return c.M===a&&0>b.active.indexOf(c.aa);}):void 0,g=a?c.filter(function(c){return c.M!==a&&0>b.active.indexOf(c.aa);}):c.filter(function(a){return 0>b.active.indexOf(a.aa);}));g&&0<g.length&&this.ha.Af(this.config.Wqa,function(){b.FH(g);});return d&&0!==d.length?this.FH(d):Promise.resolve();};b.prototype.FH=function(a){var b;b=this;return a.map(function(a){return function(){return b.TP.GH(a).then(function(){return b.p4(a);});};}).reduce(function(a,b){return a.then(function(){return b();});},Promise.resolve());};b.prototype.p4=function(a){var b;b=this;return this.De.sH(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.T_=function(a,b){a=new d(this.log,this.ha,a,this.qo,this.De,this.TP);a.rq(this.config.t3,b);return a;};b.prototype.oB=function(b){var c,d;c=this;d=this.qo.zs(b,!0);this.TP.oB(b,d).then(function(){c.Vk.filter(function(a){return a.key===b.aa.toString();}).forEach(function(a){a.jx=!0;});})["catch"](function(g){var f;c.log.error("Start command failed",{playdata:d,error:g});f=a(51).rj;return b.Hh(new f(q.v.HU,g));});};b.prototype.U8a=function(a){this.Kq(t.UJ.pause,a)["catch"](function(){});};b.prototype.X8a=function(a){this.Kq(t.UJ.resume,a)["catch"](function(){});};b.prototype.Zqa=function(a){this.Kq(t.UJ.splice,a)["catch"](function(){});};b.prototype.Kq=function(b,c){var g;function d(a){var b;b=g.Vk.filter(function(b){return b.key===a.aa.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.Kra||!b.jx;},!1);}g=this;return d(c)?this.PO:this.PO=this.PO["catch"](function(){return Promise.resolve();}).then(function(){var a;if(d(c))return Promise.resolve();a=g.qo.zs(c,!1);return g.TP.Kq(b,c,a);}).then(function(a){return a;})["catch"](function(d){var f;g.log.error("Failed to send event",{eventKey:b,xid:c.aa,error:d});if(d.ne){f=a(51).rj;c.Hh(new f(q.v.GT,d));}throw d;});};b.prototype.r$a=function(a){this.c$a(a)&&this.x5(this.MXa(),a);};b.prototype.x5=function(a,b){var c;c=this;this.wY();this.j1=this.ha.Af(a,function(){c.wY();c.Kq(t.UJ.MO,b).then(function(){c.x5(a,b);})["catch"](function(){c.x5(a,b);});});};b.prototype.G$a=function(){this.wY();};b.prototype.c$a=function(a){return a.state.value==r.mk.Bu&&!a.ge;};b.prototype.wY=function(){this.j1&&(this.j1.cancel(),this.j1=void 0);};b.prototype.MXa=function(){var a,b;a=this.config.Yla;b=this.lTa.Oka;return 0<=a.Gk(b)?a:b;};x=b;x=f.__decorate([h.N(),f.__param(0,h.j(n.Iaa)),f.__param(1,h.j(l.Jb)),f.__param(2,h.j(g.xh)),f.__param(3,h.j(k.iaa)),f.__param(4,h.j(m.rU)),f.__param(5,h.j(u.iJ)),f.__param(6,h.j(t.dy))],x);c.$Ca=x;},function(f,c,a){var l,g,m,k,r,u,n,q,w;function b(){}function d(){}function h(a,c,d,g){var f;f=this;this.is=a;this.md=c;this.config=d;this.Cg=g;this.Gd=function(){return new b().encode({version:f.version,data:f.Qh});};this.uI=function(a){if(f.is.Eh(a))return f.lcb(a);if(void 0!=a.version&&f.is.ye(a.version)&&1==a.version)return f.mcb(a);if(void 0!=a.version&&f.is.ye(a.version)&&2==a.version)return new b().decode(a);if(a.version&&f.is.ye(a.version))throw new r.nb(m.v.jl,m.u.kS,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new r.nb(m.v.jl,m.u.hn,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.Ng=new u.BT(2,this.config().TA,""!==this.config().TA&&0<this.config().cH,this.md,this.Gd);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);l=a(0);g=a(29);m=a(2);k=a(20);r=a(48);u=a(232);n=a(56);q=a(22);w=a(200);h.prototype.d4=function(){return this.Ng.load(this.uI)["catch"](function(a){throw new r.nb(m.v.jl,a.R||a.tb,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.iX=function(a){return this.Ng.add(a);};h.prototype.sH=function(a){return this.Ng.remove(a,function(a,b){return a.aa===b.aa;});};h.prototype.Ax=function(a){return this.Ng.update(a,function(a,b){return a.aa===b.aa;});};h.prototype.toString=function(){return JSON.stringify(this.Gd(),null,"  ");};h.prototype.Nsa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.Cg().$d:"";};h.prototype.i6=function(a){return a.map(function(a){return{ac:a.downloadableId,duration:a.duration};});};h.prototype.Osa=function(a){return a?{total:a.playTimes.total,audio:this.i6(a.playTimes.audio||[]),video:this.i6(a.playTimes.video||[]),text:this.i6(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.lcb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",profileId:a.accountKey,href:this.Nsa(a.playbackContextId),aa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,GE:a.timestamp,IH:a.playback?1E3*a.playback.startEpoch:-1,Jg:a.mediaId,po:this.Osa(a.playback),Ab:"",jf:{dummy:"dummy"}};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.md.create().then(function(a){a.save(b.config().Iz,d,!1);});if(!c.profileId||""===c.href||""===c.aa)throw new r.nb(m.v.jl,m.u.hn);return{version:2,data:[c]};};h.prototype.mcb=function(a){var b;b=this;if(!a.playdata||!this.is.Gn(a.playdata))throw new r.nb(m.v.jl,m.u.hn,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.Nsa(a.playbackContextId),aa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,GE:a.timestamp,IH:a.playback?1E3*a.playback.startEpoch:-1,Jg:a.mediaId,po:b.Osa(a.playback),Ab:"",jf:{dummy:"dummy"}};});}(a.playdata)};};pa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Ng.version;}},Qh:{configurable:!0,enumerable:!0,get:function(){return this.Ng.um;}}});a=h;a=f.__decorate([l.N(),f.__param(0,l.j(k.rd)),f.__param(1,l.j(n.fk)),f.__param(2,l.j(g.Ef)),f.__param(3,l.j(q.Ee))],a);c.OCa=a;d.prototype.encode=function(a){var b;b=new w.qU();return a.map(b.encode);};d.prototype.decode=function(a){var b;b=new w.qU();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new d().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new d().decode(a.data)};};},function(f,c,a){var h,l,g,m,k,r,u,n,q;function b(a,b,c,d,g){this.config=a;this.ha=c;this.De=d;this.R3=g;this.closed=this.Wi=!1;this.log=b.Bb("PlaydataServices");this.Vk=[];}function d(a,b,c,d){this.log=a;this.ha=b;this.N3=c;this.De=d;this.vs=!1;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(29);g=a(2);m=a(48);k=a(7);r=a(12);u=a(43);n=a(334);a=a(325);d.prototype.rq=function(a,b){var d;function c(){var a;a=d.N3.FF();a.active=!0;d.De.Ax(a)["catch"](function(a){d.log.error("Unable to persist playdata changes",a);});}d=this;this.log.trace("Adding initial playdata",JSON.stringify(b,null,"  "));b.active=!0;this.De.iX(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.ak=d.ha.EQ(a,c);})["catch"](function(){d.log.error("Unable to add playdata",JSON.stringify(b,null,"  "));d.ak=d.ha.EQ(a,c);});};d.prototype.stop=function(a,b){var c,d;c=this;if(this.vs)return Promise.resolve();this.ak.cancel();d=this.N3.FF();d.active=!1;return new Promise(function(g,f){c.De.Ax(d)["catch"](function(a){c.log.error("Unable to persist playdata changes",a);}).then(function(){if(!b)return c.log.trace("Currently configured to not send play data, not sending the data to the server"),Promise.resolve();c.log.trace("Sending final playdata to the server",JSON.stringify(d));return c.B5(a,d);}).then(function(){if(!b)return c.log.trace("Currently configured to not send play data, not removing the play data from IDB"),Promise.resolve();c.log.trace("Removing playdata from the persisted store",JSON.stringify(d));return c.De.sH(d);}).then(function(){c.log.info("Successfully stopped the playback",d.M);g();})["catch"](function(a){c.log.error("Unable to persist playdata changes",a);f(a);});});};d.prototype.cancel=function(){this.vs=!0;this.ak.cancel();this.De.Ax(this.N3.FF());};d.prototype.B5=function(a,b){return new Promise(function(c,d){a.stop({Qh:[b]}).then(function(a){(a=a.shift())&&a.then(function(){c();})["catch"](d);});});};b.prototype.Xc=function(){var a,b;a=this;b=this.config();return void 0===b||void 0===b.TA||void 0===b.Woa||void 0===b.cH||void 0===b.mB?Promise.reject(new m.nb(g.v.fCa,g.u.G6)):this.Wi?Promise.resolve():new Promise(function(b){a.De.d4().then(function(){a.Wi=!0;b();})["catch"](function(c){a.log.error("Unable to read the playdata, it will deleted and not sent to the server",c);a.Wi=!0;b();});});};b.prototype.close=function(){this.closed=!0;this.Vk.forEach(function(a){a.rq.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config();return b.TA&&b.mB?this.W4(a):Promise.resolve();};b.prototype.t$a=function(a){this.closed||this.jR(a,"online");};b.prototype.s$a=function(a){this.closed||this.jR(a,"offline");};b.prototype.C5=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=this.gka(a);if(c){d=this.Vk.filter(function(b){return b.key===a.aa.toString();}).map(function(a){return a.rq.stop(c,b.config().mB);}).shift();if(d)return d;}return Promise.resolve();};b.prototype.jR=function(a,b){var c,d;if(0<this.config().cH){c=a.FF();d=c.aa.toString();0<=this.Vk.findIndex(function(a){return a.key===d;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(c.type=b,this.log.info("Starting to collect "+b+" playdata",c),this.Vk.push({key:d,rq:this.T_(a,c)}));}};b.prototype.W4=function(a){var b,c,d;b=this;c=void 0;d=void 0;a&&Infinity===a?c=this.De.Qh.filter(function(a){return!a.active;}):(c=a?this.De.Qh.filter(function(b){return b.M===a&&!b.active;}):void 0,d=a?this.De.Qh.filter(function(b){return b.M!==a&&!b.active;}):this.De.Qh.filter(function(a){return!a.active;}));d&&this.ha.Af(k.Cb(this.config().Woa),function(){b.FH(d);});return c&&0!==c.length?this.FH(c):Promise.resolve();};b.prototype.FH=function(a){var c;function b(b){var d,g;d=a.filter(function(a){return a.type===b;});if(0<d.length){g=c.gka(d[0]);if(g)return g.stop({Qh:d});}return Promise.resolve([]);}c=this;return new Promise(function(a,d){Promise.all([b("online"),b("offline")]).then(function(b){b=b[0].concat(b[1]).map(function(a){return c.p4(a);});Promise.all(b).then(function(){a();})["catch"](d);})["catch"](d);});};b.prototype.p4=function(a){var b;b=this;return new Promise(function(c,d){a.then(function(a){return b.De.sH(a);}).then(function(){c();})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);d(a);});});};b.prototype.T_=function(a,b){a=new d(this.log,this.ha,a,this.De);a.rq(k.Cb(this.config().cH),b);return a;};b.prototype.gka=function(a){return this.R3.filter(function(){return"online"===a.type&&!0||"offline"===a.type&&!1;}).shift();};q=b;q=f.__decorate([h.N(),f.__param(0,h.j(l.Ef)),f.__param(1,h.j(r.Jb)),f.__param(2,h.j(u.xh)),f.__param(3,h.j(a.l7)),f.__param(4,h.tt(n.O9))],q);c.FDa=q;},function(f,c,a){var d,h,l,g,m,k,r,u;function b(a,b,c,d){var g;g=this;this.is=a;this.md=b;this.config=c;this.qo=d;this.Gd=function(){return{version:g.version,playdata:g.Qh.map(function(a){return a.Gd();})};};this.uI=function(a){var b;g.is.Eh(a)&&(a=g.kcb(a));b={version:1,data:[]};if(void 0!=a.version&&g.is.ye(a.version)&&1==a.version){b.version=a.version;try{b.data=a.playdata.map(function(a){return g.qo.load(a);});}catch(F){throw new m.nb(l.v.jl,l.u.hn,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",F);}}else{if(!a.version||!g.is.ye(a.version))throw new m.nb(l.v.jl,l.u.hn,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.");if(1!==a.version)throw new m.nb(l.v.jl,l.u.kS,void 0,void 0,void 0,"Version number is not supported. Version: "+g.getVersion);}return b;};this.Ng=new k.BT(1,this.config().TA,""!==this.config().TA&&0<this.config().cH,this.md,this.Gd);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(29);l=a(2);g=a(20);m=a(48);k=a(232);r=a(56);a=a(202);b.prototype.d4=function(){var a;a=this;return new Promise(function(b,c){a.Ng.load(a.uI).then(function(){b();})["catch"](function(a){a.R&&a.cause?c(new m.nb(l.v.jl,a.R,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});});};b.prototype.iX=function(a){return this.Ng.add(a);};b.prototype.sH=function(a){return this.Ng.remove(a,function(a,b){return a.aa===b.aa;});};b.prototype.Ax=function(a){return this.Ng.update(a,function(a,b){return a.aa===b.aa;});};b.prototype.toString=function(){return JSON.stringify(this.Gd(),null,"  ");};b.prototype.kcb=function(a){var b,c,d;b=this;a=JSON.parse(a);c=this.qo.load({profileId:a.profileId,type:"online",xid:a.xid,movieId:a.movieId,mediaId:a.mediaId,timestamp:a.timestamp,position:a.position,playback:a.playback,playbackContextId:a.playbackContextId,playbackSessionId:a.playbackSessionId});d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.md.create().then(function(a){a.save(b.config().Iz,d,!1);});if(!(c.profileId&&c.Dc&&c.aa&&c.L&&c.L.po&&c.L.po.total))throw new m.nb(l.v.jl,l.u.hn);return{version:1,playdata:[c.Gd()]};};pa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Ng.version;}},Qh:{configurable:!0,enumerable:!0,get:function(){return this.Ng.um;}}});u=b;u=f.__decorate([d.N(),f.__param(0,d.j(g.rd)),f.__param(1,d.j(r.fk)),f.__param(2,d.j(h.Ef)),f.__param(3,d.j(a.CU))],u);c.ava=u;},function(f,c,a){var r;function b(){}function d(a){this.active=!1;this.type="online";a?this.ni(a):this.L=new h();}function h(a){a?this.ni(a):this.po=new l();}function l(a){a?this.ni(a):(this.total=0,this.audio=[],this.video=[],this.text=[]);}function g(a){a&&this.ni(a);}function m(a){a&&this.ni(a);}function k(a){a&&this.ni(a);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);k.prototype.ni=function(a){this.ac=a.downloadableId;this.duration=a.duration;this.J=a.bitrate;};k.prototype.Gd=function(){return{downloadableId:this.ac,duration:this.duration,bitrate:this.J};};m.prototype.ni=function(a){this.ac=a.downloadableId;this.duration=a.duration;this.J=a.bitrate;this.je=a.vmaf;};m.prototype.Gd=function(){return{downloadableId:this.ac,duration:this.duration,bitrate:this.J,vmaf:this.je};};g.prototype.ni=function(a){this.ac=a.downloadableId;this.duration=a.duration;};g.prototype.Gd=function(){return{downloadableId:this.ac,duration:this.duration};};l.prototype.ni=function(a){this.total=a.total||0;this.audio=a.audio?a.audio.map(function(a){return new k(a);}):[];this.video=a.video?a.video.map(function(a){return new m(a);}):[];this.text=a.timedtext?a.timedtext.map(function(a){return new g(a);}):[];};l.prototype.Gd=function(){var a;a={};a.total=this.total;this.audio.length&&(a.audio=this.audio.map(function(a){return a.Gd();}));this.video.length&&(a.video=this.video.map(function(a){return a.Gd();}));this.text.length&&(a.timedtext=this.text.map(function(a){return a.Gd();}));return a;};h.prototype.ni=function(a){a&&(this.kR=a.startPosition,this.Era=a.startEpoch,this.po=new l(a.playTimes));};h.prototype.Gd=function(){var a;a={playTimes:this.po.Gd()};this.Era&&(a.startEpoch=this.Era);this.kR&&(a.startPosition=this.kR);return a;};d.prototype.ni=function(a){this.profileId=a.profileId;this.type=a.type;this.Dc=a.playbackContextId;this.xi=a.playbackSessionId;this.aa=a.xid;this.M=a.movieId;this.Jg=a.mediaId;this.L=new h(a.playback);this.timestamp=a.timestamp;this.position=a.position;};d.prototype.Gd=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,type:this.type,playbackContextId:this.Dc,playbackSessionId:this.xi,xid:this.aa,movieId:this.M,mediaId:this.Jg,timestamp:this.timestamp,position:this.position,playback:this.L.Gd()}));};c.Gib=d;b.prototype.create=function(){return new d();};b.prototype.load=function(a){return new d(a);};r=b;r=f.__decorate([a.N()],r);c.EDa=r;},function(f,c,a){var h,l,g,m,k,r,n,q,z,w,t,x,y,C,F,N,T,A;function b(a){return function(){return new Promise(function(b,c){var d;d=a.kc.get(k.Jaa);d.Xc().then(function(){b(d);})["catch"](function(a){c(a);});});};}function d(a){return function(){return a.kc.get(n.oaa).Xc();};}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);h=a(202);l=a(627);g=a(325);m=a(626);k=a(201);r=a(625);n=a(121);q=a(217);z=a(200);w=a(324);t=a(624);x=a(623);y=a(323);C=a(619);F=a(199);N=a(618);T=a(617);A=a(616);c.Qh=new f.dc(function(a){a(h.CU).to(l.EDa).Y();a(g.l7).to(m.ava).Y();a(k.Jaa).to(r.FDa).Y();a(k.DU).OB(b);a(y.Iaa).to(C.DDa).Y();a(q.rU).to(z.ZCa).Y();a(w.iaa).to(t.OCa).Y();a(n.oaa).to(x.$Ca).Y();a(n.VJ).OB(d);a(F.dy).to(N.TCa).Y().GI();a(F.dy).to(T.mBa).Y().ZB("type","online");a(F.dy).to(A.kBa).Y().ZB("type","offline");});},function(f,c,a){var d,h,l,g,m,k,r,n;function b(a,b,c,d,g,f,h){this.yLa=a;this.y7a=b;this.Cg=d;this.w1=g;this.lqa=f;this.sqa=h;this.ca=c.Bb("LicenseProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(12);l=a(332);a(331);g=a(22);m=a(328);k=a(104);r=a(327);a=a(326);b.prototype.Yy=function(a,b){var c,d;c=this;d=this.lqa.qbb(a);return this.yLa.Am(this.ca,b.profile,this.nWa(a),d).then(function(a){a.map(function(a){return a.Apb;});return c.sqa.rbb(a);})["catch"](function(a){b.log.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var c;c=this;a=this.lqa.xbb(a);return this.y7a.Pf(this.ca,b.profile,a).then(function(a){return c.sqa.ybb(a);})["catch"](function(a){b.log.error("PBO release license failed",a);return Promise.reject(a);});};b.prototype.nWa=function(a){var b;b=this.w1();b.bE({ldl:{href:this.oga(a,"limited"),rel:"ldl"},license:{href:this.oga(a,"standard"),rel:"license"}});return b;};b.prototype.oga=function(a,b){return"/license?licenseType="+b+"&playbackContextId="+a.Dc+"&esn="+this.Cg().$d;};n=b;n=f.__decorate([d.N(),f.__param(0,d.j(l.haa)),f.__param(1,d.j(m.paa)),f.__param(2,d.j(h.Jb)),f.__param(3,d.j(g.Ee)),f.__param(4,d.j(k.ey)),f.__param(5,d.j(r.jaa)),f.__param(6,d.j(a.kaa))],n);c.hza=n;},function(f,c,a){var d,h,l,g,m,k,r;function b(a,b,c,d){this.I1a=a;this.mm=c;this.K1a=d;this.ca=b.Bb("ManifestProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(14);l=a(15);g=a(333);m=a(12);k=a(63);a=a(144);b.prototype.Xz=function(a,b){var c;c=this;return this.mm().then(function(d){return c.I1a.Am(c.ca,d.profile,b,a);}).then(function(a){return c.K1a.encode(a);})["catch"](function(a){c.ca.error("PBO manifest failed",a);return Promise.reject(a);});};b.prototype.Zga=function(a,b){var c;c={};a&&h.Kb(a,function(a,b){c[a]=l.oc(b)?b:JSON.stringify(b);});b&&h.Kb(b,function(a,b){c[a]=l.oc(b)?b:JSON.stringify(b);});return c;};r=b;r=f.__decorate([d.N(),f.__param(0,d.j(g.naa)),f.__param(1,d.j(m.Jb)),f.__param(2,d.j(k.gn)),f.__param(3,d.j(a.BC))],r);c.Xza=r;},function(f,c,a){var d,h,l;function b(a,b){this.Cg=a;this.w1=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(22);a=a(104);b.prototype.decode=function(a){var b;b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.PXa(a.locations),servers:this.DYa(a.cdns),audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:null,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.cXa(a.defaultMedia),timedtexttracks:this.XYa(a.textTracks),media:this.cq(a.media),trickplays:this.$Ya(a.trickPlayTracks),drmContextId:a.drmContextId,version:2,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,esn:this.Cg().$d,drmType:"",expiration:0,initialHeader:void 0};b.ax=a.ax;b.eB=a.eB;b.mt=this.w1();b.mt.ELa(b);return b;};b.prototype.cXa=function(a){return[{mediaId:a,audioTrackId:"",videoTrackId:"",subtitleTrackId:"",preferenceOrder:0}];};b.prototype.PXa=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.DYa=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:a.id,key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.uka=function(a){return Object.keys(a).map(function(b){return{cdn_id:b,url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.rWa(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.rWa=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.uka(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.cZa(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",systemType:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.cZa=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.uka(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffest:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.XYa=function(a){var b;b=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:b.QYa(a.downloadables),ttDownloadables:b.RYa(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:[]};}):[];};b.prototype.QYa=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.RYa=function(a){return a?a.reduce(function(a,b){b.isImage&&720!==b.pixHeight||(a[b.contentProfile]={size:b.size,textKey:null,isImage:b.isImage,midxOffset:b.offset,height:b.pixHeight,width:b.pixWidth,downloadUrls:b.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{}):{};};b.prototype.cq=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.$Ya=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.encode=function(a){return{audioEncrypted:!!a.audioEncrypted,videoEncrypted:a.hasDrmStreams,audioTracks:this.sbb(a.audio_tracks),bookmark:{position:1E3*a.bookmark,timestamp:0},cdns:this.tbb(a.servers),timedTextCdns:this.Abb(a.timedtexttracks),clientIpAddress:a.clientIpAddress,defaultMedia:a.defaultTrackOrderList[0].mediaId,drmContextId:a.drmContextId,locations:this.ubb(a.locations),media:this.vbb(a.media,a.duration),movieId:a.movieId,packageId:a.packageId,playbackContextId:a.playbackContextId,runtime:a.duration,success:!0,textTracks:this.zbb(a.timedtexttracks),trickPlayTracks:this.Bbb(a.trickplays),videoTracks:this.Cbb(a.video_tracks),isSupplemental:"SUPPLEMENTAL"===a.viewableType,psshb64:this.wbb(a.video_tracks),watermark:a.watermarkInfo,cdnResponseData:a.cdnResponseData,branchMap:a.choiceMap,pboExpiration:a.expiration};};b.prototype.wbb=function(a){var b;b=a.map(function(a){return a.prkDrmHeaders;}).filter(Boolean);b=[].concat.apply([],[].concat(Xc(b))).map(function(a){return a.bytes;});a=a.map(function(a){return a.drmHeader;}).filter(Boolean).map(function(a){return a.bytes;});return 0<b.length?b:a;};b.prototype.sbb=function(a){var b;b=this;return a.map(function(a){var c;c=a.streams.map(function(a){return{bitrate:a.bitrate,contentProfile:a.content_profile,downloadableId:a.downloadable_id,id:a.new_stream_id,isEncrypted:!!a.isDrm,size:a.size,urls:b.Vpa(a.urls),validFor:0};});return{bcp47:a.language,channels:a.channels,channelsCount:a.channelCount||2,channelsLabel:a.channelsFormat,id:a.new_track_id,language:a.languageDescription,trackType:a.trackType,type:"AUDIO",downloadables:c};});};b.prototype.tbb=function(a){return a.map(this.rsa);};b.prototype.Abb=function(a){var b,c;b=this;c=[];a.forEach(function(a){a.cdnlist.forEach(function(a){c.find(function(b){return b.id===a.id+"";})||c.push(b.rsa(a));});});c.sort(function(a,b){return a.rank-b.rank;});return c;};b.prototype.rsa=function(a){return{id:a.id+"",isExclusive:!!a.isExclusive,isLowgrade:a.lowgrade,locationId:a.key+"",name:a.name,rank:a.rank,type:a.type};};b.prototype.ubb=function(a){return a.map(function(a){return{id:a.key,level:a.level,rank:a.rank,weight:a.weight};});};b.prototype.vbb=function(a,b){var c;c=this;return a.map(function(a){return{mediaId:a.id,runtime:b/1E3||0,score:0,tracks:c.LPa(a.tracks)};});};b.prototype.jXa=function(a){return a.downloadableIds&&Object.keys(a.downloadableIds).length?Object.keys(a.downloadableIds).map(function(b){var c,d;c=a.ttDownloadables&&a.ttDownloadables[b];d=a.downloadableIds[b]||null;b={contentProfile:b,downloadableId:d,id:d,isImage:!(!c||!c.isImage),type:"PRIMARY",urls:c?c.downloadUrls:{},validFor:0};c&&c.isImage&&(b.offset=c.midxOffset||0,b.size=c.midxSize||0,b.pixHeight=c.height,b.pixWidth=c.width);return b;}):null;};b.prototype.zbb=function(a){var b;b=this;return a.map(function(a){return{bcp47:a.language||void 0,id:a.new_track_id,isForced:a.isForcedNarrative,isNone:a.isNoneTrack,language:a.languageDescription,trackType:a.rawTrackType.toUpperCase(),type:"TEXT",downloadables:b.jXa(a),isLanguageLeftToRight:a.isLanguageLeftToRight};});};b.prototype.Bbb=function(a){var b;if(!a)return[];a=a.reduce(function(a,b){a.push({downloadableId:b.downloadable_id,id:b.id,interval:b.interval,pixHeight:b.pixelsAspectY,pixWidth:b.pixelsAspectX,resHeight:b.width,resWidth:b.height,size:b.size,urls:{unknown:b.urls[0]},validFor:0});return a;},[]);b=[];0<a.length&&b.push({downloadables:a,id:"",type:"TRICKPLAY"});return b;};b.prototype.iXa=function(a){var b;b=this;return a.map(function(a){var c,d,g,f;c=a.pix_h;d=a.pix_w;g=a.res_h;f=a.res_w;d>c?f=Math.floor(f*d/c):g=Math.floor(g*c/d);return{bitrate:a.bitrate,contentProfile:a.content_profile,downloadableId:a.downloadable_id,hdcpVersions:a.hdcp,height:g,id:a.new_stream_id,isEncrypted:!!a.isDrm,size:a.size,urls:b.Vpa(a.urls),vmaf:a.vmaf,width:f,validFor:0,cropParamsX:a.crop_x,cropParamsY:a.crop_y,cropParamsWidth:a.crop_w,cropParamsHeight:a.crop_h,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale};});};b.prototype.Cbb=function(a){var b;b=this;return a.map(function(a){return{id:a.new_track_id,trackType:a.trackType,type:"VIDEO",downloadables:b.iXa(a.streams)};});};b.prototype.Vpa=function(a){return a.reduce(function(a,b){a[b.cdn_id+""]=b.url;return a;},{});};b.prototype.LPa=function(a){return Object.keys(a).map(function(b){var c;c={};return c.type=b,c.id=a[b],c;});};l=b;l=f.__decorate([d.N(),f.__param(0,d.j(h.Ee)),f.__param(1,d.j(a.ey))],l);c.Yza=l;},function(f,c,a){var d;function b(a,b){return d.nb.call(this,a,b.R,b.ub,b.Wv,b.Ms,b.ne,b.za,b.ji)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(48);oa(b,d.nb);c.RDa=b;},function(f,c,a){var d,h,l,g,m,k,r,n;function b(a,b,c,d){this.Za=b;this.ys=c;this.mm=d;this.log=a.Bb("LifecycleProvider");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(2);l=a(12);g=a(48);m=a(33);k=a(63);r=a(204);n=a(632);b.prototype.stop=function(a){var b;b=this;return this.mm().then(function(c){return b.ys&&b.ys.stop?a.Qh.map(function(a){return b.B5(b.aw(c,a),b.ys,a);}):a.Qh.map(function(){return Promise.reject(new g.nb(h.v.$C,h.u.pU));});});};b.prototype.B5=function(a,b,c){var d;d=this;return new Promise(function(f,m){d.bWa(c).then(function(c){return b.stop(a,c);}).then(function(){f(c);})["catch"](function(a){var b;if(a instanceof g.nb)m(a);else if(void 0!==a.R)m(new n.RDa(h.v.$C,a));else{b=new g.nb(h.v.GU);b.bF(a);m(b);}});});};b.prototype.bWa=function(a){return a.Dc?Promise.resolve({Dc:a.Dc,xi:a.xi,aa:a.aa,Jg:a.Jg,position:a.position,L:a.L,timestamp:a.timestamp}):Promise.reject(new g.nb(h.v.$C,h.u.KCa,void 0,void 0,void 0,"Playback context is missing"));};b.prototype.aw=function(a,b){return{log:this.log,Za:this.Za,profile:a.Xn(b.profileId)};};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(l.Jb)),f.__param(1,d.j(m.hg)),f.__param(2,d.j(r.sS)),f.__param(3,d.j(k.gn))],a);c.iza=a;},function(f,c,a){var d,h,l,g,m,k,r,n,q,t,w,G;function b(a,b,c,d,g,f,h,m){this.gb=a;this.kf=c;this.Ep=d;this.wcb=g;this.Za=f;this.jma=h;this.mm=m;this.ca=b.Bb("DrmProvider");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(38);l=a(26);g=a(62);m=a(152);k=a(12);r=a(33);n=a(63);q=a(223);t=a(126);w=a(335);a=a(145);b.prototype.kd=function(a){var b,c;b=this;c=this.gb.oe();return this.mm().then(function(d){return b.kf.ws(a.Fj[0].data,[8,4])?{Ob:[{id:"ddd",kt:"cert",tA:void 0}],eo:[{sessionId:"ddd",data:new Uint8Array(b.Ep.decode(w.cca))}],LZ:b.gb.oe().ie(c)}:b.kf.ws(a.Fj[0].data,b.wcb.decode("certificate"))?{Ob:[{id:"ddd",kt:"cert",tA:void 0}],eo:[{sessionId:"ddd",data:new Uint8Array(b.Ep.decode(w.rxa))}],LZ:b.gb.oe().ie(c)}:b.jma.Yy(b.ZVa(a),b.aw(d)).then(function(a){return b.$Va(c,a);});});};b.prototype.release=function(a){var b;b=this;return this.mm().then(function(c){return b.jma.release(b.cWa(a),b.aw(c)).then(function(c){return b.dWa(c,a);});});};b.prototype.ZVa=function(a){var b;b=this;return{aa:a.aa,Dc:a.Dc,cN:a.cN,Rf:t.u0a(a.Rf),ii:q.IS[a.ii],Fj:a.Fj.map(function(a){return{sessionId:a.sessionId,dataBase64:b.Ep.encode(a.data)};}),wG:a.wG};};b.prototype.cWa=function(a){var b;b={};a.Dk&&a.Ob[0].id&&(b[a.Ob[0].id]=this.Ep.encode(a.Dk));return a&&a.Dk?{aa:a.aa,Ob:a.Ob,G8a:b}:{aa:a.aa,Ob:a.Ob};};b.prototype.$Va=function(a,b){return{Ob:b.Ob,eo:b.eo,LZ:this.gb.oe().ie(a)};};b.prototype.dWa=function(a,b){return a&&a.response&&a.response.data&&b.Ob[0].id&&(a=a.response.data[b.Ob[0].id])?{response:this.Ep.decode(a)}:{};};b.prototype.aw=function(a){return{log:this.ca,Za:this.Za,profile:a.profile};};G=b;G=f.__decorate([d.N(),f.__param(0,d.j(h.eg)),f.__param(1,d.j(k.Jb)),f.__param(2,d.j(l.Re)),f.__param(3,d.j(g.fl)),f.__param(4,d.j(m.mK)),f.__param(5,d.j(r.hg)),f.__param(6,d.j(a.yC)),f.__param(7,d.j(n.gn))],G);c.Pwa=G;},function(f,c,a){var d,h,l,g,m,k,r;function b(a,b,c,d){this.is=b;this.Za=c;this.ys=d;this.log=a.Bb("IdentityProvider");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(2);l=a(12);g=a(20);m=a(48);k=a(33);a=a(204);b.prototype.ping=function(a,b){var c;c=this;return this.ys.eia?new Promise(function(d,g){c.ys.eia(c.aw(a,b)).then(function(){d();})["catch"](function(a){g(new m.nb(h.v.$T,a.R,a.ub,a.Wv,a.Ms,a.ne,a.za,a.ji));});}):Promise.reject(new m.nb(h.v.$T,h.u.pU));};b.prototype.lw=function(a,b){var c;c=this;return this.ys.lw?new Promise(function(d,g){c.ys.lw(c.aw(a,b)).then(function(a){d({ds:a.ds,Kg:a.Kg,Rj:a.Rj});})["catch"](function(a){g(new m.nb(h.v.xC,a.R,a.ub,a.Wv,a.Ms,a.ne,a.za,a.ji));});}):Promise.reject(new m.nb(h.v.xC,h.u.pU));};b.prototype.aw=function(a,b){a={log:this.log,Za:this.Za,profile:a};this.G_a(b)&&(a.Tv=b.Tv,a.password=b.password);this.is.Vy(b)&&(a.useNetflixUserAuthData=b);this.is.Eh(b)&&(a.Kg=b);return a;};b.prototype.G_a=function(a){return void 0===a?!1:this.is.$L(a)?this.is.Eh(a.Tv):!1;};r=b;r=f.__decorate([d.N(),f.__param(0,d.j(l.Jb)),f.__param(1,d.j(g.rd)),f.__param(2,d.j(k.hg)),f.__param(3,d.j(a.sS))],r);c.Pya=r;},function(f,c,a){var b,d,h,l,g,m,k,r,n,q,z,w,G;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(204);d=a(387);h=a(635);l=a(386);g=a(634);m=a(334);k=a(633);r=a(631);n=a(144);q=a(630);z=a(203);w=a(145);G=a(629);c.R3=new f.dc(function(a){a(b.sS).NB(function(){return t._cad_global.controlProtocol;});a(d.x9).to(h.Pya).Y();a(l.X7).to(g.Pwa).Y();a(m.O9).to(k.iza).Y();a(n.BC).to(r.Yza).Y();a(z.MT).to(q.Xza).Y();a(w.yC).to(G.hza).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Lpb=function(a){return a;};c.H1a=function(a){return a;};c.Mpb=function(a){return Object.assign({},a);};},function(f,c,a){var d,h,l,g,m,k,r,n,q;function b(a,b,c){this.Na=a;this.bdb=b;this.performance=c;h.$i(this,"performance");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(49);l=a(637);g=a(42);m=a(50);k=a(52);r=a(0);n=a(339);q=a(7);b.prototype.get=function(a,b,c){var f;f=this;return new Promise(function(h,m){var l,k,p;try{l=f.bdb.create();"withCredentials"in l||m(Error("Missing CORS support"));l.open("GET",a,!0);b&&(l.withCredentials=!0);c&&(l.timeout=c.qa(q.Ma));k=f.Na.Eg;p=void 0;l.onreadystatechange=function(){var b;switch(l.readyState){case XMLHttpRequest.HEADERS_RECEIVED:p=f.Na.Eg.ie(k);break;case XMLHttpRequest.DONE:b=f.Na.Eg.ie(k);h({body:l.responseText,status:l.status,headers:d.Q4a(l.getAllResponseHeaders()),Ac:f.VXa(a,g.ga(l.responseText.length),b,p)});}};l.send();}catch(ca){m(ca);}});};b.Q4a=function(a){var b,d,g;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){d=a[c];g=d.indexOf(": ");0<g&&(b[d.substring(0,g).toLowerCase()]=d.substring(g+2));}return b;};b.prototype.VXa=function(a,b,c,d){b={size:b,duration:c,U5:d};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=l.H1a(b);a.xSa&&(b.size=g.ga(a.xSa));0<a.duration?b.duration=q.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=q.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.bia=q.timestamp(a.domainLookupEnd-a.domainLookupStart),b.O5=q.timestamp(a.connectEnd-a.connectStart),b.U5=q.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Y5=q.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.Y5=q.timestamp(c),b.O5=q.timestamp(a.connectEnd-a.connectStart-c)));return b;};a=d=b;a=d=f.__decorate([r.N(),f.__param(0,r.j(k.mj)),f.__param(1,r.j(n.gca)),f.__param(2,r.j(m.tU)),f.__param(2,r.optional())],a);c.Sxa=a;},function(f,c,a){var d,h,l,g,m;function b(a,b){this.is=a;this.json=b;h.$i(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(49);l=a(50);g=a(7);a=a(20);b.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.$L(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.Xy(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.Xy(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(!this.is.Xy(a.pulse_delay))throw Error("FtlProbe: param.pulse_delay: not a positive integer");if(!this.is.Xy(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Gn(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Eh(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.ov(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.$L(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.Xg(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.Xg(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{F6a:a.pulses,D6a:g.Cb(a.pulse_delay),E6a:g.Cb(a.pulse_timeout),Xla:a.next?g.Cb(a.next):void 0,ag:a.urls,J1:a.logblob,context:a.ctx};};m=b;m=f.__decorate([d.N(),f.__param(0,d.j(a.rd)),f.__param(1,d.j(l.hr))],m);c.xxa=m;},function(f,c,a){var d,h,l,g,m,k;function b(a,b){this.Yi=a;this.uw=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(42);g=a(7);m=a(65);a=a(105);b.prototype.uH=function(a){a=this.uw.Bs("ftlProbeError","info",d.Xcb({url:a.url,sc:a.status,pf_err:a.x3},a));this.Yi.Vl(a);};b.Xcb=function(a,b){b.Ac&&(b=b.Ac,d.Fn(a,"d",b.duration),d.Fn(a,"dns",b.bia),d.Fn(a,"tcp",b.O5),d.Fn(a,"tls",b.Y5),d.Fn(a,"ttfb",b.U5),a.sz=b.size.qa(l.gl));return a;};b.Fn=function(a,b,c){c&&(a[b]=c.qa(g.Ma));return a;};k=d=b;k=d=f.__decorate([h.N(),f.__param(0,h.j(m.jr)),f.__param(1,h.j(a.Tx))],k);c.gEa=k;},function(f,c,a){var d,h,l,g,m,k;function b(a,b){this.Yi=a;this.uw=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(42);g=a(7);m=a(65);a=a(105);b.prototype.uH=function(a){a=this.uw.Bs(a.J1,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return d.Ycb({d:a.Ac.duration.qa(g.Ma),sc:a.status,sz:a.Ac.size.qa(l.gl),via:a.Gcb,cip:a.$Oa,err:a.VZ},a);})};})});this.Yi.Vl(a);};b.Ycb=function(a,b){d.Fn(a,"dns",b.Ac.bia);d.Fn(a,"tcp",b.Ac.O5);d.Fn(a,"tls",b.Ac.Y5);d.Fn(a,"ttfb",b.Ac.U5);return a;};b.Fn=function(a,b,c){c&&(a[b]=c.qa(g.Ma));return a;};k=d=b;k=d=f.__decorate([h.N(),f.__param(0,h.j(m.jr)),f.__param(1,h.j(a.Tx))],k);c.hEa=k;},function(f,c,a){var d,h,l,g,m,k,r,n;function b(a,b,c,d,g,f,h){this.config=a;this.Wka=b;this.ha=c;this.o=d;this.O7a=g;this.s4=f;this.$_a=0;this.ca=h.Bb("FTL");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(7);g=a(43);m=a(12);k=a(337);r=a(336);a=a(155);b.prototype.start=function(){this.config.enabled&&!this.ak&&(this.ak=this.ha.Af(this.config.Dra,this.zQ.bind(this)));};b.prototype.stop=function(){this.ak&&(this.ak.cancel(),this.ak=void 0);};b.prototype.zQ=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.$_a++;this.PYa(b).then(function(b){return Promise.all(b.ag.map(function(c){return a.uZa(b,c.url,c.name);})).then(function(c){0<c.length&&a.O7a.uH({data:c,context:b.context,J1:b.J1});}).then(function(){return b;});}).then(function(b){a.ak&&(b.Xla?a.ak=a.ha.Af(b.Xla,a.zQ.bind(a)):a.stop());})["catch"](function(b){return a.ca.error("FTL run failed",b);});};b.prototype.PYa=function(a){var b;b=this;return this.Wka.get(a,!1).then(function(c){var d;if(200!=c.status||null==c.body)return b.s4.uH({url:a,status:c.status,x3:"FTL API request failed",Ac:c.Ac}),Promise.reject(Error("FTL API request failed: "+c.status));d=b.o.parse(c.body);return d instanceof Error?(b.s4.uH({url:a,status:4,x3:"FTL Probe API JSON parsing error",Ac:c.Ac}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error&&(b.s4.uH({url:a,status:0,x3:c.message}),b.ca.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.uZa=function(a,b,c){var g;g=this;return new Promise(function(f,h){var q;for(var m,k,p,r=[],n={},u=0;u<a.F6a;n={Rc:n.Rc},++u){n.Rc=0==u?l.cl:a.D6a;q=function(c){return function(){return new Promise(function(f,h){g.ha.Af(c.Rc,function(){d.n6a(g.Wka,b,a.E6a).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}m=b(m,"via",a);k=b(k,"x-ftl-probe-data",a);p=b(p,"x-ftl-error",a);f({status:a.status,Ac:a.Ac,Gcb:m||"",$Oa:k||"",VZ:p||""});})["catch"](function(a){h(a);});});});};}(n);r.push(0<u?r[u-1].then(q):q());}Promise.all(r).then(function(a){f({url:b,name:c,data:a});})["catch"](function(a){h(a);});});};b.n6a=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};n=d=b;n=d=f.__decorate([h.N(),f.__param(0,h.j(a.C8)),f.__param(1,h.j(r.P8)),f.__param(2,h.j(g.xh)),f.__param(3,h.j(k.B8)),f.__param(4,h.j(a.aba)),f.__param(5,h.j(a.$aa)),f.__param(6,h.j(m.Jb))],n);c.zxa=n;},function(f,c,a){var b,d,h,l,g,m,k,r;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(642);d=a(641);h=a(640);l=a(639);g=a(638);m=a(337);k=a(336);r=a(155);c.eWa=new f.dc(function(a){a(r.D8).to(b.zxa).Y();a(r.aba).to(d.hEa).Y();a(r.$aa).to(h.gEa).Y();a(m.B8).to(l.xxa).Y();a(k.P8).to(g.Sxa).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(a){this.In=a;}a.prototype.ut=function(){var a,c,f;a=this.In.JXa();c=this.In.KXa();f=this.In.LXa();if("number"===typeof a&&"number"===typeof c&&"number"===typeof f)return(f-a)/c;};return a;}();c.aBa=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(a,c){this.In=a;this.ut=c;}a.prototype.h5=function(a){return this.In.h5(a);};a.prototype.Nl=function(){return this.In.Nl();};a.prototype.$Xa=function(){return this.ut.ut();};return a;}();c.$Aa=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(a){this.tma=a;}a.prototype.h5=function(a){try{this.tma.setItem("gtp",JSON.stringify(a));}catch(d){return!1;}return!0;};a.prototype.Sja=function(){var a;try{a=this.tma.getItem("gtp");if(a)return JSON.parse(a);}catch(d){}};a.prototype.Nl=function(){var a;a=this.Sja();if(a&&a.tp)return a.tp.a;};a.prototype.JXa=function(){var a;a=this.Q_();if(a)return a.p25;};a.prototype.KXa=function(){var a;a=this.Q_();if(a)return a.p50;};a.prototype.LXa=function(){var a;a=this.Q_();if(a)return a.p75;};a.prototype.Q_=function(){var a;a=this.Sja();if(a&&(a=a.iqr))return a;};return a;}();c.L6=f;},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(646);d=a(645);h=a(644);c["default"]=function(a){var c;a=new b.L6(a);c=new h.aBa(a);return new d.$Aa(a,c);};},function(f,c,a){var d,h,l,g;function b(a,b,c){this.config=a;this.Z0a=b;this.ej=c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(388);h=a(0);l=a(149);a=a(338);b.prototype.ZY=function(){if(this.config.Tsa)return this.ej(this.Z0a());};g=b;g=f.__decorate([h.N(),f.__param(0,h.j(d.G$)),f.__param(1,h.j(l.E$)),f.__param(2,h.j(a.H$))],g);c.ZAa=g;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.create=function(){return new XMLHttpRequest();};d=b;d=f.__decorate([a.N()],d);c.dGa=d;},function(f,c,a){var b,d,h,l,g,m,k;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(649);d=a(33);h=a(339);l=a(648);g=a(205);m=a(338);k=a(647);c.d3a=new f.dc(function(a){a(h.gca).to(b.dGa).Y();a(d.hg).NB(function(){return t._cad_global.http;});a(g.OJ).to(l.ZAa).Y();a(m.H$).th(k["default"]);});},function(f,c,a){var d,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(29);pa.Object.defineProperties(b.prototype,{Qbb:{configurable:!0,enumerable:!0,get:function(){return this.config().q1a;}}});h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.Ef))],h);c.tza=h;},function(f,c,a){var d,h,l;function b(a){this.Bg=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(42);a=a(22);b.prototype.i1a=function(){var a;a=this.Bg()?this.Bg().$d.length:40;return h.ga(a+33);};l=b;l=f.__decorate([d.N(),f.__param(0,d.j(a.Ee))],l);c.vza=l;},function(f,c,a){var h,l,g,m,k,r,n,q,t;function b(a,b,c,d,g,f,h,l,k,p,r){this.platform=b;this.iZ=c;this.type=d;this.severity=g;this.timestamp=f;this.data=h;this.data.clver=this.platform.version;a&&a.fi&&(a.fi.os&&(this.data.osplatform=a.fi.os.name,this.data.osver=a.fi.os.version),this.data.browsername=a.fi.name,this.data.browserver=a.fi.version);a.gG&&(this.data.tester=!0);a.Zn&&!this.data.groupname&&(this.data.groupname=a.Zn);a.Kp&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.Kp:a.Kp);a.Tq&&(this.data.uigroupname=a.Tq);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=l;this.data.uniqueLogId=p.A_();this.data.appId=k;r&&(this.data.soffms=r.x7a.qa(m.Ma),this.data.mid=r.M,this.data.lvpi=r.nG,this.data.uiLabel=r.Oc,this.data["startup"===d?"playbackxid":"xid"]=r.aa,r.rB&&(a=r.rB,(r=r.rB.split("."))&&1<r.length&&"S"!==r[0][0]&&(a="SABTest"+r[0]+".Cell"+r[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+a:a));}function d(a,b,c,d,g,f){this.Na=a;this.iZ=b;this.config=c;this.gb=d;this.xcb=g;this.platform=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(42);l=a(0);g=a(52);m=a(7);k=a(381);r=a(47);n=a(38);q=a(206);a=a(24);d.prototype.Bs=function(a,c,d,g){return new b(this.config,this.platform,this.iZ,a,c,this.Na.Eg,d,this.gb.Xja(),this.gb.id,this.xcb,g);};t=d;t=f.__decorate([l.N(),f.__param(0,l.j(g.mj)),f.__param(1,l.j(k.D7)),f.__param(2,l.j(r.oj)),f.__param(3,l.j(n.eg)),f.__param(4,l.j(q.YU)),f.__param(5,l.j(a.Pe))],t);c.sza=t;pa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.vga||(this.vga=h.ga(this.iZ.encode(this.data).length));return this.vga;}}});},function(f,c,a){var d,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(208);b.prototype.Z9a=function(a){return!a.data.playbackoffline||0>this.config.Qbb.indexOf(a.type);};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.V9))],h);c.uza=h;},function(f,c,a){var d,h,l,g;function b(a){this.config=a;this.S1a=d.ga(5E5);this.ana=d.ga(2E6);this.T8a=h.I2(1);this.Eqa=h.ij(5);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(42);h=a(7);l=a(0);a=a(29);pa.Object.defineProperties(b.prototype,{a$a:{configurable:!0,enumerable:!0,get:function(){return this.config().b$a;}},I1:{configurable:!0,enumerable:!0,get:function(){return this.config().I1;}},gX:{configurable:!0,enumerable:!0,get:function(){return this.config().gX;}}});g=b;g=f.__decorate([l.N(),f.__param(0,l.j(a.Ef))],g);c.lza=g;},function(f,c,a){var d,h,l,g;function b(a,b){this.Yi=a;this.xPa=b();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(42);l=a(65);a=a(29);b.prototype.Xc=function(){this.Yi.Xc();};b.prototype.Vl=function(a){var b;b=a;this.xPa.Usa||(b=Object.assign({},a,{severity:a.data.sev,size:h.ga(a.WWa().length)}));this.Yi.Vl(b);};b.prototype.flush=function(a){return this.Yi.flush(a);};g=b;g=f.__decorate([d.N(),f.__param(0,d.j(l.jr)),f.__param(1,d.j(a.Ef))],g);c.fza=g;},function(f,c,a){var d,h,l;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(207);l=a(42);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.i1a());}).reduce(function(a,b){return a.add(b);},l.ga(0));};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.X9))],a);c.wza=a;},function(f,c,a){var l,g,m,k,r,n,q,t,w,G,x,y,C;function b(a,b,c,d,f,h,m,l,k,p){this.gb=a;this.platform=c;this.Bg=d;this.json=f;this.$Ta=h;this.kf=m;this.is=l;this.Nm=k;this.s1a=p;g.$i(this,"json");this.ca=b.Bb("LogblobSender");}function d(a){this.method="logblob";this.logblobs=a;}function h(){this.entries=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);l=a(0);g=a(49);m=a(50);k=a(7);r=a(26);n=a(20);q=a(38);t=a(24);w=a(22);G=a(12);x=a(209);y=a(342);a=a(23);b.prototype.send=function(a,b){var c;c=this;return new Promise(function(a,d){var g;try{g=b.reduce(function(a,b){a.entries.push(c.PRa(b));return a;},new h());a(c.hWa(g));}catch(B){c.ca.error(B.message);d(B);}}).then(function(b){return c.nB(b,a);});};b.prototype.PRa=function(a){return this.kf.st(this.kf.st({},a.data),{esn:this.Bg().$d,sev:a.severity,type:a.type,lver:this.platform.Dma,jssid:this.gb.id,devmod:this.platform.BZ,jsoffms:a.timestamp.ie(this.gb.VO).qa(k.Ma),clienttime:a.timestamp.qa(k.Ma),client_utc:a.timestamp.qa(k.Zo),uiver:this.Nm.xx});};b.prototype.hWa=function(a){var b;b=this;try{return this.json.stringify(a);}catch(Z){for(var c={},d=0;d<a.entries.length;c={WH:c.WH,Od:c.Od},++d){c.Od=Object.assign({},a.entries[d]);try{this.json.stringify(c.Od);}catch(O){c.WH=void 0;this.kf.Ls(c.Od,function(a){return function(c,d){try{b.json.stringify(d);}catch(D){a.WH=D.message;a.Od[c]=a.WH;}};}(c));c.Od.stringifyException=c.WH;c.Od.originalType=c.Od.type;c.Od.type="debug";c.Od.sev="error";}}return this.json.stringify(a);}};b.prototype.nB=function(a,b){var c,g;c=this;g={log:this.ca,profile:b,Ke:!1,dt:!1};return this.Nm.oh.logblob&&this.Nm.oh.logblob.active?this.s1a.Pf(this.ca,b,{logblobs:a}).then(function(){})["catch"](function(a){g.log.error("PBO logblob failed",a);return Promise.reject(a);}):this.$Ta.send(new d(a),g).then(function(){})["catch"](function(a){var b,d;try{b=c.json.stringify(a.ji);}catch(ja){}d={method:"logblob",success:a.K};c.is.ah(b)&&(d.errorData=b);c.is.ah(a.R)&&(d.errorSubCode=a.R);c.is.ah(a.ub)&&(d.errorExternalCode=a.ub);c.is.ah(a.za)&&(d.errorDetails=a.za);c.is.ah(a.ne)&&(d.errorDisplayMessage=a.ne);g.log.error("Processing EDGE response failed",d);a.__logs&&c.ca.error(a.__logs);return Promise.reject(a);});};C=b;C=f.__decorate([l.N(),f.__param(0,l.j(q.eg)),f.__param(1,l.j(G.Jb)),f.__param(2,l.j(t.Pe)),f.__param(3,l.j(w.Ee)),f.__param(4,l.j(m.hr)),f.__param(5,l.j(x.ZT)),f.__param(6,l.j(r.Re)),f.__param(7,l.j(n.rd)),f.__param(8,l.j(a.Oe)),f.__param(9,l.j(y.maa))],C);c.xza=C;},function(f,c,a){function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b=f.__decorate([a.N()],b);c.q8=b;},function(f,c,a){var d,h,l;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(7);l=a(42);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:h.Cb(a.timestamp),size:l.ga(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.qa(h.Ma),size:a.size.qa(l.gl)};};a=b;a=f.__decorate([d.N()],a);c.rza=a;},function(f,c,a){var d,h,l,g,m,k,r,n,q,t,w,G,x,y;function b(a,b,c,d,g,f,m,l){var k;k=this;this.ha=a;this.md=b;this.iq=d;this.jo=g;this.config=f;this.si=m;this.json=l;this.mZ=[];h.$i(this,"json");this.ca=this.si.Bb("MessageQueue");this.Js=new G.kAa(this.jo);c().then(function(a){k.He=a;k.data=new w.lAa(k.jo,a.profile);k.U0a(a);})["catch"](function(a){k.ca.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(49);l=a(42);g=a(37);m=a(207);k=a(43);r=a(12);n=a(63);q=a(65);t=a(56);w=a(343);G=a(343);x=a(50);y=a(2);b.prototype.wp=function(a,b,c){var d;try{d={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&c?(this.data.wp(c.id,this.$ja(b),"logblobs",d),this.Cia()):this.mZ.push(d);}catch(ca){this.ca.error("JSON.parse error: "+ca.message);}};b.prototype.Yw=function(a){this.data.Yw(a);this.Cia();};b.prototype.DWa=function(){var a,b,c,p;a=[];if(this.data){b=this.config.ana.to(l.gl);for(c in this.data.ld)for(var d=this.Xn(c),g=this.data.ld[c],f=[],h=[],m=l.ga(0),k=0;k<g.ld.length;k++){p=g.ld[k];f.push(p.message);h.push(p.id);m=m.add(this.jo.measure([p.message]));if(0<=m.Gk(b)||k+1===g.ld.length)this.ca.trace("Batch_"+a.length+": "+f.length+"/"+m,r.br),a.push({profile:d,Zka:h.slice(),ld:f.slice(),size:m}),f=[],h=[],m=l.ga(0);}}return a;};b.prototype.U0a=function(a){var b;b=this;this.config.Eqa.Fla()&&(this.Mfa=this.md.create(),this.Mfa.then(function(a){return a.load("messages");}).then(function(a){b.T0a(a.value);})["catch"](function(a){a.R===y.u.sj?b.ca.info("No messages to load."):b.ca.error("Failed to load messages.",a);}));this.mZ.forEach(function(c){b.data.wp(a.profile.id,b.$ja(!1),"logblobs",c);});this.mZ=[];};b.prototype.T0a=function(a){var b,c,d;b=this;try{c=this.Js.decode(a);d=this.He.Xn(c.aM);if(d&&d.Yg.id===this.data.aM){this.ca.trace("Loading messageQueue.");a={};for(var g in c.ld)a.profileId=g,c.ld[a.profileId].ld.forEach(function(a){return function(c){c.message.data.loadedLogBlobFromPersistence=!0;b.data.wp(a.profileId,c.id,c.url,c.message);};}(a)),a={profileId:a.profileId};}else this.ca.trace("AcountId does not match, ignoring persisted messages.");}catch(Z){this.ca.error("Load messageQueue failed.",Z);}};b.prototype.x8a=function(){var a,b;a=this;b=this.Js.encode(this.data);this.Mfa.then(function(a){return a.save("messages",b,!1);}).then(function(){a.ca.info("MessageQueue: Saved",r.br);})["catch"](function(b){a.ca.error("Failed to save messages.",b);});};b.prototype.I$a=function(){this.CQ&&(this.CQ.cancel(),this.CQ=void 0);};b.prototype.Cia=function(){this.config.a$a&&!this.CQ&&(this.CQ=this.ha.Af(this.config.Eqa,this.p4a.bind(this)));};b.prototype.p4a=function(){this.I$a();this.x8a();};b.prototype.$ja=function(a){return a?this.iq.As():0;};b.prototype.Xn=function(a){return this.He.Xn(a)||this.He.profile;};pa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=l.ga(0);if(this.data)for(var b in this.data.ld)a=a.add(this.data.ld[b].size);return a;}}});a=b;a=f.__decorate([d.N(),f.__param(0,d.j(k.xh)),f.__param(1,d.j(t.fk)),f.__param(2,d.j(n.gn)),f.__param(3,d.j(g.Rg)),f.__param(4,d.j(m.Y9)),f.__param(5,d.j(q.IT)),f.__param(6,d.j(r.Jb)),f.__param(7,d.j(x.hr))],a);c.mAa=a;},function(f,c,a){var d,h,l,g,m,k,r,n,q,t,w,G;function b(a,b,c,d,g,f,m,l,k){var p;p=this;this.config=a;this.json=c;this.ha=d;this.e1a=g;this.Wd=m;this.zG=l;this.p2a=k;this.HO=this.fG=this.Wi=!1;this.listeners=[];h.$i(this,"json");this.ca=f.Bb("LogBatcher");this.Wd.Fm.subscribe(this.Z0.bind(this));this.Sn();b().then(function(a){p.He=a;p.He.fG().subscribe(function(a){return p.fG=a;});})["catch"](function(a){p.ca.error("Unable to initialize the account manager for the log batcher",a,r.br);});}Object.defineProperty(c,"__esModule",{value:!0});d=a(1);f=a(0);h=a(49);l=a(50);g=a(345);m=a(63);k=a(43);r=a(12);n=a(65);q=a(344);t=a(85);w=a(208);G=a(2);c.lgb=function(a,b,c){this.name=a;this.message=void 0===b?a:b;this.cause=c;};b.prototype.Xc=function(){this.Wi=!0;};b.prototype.Vl=function(a,b,c){var d;b=void 0===b?!1:b;d=this;0<a.size.Gk(this.config.S1a)?this.ca.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):this.p2a.Z9a(a)&&(!c&&this.He&&(c=this.He.profile),this.listeners.forEach(function(b){return b.nna(a);}),b=b||0<=this.config.I1.indexOf(a.type),this.zG.wp(a,b,c),this.ha.lb(function(){d.EVa();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.HO?(this.ca.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.ca.trace("Flushing",r.br);b.Og();b.ha.lb(function(){b.Y4(a).then(function(){c();})["catch"](function(){d();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.Y4=function(a){a=void 0===a?!1:a;return d.__awaiter(this,void 0,void 0,function(){var c,d,g,f,h,m,l,k,p,n,u;function b(b){for(;;)switch(c){case 0:p=n;if(n.Wi&&n.fG&&!n.Fm){c=1;break;}c=-1;return{value:void 0,done:!0};case 1:if(!n.HO){c=2;break;}n.ca.trace("LogBatcher is in error state, ignoring sendLogMessages");c=-1;return{value:void 0,done:!0};case 2:k=n.zG.DWa();l=!1;if(!(0<k.length||a)){c=3;break;}n.Og();n.listeners.forEach(function(a){return a.$qa();});m={};h=Na(k);f=h.next();case 4:if(f.done){c=6;break;}m.Gp=f.value;try{return n.Yw(m.Gp),n.ca.trace("Sending batch: "+m.Gp.size,r.br),c=9,{value:n.e1a.send(m.Gp.profile,m.Gp.ld),done:!1};}catch(da){g=da;c=7;break;}case 9:try{if(void 0===b){c=10;break;}c=-1;throw b;}catch(da){g=da;c=7;break;}case 10:try{c=8;break;}catch(da){g=da;c=7;break;}case 7:d=g;l=!0;n.ca.warn("Failed to send logblobs.",d,r.br);n.config.gX&&(n.ca.trace("re-adding failed batch"),m.Gp.ld.forEach(function(a){return function(b,c){p.zG.wp(b,0!==a.Gp.Zka[c],a.Gp.profile);};}(m)));if(d.tb!==G.u.HC){c=11;break;}n.HO=!0;c=6;break;case 11:case 8:case 5:m={Gp:m.Gp};f=h.next();c=4;break;case 6:case 3:n.Sn();if(!l){c=12;break;}c=-1;throw Error("Send failure.");case 12:c=-1;default:return{value:void 0,done:!0};}}c=0;n=this;u={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};Za();u[Symbol.iterator]=function(){return this;};return u;});};b.prototype.EVa=function(){var a;a=this;0<this.zG.size.Gk(this.config.ana)?this.Y4()["catch"](function(){return a.ca.warn("failed to send log messages on size threshold");}):this.Sn();};b.prototype.Og=function(){this.bo&&(this.bo.cancel(),this.bo=void 0);};b.prototype.Sn=function(){this.Fm||this.bo||(this.bo=this.ha.Af(this.config.T8a,this.Hw.bind(this)));};b.prototype.Hw=function(){var a;a=this;this.HO=!1;this.Og();this.Y4()["catch"](function(){return a.ca.warn("failed to send log messages on timer");});};b.prototype.Z0=function(a){this.ca.trace("isOffline: "+a,r.br);(this.Fm=a)?this.bo&&(this.bo.cancel(),this.bo=void 0):this.flush();};b.prototype.Yw=function(a){this.zG.Yw(a.Zka);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(C){}return b;};a=b;a=d.__decorate([f.N(),d.__param(0,f.j(n.IT)),d.__param(1,f.j(m.gn)),d.__param(2,f.j(l.hr)),d.__param(3,f.j(k.xh)),d.__param(4,f.j(g.Z9)),d.__param(5,f.j(r.Jb)),d.__param(6,f.j(t.Wq)),d.__param(7,f.j(q.t$)),d.__param(8,f.j(w.W9))],a);c.mza=a;},function(f,c,a){var d,h,l,g,m,k,r,n;function b(a,b,c,g,f){var h;h=this;this.v1a=a;this.j1a=b;this.config=g;this.i4=[];this.v1a.cB(d.qta,this.kZa.bind(this));c().then(function(a){var b;b=g().Dg.QVa;h.V1a=b?n.wh[b.toUpperCase()]:f.xA;h.Yi=a;h.W8a();});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(29);g=a(84);m=a(65);k=a(146);r=a(105);n=a(12);b.prototype.kZa=function(a,b){this.Yi?this.xpa(a,b):this.i4.push([a,b]);};b.prototype.W8a=function(){var a,b;a=this;b=this.i4;this.i4=[];b.forEach(function(b){a.xpa(b[0],b[1]);});};b.prototype.xpa=function(a,b){var c,d;if(this.Yi&&this.W9a(a)){c={debugMessage:a.message,debugCategory:a.Ck};a.li.forEach(function(a){return c=Object.assign({},c,a.value);});c=Object.assign({},c,{prefix:"debug"});d=this.L_a(a)?"offline":"debug";a=this.j1a.Bs(d,n.wh[a.level].toLowerCase(),c,b);this.Yi.Vl(a);}};b.prototype.W9a=function(a){var b;b=this.V1a;return void 0!==b&&a.level<=b&&!a.li.find(function(a){return a.qN(n.br);});};b.prototype.L_a=function(a){return 0<=this.config().V3a.indexOf(a.Ck);};a=d=b;a.qta="adaptorAll";a=d=f.__decorate([h.N(),f.__param(0,h.j(g.ou)),f.__param(1,h.j(r.Tx)),f.__param(2,h.j(m.R9)),f.__param(3,h.j(l.Ef)),f.__param(4,h.j(k.iJ))],a);c.Mta=a;},function(f,c,a){var b,d,h,l,g,m,k,r,n,q,t,w,G,x,y,C,F,N,T,A,Z,O,B;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(111);d=a(663);h=a(662);l=a(661);g=a(658);m=a(657);k=a(656);r=a(29);n=a(655);q=a(654);t=a(653);w=a(652);G=a(43);x=a(651);y=a(22);C=a(341);F=a(344);N=a(345);T=a(340);A=a(105);Z=a(207);O=a(208);B=a(65);c.t1a=new f.dc(function(a){a(B.jr).to(h.mza).Y();a(F.t$).to(l.mAa).Y();a(N.Z9).to(g.xza).Y();a(Z.Y9).to(m.wza).Y();a(B.IT).to(n.lza).Y();a(A.Tx).to(t.sza).Y();a(Z.X9).to(w.vza).Y();a(C.K6).to(d.Mta).Y();a(B.R9).OB(function(a){return function(){return new Promise(function(c){var g,f,h,m;function d(){f()&&h()&&m.Le?c(a.kc.get(B.jr)):g.lb(d);}g=a.kc.get(G.xh);f=a.kc.get(r.Ef);h=a.kc.get(y.Ee);m=a.kc.get(b.Wx);g.lb(d);});};});a(T.L9).to(k.fza).Y();a(O.W9).to(q.uza).Y();a(O.V9).to(x.tza).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cwa=function(a,b,c,f){this.$d=a;this.zm=b;this.Oz=c;this.B8a=f;};},function(f,c,a){var d,h,l,g,m,k,r,n,q,t,w,G,x,y;function b(a,b,c,d,g,f,h,m,l,k){this.Yha=a;this.md=b;this.Oa=d;this.hZ=g;this.xg=f;this.debug=h;this.xI=m;this.gZ=l;this.Wd=k;this.hC=/^(SDK-|SLW32-|SLW64-|SLMAC-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.Bb("Device");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(2);h=a(20);l=a(665);g=a(12);m=a(350);k=a(62);r=a(128);n=a(26);q=a(0);t=a(56);w=a(347);G=a(346);x=a(77);a=a(85);b.prototype.Nia=function(a){try{return a.match(this.hC)[2];}catch(F){}};b.prototype.Pia=function(a){try{return a.match(this.hC)[1];}catch(F){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(c,g){b.md.create().then(function(f){var m,k,p,r,n,u;function h(f){b.Oa.Eh(f)&&b.Oa.Eh(m)?(k=new l.Cwa(f,m,p,a.Zha||"cadmium"),c(k)):g({R:d.u.H7});}m=a.zm;if(a.z_){n=a.$d;if(b.Oa.Eh(n)){u=b.Pia(n);u!=a.zm&&b.log.error("esn prefix from ui is different",{ui:u,cad:a.zm,ua:a.userAgent});}else a.G1&&b.log.error("esn from ui is missing");u=Promise.resolve({K:!1});a.AF&&(u=b.R0a(f,a));u.then(function(c){c.K&&c.Oz&&c.deviceId?(p=c.Oz,h(m+c.deviceId)):f.load(a.XM).then(function(a){r=a.value;b.Oa.Eh(r)&&(b.Oa.Eh(n)?(a=b.Nia(n),p=a===r?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):p="storage_esn_not_in_config",h(m+r));})["catch"](function(c){var k;function l(){f.save(a.XM,k,!1).then(function(){h(m+k);})["catch"](function(a){g(a);});}c.R===d.u.sj?(b.Oa.Eh(a.$d)?(k=b.Nia(a.$d),b.Oa.Eh(k)?p="config_since_not_in_storage":(p="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.$d),k=b.Yha.sja())):(p="generated_since_not_in_config_and_storage",k=b.Yha.sja()),l()):g(c);});})["catch"](g);}else a.kTa&&b.hZ&&b.hZ.getKeyByName?b.hZ.getKeyByName(a.iNa).then(function(a){a=a.id;if(b.Oa.Xg(a))a=String.fromCharCode.apply(void 0,b.xg.decode(a)),b.debug.assert(""!=a),m=b.Pia(a),h(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){g({R:d.u.uS,za:b.xI.yc(a)});}):a.jTa&&b.gZ&&b.gZ.Kja?b.gZ.Kja().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=m+a;b.debug.assert(b.hC.test(a));h(c);})["catch"](function(){g({R:d.u.uS});}):h();})["catch"](function(a){g(a);});});};b.prototype.R0a=function(a,b){var c;c=this;return new Promise(function(d,g){c.V0a(a,b).then(function(g){b.Aka?c.AF(b.Aka).then(function(f){var h;if(c.Oa.Xg(f)&&c.hC.test(b.zm+f)){h=Promise.resolve();c.JUa(g,f)&&(c.Wd.Ek.Uj("DebugEvent",{kind:"playerEsn",esnEvent:"transition",oldEsn:g,newEsn:f}),h=c.Ebb(a,b));h.then(function(){a.save(b.XM,f,!1)["catch"](function(a){c.log.error("Failed to persist hardware esn",{esn:f,exception:c.xI.yc(a)});});d({K:!0,deviceId:f,Oz:"hardware_deviceid"});})["catch"](function(a){c.log.error("Exception transitioning hesn",{exception:c.xI.yc(a)});d({K:!1});});}else c.log.error("Invalid Hardware ESN",{deviceId:f}),d({K:!1});})["catch"](function(a){c.log.error("Exception generating hardwareId",{exception:c.xI.yc(a)});d({K:!1});}):(c.log.error("hardwareDeviceId not provided"),d({K:!1}));})["catch"](g);});};b.prototype.V0a=function(a,b){var c;c=this;return new Promise(function(g){a.load(b.XM).then(function(a){a=a.value;c.Oa.Xg(a)&&c.hC.test(b.zm+a)?g(a):(g(void 0),c.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.R!==d.u.sj&&c.log.error("Error loading ESN",a);g(void 0);});});};b.prototype.JUa=function(a,b){return a!==b;};b.prototype.Ebb=function(a,b){return a.remove(b.R2a);};b.prototype.AF=function(a){var b;b=this;return new Promise(function(c,d){try{x.pa.from(a.hardwareDeviceId).GB(1).subscribe(function(a){b.Oa.Xg(a)?c(a):d("Hardware deviceId was not a string: "+a);},function(a){d(a);});}catch(ca){d(ca);}});};y=b;y=f.__decorate([q.N(),f.__param(0,q.j(m.S7)),f.__param(1,q.j(t.fk)),f.__param(2,q.j(g.Jb)),f.__param(3,q.j(h.rd)),f.__param(4,q.j(G.C7)),f.__param(5,q.j(k.fl)),f.__param(6,q.j(r.gJ)),f.__param(7,q.j(n.Re)),f.__param(8,q.j(w.B7)),f.__param(9,q.j(a.Wq))],y);c.Ewa=y;},function(f,c,a){var d,h,l,g,m,k;function b(a,b){this.Na=a;this.nH=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(52);h=a(7);l=a(110);g=a(349);m=a(49);a=a(0);b.prototype.sja=function(){for(var a="",b=this.Na.Eg.qa(h.Ma),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.nH.X3(new g.Yaa(0,31,m.I3a))];return a;};k=b;k=f.__decorate([a.N(),f.__param(0,a.j(d.mj)),f.__param(1,a.j(l.XC))],k);c.Bwa=k;},function(f,c,a){var d,h;function b(){this.xA=h.wh.ERROR;this.f3=void 0;this.S8a=!0;this.Oka=d.I2(1);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(7);h=a(12);a=a(0);b=f.__decorate([a.N()],b);c.Dwa=b;},function(f,c,a){var b,d,h,l,g,m,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(668);f=a(0);d=a(146);h=a(22);l=a(350);g=a(667);m=a(348);k=a(666);c.Bg=new f.dc(function(a){a(h.Ee).Yl(function(){return function(){return t._cad_global.device;};});a(m.T7).to(k.Ewa).Y();a(l.S7).to(g.Bwa).Y();a(d.iJ).to(b.Dwa).Y();});},function(f,c,a){var d,h;function b(a){this.Le=a;this.rQ=0;this.U0=!1;this.bx=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(111);b.prototype.send=function(a){var b,c,d;b=this;c=!!a.kA&&0!==this.rQ;d=this.bx.some(function(a){return!!a.wP.kA;});return(c||this.U0||d?new Promise(function(c,d){b.bx.push({wP:a,resolve:c,reject:d});}):this.nB(a)).then(function(a){b.ooa();return a;})["catch"](function(a){b.ooa();throw a;});};b.prototype.nB=function(a){this.rQ++;a.kA&&(this.U0=!0);return this.Le.send(a);};b.prototype.Yqa=function(a){this.nB(a.wP).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.ooa=function(){var a;this.rQ--;this.U0=!1;if(0===this.rQ&&0<this.bx.length){a=this.bx.shift();this.Yqa(a);if(!a.wP.kA)for(;0<this.bx.length&&!this.bx[0].wP.kA;)this.Yqa(this.bx.shift());}};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.Wx))],h);c.tAa=h;},function(f,c,a){var d,h,l,g,m,k,r,n,q,t,w,G,x,y,C,F,N,T,A,Z,O;function b(a,b,c,d,g,f,h,m,k,p,r,n,u,q){this.platform=a;this.config=b;this.y_=c;this.p0a=d;this.xg=g;this.gb=f;this.Le=h;this.Y8a=m;this.FB=k;this.Cx=p;this.kf=r;this.nH=n;this.json=u;this.uX=q;this.Fk=[];l.$i(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(49);g=a(24);m=a(29);k=a(47);r=a(38);n=a(62);q=a(7);t=a(111);w=a(220);G=a(152);x=a(26);y=a(2);C=a(110);F=a(33);N=a(50);T=a(58);A=a(27);a=a(351);Z={license:!0};b.prototype.send=function(a,b,c,g){var r,n,u,v;function f(b){return new Promise(function(c,d){function g(a){var d,g;function c(a,c){n.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.IG.profile?b.IG.profile.id:void 0,nonReplayable:b.CP,retryCount:b.D4,userId:b.WB,userTokens:JSON.stringify(r.Le.Le.getUserIdTokenKeys())})});return{K:!1,result:{errorSubCode:a,errorExternalCode:c}};}d=r.json.parse(a);if(2!=d.length)return n.trace("The MSL envelope did not have enough array items."),c(y.u.AC);if(!d[1].payload)return n.trace("The MSL envelope did not have a payload."),c(y.u.AC);if(!d[1].status)return n.trace("The MSL envelope did not have a status."),c(y.u.AC);a=d[1].status;g=parseInt(a,10);if(isNaN(g)&&"ok"!=a.toLowerCase()||!(200<=g&&300>g))return d=d[1].payload.data,d=r.xg.decode(d),n.error("The MSL status indicated an error",{status:g},r.Cx.encode(d)),401===g?c(y.u.HC,4027):c(y.u.KT,a);d=d[1].payload.data;d=r.Cx.encode(r.xg.decode(d));if(!d)return n.trace("The MSL payload is missing."),c(y.u.i$);try{return r.json.parse(d);}catch(mb){return n.error("EDGE response this.json parse error: ",mb,d),c(y.u.i$);}}h(b,b.D4).then(function(f){var h,m;if(f.body)if(f=g(f.body),n.trace("Received EDGE response",{Method:a.method}),f.success){if(r.config().Dg.XUa&&r.H_a(a)){h=a.vtb;m=f.profileGuid;if(h&&m!==h){f={R:y.u.JCa,za:JSON.stringify({serverGuid:m,clientGuid:h})};p(f,b);d(f);return;}}v.success=!0;v.profileId=b.WB;v.elapsedtime=r.gb.oe().qa(q.Ma)-v.starttime;v.userTokens=JSON.stringify(r.Le.Le.getUserIdTokenKeys());c(f.result);}else{m=f.result;f.__logs&&(m.kkb=f.__logs);try{h=r.json.stringify(m.data);}catch(yf){}f=p(m,b);d({R:m.errorSubCode,ub:m.errorExternalCode,Wv:m.errorEdgeCode,za:m.errorDetails?[m.errorDetails," ",f].join(""):void 0,ne:m.errorDisplayMessage,ji:h});}else d({R:y.u.AC,za:p({R:y.u.AC},b)});})["catch"](function(a){var c;c=p(a,b);a.za&&(a.za=[a.za," ",c].join(""));d(a);});});}function h(b,c){return new Promise(function(g,f){function h(b,c,k){return r.Y8a.send(b).then(function(a){var d,f;if(d=r.config().kQ){try{f=r.json.parse(a.body);}catch(Ba){n.error("Failed to parse result in refreshCredentialsAfterManifestAuthError");}d=f&&401===parseInt(f[1].status,10)?!0:!1;}if(d&&1===c&&"manifest"==b.method)throw r.Le.cla(),{K:!1,result:{errorSubCode:y.u.HC,errorExternalCode:4027}};g(a);})["catch"](function(g){var p,u;u=g&&g.$j&&void 0!==g.$j.maxRetries?Math.min(g.$j.maxRetries,k):k;(r.y_.C4||m(g))&&c<=u?p=!0:(n.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:c,MaxRetries:u},d.u8(g)),p=!1);if(p)return p=g&&g.$j&&void 0!==g.$j.retryAfterSeconds?1E3*g.$j.retryAfterSeconds:r.nH.X3(1E3,1E3*Math.pow(2,Math.min(c-1,u))),n.warn("Method failed, retrying",{Method:a.method,Attempt:c,WaitTime:p,MaxRetries:u},d.u8(g)),l(p).then(function(){return h(b,c+1,u);});f(g);});}return h(b,1,c);});}function m(a){return(a=a&&a.R)&&a>=y.u.sC&&a<=y.u.Px;}function l(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function k(){var d,f,h,m,l,k,p,v,t,w;d="";c&&(d+=(0<d.length?"&":"")+"logs=true");g&&(d+=(0<d.length?"&":"")+"debug=true");a.languages=r.config().Dg.Sw;a.clientVersion=r.platform.version;a.uiVersion=r.config().Dg.xx;f={};r.config().Pna&&(f["X-Netflix.request.expiry.timeout"]=r.config().Pna.toString());h=[{},{headers:f,path:r.config().Dg.nia,payload:{data:r.json.stringify(a)},query:d}];r.config().Dg&&(n.debug("Request payload",{Method:a.method},r.FB.uR(h)),n.debug("Request parameters",{Method:a.method},r.FB.uR(a)));d=b;f=a.method;m=""+(r.uX.endpoint+r.config().Dg.Gna)+r.platform.zm+"/cadmium/"+a.method;h=r.json.stringify(h);l=u.qa(q.Ma);k=b.profile?b.profile.id:void 0;p=!Z[a.method];v=!!Z[a.method];t=a.method;w=a.type;t="pblifecycle"==t&&w&&"stop"!=w?1:"manifest"===t&&a.flavor===T.tc.oha(T.tc.vu.faa)?0:"logblob"===t?1:3;return{IG:d,method:f,url:m,body:h,timeout:l,WB:k,M7a:p,CP:v,mN:!0,D4:t,kA:a.isExclusive};}function p(a,b){v.success=!1;v.profileId=b.WB;v.elapsedtime=r.gb.oe().qa(q.Ma)-v.starttime;v.userTokens=JSON.stringify(r.Le.Le.getUserIdTokenKeys());v.subcode=a.errorSubCode||a.R;v.extcode=a.errorExternalCode||a.ub;n.error("BladeRunner command history",r.FB.uR(r.Fk));return r.json.stringify(r.Fk);}c=void 0===c?!1:c;g=void 0===g?!1:g;r=this;b=this.kf.st({Za:this.p0a},b);n=b.log;u=q.ij(59);v={method:a.method,starttime:this.gb.oe().qa(q.Ma)};this.Fk.push(v);this.Fk.length>this.config().GNa&&this.Fk.shift();n.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=k();f(c).then(function(b){a(b);})["catch"](function(a){var c;c={K:!1};r.kf.st(c,a,{no:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.H_a=function(a){return 0<="manifest license start pblifecycle bind ping".split(" ").indexOf(a.method)?"pblifecycle"===a.method&&a.type&&"suspend"!==a.type&&"resume"!==a.type?!1:!0:!1;};b.u8=function(a){var b,c,d;b={};c=a.errorExternalCode||a.ub;d=a.errorDetails||a.za;b.ErrorSubCode=a.errorSubCode||a.R||y.u.Vg;c&&(b.ErrorExternalCode=c);d&&(b.ErrorDetails=d);return b;};O=d=b;O=d=f.__decorate([h.N(),f.__param(0,h.j(g.Pe)),f.__param(1,h.j(m.Ef)),f.__param(2,h.j(k.oj)),f.__param(3,h.j(F.hg)),f.__param(4,h.j(n.fl)),f.__param(5,h.j(r.eg)),f.__param(6,h.j(t.Wx)),f.__param(7,h.j(a.w$)),f.__param(8,h.j(w.OU)),f.__param(9,h.j(G.mK)),f.__param(10,h.j(x.Re)),f.__param(11,h.j(C.XC)),f.__param(12,h.j(N.hr)),f.__param(13,h.j(A.lf))],O);c.uAa=O;},function(f,c,a){var b,d,h,l,g;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(111);d=a(671);h=a(209);l=a(351);g=a(670);c.Tk=new f.dc(function(a){a(b.Wx).NB(function(){return t._cad_global.msl;});a(h.ZT).to(d.uAa).Y();a(l.w$).to(g.tAa).Y();});},function(f,c,a){var d,h,l;function b(a){this.Oa=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(20);l=a(7);b.prototype.Y$a=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Oa.ye(c)?d=Math.round(c*b.qa(l.Ma)/100):(a=parseInt(a),this.Oa.Hn(a)&&(d=a));return l.Cb(Math.min(d,b.qa(l.Ma)));};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.rd))],a);c.tua=a;},function(f,c,a){var d,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(29);b.prototype.O_=function(){return this.Zp().JNa;};b.prototype.P_=function(){return this.Zp().KNa;};b.prototype.AXa=function(){return this.Zp().LNa;};b.prototype.E_=function(){return this.Zp().jga;};b.prototype.BXa=function(){return this.Zp().MNa;};b.prototype.Zp=function(){return this.config();};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.Ef))],h);c.sua=h;},function(f,c,a){var d,h,l,g,m,k;function b(a,b,c,d){this.pE=b;this.Oa=c;this.INa=d;this.ca=a.Bb("Bookmark");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(353);l=a(352);g=a(12);m=a(20);k=a(7);b.prototype.nX=function(a){var b;b=a.Pb.playbackState?a.Pb.playbackState.currentTime:void 0;b=void 0!==b?k.Cb(b):this.RWa(a.M);return this.Oa.uf(b)?(this.ca.info("Overriding bookmark",{From:a.TB.qa(k.Ma),To:b.qa(k.Ma)}),(a.Pb.Qf||this.pE.BXa())&&this.ala(a)?(this.ca.trace("Ignoring override bookmark since its too close to end"),k.ij(0)):b):this.d_a(a)?(this.ca.trace("Ignoring bookmark because it's too close to beginning"),k.ij(0)):this.ala(a)?(this.ca.trace("Ignoring bookmark because it's too close to end"),k.ij(0)):a.TB;};b.prototype.d_a=function(a){return 0>a.TB.Gk(this.O_(a));};b.prototype.O_=function(a){return this.kga(this.pE.O_(),a.bH);};b.prototype.ala=function(a){return 0<a.TB.Gk(this.P_(a));};b.prototype.P_=function(a){var b;b=a.Pb.Qf?this.pE.AXa():this.pE.P_();return a.bH.ie(this.kga(b,a.bH));};b.prototype.RWa=function(a){var b;a=this.pE.E_()[a];b=-1;this.Oa.Xg(a)?b=parseInt(a):this.Oa.ye(a)&&(b=a);if(this.Oa.Hn(b))return k.Cb(b);};b.prototype.kga=function(a,b){return this.INa.Y$a(a,b);};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(g.Jb)),f.__param(1,d.j(h.c7)),f.__param(2,d.j(m.rd)),f.__param(3,d.j(l.b7))],a);c.uua=a;},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(147);d=a(353);h=a(352);l=a(675);g=a(674);m=a(673);c.HNa=new f.dc(function(a){a(b.QI).to(l.uua).Y();a(d.c7).to(g.sua).Y();a(h.b7).to(m.tua).Y();});},function(f,c){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(c,"__esModule",{value:!0});oa(a,Error);c.B9=a;},function(f,c,a){var d,h,l,g;function b(a){this.Oa=a;this.KW={};this.Tea={};for(var b in d.dC)this.Oa.ye(parseInt(b))&&(this.Tea[d.dC[b]]=1);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(210);h=a(677);l=a(0);a=a(20);b.prototype.track=function(a){var b;if(this.Oa.Xg(a)){if(!this.Tea[a])throw new h.B9("Cast Interaction type "+a+" is undefined.");}else{if(!this.Oa.ah(d.dC[a]))throw new h.B9("Cast Interaction type "+a+" is undefined.");a=d.dC[a];}b=this.KW[a];this.KW[a]=b?b+1:1;};g=b;g=f.__decorate([l.N(),f.__param(0,l.j(a.rd))],g);c.iva=g;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(210);d=a(678);c.wM=new f.dc(function(a){a(b.q7).to(d.iva);});},function(f,c,a){var h,l,g;function b(a,b,c){var d;d=this;this.ca=a;this.valid=!0;this.mN=!1;this.context=c.context;this.size=c.size;this.Ig=b.create().then(function(a){d.storage=a;return a.mG("mediacache").then(function(a){d.keys=a;});});}function d(a,b){this.si=a;this.md=b;this.dF={};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(12);a=a(56);d.prototype.IM=function(a){this.dF[a.context]=new b(this.si.Bb("DiskStorageContext"),this.md,a);return this.dF[a.context];};g=d;g=f.__decorate([h.N(),f.__param(0,h.j(l.Jb)),f.__param(1,h.j(a.fk))],g);c.Iwa=g;b.prototype.create=function(a,b,c,d){var g,f,h;g=this;f=this.getKey(a,b);h=Date.now();this.Ig.then(function(){g.keys[f]=void 0;return g.storage.save(f,c,!1).then(function(){g.ca.trace("create succeeded for "+f+", "+(Date.now()-h)+" ms");d(g.iO(a,b));});})["catch"](function(c){g.ca.trace("create failed",c);d(g.Rs(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ca.trace("append "+c);d(this.Rs(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,g,f;d=this;g=this.getKey(a,b);f=Date.now();this.Ig.then(function(){if(d.keys.hasOwnProperty(g))return delete d.keys[g],d.storage.remove(g).then(function(){d.ca.trace("remove succeeded for "+g+", "+(Date.now()-f)+" ms");c(d.iO(a,b));});c(d.iO(a,b));})["catch"](function(g){d.ca.trace("remove failed",g);c(d.Rs(a,b,g));});};b.prototype.read=function(a,b,c,d,g){var f,h,m;f=this;h=this.getKey(a,b);m=Date.now();0!==c||-1!=d?g(this.Rs(a,b,"byteStart/byteEnd combination is not supported")):this.Ig.then(function(){if(f.keys.hasOwnProperty(h))return f.storage.load(h).then(function(l){f.ca.trace("read succeeded for "+h+", "+(Date.now()-m)+" ms");g(Object.assign(f.iO(a,b),{value:l.value,hlb:c,end:d}));});g(f.Rs(a,b,"Item doesn't exist"));})["catch"](function(c){f.ca.trace("read failed",c);g(f.Rs(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ca.trace("info ");this.Ig.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.q3(c);a[c.TE]||(a[c.TE]={});a[c.TE][c.ft]={size:0};return a;},{}),total:b.size,Ftb:0};a(c);})["catch"](function(c){b.ca.trace("info failed",c);a(b.Rs(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,g;d=this;g=this.getKey(a,b||"");this.Ig.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(g);}).reduce(function(a,b){a[d.q3(b).ft]={size:0};return a;},{});d.ca.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ca.trace("query failed",a);c({});});};b.prototype.o6=function(a){var b;b=this;this.ca.trace("validate");this.Ig.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.q3(c).ft]={size:0};return a;},{});a(c);})["catch"](function(c){b.ca.trace("validate failed",c);a(b.Rs(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.iO=function(a,b){return{K:!0,TE:void 0===a?"":a,key:void 0===b?"":b,ucb:0,Lh:this.size};};b.prototype.Rs=function(a,b,c){return{K:!1,error:c,TE:void 0===a?"":a,key:void 0===b?"":b,ucb:0,Lh:this.size};};b.prototype.q3=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{TE:a,ft:b};};c.Peb=b;},function(f,c,a){var d,h;function b(a){var b;b=this;this.md=a;this.md.create().then(function(a){b.storage=a;});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(56);b.prototype.getData=function(){var a;a=this.storage;return a?a.BYa():{};};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.fk))],h);c.Ota=h;},function(f,c,a){var d,h,l;function b(a){this.si=a;this.tq={};this.ca=this.si.Bb("MemoryStorage");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(2);a=a(12);b.prototype.load=function(a){var b;if(this.tq.hasOwnProperty(a)){b=this.tq[a];this.ca.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ca.debug("Storage entry not found",{key:a});return Promise.reject({R:h.u.sj});};b.prototype.save=function(a,b,c){if(c&&this.tq.hasOwnProperty(a))return Promise.resolve(!1);this.tq[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.tq[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.tq).map(function(b){return{key:b,value:a.tq[b]};});return Promise.resolve(b);};b.prototype.mG=function(a){var b;b=Object.keys(this.tq).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.tq={};return Promise.resolve();};l=b;l=f.__decorate([d.N(),f.__param(0,d.j(a.Jb))],l);c.jAa=l;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Hva="__default_rule_key__";},function(f,c,a){var h,l,g,m,k,r,n,q,t,w,G,x,y,C;function b(a,b,c,d,g,f,h,m,l){this.ca=a;this.config=b;this.b_a=c;this.x2=d;this.Wd=g;this.Cf=f;this.FZ=h;this.is=m;this.zz=l;this.Gj={mem:{storage:this.x2,ad:this.dZ(),key:"mem"}};this.mna=!1;this.zo=this.config.zo;}function d(a,b,c,d,g,f,h,m,l){this.si=a;this.md=b;this.x2=c;this.config=d;this.Wd=g;this.Cf=f;this.FZ=h;this.is=m;this.zz=l;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);l=a(2);g=a(148);m=a(12);k=a(356);r=a(683);n=a(211);q=a(47);t=a(85);w=a(151);G=a(95);x=a(58);y=a(20);a=a(355);d.prototype.create=function(){this.PE||(this.PE=this.qz());return this.PE;};d.prototype.qz=function(){this.rMa=new b(this.si.Bb("AppStorage"),this.config,this.md,this.x2,this.Wd,this.Cf,this.FZ,this.is,this.zz);return this.rMa.create();};C=d;C=f.__decorate([h.N(),f.__param(0,h.j(m.Jb)),f.__param(1,h.j(g.CT)),f.__param(2,h.j(k.s$)),f.__param(3,h.j(q.oj)),f.__param(4,h.j(t.Wq)),f.__param(5,h.j(G.xr)),f.__param(6,h.j(w.jJ)),f.__param(7,h.j(y.rd)),f.__param(8,h.j(a.R7))],C);c.Nta=C;b.prototype.create=function(){var a;a=this;return Promise.all([this.LRa(),this.fSa()]).then(function(b){var c;c=Na(b);b=c.next().value;c=c.next().value;a.ccb(c);if(!a.FOa(b,c,a.config.F0))throw a.m3a(b,c);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var g,f;g=b.I_(a);f=Date.now();g.storage.load(a).then(function(a){b.uh(g.key,"load",!0,f);c(a);})["catch"](function(a){b.uh(g.key,"load",(a&&(a.R||a.errorSubCode))===l.u.sj,f);d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(g,f){var h,m;h=d.I_(a);m=Date.now();h.storage.save(a,b,c).then(function(a){d.uh(h.key,"save",!0,m);g(a);})["catch"](function(a){d.uh(h.key,"save",!1,m);f(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){var g,f;g=b.I_(a);f=Date.now();g.storage.remove(a).then(function(){b.uh(g.key,"remove",!0,f);c();})["catch"](function(a){b.uh(g.key,"remove",!1,f);d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){var d,g;a.n4("mem").then(function(){d=Date.now();return a.n4("idb");})["catch"](function(b){a.uh("idb","removeAll",!1,d);return Promise.reject(b);}).then(function(){a.uh("idb","removeAll",!0,d);g=Date.now();return a.n4("winfs");})["catch"](function(b){a.uh("winfs","removeAll",!1,g);return Promise.reject(b);}).then(function(){a.uh("winfs","removeAll",!1,g);b();})["catch"](function(b){a.ca.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b,c,d;a=this;b=[];return this.y1("mem").then(function(d){b=b.concat(d);c=Date.now();return a.y1("idb");})["catch"](function(b){a.Ola(b)||(a.uh("idb","loadAll",!1,c),a.ca.error("IndexedDb.LoadAll exception",b));return[];}).then(function(g){a.Wd.Ek.mq({kind:"playerStorageLoadAll",keys:a.Wz(g),storage:"idb"});a.uh("idb","loadAll",!0,c);b=b.concat(a.rVa(g));d=Date.now();return a.y1("winfs");})["catch"](function(b){if(a.Ola(b))return[];a.uh("winfs","loadAll",!1,d);throw b;}).then(function(c){a.Wd.Ek.mq({kind:"playerStorageLoadAll",keys:a.Wz(c),storage:"win"});a.uh("winfs","loadAll",!0,d);return b=b.concat(c);})["catch"](function(b){a.ca.error("load all failed",b);throw b;});};b.prototype.mG=function(a){var b;b=this;return new Promise(function(c,d){var g,f;b.Gj.winfs&&d("loadKeys is not supported on WINFS");g=Date.now();f=b.Gj.idb;f?f.storage.mG(a).then(function(a){b.uh("idb","loadKeys",!0,g);c(a);})["catch"](function(a){b.uh("idb","loadKeys",!1,g);b.ca.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.BYa=function(){var a;a={memSubs:this.mna};this.Gj.idb&&(a.idb=this.lka("idb"));this.Gj.winfs&&(a.winfs=this.lka("winfs"));return a;};b.prototype.LRa=function(){var a;a=this;return this.b_a.create().then(function(b){a.Gj.idb={storage:b,ad:a.dZ(),key:"idb"};return a.bPa(b);})["catch"](function(b){a.mna=!0;a.ca.error("idb failed to load",b);a.Ama(b);return b||{R:l.u.Vg};});};b.prototype.bPa=function(a){var b;b=this;return"function"!==typeof this.Wd.md.create?Promise.resolve():a.load("migrationComplete").then(function(){return a.loadAll().then(function(c){var d;d=c.filter(function(a){return a.key.startsWith("migrationComplete")||a.key.startsWith("vInfo");});return d.map(function(b){return function(){return a.remove(b.key);};}).reduce(function(a,b){return a.then(function(){return b();});},Promise.resolve()).then(function(){d.length&&b.n1a(d.length);});})["catch"](function(a){b.ca.error("cleanupIdb exception",a);b.zma(a);});})["catch"](function(a){(a&&(a.R||a.errorSubCode))!==l.u.sj&&(b.ca.error("cleanupIdb check exception",a),b.zma(a));});};b.prototype.fSa=function(){var a;a=this;return Promise.resolve().then(function(){if("function"===typeof a.Wd.md.create)return a.Cf.mark(x.og.uta),a.Wd.md.create().then(function(b){a.Cf.mark(x.og.vta);a.Gj.winfs={storage:b,ad:a.dZ(),key:"winfs"};});})["catch"](function(b){a.Cf.mark(x.og.sta);a.ca.error("winfs storage open failed",b);a.Ama(b);return b||{errorSubCode:l.u.Vg};});};b.prototype.ccb=function(a){var b,c;b=!1;a?c=x.og.tta:(b=!0,this.zo.vInfo=["winfs"]);this.FZ.set(b);c&&this.Cf.mark(c);};b.prototype.FOa=function(a,b,c){return!a&&!b||a&&c&&!b?!0:!1;};b.prototype.m3a=function(a,b){var c;c="";a&&(c+=a.R);b&&(c+="-w"+b.errorSubCode);return{R:c};};b.prototype.lka=function(a){var b,c,d;b=this;d=this.Gj[a];d&&(c=n.vba.reduce(function(a,c){a[c]=b.CYa(d.ad[c]);return a;},{}));return c;};b.prototype.CYa=function(a){return{count:a.count,succ:a.Ora,total:a.total,max:a.max};};b.prototype.n4=function(a){return(a=this.Gj[a])?a.storage.removeAll():Promise.resolve();};b.prototype.y1=function(a){return(a=this.Gj[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.xVa=function(a){for(var b in this.zo)if(a.startsWith(b))return this.zo[b];return this.zo[r.Hva];};b.prototype.I_=function(a){var b,c;b=this;this.xVa(a).every(function(a){return b.Gj[a]?(c=b.Gj[a],!1):!0;});c||(this.ca.error("component not found for storageKey",{P$a:a,Tkb:Object.keys(this.Gj),rules:this.zo}),c=this.Gj.mem);this.ca.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.dZ=function(){return n.vba.reduce(function(a,b){a[b]={count:0,total:0,Ora:0,max:0};return a;},{});};b.prototype.uh=function(a,b,c,d){d=Date.now()-d;if(a=this.Gj[a])b=a.ad[b],b.count++,c&&(b.Ora++,b.total+=d,d>b.max&&(b.max=d));};b.prototype.Wz=function(a){return this.is.Gn(a)?a.map(function(a){return a.key;}):void 0;};b.prototype.Ola=function(a){return(a&&(a.R||a.errorSubCode))===l.u.sj;};b.prototype.rVa=function(a){return a&&this.zo.Itb?a.filter(function(a){return a&&a.key&&!a.key.startsWith("vInfo");}):a;};b.prototype.Ama=function(a){this.Wd.Ek.mq({kind:"playerStorageCreateError",code:this.zz.vZ(a),error:this.zz.Ema(a)});};b.prototype.zma=function(a){this.Wd.Ek.mq({kind:"playerStorageCleanupError",code:this.zz.vZ(a),error:this.zz.Ema(a)});};b.prototype.n1a=function(a){this.Wd.Ek.mq({kind:"playerStorageCleanupCountError",count:a});};c.L6=b;},function(f,c,a){var d,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(47);pa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.E5;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.Xra;}}});h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.oj))],h);c.uva=h;},function(f,c,a){var d,h,l,g,m;function b(a,b){a=l.we.call(this,a)||this;a.config=b;a.version=1;a.Fw="namedatapairs";a.Hj="IndexedDBConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(54);l=a(53);g=a(47);a=a(39);oa(b,l.we);pa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Jl?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.E5;}},RE:{configurable:!0,enumerable:!0,get:function(){return this.config.RE;}},hM:{configurable:!0,enumerable:!0,get:function(){return this.config.hM;}},r5:{configurable:!0,enumerable:!0,get:function(){return 0;}},OH:{configurable:!0,enumerable:!0,get:function(){return 0;}},dja:{configurable:!0,enumerable:!0,get:function(){return!0;}},jja:{configurable:!0,enumerable:!0,get:function(){return!1;}}});m=b;f.__decorate([h.config(h.rI,"simulateIdbOpenError")],m.prototype,"r5",null);f.__decorate([h.config(h.rI,"simulateIdbLoadAllError")],m.prototype,"OH",null);f.__decorate([h.config(h.We,"fixInvalidDatabase")],m.prototype,"dja",null);f.__decorate([h.config(h.We,"forceDeleteCruftyDatabase")],m.prototype,"jja",null);m=f.__decorate([d.N(),f.__param(0,d.j(a.nk)),f.__param(1,d.j(g.oj))],m);c.Sya=m;},function(f,c,a){var h,l,g;function b(a,b,c){this.config=a;this.kH=b;this.zq=c;}function d(a,b){this.reason=a;this.cause=b;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);l=a(125);(function(a){a[a.hU=0]="NoData";a[a.Error=1]="Error";a[a.Du=2]="Timeout";}(g=c.fEa||(c.fEa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.vN("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=h.u.kba;switch(a.reason){case g.hU:b=h.u.sj;break;case g.Du:b=h.u.IEa;}d({R:b,cause:a.cause});});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,m){d.vN(c?"add":"put",!0,{name:a,data:b}).then(function(){f(!c);})["catch"](function(a){var b;b=h.u.nba;switch(a.reason){case g.Du:b=h.u.LEa;}m({R:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.vN("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=h.u.IU;switch(a.reason){case g.Du:b=h.u.iba;}d({R:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.vN("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.u.IU;switch(a.reason){case g.Du:b=h.u.iba;}c({R:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.kH.dx(this.config.timeout,new Promise(function(b,c){var f,h,m;if(a.config.OH)c(new d(a.config.OH));else{f=[];h=a.zq.transaction(a.config.Fw,"readonly");m=h.objectStore(a.config.Fw).openCursor();h.onerror=function(){c(new d(g.Error,m.error));};m.onsuccess=function(a){if(a=a.target.result)try{f.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(G){c(new d(g.Error,G));}else b(f);};m.onerror=function(){c(new d(g.Error,m.error));};}}))["catch"](function(a){return a instanceof l.ly?Promise.reject(new d(g.Du,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(g.Error,a));});};b.prototype.mG=function(a){var b;b=this;return this.kH.dx(this.config.timeout,new Promise(function(c,f){var h,m,l;if(b.config.OH)f(new d(b.config.OH));else{h={};m=b.zq.transaction(b.config.Fw,"readonly");l=m.objectStore(b.config.Fw).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);m.onerror=function(){f(new d(g.Error,l.error));};l.onsuccess=function(b){var m,l;try{m=b.target.result;if(m){l=m.key;a&&0!==l.indexOf(a)?c(h):(h[l]=void 0,m["continue"]());}else c(h);}catch(C){f(new d(g.Error,C));}};l.onerror=function(){f(new d(g.Error,l.error));};}}))["catch"](function(a){return a instanceof l.ly?Promise.reject(new d(g.Du,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(g.Error,a));});};b.prototype.vN=function(a,b,c){var f;f=this;return this.kH.dx(this.config.timeout,new Promise(function(h,m){var l,k;l=f.zq.transaction(f.config.Fw,b?"readwrite":"readonly");k=l.objectStore(f.config.Fw)[a](c);l.onerror=function(){m(new d(g.Error,k.error));};k.onsuccess=function(b){var c;if("get"==a)try{c=b.target.result;c?h(c.data):m(new d(g.hU));}catch(C){m(new d(g.hU,C));}else h();};k.onerror=function(){m(new d(g.Error,k.error));};}))["catch"](function(a){return a instanceof l.ly?Promise.reject(new d(g.Du,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(g.Error,a));});};c.Rya=b;},function(f,c,a){var l,g,m,k,r,n,q,t,w,G,x,y,C;function b(a,b,c,d,g,f){this.config=b;this.xz=c;this.md=d;this.Ccb=g;this.Cf=f;this.ca=a.Bb(n.MU);}function d(a,b){this.config=a;this.Rq=b;}function h(a,b,c,d,g,f){this.config=b;this.Rq=c;this.Cf=g;this.Wd=f;this.ca=a.Bb(n.MU);this.xz=new Promise(function(a,b){var c;try{c=d();c?a(c):b({R:r.u.S8});}catch(D){b({R:r.u.CJ,cause:D});}});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);l=a(0);g=a(12);m=a(687);k=a(149);r=a(2);n=a(359);q=a(360);t=a(125);w=a(56);G=a(95);x=a(148);y=a(58);a=a(85);h.prototype.create=function(){this.nZ||(this.nZ=this.qz());return this.nZ;};h.prototype.ym=function(a){var b;b=this;this.nZ=null;return this.Rq.dx(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof t.ly?Promise.reject({R:r.u.CJ}):a.R?Promise.reject(a):Promise.reject({R:r.u.CJ,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.Rq.dx(this.config.timeout,new Promise(function(c,d){b.xz.then(function(b){var g;g=b.deleteDatabase(a);g.onsuccess=function(){c();};g.onerror=function(){d({R:r.u.CJ,cause:g.error});};})["catch"](function(a){d(a);});}));};h.prototype.qz=function(){var a,b;a=this;return this.Rq.dx(this.config.timeout,new Promise(function(c,d){a.config.r5?d({R:a.config.r5}):a.xz.then(function(g){a.Cf.mark(y.og.cya);(b=g.open(a.config.name,a.config.version))?(b.onblocked=function(){a.Cf.mark(y.og.$xa);d({R:r.u.Wxa});},b.onupgradeneeded=function(){var c;a.Cf.mark(y.og.jya);a.Wd.Ek.Uj("DebugEvent",{kind:"playerStorageUpgradeNeeded"});c=b.result;try{c.createObjectStore(a.config.Fw,{keyPath:"name"});}catch(B){a.ca.error("Exception while creating object store",B);}},b.onsuccess=function(f){var h,m;a.Cf.mark(y.og.iya);try{h=f.target.result;m=h.objectStoreNames.length;a.ca.trace("objectstorenames length ",m);if(0===m){a.ca.error("invalid indexedDb state, deleting");a.Cf.mark(y.og.bya);try{h.close();}catch(V){}g.deleteDatabase(a.config.name);setTimeout(function(){d({R:r.u.Vxa});},1);return;}}catch(V){a.ca.error("Exception while inspecting indexedDb objectstorenames",V);}c(b.result);},b.onerror=function(){a.Cf.mark(y.og.aya);a.ca.error("IndexedDB open error",b.error);d({R:r.u.Xxa,cause:b.error});}):d({R:r.u.T8});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof t.ly){try{b&&b.readyState&&a.Cf.mark("readyState-"+b.readyState);}catch(ca){}if(a.config.hM&&b&&"done"===b.readyState){if(a.ycb(b))return a.Cf.mark(y.og.gya),Promise.resolve(b.result);a.Cf.mark(y.og.fya);}a.Cf.mark(y.og.eya);return Promise.reject({R:r.u.Zxa});}if(c.R)return Promise.reject(c);a.Cf.mark(y.og.dya);a.ca.error("IndexedDB open exception occurred",c);return Promise.reject({R:r.u.Yxa,cause:c});});};h.prototype.ycb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(N){this.Cf.mark(y.og.hya);this.ca.error("failed to check open request state",N);}return!1;};C=h;C=f.__decorate([l.N(),f.__param(0,l.j(g.Jb)),f.__param(1,l.j(q.EJ)),f.__param(2,l.j(t.aK)),f.__param(3,l.j(k.R8)),f.__param(4,l.j(G.xr)),f.__param(5,l.j(a.Wq))],C);c.Txa=C;d.prototype.create=function(a){return Promise.resolve(new m.Rya(this.config,this.Rq,a));};k=d;k=f.__decorate([l.N(),f.__param(0,l.j(q.EJ)),f.__param(1,l.j(t.aK))],k);c.Tya=k;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.PE||(this.PE=this.qz(this.Ccb));return this.PE;};b.prototype.qz=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.Cf.mark(y.og.BEa);b.xz.create().then(function(g){b.md.create(g).then(function(f){Promise.all(a.map(function(a){return a.o6(f);})).then(function(){b.storage=f;b.config.jja&&b.xz["delete"](b.config.RE)["catch"](function(){b.ca.trace("Failed to force delete the crufty database: "+b.config.RE);});c(b.storage);})["catch"](function(a){b.ca.debug("DB validation failed, cause: "+a);b.config.dja?(b.ca.debug("Fixing corrupt DB"),b.xz.ym(g).then(function(){b.ca.error("Invalid database deleted, creating new database.");b.qz().then(function(a){b.ca.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ca.error("Couldn't delete invalid database.");d(a);})):(b.ca.debug("Ignoring invalid DB due to config"),b.storage=f,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};k=b;k=f.__decorate([l.N(),f.__param(0,l.j(g.Jb)),f.__param(1,l.j(q.EJ)),f.__param(2,l.j(x.Q8)),f.__param(3,l.j(x.y9)),f.__param(4,l.tt(w.wba)),f.__param(5,l.j(G.xr))],k);c.Uya=k;},function(f,c,a){var d,h,l;function b(a){this.zq=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(2);a=a(149);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var g,f;try{g=b.zq.getItem(a);if(g){f=g;if("{"===g[0])try{f=JSON.parse(g)||g;}catch(z){}c({key:a,value:f});}else d({R:h.u.sj});}catch(z){d({R:h.u.kba,cause:z});}});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(g,f){if(c&&d.zq.getItem(a))g(!1);else try{"string"===typeof b?d.zq.setItem(a,b):d.zq.setItem(a,JSON.stringify(b));g(!0);}catch(z){f({R:h.u.nba,cause:z});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.zq.removeItem(a);c();}catch(u){d({R:h.u.IU,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.mG=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};l=b;l=f.__decorate([d.N(),f.__param(0,d.j(a.MAa))],l);c.jza=l;},function(f,c,a){var d,h,l,g,m;function b(a,b,c){this.kH=b;this.config=c;this.ca=a.Bb(g.MU);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(12);l=a(125);g=a(359);a=a(358);b.prototype.o6=function(a){return this.config.enabled?this.config.timeout?this.kH.dx(this.config.timeout,this.fia(a)):this.fia(a):Promise.resolve();};b.prototype.fia=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(g){"true"!==g.value&&d();b.ca.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ca.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};m=b;m=f.__decorate([d.N(),f.__param(0,d.j(h.Jb)),f.__param(1,d.j(l.aK)),f.__param(2,d.j(a.A7))],m);c.tva=m;},function(f,c,a){var b,d,h,l,g,m,k,r,n,q,z,w,G,x,y,C,F,A,T;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(360);d=a(56);h=a(149);l=a(690);g=a(357);m=a(689);k=a(358);r=a(148);n=a(688);q=a(686);z=a(685);w=a(684);G=a(56);x=a(356);y=a(682);C=a(211);F=a(681);A=a(354);T=a(680);c.storage=new f.dc(function(a){a(h.E$).Yl(function(){return function(){return t.localStorage;};});a(h.R8).Yl(function(){return function(){return t.indexedDB;};});a(C.M6).to(F.Ota).Y();a(x.s$).to(y.jAa).Y();a(G.fk).to(w.Nta).Y();a(g.P9).to(m.jza).Y();a(b.EJ).to(q.Sya).Y();a(r.y9).to(n.Tya).Y();a(d.wba).to(l.tva).Y();a(r.Q8).to(n.Txa).Y();a(r.CT).to(n.Uya).Y();a(k.A7).to(z.uva).Y();a(A.U7).to(T.Iwa).Y();});},function(f,c,a){var d,h,l;function b(a){this.a6a=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(212);a=a(361);b.prototype.gVa=function(){var a,b;a={pF:h.iu.Unknown};b=this.a6a.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.pF=b.value?h.iu.Present:h.iu.Absent;if(a.pF===h.iu.rdb){c=function(){b.value&&(a.pF=h.iu.Present);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.pF=h.iu.Error;});return a;};l=b;l=f.__decorate([d.N(),f.__param(0,d.j(a.Naa))],l);c.qxa=l;},function(f,c,a){var d,h,l;function b(a,b){this.jna=a;this.log=b.Bb("MediaCapabilities");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(363);h=a(12);a=a(0);b.prototype.e_=function(a){var b,c,d;b=this;c={Zg:void 0};if(this.jna.kna){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,J:1E3*a.J,RN:"24"};this.jna.e_(d).then(function(a){return c.Zg=Object.assign({},a,d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};l=b;l=f.__decorate([a.N(),f.__param(0,a.j(d.n$)),f.__param(1,a.j(h.Jb))],l);c.aAa=l;},function(f,c,a){var d,h;function b(a){this.navigator=a;this.kna="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(50);b.prototype.e_=function(a){return this.kna?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.J,framerate:a.RN}}).then(function(a){return{atb:a.supported,l$a:a.smooth,J5a:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.LC))],h);c.$za=h;},function(f,c,a){var d,h;function b(a,b,c,f){a=d.ik.call(this,a,b,c)||this;a.MZ=f;a.type=h.Fi.pba;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(123);h=a(34);oa(b,d.ik);b.prototype.IF=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.MZ.Sh.toString()});};c.OEa=b;},function(f,c,a){var d,h,l;function b(a,b,c,f,l,k){a=d.ik.call(this,a,b,c)||this;a.HZ=f;a.wA=l;a.Na=k;a.type=h.Fi.qS;a.log=a.wA.Bb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(123);h=a(34);l=a(7);oa(b,d.ik);b.prototype.Co=function(a){switch(a){case h.Qg.pn:return this.vab;default:return Promise.resolve(!1);}};b.prototype.Yz=function(){var a;a=this;return this.Co(h.Qg.pn).then(function(a){return a?h.Qg.pn:void 0;}).then(function(b){return a.OE(b);});};b.prototype.fX=function(a){return this.At=a;};b.prototype.tI=function(){var a;if(this.At){a=this.Hka&&this.Ika&&this.Hka.ie(this.Ika).qa(l.Ma);this.At.itshdcp=JSON.stringify({hdcp1:this.fq,time1:a});}};pa.Object.defineProperties(b.prototype,{Oh:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.lna||(this.lna=this.HZ().then(function(b){return b.Uja(a.config().ce).FR();}).then(function(a){return a.createMediaKeys();}));return this.lna;}},vab:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.H5||(this.config().iUa?this.H5=this.Oh.then(function(b){if(b&&b.getStatusForPolicy)return a.Ika=a.Na.Eg,b.getStatusForPolicy({minHdcpVersion:"hdcp-1.4"}).then(function(b){a.Hka=a.Na.Eg;a.fq=b;a.log.trace("hdcpStatus: "+a.fq);return"usable"===a.fq;});a.fq="not available";a.log.trace("hdcpStatus: "+a.fq);return!1;})["catch"](function(b){a.fq="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.fq},b);return!1;}).then(function(b){a.tI();return b;}):(this.fq="not enabled",this.log.trace("hdcpStatus: "+this.fq),this.tI(),this.H5=Promise.resolve(!1)));return this.H5;}}});c.mva=b;},function(f,c,a){var d,h,l,g,m,k,r,n,q,z,w,G,x,y,C,F,A,T,H;function b(a,b,c,d,g,f,m){a=h.ik.call(this,a,b,c)||this;a.ha=d;a.Na=g;a.wA=f;a.xg=m;a.type=l.Fi.su;a.cC="hvc1";a.Iua="avc1";a.Soa={};a.log=a.wA.Bb("MicrosoftVideoCapabilityDetector");a.YB[l.Jd.Ff]=n.od.mC;a.v$a();a.$H&&a.config().q2a?a.LTa=a.HRa():(a.LTa=Promise.resolve(""),a.config().s2a?a.KRa():a.config().r2a&&a.JRa());return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(64);h=a(123);l=a(34);f=a(96);g=a(160);m=a(77);k=a(7);r=a(221);n=a(124);q=a(213);z="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");w="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");G="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");x="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");y="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");C="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");F=["hdcp=1"];A=["hdcp=2"];T=new f.Cu();H=new r.hS();oa(b,h.ik);b.prototype.jO=function(a){var b;a=void 0===a?0:a;b="undefined"!==typeof t&&t._cad_global&&t._cad_global.videoCache;return b&&(a=b.lob(a),(a=this.YRa(a))&&0<a.length)?a:h.ik.prototype.jO.call(this);};b.prototype.YRa=function(a){if(a&&1===a.length)switch(a[0]){case d.$.fr:return[d.$.fr];case d.$.ju:return[d.$.fr,d.$.ju];case d.$.lC:return[d.$.fr,d.$.ju,d.$.lC];}return[];};b.prototype.Co=function(a){switch(a){case l.Qg.pn:return this.Rra();case l.Qg.nu:return this.jH;default:return Promise.resolve(!1);}};b.prototype.Vz=function(){return this.$H?this.a_a?this.Rra().then(function(a){return Promise.resolve(a?g.Eb.Hd:g.Eb.TC);}):Promise.resolve(g.Eb.TC):this.xab?Promise.resolve(g.Eb.TC):Promise.resolve(g.Eb.tn);};b.prototype.aI=function(){return this.uab();};b.prototype.bI=function(){return this.$H&&this.Tra()?this.jH:Promise.resolve(!1);};b.prototype.ZH=function(){return this.sab();};b.prototype.fX=function(a){this.At=a;Object.assign(this.At,this.Soa);a.itshwdrm=this.$H;a.itsqhd=this.Sra();a.itshevc=this.Tra();a.itshdr=this.aI();a.itsdv=this.ZH();return a;};b.prototype.cE=function(a,b){(this.At?this.At:this.Soa)[a]=b;};b.prototype.Yz=function(){var a;a=this;return this.Co(l.Qg.nu).then(function(b){return b?a.OE(l.Qg.nu):a.Co(l.Qg.pn).then(function(b){return b?a.OE(l.Qg.pn):a.OE(void 0);});});};b.prototype.IF=function(){return this.Vz().then(function(a){return a===g.Eb.Hd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.h_=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=Na(b.Gt),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Na(b.Tm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.O3[a];c=[];f=g.Eb.tn;if(a)return b.is.Xg(a)?d=a:(c=a.zd,d=a.Xe,f=a.pd),b.us(f,d,c);});};b.prototype.Iv=function(){var a;a=h.ik.prototype.Iv.call(this);a[d.$.nK]="vp09.00.11.08.02";a[d.$.oK]="vp09.00.11.08.02";a[d.$.pK]="vp09.00.11.08.02";a[d.$.eT]={Xe:"hev1.2.6.L90.B0",pd:g.Eb.Hd,zd:z};a[d.$.gT]={Xe:"hev1.2.6.L93.B0",pd:g.Eb.Hd,zd:z};a[d.$.iT]={Xe:"hev1.2.6.L120.B0",pd:g.Eb.Hd,zd:z};a[d.$.kT]={Xe:"hev1.2.6.L123.B0",pd:g.Eb.Hd,zd:z};a[d.$.pC]={Xe:"hev1.2.6.L150.B0",pd:g.Eb.Hd,zd:z};a[d.$.qC]={Xe:"hev1.2.6.L153.B0",pd:g.Eb.Hd,zd:z};a[d.$.sJ]={Xe:"hev1.2.6.L90.B0",pd:g.Eb.Hd,zd:G};a[d.$.tJ]={Xe:"hev1.2.6.L93.B0",pd:g.Eb.Hd,zd:G};a[d.$.uJ]={Xe:"hev1.2.6.L120.B0",pd:g.Eb.Hd,zd:G};a[d.$.vJ]={Xe:"hev1.2.6.L123.B0",pd:g.Eb.Hd,zd:x};a[d.$.ZS]={Xe:"hev1.2.6.L150.B0",pd:g.Eb.Hd,zd:x};a[d.$.aT]={Xe:"hev1.2.6.L153.B0",pd:g.Eb.Hd,zd:x};a[d.$.aJ]={Xe:"hev1.2.6.L90.B0",pd:g.Eb.Hd,zd:y};a[d.$.bJ]={Xe:"hev1.2.6.L93.B0",pd:g.Eb.Hd,zd:y};a[d.$.cJ]={Xe:"hev1.2.6.L120.B0",pd:g.Eb.Hd,zd:y};a[d.$.dJ]={Xe:"hev1.2.6.L123.B0",pd:g.Eb.Hd,zd:C};a[d.$.eJ]={Xe:"hev1.2.6.L150.B0",pd:g.Eb.Hd,zd:C};a[d.$.BS]={Xe:"hev1.2.6.L153.B0",pd:g.Eb.Hd,zd:C};return a;};b.prototype.us=function(a,b,c){a=q.tu.JM(a,b,c);return this.Jp(a);};b.prototype.Sra=function(){return this.us(g.Eb.Hd,this.cC,z);};b.prototype.uab=function(){return this.us(g.Eb.Hd,this.cC,G);};b.prototype.sab=function(){return this.us(g.Eb.Hd,this.cC,y);};b.prototype.Tra=function(){return this.us(g.Eb.Hd,this.cC,w);};b.prototype.Rra=function(){var a;a=this;return this.jH.then(function(b){return b?Promise.resolve(b):a.rpa;});};b.prototype.tI=function(){this.At&&(this.At.itshdcp=JSON.stringify({hdcp1:this.Fka,time1:this.esa-this.Ira,hdcp2:this.Gka,time2:this.fsa-this.Jra}));};b.prototype.v$a=function(){var a;a=this;this.$H?(this.E3=new m.yh(),this.F3=new m.yh(),this.rpa=m.pa.from(this.E3).FR().then(function(a){return"probably"===a;}),this.jH=m.pa.from(this.F3).FR().then(function(a){return"probably"===a;}),this.qra(this.F3,this.config().u2a),this.Yoa(this.vXa.bind(this),this.F3),this.jH.then(function(b){b||(a.qra(a.E3,a.config().t2a),a.Yoa(a.uXa.bind(a),a.E3));})):(this.rpa=Promise.resolve(!0),this.jH=Promise.resolve(!1));};b.prototype.Yoa=function(a,b){m.pa.Rq(0,this.config().v2a).map(function(){return a();}).QH(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).gI(m.pa.from(b)).FR();};b.prototype.qra=function(a,b){this.ha.Af(k.Cb(b),function(){a.next("timeout");a.complete();});};b.prototype.uXa=function(){var a;a=q.tu.JM(g.Eb.TC,this.Iua,F).split("|");this.Fka=q.tu.G5(a[0],a[1]);this.esa=this.Na.Eg.qa(k.Ma);this.Ira=this.Ira||this.esa;this.tI();return this.Fka;};b.prototype.vXa=function(){var a;a=q.tu.JM(g.Eb.Hd,this.cC,A).split("|");this.Gka=q.tu.G5(a[0],a[1]);this.fsa=this.Na.Eg.qa(k.Ma);this.Jra=this.Jra||this.fsa;this.tI();return this.Gka;};b.prototype.HRa=function(){var a;a=this;return this.bZ(g.Eb.Hd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.cE("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.JRa=function(){var a;a=this;this.bZ(g.Eb.tn,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.xg.decode(b));a.cE("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.cE("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.KRa=function(){var a;a=this;this.bZ(g.Eb.tn,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.xg.decode(b));a.cE("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.cE("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.bZ=function(a,b){var c;c=this;return new Promise(function(d,g){var n,q,u;function f(a){try{l(a.target,"Unexpectedly got an mskeyerror event: 0x"+H.yF(a&&a.target&&a.target.error&&a.target.error.gtb||0,4));}catch(ua){l(a.target,ua);}}function h(a){l(a.target,"Unexpectedly got an mskeyadded event");}function m(a){var b;try{b=c.VUa(a.message,"PlayReadyKeyMessage","Challenge");p(a.target);d(b);}catch(la){l(a.target,la);}}function l(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});p(a);g(d);}function p(a){a.removeEventListener("mskeymessage",m);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",f);n&&n.cancel();}function r(a){a.addEventListener("mskeymessage",m);a.addEventListener("mskeyadded",h);a.addEventListener("mskeyerror",f);}try{q=new Uint8Array(T.X$a(b));u=new t.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),q);r(u);n=c.ha.Af(k.Cb(1E3),function(){l(u,Error("timeout"));});}catch(ka){g(ka);}});};b.prototype.VUa=function(a,b){var c,d,g,f;for(var c=1;c<arguments.length;++c);c="";g=a.length;for(d=0;d<g;d++)f=a[d],0<f&&(c+=String.fromCharCode(f));g="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){f=arguments[d];if(0>c.search(f))return;f="(?:[^:].*:|)"+f;g="[\\s\\S]*<"+f+"[^>]*>"+g+"</"+f+">[\\s\\S]*";}if(c=c.match(new RegExp(g)))return c[1];};pa.Object.defineProperties(b.prototype,{a_a:{configurable:!0,enumerable:!0,get:function(){return this.config().hUa&&(!this.config().w2a||this.Sra());}},$H:{configurable:!0,enumerable:!0,get:function(){try{return this.Jp(g.Eb.Hd);}catch(Z){return!1;}}},xab:{configurable:!0,enumerable:!0,get:function(){try{return this.Jp(g.Eb.TC);}catch(Z){return!1;}}}});b.SB='video/mp4;codecs="{0},mp4a";';c.Vza=b;},function(f,c,a){var d,h,l,g,m;function b(a,b,c,f){a=g.DS.call(this,a,b)||this;a.is=c;a.platform=f;a.type=d.au.su;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(34);h=a(64);l=a(160);g=a(364);m=a(213);oa(b,g.DS);b.prototype.YH=function(){return this.config().iF&&this.us(l.Eb.tn,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.Iv=function(){var a;a={};a[h.gk.wJ]="mp4a.40.2";a[h.gk.bT]="mp4a.40.5";"browser"===this.platform.WM?this.config().iF&&(a[h.gk.ZI]={Xe:"avc1",pd:l.Eb.tn,zd:["audio-endpoint-codec=DD+JOC"]},a[h.gk.$I]={Xe:"avc1",pd:l.Eb.tn,zd:["audio-endpoint-codec=DD+JOC"]}):(this.config().PZ&&(a[h.gk.ZI]="ec-3"),this.config().OZ&&(a[h.gk.tS]="ec-3"),this.config().iF&&(a[h.gk.$I]={Xe:"avc1",pd:l.Eb.tn,zd:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.h_=function(a){var b;b=this;return a.filter(function(a){var c,g;for(var c=Na(b.Gt),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Na(b.Tm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.O3[a];c=[];g=l.Eb.tn;if(a)return b.is.Xg(a)?d=a:(c=a.zd,d=a.Xe,g=a.pd),b.us(g,d,c);});};b.prototype.us=function(a,b,c){a=m.tu.JM(a,b,c);return this.Jp(a);};c.nAa=b;},function(f,c,a){var d,h,l,g,m,k,r,n,q,t,w,G,x,y,C,F,A,T,H;function b(a,b,c,d,g,f,h,m,l,k,p){this.Pla=a;this.cast=b;this.config=c;this.ha=d;this.Na=g;this.is=f;this.HZ=h;this.wA=m;this.MZ=l;this.platform=k;this.xg=p;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(34);l=a(215);g=a(150);m=a(214);k=a(698);r=a(697);n=a(123);q=a(364);t=a(43);w=a(52);G=a(20);x=a(696);y=a(114);C=a(12);F=a(695);A=a(131);T=a(24);a=a(62);b.prototype.tRa=function(a){var b;b=this.Pla.xha();switch(a){case h.au.su:return new k.nAa(this.config,b,this.is,this.platform);default:return new q.DS(this.config,b);}};b.prototype.eSa=function(a){var b;b=this.Pla.xha();switch(a){case h.Fi.oS:a=new m.r7(this.config,b,this.is,this.cast);break;case h.Fi.qS:a=new x.mva(this.config,b,this.is,this.HZ,this.wA,this.Na);break;case h.Fi.su:a=new r.Vza(this.config,b,this.is,this.ha,this.Na,this.wA,this.xg);break;case h.Fi.pba:a=new F.OEa(this.config,b,this.is,this.MZ);break;default:a=new n.ik(this.config,b,this.is);}return a;};H=b;H=f.__decorate([d.N(),f.__param(0,d.j(l.C9)),f.__param(1,d.j(m.pS)),f.__param(2,d.j(g.hJ)),f.__param(3,d.j(t.xh)),f.__param(4,d.j(w.mj)),f.__param(5,d.j(G.rd)),f.__param(6,d.j(y.kJ)),f.__param(7,d.j(C.Jb)),f.__param(8,d.j(A.iC)),f.__param(9,d.j(T.Pe)),f.__param(10,d.j(a.fl))],H);c.fva=H;},function(f,c,a){var d,h,l,g,m,k;function b(a,b,c){this.config=a;this.Qha=b;this.cast=c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(215);l=a(150);g=a(34);m=a(214);k=a(213);b.prototype.xha=function(){switch(this.config().UR){case g.Fi.oS:return m.r7.XY(this.Qha,this.cast);case g.Fi.su:return k.tu.XY(this.config);default:return this.Qha;}};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(l.hJ)),f.__param(1,d.j(h.qaa)),f.__param(2,d.j(m.pS))],a);c.Zya=a;},function(f,c,a){var d,h,l,g,m;function b(a,b,c){this.VM=a;this.Oa=b;this.FB=c;this.iLa="video/mp4;codecs={0}";this.rGa="audio/mp4;codecs={0}";a=this.VM.YN(d.Jd.Ff);this.hLa=l.od.zha(a);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(34);h=a(0);l=a(124);g=a(20);a=a(220);b.prototype.QE=function(a){a=this.VM.xXa(a);a=this.Oa.ah(a)?a:d.Jd.ZC;return this.FB.format(this.iLa,this.hLa[a]);};b.prototype.HM=function(){return this.FB.format(this.rGa,l.od.bS);};m=b;m=f.__decorate([h.N(),f.__param(0,h.j(d.ES)),f.__param(1,h.j(g.rd)),f.__param(2,h.j(a.OU))],m);c.WEa=m;},function(f,c,a){var d,h,l,g,m,k;function b(a,b,c){this.config=a;this.Dga=b;this.o5a=c;this.q6a=this.XRa();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(34);h=a(150);l=a(0);g=a(64);m=a(368);a=a(367);b.prototype.NYa=function(){return this.zja().jO();};b.prototype.OYa=function(a){return this.Yn().jO(a);};b.prototype.zja=function(){this.HX&&this.HX.type==this.config().IX||(this.HX=this.Dga.tRa(this.config().IX));return this.HX;};b.prototype.Yn=function(){this.TR&&this.TR.type==this.config().UR||(this.TR=this.Dga.eSa(this.config().UR),this.TR.fX(this.o5a.pXa()));return this.TR;};b.prototype.xXa=function(a){var g;if(!a||!a.length)return d.Jd.rJ;a=this.AVa(a);for(var b=[d.Jd.ZC,d.Jd.rJ,d.Jd.jK,d.Jd.Mo,d.Jd.Ff,d.Jd.yr],c=b.length;c--;){g=b[c];if((0,this.q6a[g])(a))return g;}return d.Jd.ZC;};b.prototype.Co=function(a){return this.Yn().Co(a);};b.prototype.Jp=function(a){return this.Yn().Jp(a);};b.prototype.Vz=function(){return this.Yn().Vz();};b.prototype.aI=function(){return this.Yn().aI();};b.prototype.YH=function(){return this.zja().YH();};b.prototype.ZH=function(){return this.Yn().ZH();};b.prototype.bI=function(){return this.Yn().bI();};b.prototype.YN=function(a){return this.Yn().YN(a);};b.prototype.Yz=function(){return this.Yn().Yz();};b.prototype.IF=function(){return this.Yn().IF();};b.prototype.AVa=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.le]="";});return Object.keys(b);};b.prototype.XRa=function(){var a;a={};a[d.Jd.yr]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[d.Jd.Ff]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[d.Jd.Mo]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[d.Jd.jK]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[d.Jd.rJ]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=Na(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[g.$.ju]);a[d.Jd.ZC]=function(){return!0;};return a;};k=b;k=f.__decorate([l.N(),f.__param(0,l.j(h.hJ)),f.__param(1,l.j(a.n7)),f.__param(2,l.j(m.w8))],k);c.Awa=k;},function(f,c,a){var b,d,h,l,g,m,k,r,n,q,z,w,G,x,y,C,F,A,T,H;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(34);d=a(29);h=a(702);l=a(150);g=a(107);m=a(701);k=a(215);r=a(700);n=a(368);q=a(367);z=a(699);w=a(214);G=a(5);x=a(363);y=a(694);C=a(362);F=a(693);A=a(212);T=a(692);H=a(361);c.VM=new f.dc(function(a){a(g.ky).to(m.WEa).Y();a(b.ES).to(h.Awa).Y();a(k.C9).to(r.Zya).Y();a(q.n7).to(z.fva).Y();a(k.qaa).th({isTypeSupported:G.JC&&G.JC.isTypeSupported});a(w.pS).th("undefined"!==typeof cast?cast:null);a(n.w8).NB(function(){return{pXa:function(){return t._cad_global.platformExtraInfo;}};});a(l.hJ).NB(function(a){return a.kc.get(d.Ef);});a(x.n$).to(y.$za).Y();a(C.m$).to(F.aAa).Y();a(A.v8).to(T.qxa).Y();a(H.Naa).th(t);});},function(f,c,a){function b(a){this.HTa=void 0===a?10:a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b=f.__decorate([a.N()],b);c.mFa=b;},function(f,c,a){var d,h;function b(a){this.mbb=a;this.CR={};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(216);b.prototype.LWa=function(){var a,b,c;a=[];for(b in this.CR){c=this.CR[b];a.push({iz:b,rx:c.Nl().rx,DZ:c.Nl().DZ});}return a;};b.prototype.cM=function(a){var b,c;b=a.iz;c=this.CR[b];c||(c=this.mbb(),this.CR[b]=c);c.cM(a);};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.RU))],h);c.kva=h;},function(f,c,a){var d,h,l,g;function b(a){this.config=a;this.s5=h.cl;this.xB=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(42);l=a(7);a=a(370);b.prototype.Nl=function(){var b;for(var a;0<this.xB.length;)a=this.xB.shift(),this.vfa(a);a=void 0===this.gF||void 0===this.Pv?l.cl:this.Pv.ie(this.gF);b=a.Sla()?0:this.s5.qa(h.Ix)/a.qa(l.Ma);return{rx:Math.floor(b),DZ:a.qa(l.Ma)};};b.prototype.cM=function(a){this.s5=this.s5.add(a.size);this.xB.push(a.GTa);for(this.xB.sort(function(a,b){return a.start.Gk(b.start);});this.xB.length>this.config.HTa;)a=this.xB.shift(),this.vfa(a);};b.prototype.vfa=function(a){void 0===this.gF&&(this.gF=a.start);void 0!==this.Pv&&0>this.Pv.Gk(a.start)&&(this.gF=this.gF.add(a.start.ie(this.Pv)));if(void 0===this.Pv||0>this.Pv.Gk(a.end))this.Pv=a.end;};g=b;g=f.__decorate([d.N(),f.__param(0,d.j(a.Jba))],g);c.nFa=g;},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(706);d=a(705);h=a(704);l=a(369);g=a(370);m=a(216);c.Pab=new f.dc(function(a){a(m.Kba).to(b.nFa);a(l.s7).to(d.kva).Y();a(g.Jba).th(new h.mFa());a(m.RU).Yl(function(a){return function(){return a.kc.get(m.Kba);};});});},function(f,c,a){var d,h,l,g,m,k;function b(a,b,c,g,f,h,m,k,p,n,q,t,A,H,O,B,P,V){var r;r=this;this.bg=a;this.Oa=b;this.gb=c;this.dh=f;this.Nm=m;this.qo=k;this.Cv=p;this.xLa=n;this.config=q;this.Aq=A;this.M=H;d.$i(this,"playback");this.log=g.Bb("VideoPlayer",this.L);this.U=t(H,P,O,B);this.U.background=!0;this.U.pe=V;this.U.Oc=P;this.Joa=[];this.ended=!1;this.y6();this.element=this.U.Xf;this.aa=this.U.aa;this.ready=!1;this.U.state.addListener(function(a){a.newValue===l.mk.Bu&&(r.ready,r.Tc(l.Qa.$0,{movieId:r.M}));});this.U.Pb.Qf&&(this.Lt=h.vRa(this,this.U,this.Aq),this.U.addEventListener(l.Ea.T4,function(a){r.Tc(l.Qa.MQ,{segmentId:a.segmentId});}));}Object.defineProperty(c,"__esModule",{value:!0});d=a(49);h=a(2);l=a(46);g=a(7);m=a(5);k=a(61);b.prototype.kYa=function(){return this.U.UP.value;};b.prototype.gYa=function(){return this.U.paused.value;};b.prototype.lXa=function(){return this.ended;};b.prototype.Nj=function(){var a;a=this.U.eY.value;return a?{networkStalled:!!a.hR,stalled:!!a.hR,progress:a.Rh,progressRollback:!!a.t6a}:null;};b.prototype.getError=function(){var a;a=this.U.Gg;return a?a.GR():null;};b.prototype.Un=function(){return this.U.pc.value;};b.prototype.F_=function(){return this.U.F_();};b.prototype.fO=function(){return this.U.Ts();};b.prototype.kXa=function(){return this.U.duration;};b.prototype.dZa=function(){return this.U.Gx?{width:this.U.Gx.width,height:this.U.Gx.height}:null;};b.prototype.UWa=function(){var g;if(this.U.EI){for(var a,b=0;b<this.U.EI.length;b++)for(var c=this.U.EI[b],d=0;d<c.Db.length;d++){g=c.Db[d];this.Oa.ye(g.hSa)&&this.Oa.ye(g.Dha)&&this.Oa.ye(g.Cha)&&this.Oa.ye(g.Bha)&&0<g.Dha&&(g=g.Bha/g.Cha,a=this.Oa.ye(a)?Math.min(a,g):g);}return a;}};b.prototype.fXa=function(){var a;a=this;return{addEventListener:this.U.CZ.addEventListener,removeEventListener:this.U.CZ.removeEventListener,getModel:function(){return a.U.CZ.eqb;},getTime:function(){return a.gb.oe().qa(g.Ma);},getGroups:function(){var b;b=a.U.RP;return b?b.tXa():[];}};};b.prototype.tWa=function(){var a,c;a=[];if(this.U.js)for(var b=0;b<this.U.js.length;b++){c=this.aA(this.U.js[b]);null!==c&&a.push(c);}return a;};b.prototype.UYa=function(){var a,d;a=[];if(null!==this.U.gc.value)for(var b=this.U.gc.value.Ym,c=0;c<b.length;c++){d=this.aA(b[c]);null!==d&&a.push(d);}return a;};b.prototype.WXa=function(){return this.U.muted.value;};b.prototype.eZa=function(){return this.U.volume.value;};b.prototype.sWa=function(){return this.aA(this.U.gc.value);};b.prototype.TYa=function(){return this.aA(this.U.Fc.value);};b.prototype.E9a=function(a){this.U.muted.set(!!a);};b.prototype.R9a=function(a){this.U.volume.set(this.coa(a,1));};b.prototype.I9a=function(a){this.U.playbackRate.set(this.coa(a,2));};b.prototype.r9a=function(a){for(var b,c=0;c<this.U.js.length;c++)if(b=this.U.js[c],this.aA(b)==a){this.U.gc.set(b);return;}this.log.error("Invalid setAudioTrack call");};b.prototype.O9a=function(a){if(null!=this.U.gc.value){for(var b=this.U.gc.value.Ym,c,d=0;d<b.length;d++){c=b[d];if(!a&&null==c){this.U.Fc.set(null);return;}if(this.aA(c)==a){this.log.info("Setting Timed Text, profile: "+c.Q2);this.U.Fc.set(c);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.s9a=function(){this.U.background=!1;};b.prototype.iR=function(){this.U.iR();};b.prototype.addEventListener=function(a,b,c){this.dh.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.dh.removeListener(a,b);};b.prototype.Dt=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.U.load(function(b,c){try{a.Tc(l.Qa.aP,void 0,!0);b.Sa&&b.Sa.watermarkInfo&&a.Tc(l.Qa.ZR,b.Sa.watermarkInfo,!0);b.Sa.choiceMap&&a.Tc(l.Qa.LQ,{segmentMap:b.Sa.choiceMap},!0);c({K:!0});}catch(z){c({R:h.u.te,za:a.bg.yc(z)});}}));};b.prototype.close=function(a){var b;b=this;this.Tga||(this.Tga=new Promise(function(c){a?b.U.Hh(a,c):b.U.close(c);}));return this.Tga;};b.prototype.play=function(){this.load();this.U.paused.value&&(this.U.paused.set(!1),this.U.fireEvent(l.Ea.Zsa));};b.prototype.pause=function(){this.load();this.U.paused.value||(this.U.paused.set(!0),this.U.fireEvent(l.Ea.Ysa));};b.prototype.seek=function(a,b){this.U.bf?this.U.bf.seek(a,b):this.U.rm=a;};b.prototype.t5a=function(a){return this.Lt?(this.log.trace("Playing a segment",a),this.Lt.play(a)):Promise.resolve();};b.prototype.J6a=function(a){return this.Lt?(this.log.trace("Queueing a segment",a),this.Lt.Eq(a)):Promise.resolve();};b.prototype.Uq=function(a,b){return this.Lt?(this.log.trace("Updating next segment weights",a,b),this.Lt.Uq(a,b)):Promise.resolve();};b.prototype.pI=function(){this.U.pI();};b.prototype.KH=function(a){this.U.Xt&&this.U.Xt.KH(a);};b.prototype.LH=function(a){this.U.Xt&&this.U.Xt.LH(a);};b.prototype.JF=function(){return this.U.Xt?this.U.Xt.JF():!1;};b.prototype.MH=function(a){this.U.Xt&&this.U.Xt.MH(a);};b.prototype.l5=function(a){this.U.l5(a);};b.prototype.ZYa=function(a){return this.U.Go?this.U.Go.sXa(a):null;};b.prototype.pWa=function(){return this.bg.st({playerver:this.config.version,jssid:this.config.a0a,groupName:this.config.config.Zn,xid:this.U.aa,pbi:this.U.index},this.config.p5a,{prefix:"pi_"});};b.prototype.k_a=function(a){this.U.Hh(this.Aq(h.v.dxa,h.u.Vg,a));};b.prototype.P0a=function(a,b,c){if(!this.Oa.Lfa(a))throw Error("invalid url");this.Joa.push({url:a,name:b,lNa:c});this.ppa();};b.prototype.oka=function(){var a,b,c,d,g,f,h,l;a={};b=this.U.Toa;try{if(this.U.Gg&&(a.errorCode=this.U.Gg.Fz,a.errorType=b?"endplay":"startplay"),a.playdelay=this.U.Toa,a.xid=this.U.aa,this.U.Sa&&this.Oa.Xg(this.U.Sa.packageId)&&(a.packageId=Number(this.U.Sa.packageId)),a.auth=this.U.vWa(),a.hdr=this.U.GXa(),b){a.totaltime=this.U.Sl?this.RVa(this.U.Sl.h0()):0;a.abrdel=this.U.Sl?this.U.Sl.Aja():0;c=this.U.bf;d=c?c.Zv():null;this.Oa.ye(d)&&(a.totdfr=d);d=c?c.CF():null;this.Oa.ye(d)&&(a.totcfr=d);g=c?c.HXa():null;g&&(a.rbfrs_decoder=g.zSa,a.rbfrs_network=g.c3a);a.rbfrs_delay=this.U.Sl?this.U.Sl.IXa():0;a.init_vbr=this.U.s_a;f=this.eO();this.Oa.ah(f)&&(a.pdltime=f);h=this.U.Tl.value;l=h&&h.stream;l&&(a.vbr=l.J,a.vdlid=l.ac);a.bufferedTime=this.U.HWa();}}catch(C){this.log.error("error capturing session summary",C);}return a;};b.prototype.ZN=function(){var a;a=this;return new Promise(function(b,c){a.U.ZN(function(a){a.success?b(a):c(a);});});};b.prototype.Rn=function(a){var b,c,d;b=this;if(this.Oa.ye(this.U.pc.value)){if(this.Nm.oh.events&&this.Nm.oh.events.active){c=Object.assign({},this.qo.zs(this.U,!1),{action:a});d=this.Cv(k.gg.Rn);return this.xLa().then(function(a){return d.Am(b.log,a.profile,b.U.Sa.mt,c);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.tb,errorExternalCode:a.Sc,errorData:a.data,errorDetails:a.Nv};});}if(this.U.xi&&this.U.dj)return this.U.dj.Rn(a).then(function(a){return{success:a.K};})["catch"](function(a){return{success:a.K,errorCode:h.v.k8,errorSubCode:a.R,errorExternalCode:a.ub,errorData:a.ji,errorDetails:a.za};});}return Promise.resolve({success:!1});};b.prototype.aA=function(a){return null!==a?(a.U3=a.U3||{trackId:a.Ab,bcp47:a.Dl,displayName:a.displayName,trackType:a.b6,channels:a.kz},a.W0&&(a.U3.isImageBased=!0),a.U3):null;};b.prototype.coa=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.RVa=function(a){return this.Oa.ye(a)?(a/1E3).toFixed(0):"";};b.prototype.Tc=function(a,b,c){b=b||{};b.target=this;this.dh.mc(a,b,!c);};b.prototype.y6=function(){var a;a=this;this.U.addEventListener(l.Ea.$ra,function(){a.Tc(l.Qa.Ik);});this.U.addEventListener(l.OT.Hga,function(){a.Tc(l.Qa.tE);});this.U.addEventListener(l.Ea.oQ,function(){a.Tc(l.Qa.tE);});this.U.addEventListener(l.Ea.VF,function(b){a.Tc(l.Qa.VF,{errorCode:b});});this.U.addEventListener(l.Ea.bga,function(b){a.Tc(l.Qa.NX,b);});this.U.addEventListener(l.Ea.vv,function(b){a.Tc(l.Qa.OX,b);});this.U.UP.addListener(function(){a.Tc(l.Qa.D3);});this.U.paused.addListener(function(){a.Tc(l.Qa.MP);});this.U.muted.addListener(function(){a.Tc(l.Qa.xP);});this.U.volume.addListener(function(){a.Tc(l.Qa.WR);});this.U.Tb.addListener(function(){a.Isa();});this.U.state.addListener(function(){a.Isa();});this.U.eY.addListener(function(b){a.X0a||a.U.state.value!=l.mk.Bu||b.newValue||(a.X0a=!0,a.Tc(l.Qa.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.oka());}));a.Tc(l.Qa.gz);});this.U.gc.addListener(function(b){a.Tc(l.Qa.hE);b.oldValue&&b.newValue&&b.oldValue.Ym==b.newValue.Ym||a.Tc(l.Qa.Do);setTimeout(function(){var b;if(null!==a.U.gc.value&&null!==a.U.Fc.value){b=a.U.gc.value.Ym;0<=b.indexOf(a.U.Fc.value)||(a.log.info("Changing timed text track to match audio track"),a.U.Fc.set(b[0]));}},0);});this.U.Fc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.Ab==b.newValue.Ab||a.Tc(l.Qa.jI);});this.U.addEventListener(l.Ea.Do,function(){a.Tc(l.Qa.Do);});this.U.addEventListener(l.Ea.Zt,function(){a.Tc(l.Qa.Zt);});this.U.state.addListener(function(b){switch(b.newValue){case l.mk.Bu:a.Tc(l.Qa.gN);a.Tc(l.Qa.VR);a.Tc(l.Qa.iE);a.Tc(l.Qa.Do);a.Tc(l.Qa.$O);a.ppa();a.Wcb();break;case l.mk.hba:a.U.Gg&&a.Tc(l.Qa.error,a.U.Gg.GR());break;case l.mk.gba:a.Tc(l.Qa.closed),a.dh.Ov();}});};b.prototype.Wcb=function(){var a;a=this;this.U.Pq.addEventListener("showsubtitle",function(b){a.Tc(l.Qa.XQ,b,!0);});this.U.Pq.addEventListener("removesubtitle",function(b){a.Tc(l.Qa.mQ,b,!0);});};b.prototype.ppa=function(){if(this.U.state.value==l.mk.Bu){for(var a,b,c;b=this.Joa.shift();)a=this.U.Pq.dX(b.url,b.name),b.lNa&&(c=a);c&&this.U.Fc.set(c);}};b.prototype.Isa=function(){var a;a=this.U.state.value==l.mk.Bu&&this.U.Tb.value==l.fm.PS;this.ended!==a&&(this.ended=a,this.Tc(l.Qa.oN));};b.prototype.eO=function(){var a,b;try{a=/playercore.*js/;b=m.cm.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(v){}};pa.Object.defineProperties(b.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.U;}}});c.Wya=b;},function(f,c,a){var d,h,l,g,m,k,r,n,q,t,w,G,x;function b(a){this.sb=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(236);l=a(26);g=a(20);m=a(38);k=a(12);r=a(109);n=a(218);q=a(708);t=a(23);w=a(217);G=a(61);x=a(63);b.prototype.WRa=function(a,b,c,d,f,h,p,u){return new q.Wya(this.sb.get(l.Re),this.sb.get(g.rd),this.sb.get(m.eg),this.sb.get(k.Jb),this.sb.get(r.nJ),this.sb.get(n.KU),this.sb.get(t.Oe),this.sb.get(w.rU),this.sb.get(G.mJ),this.sb.get(x.gn),a,b,c,d,f,h,p,u);};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.DT))],a);c.QFa=a;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(372);d=a(709);c.Lcb=new f.dc(function(a){a(b.aca).to(d.QFa).Y();});},function(f,c,a){var d,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(29);b.prototype.p6a=function(a,b,c){var d;if(this.config().$8a){d=a.metrics;c||(void 0===d?b.KA.transition({srcxid:b.aa,srcmid:b.M,segment:a.segmentId,dataerror:"missingMetrics"}):b.KA.transition({srcxid:b.aa,srcmid:b.M,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard}));}};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.Ef))],h);c.xFa=h;},function(f,c,a){var h;function b(){}function d(a,b,c,d,f){this.debug=a;this.version=b;this.a0a=c;this.p5a=d;this.config=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);d.prototype.E_=function(){return this.config.jga;};d.prototype.eka=function(){return this.config.F5a;};b.prototype.Zp=function(a,b,c,f,h){return new d(a,b,c,f,h);};h=b;h=f.__decorate([a.N()],h);c.SEa=h;},function(f,c,a){var l,g,m,k;function b(a,b,c,d,g,f,h,l,k){var p;p=this;this.cc=b;this.L=c;this.L2=d;this.EG=g;this.ha=f;this.EMa=h;this.Aq=l;this.Fbb=k;this.log=a.Bb("SegmentManager",this.L);this.bk=new Map();this.xla=!0;this.L.Pb.Qf&&(this.L.addEventListener(m.Ea.T4,function(a){return p.r4a(a);}),this.L.addEventListener(m.Ea.Tqa,function(a){return p.q4a(a);}));}function d(a,b){this.id=a;this.sY=b;}function h(a,b,c,d){return g.nb.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(c,"__esModule",{value:!0});l=a(2);g=a(48);m=a(46);k=a(7);oa(h,g.nb);h.prototype.toString=function(){return this.code+"-"+this.tb+" : "+this.message+"\n"+JSON.stringify(this.data);};d.prototype.toJSON=function(){return{id:this.id,lastPts:this.SO,contentStartPts:this.lR,contentEndPts:this.yUa};};pa.Object.defineProperties(d.prototype,{lR:{configurable:!0,enumerable:!0,get:function(){return this.sY.startTimeMs;}},yUa:{configurable:!0,enumerable:!0,get:function(){return this.sY.endTimeMs;}},h3a:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.sY.next);}}});b.prototype.r4a=function(a){var b,c;b=this;if(0===this.bk.size){c=this.L.XN();Object.keys(c).forEach(function(a){b.bk.set(a,new d(a,c[a]));});}this.Ag=this.bk.get(a.segmentId);this.Fbb.p6a(a,this.L,this.xla);this.xla=!1;};b.prototype.q4a=function(a){var b;b=this.bk.get(a.segmentId);b&&(b.SO=a.pts);this.Gs&&a.segmentId===this.Gs.Ag&&(a=this.Gs.zpa,this.Gs=void 0,this.ypa(a));};b.prototype.play=function(a){this.Vw&&(this.Vw=void 0);this.Mm&&(this.Mm.closed||this.Mm.unsubscribe(),this.Mm=void 0);this.log.trace("Playing segment",a);return this.Bla(a)?this.s5a(a):this.QP(a);};b.prototype.Eq=function(a){this.log.trace("Queueing segment",a);return this.Bla(a)?this.I6a(a):this.ypa(a);};b.prototype.Uq=function(a,b){var c,d;c=this;d=this.L.bb;if(!d)return Promise.reject(this.getError(l.v.X6,"ASE session manager is not yet initialized",l.u.gS,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(g,f){try{d.g6(a,b);c.L.fireEvent(m.Ea.Uq,{wo:a,icb:b});g();}catch(x){f(c.getError(l.v.X6,"updateNextSegmentWeights threw an exception",l.u.cua,{segmentId:a,updates:b,error:x}));}});};b.prototype.Bla=function(a){return this.Ag?void 0!==this.L.XN()[this.Ag.id].next[a]:!1;};b.prototype.mYa=function(){if(this.L.bb)return this.L.bb.fka().Ub;};b.prototype.OWa=function(a){if(this.L.bb)return(a=this.L.bb.NWa(a))&&a.Ub;};b.prototype.s5a=function(a){var b,c,d;b=this;c=this.L.bb;if(!c)return Promise.reject(this.getError(l.v.aC,"ASE session manager is not yet initialized",l.u.gS,{id:a}));if(this.Ag&&1===this.Ag.h3a.length)return this.QP(a);if(!this.L.bf)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(l.v.aC,"MediaPresenter is not initialized",l.u.aua,{id:a}));d=this.OWa(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.QP(a)):new Promise(function(g,f){var q,u,v,t,w,z;function h(){!v&&u&&q&&(z.cancel(),v=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:u,repositioned:q,completed:v}),c.EE(a,!1,!0)?(g(),v=!0):(v=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.QP(a).then(g)["catch"](f)));}function p(){q=!0;b.log.trace("Player is repositioned",{id:a,stopped:u,repositioned:q,completed:v});b.L.removeEventListener(m.Ea.oQ,p);h();}function r(){b.L.removeEventListener(m.Ea.v4,r);c.stop();}function n(){u=!0;b.log.trace("ASE is stopped",{id:a,stopped:u,repositioned:q,completed:v});c.removeEventListener("stop",n);h();}q=!1;u=!1;v=!1;t=b.bk.get(a);w=t.lR+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:w,currentSegment:b.Ag,nextSegment:t},null,"  "));b.L.fireEvent(m.Ea.U2,{Gha:b.Ag&&b.Ag.id,g3a:a});c.addEventListener("stop",n);b.L.addEventListener(m.Ea.v4,r);b.L.addEventListener(m.Ea.oQ,p);z=b.ha.Af(k.ij(10),function(){v=!0;z.cancel();f(b.getError(l.v.aC,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.u.$ta,{id:a,stopped:u,repositioned:q,completed:v}));});b.cc.seek(w,m.hy.Uaa);});};b.prototype.QP=function(a){var b;b=this.bk.get(a);return b?this.Sqa(b,l.v.aC):Promise.reject(this.getError(l.v.aC,"Unable to find the separated segment",l.u.W6,{id:a}));};b.prototype.I6a=function(a){var b;b=this.L.bb;if(!b)return Promise.reject(this.getError(l.v.Xq,"ASE session manager is not yet initialized",l.u.gS,{id:a}));if(b.EE(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(l.v.Xq,"ASE chooseNextSegment failed",l.u.Xta,{id:a}));};b.prototype.ypa=function(a){var b,c;b=this;if(this.Vw)return Promise.reject(this.getError(l.v.Xq,"Unable to queue a non-next segment because there is currently already a segment queued",l.u.V6,{currentSegment:this.Ag?this.Ag.id:void 0,queuedSegment:this.Vw.id,failedSegment:a}));if(!this.Ag)return Promise.reject(this.getError(l.v.Xq,"Unable to queue a non-next segment because there is no currently playing segment",l.u.Yta,{nextSegmentid:a}));if(this.Gs)return Promise.reject(this.getError(l.v.Xq,"Unable to queue a non-next segment because there is currently already a segment queued",l.u.V6,{currentSegment:this.Gs.Ag,queuedSegment:this.Gs.zpa,failedSegment:a}));if(!this.Ag.SO)return this.Gs={Ag:this.Ag.id,zpa:a},Promise.resolve();c=this.bk.get(a);if(!c)return Promise.reject(this.getError(l.v.Xq,"Unable to find the separated segment",l.u.W6,{nextSegmentid:a,currentSegmentId:this.Ag.id}));this.Vw={id:a,P3:new Promise(function(d,g){var f,h,m;f=b.L2.vha({eka:function(){return 100;}},function(){return b.cc.Un()||0;});h=b.mYa();m=b.Ag.SO+h-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:m});f.zfa(b.EG.uha(a+":lastPts",m));b.Mm=f.observe();b.Mm.subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.Ag.id,branchOffset:h,lastPts:b.Ag.SO,pts:m});b.Gs=void 0;b.Vw=void 0;b.Mm=void 0;b.Sqa(c,l.v.Xq).then(function(){d();})["catch"](function(a){g(a);});},function(c){b.Vw=void 0;b.Mm=void 0;g(b.getError(l.v.Xq,"ASE session manager is not yet initialized",l.u.Zta,{id:a,error:c}));});})};this.Vw.P3["catch"](function(a){b.L.Hh(b.Aq(a.code,a));});return Promise.resolve();};b.prototype.Sqa=function(a,b){var c;c=this;return new Promise(function(d,g){try{c.cc.seek(a.lR,m.hy.Vaa);d();}catch(G){g(c.getError(b,"Seek threw an exception",l.u.bua,{id:a.id,error:G}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};c.yua=b;},function(f,c,a){var g,m,k;function b(a,b,c,d,f,h,l,m,k){this.gb=a;this.EG=c;this.L2=d;this.C3=f;this.config=h;this.Aq=l;this.A3=m;this.y6=k;this.Nt=[];this.log=b.Bb("SegmentManager");new g.yh();this.q_=!0;}function d(a,b,c,d,f,l,m,k,p){var n;n=this;this.log=a;this.config=b;this.R3a=c;this.EG=d;this.C3=f;this.Aq=l;this.A3=m;this.Lt=k;this.na=p;this.log.debug("Constructing session data",h(p));this.B1=new g.yh();this.abb=new Promise(function(a){n.T6a=a;});}function h(a){return{movieId:a.M,uiLabel:a.Oc};}function l(a){return JSON.stringify({movieId:a.M,nextStartPts:a.NG,currentEndPts:a.uz,uiLabel:a.Oc,params:a.mb?{trackingId:a.mb.Zf,authParams:a.mb.pm,sessionParams:a.mb.jf,disableTrackStickiness:a.mb.Bz,uiPlayStartTime:a.mb.KR,loadImmediately:a.mb.ZO,playbackState:a.mb.playbackState?{currentTime:a.mb.playbackState.currentTime}:void 0}:void 0});}Object.defineProperty(c,"__esModule",{value:!0});g=a(77);m=a(46);k=a(7);d.prototype.load=function(a){var b;b=this;this.log.trace("Loading new segment",h(this.na));this.cc=this.C3.WRa(this.config,this.A3,this.Aq,this.na.M,this.na.SA,this.na.mb,this.na.Oc,this.na.pe);this.cc.addEventListener(m.Qa.VF,function(a){b.log.trace("Segment is inactive",h(b.na));b.Lt.close(b.Aq(a.errorCode));});a&&(this.log.debug("Pausing background segment",h(this.na)),this.cc.addEventListener(m.Qa.$0,function(a){b.xka(a);}),this.cc.pause());};d.prototype.observe=function(){var a,b;a=this;this.log.trace("Observing segment",l(this.na));if(this.Mm)this.log.trace("Segment is currently observing",h(this.na));else if(this.na.mb&&this.na.mb.ZO)this.B1.next(this);else{this.Mm=this.R3a.vha(this.config,function(){var b;if(a.cc){b=a.cc.Un();if(b)return b;}return 0;});b=this.EG.uha("LOAD",this.vOa(this.na));this.log.trace("Adding a moment to watch",{name:b.name,time:b.time});this.Mm.zfa(b);this.Mm.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",h(a.na));a.B1.next(a);});}};d.prototype.close=function(a){this.log.info("Closing segment",{segment:l(this.na),error:a});return this.cc?(this.cc.removeEventListener(m.Qa.$0,this.xka),this.cc.close(a)):Promise.resolve();};d.prototype.vOa=function(a){var b,c;b=a.uz;a=a.mb?a.mb.ZO:!1;c=0;b&&!a&&(c=b-this.config.config.rma,c<this.config.config.Qma&&(c=b-(b-this.config.config.Qma)/2));return c;};d.prototype.xka=function(a){this.log.trace("Received the transition event",{movieId:a.M});this.T6a(l(this.na));};b.prototype.qYa=function(){return this.xd&&this.xd.cc?this.xd.cc.ready:!1;};b.prototype.YLa=function(a){this.log.info("Adding segment",l(a));this.q_?(this.log.trace("First segment, loading",h(a)),a=this.qma(a),this.q_=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.f8a(a));return a?a.abb:null;};b.prototype.transition=function(a){var b;if(this.vq&&this.vq.cc){b=this.vq;this.vq=void 0;this.log.info("Transitioning segment",l(b.na));b&&b.cc&&b.cc.l5(this.gb.oe().qa(k.Ma));return this.tsa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.xd.na)),nextSession:this.vq?JSON.stringify(h(this.vq.na)):void 0});c=[this.xd.close(a)];this.vq&&c.push(this.vq.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.vq=void 0;b.Nt=[];b.q_=!0;a();})["catch"](d);});};b.prototype.qma=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.xd&&(this.config.E_()[a.M]=a.NG);c=this.yVa(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.B1.subscribe(function(a){b.Uab(a);});this.xd?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.vq=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.tsa(c));return c;};b.prototype.tsa=function(a,b){var c,d,g;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.na));c=this.xd;this.xd=a;if(this.xd.cc&&(this.xd.cc.s9a(),this.y6(this.xd.cc,c?c.cc:void 0),c&&c.cc)){d=c.cc.element;a=this.xd.cc.element;g=d.parentElement;d.style.display="none";c=c.close();g.appendChild(a);this.xd.cc&&(a.style.display="block",this.xd.cc.getError()?this.xd.cc.close():(this.xd.cc.L.fcb(b),this.xd.cc.iR(),this.xd.cc.play()));c.then(function(){g.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Uab=function(a){var b,c,d,g;if(this.Nt.length&&a.cc){a=a.cc.Un();b=this.Nt[0];c=this.xd.na.uz;d=this.xd.na.mb?this.xd.na.mb.ZO:!1;if(c||d){d?g=0:c&&(g=c-this.config.config.rma);null!==a&&a>=g&&(this.log.info("Got a time change, loading the next player",h(b.na)),this.qma(b.na),this.Nt.splice(0,1));}}};b.prototype.yVa=function(a){var b;b=null;this.xd?this.Nt.forEach(function(c){c.na.M===a.M&&(b=c);}):b=this.Cs(a);return b;};b.prototype.f8a=function(a){var c;if(this.xd.na.M===a.M)return this.Boa(this.xd.na,a),this.log.trace("Overwrote the currently playing segment data",l(this.xd.na)),this.xd;for(var b=0;b<this.Nt.length;++b){c=this.Nt[b];if(c.na.M===a.M)return this.Boa(c.na,a),this.log.trace("Overwrote the currently playing segment data",l(c.na)),c;}a=this.Cs(a);this.Nt.push(a);this.xd.observe();return a;};b.prototype.Boa=function(a,b){a.NG=b.NG||a.NG;a.uz=b.uz||a.uz;a.Oc=b.Oc||a.Oc;a.mb=b.mb||a.mb;a.pe=b.pe||a.pe;};b.prototype.Cs=function(a){return new d(this.log,this.config,this.L2,this.EG,this.C3,this.Aq,this.A3,this,a);};c.UEa=b;},function(f,c,a){var d,h,l,g,m,k,n,q,v,t,w,G;function b(a){this.sb=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(236);l=a(38);g=a(12);m=a(375);k=a(374);n=a(372);q=a(714);v=a(713);t=a(83);w=a(43);G=a(371);b.prototype.QRa=function(a,b,c,d){return new q.UEa(this.sb.get(l.eg),this.sb.get(g.Jb),this.sb.get(m.VT),this.sb.get(k.WT),this.sb.get(n.aca),a,b,c,d);};b.prototype.vRa=function(a,b,c){return new v.yua(this.sb.get(g.Jb),a,b,this.sb.get(k.WT),this.sb.get(m.VT),this.sb.get(w.xh),this.sb.get(t.P6),c,this.sb.get(G.Pba));};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.DT))],a);c.TEa=a;},function(f,c,a){var b,d,h,l,g,m;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(218);d=a(373);h=a(715);l=a(712);g=a(371);m=a(711);c.bk=new f.dc(function(a){a(b.KU).to(h.TEa).Y();a(d.qba).to(l.SEa).Y();a(g.Pba).to(m.xFa).Y();});},function(f,c,a){var d;function b(a,b){this.config=a;this.pc=b;this.FG=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(77);b.prototype.zfa=function(a){0===this.FG.filter(function(b){return b.K2===a;}).length&&this.FG.push({K2:a,Lpa:!1});};b.prototype.observe=function(){var a;a=this;this.Bo||(this.Bo=new d.yh(),d.pa.interval(this.config.eka()).subscribe(function(){var b;b=a.pc();a.FG.forEach(function(c){!c.Lpa&&c.K2.time<=b&&(c.Lpa=!0,a.Bo.closed||a.Bo.next(c.K2));});}));return this.Bo;};c.rAa=b;},function(f,c,a){var d,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(717);b.prototype.vha=function(a,b){return new h.rAa(a,b);};a=b;a=f.__decorate([d.N()],a);c.qAa=a;},function(f,c){function a(a,c){this.name=a;this.time=c;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>c)throw new TypeError("'time' property is not valid: "+c);}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.add=function(b,c){return new a(b,this.time+c);};a.prototype.ie=function(b,c){return new a(b,this.time-c);};c.pAa=a;},function(f,c,a){var d,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(719);b.prototype.uha=function(a,b){return new h.pAa(a,b);};a=b;a=f.__decorate([d.N()],a);c.oAa=a;},function(f,c,a){var b,d,h,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(375);d=a(720);h=a(374);l=a(718);c.FG=new f.dc(function(a){a(b.VT).to(d.oAa).Y();a(h.WT).to(l.qAa).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.reduce=function(a,b,c){for(;void 0!==a;a=a.cause)c=b(c,a);return c;};},function(f,c,a){var t,w,G,x;function b(a,b){this.xg=a;this.bg=b;this.li=[];}function d(a){return v.call(this,a,function(a){return{Details:a};})||this;}function h(a){return v.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function l(a,b){b=v.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.xg=a;return b;}function g(a,b){b=v.call(this,b,function(a){return a();})||this;b.bg=a;return b;}function m(a,b){return n.call(this,a,b,function(a){var b;b=w.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;m.kPa(b,a,"stack","message");return a;},{});return Object.assign({},a,b);})||this;}function k(a){return v.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function n(a,b,c){b=v.call(this,b,c)||this;b.bg=a;return b;}function q(a){return v.call(this,a,function(a){return{Details:a};})||this;}function v(a,b){this.Um=a;this.value=b?b(a):a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);t=a(0);w=a(722);G=a(26);a=a(62);v.prototype.qN=function(a){return this.Um===a;};oa(q,v);q.prototype.tx=function(a,b){return b?"":"\r\n"+this.Um;};oa(n,v);n.prototype.tx=function(){var a;a="";this.bg.Ls(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(N){try{a+=", "+b+": "+JSON.stringify(c);}catch(T){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};oa(k,v);k.prototype.tx=function(a){var b;b="\r\n"+this.Um.message;a||(b+="\r\n"+this.Um.stack);return b;};oa(m,n);m.kPa=function(a,b,c){var f,h;for(var d=[],g=2;g<arguments.length;++g)d[g-2]=arguments[g];for(g=0;g<d.length;++g){f=a[d[g]];if(void 0!==f){h=""+d[g];b[h]=b[h]||[];b[h].push(f);}}};c.jfb=m;oa(g,v);g.prototype.tx=function(){var a;a="";this.bg.Ls(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};oa(l,v);l.prototype.tx=function(a,b){return this.Um&&!b?"\r\n"+this.xg.encode(this.Um):"";};oa(h,v);h.prototype.tx=function(){return this.Um?this.Um.toJSON():"";};oa(d,v);d.prototype.tx=function(){return", "+(this.Um.toString?""+this.Um.toString():"");};b.prototype.bMa=function(a){this.li.push(new q(a));};b.prototype.TLa=function(a){this.li.push(new n(this.bg,a));};b.prototype.JLa=function(a){this.li.push(new k(a));};b.prototype.HLa=function(a){this.li.push(new m(this.bg,a));};b.prototype.MLa=function(a){this.li.push(new g(this.bg,a));};b.prototype.cMa=function(a){this.li.push(new l(this.xg,a));};b.prototype.RLa=function(a){this.li.push(new h(a));};b.prototype.dMa=function(a){this.li.push(new d(a));};b.prototype.sm=function(){return this.li;};x=b;x=f.__decorate([t.N(),f.__param(0,t.j(a.fl)),f.__param(1,t.j(G.Re))],x);c.qza=x;},function(f,c,a){var d,h,l,g;function b(a,b){this.xg=a;this.bg=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(723);l=a(62);a=a(26);b.prototype.QXa=function(){return new h.qza(this.xg,this.bg);};g=b;g=f.__decorate([d.N(),f.__param(0,d.j(l.fl)),f.__param(1,d.j(a.Re))],g);c.pza=g;},function(f,c,a){var d,h;function b(a,b,c,d,f,h,k){this.level=a;this.Ck=b;this.timestamp=c;this.message=d;this.li=f;this.prefix=h;this.index=void 0===k?0:k;}Object.defineProperty(c,"__esModule",{value:!0});d=a(7);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.lI=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.aab(!!a));return(this.timestamp.qa(d.Ma)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.Ck+"| "+a;};b.prototype.aab=function(a){var f;for(var b=this.li.length,c="",d=0;d<b;++d){f=this.li[d].Um;d&&c.length&&(c+=" ");if("object"===typeof f)if(null===f)c+="null";else if(f instanceof Error)c+=this.$$a(f,a);else try{c+=JSON.stringify(f);}catch(u){c+=this.Z$a(f);}else c+=f;}return c;};b.prototype.$$a=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.Z$a=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};c.Uta=b;},function(f,c,a){var d,h;function b(a,b,c,f,h,k){a=d.zC.call(this,a,b,c,f)||this;Array.isArray(k)?a.prefix=k:k&&"string"===typeof k&&(a.prefix=[],a.prefix.push(k));return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(219);h=a(725);oa(b,d.zC);b.prototype.as=function(a,b,c){a=new h.Uta(a,this.Ck,this.gb.oe(),b,c,this.prefix);b=Na(this.ck.ck);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.Vta=b;},function(f,c,a){var d,h,k;function b(a,b,c,f,h){a=k.zC.call(this,a,b,c,h)||this;a.L=f;d.$i(a,"playback");return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(49);h=a(376);k=a(219);oa(b,k.zC);b.prototype.VRa=function(){return new b(this.gb,this.zv,this.ck,this.L,"Playback");};b.prototype.as=function(a,b,c){a=new h.T9(a,this.Ck,this.gb.oe(),b,c,this.L.index);b=Na(this.ck.ck);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.L);};c.ADa=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.EnumeratedErrorBase=function(a,b,c,f){this.type=a;this.name=a.name;this.number=b;"string"===typeof c?this.message=c:void 0!==c&&(this.cause=c);void 0!==f&&(this.message=f);};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(728);c.fz=function(a,c,f){var d,h;f=void 0===f?1:f;for(a=a.QXa();f<c.length;++f)if(void 0!=c[f]&&null!=c[f]){d=a;h=c[f];h.Zi&&(h=h.Zi);h.constructor===Uint8Array?d.cMa(h):"MediaRequest"===h.constructor.name?d.RLa(h):"string"===typeof h?d.bMa(h):"function"===typeof h?d.MLa(h):h instanceof Error?d.JLa(h):h instanceof b.EnumeratedErrorBase?d.HLa(h):h instanceof Object?d.TLa(h):d.dMa(h);}return a.sm();};},function(f,c,a){var d,h,k,g,m,p,n,q;function b(a,b,c){this.gb=a;this.ck=b;this.H1=c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(219);h=a(0);k=a(727);g=a(38);m=a(84);p=a(12);n=a(7);q=a(726);b.prototype.Bb=function(a,b,c,f,g){c=void 0===c?this.ck:c;return b?(b.x7a=this.gb.oe().ie(n.Cb(b.Ed)),new k.ADa(this.gb,this.H1,c,b,a)):g?new q.Vta(this.gb,this.H1,c,a,f||"",g):new d.zC(this.gb,this.H1,c,a);};a=b;a=f.__decorate([h.N(),f.__param(0,h.j(g.eg)),f.__param(1,h.j(m.ou)),f.__param(2,h.j(p.U9))],a);c.yza=a;},function(f,c,a){var d;function b(){this.uB={};this.ck=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.cB=function(a,b){var c;c=this;b&&(this.uB[a]=b,this.ck=Object.keys(this.uB).map(function(a){return c.uB[a];}));};b.prototype.Dsa=function(a){var b;b=this;delete this.uB[a];this.ck=Object.keys(this.uB).map(function(a){return b.uB[a];});};d=b;d=f.__decorate([a.N()],d);c.zza=d;},function(f,c,a){var b,d,h,k,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(731);d=a(730);f=a(0);h=a(84);k=a(12);g=a(724);c.w1a=new f.dc(function(a){a(k.Jb).to(d.yza).Y();a(h.ou).to(b.zza).Y();a(k.U9).to(g.pza).Y();});},function(f,c,a){var d;function b(a){this.$Ha=void 0===a?!1:a;this.Qc={0:[]};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Qc[b];c?this.$Ha&&-1!==c.indexOf(a)||c.push(a):this.Qc[b]=[a];};b.prototype.remove=function(a,b){this.Kea(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.Kea(a);};b.prototype.JVa=function(){var a;a=this;return Object.keys(this.Qc).sort().reduce(function(b,c){return b.concat(a.Qc[c]);},[]);};b.prototype.Kea=function(a,b){var c;c=this;Object.keys(this.Qc).forEach(function(d){var f;if(void 0===b||b===parseInt(d)){d=c.Qc[d];-1<(f=d.indexOf(a))&&d.splice(f,1);}});};d=b;d=f.__decorate([a.N()],d);c.MDa=d;},function(f,c,a){var d,h,k,g;function b(a,b,c){var d;d=this;this.app=a;this.ha=b;this.pha=c;this.Hw=function(a){d.hx=void 0;d.Pbb(a||d.pha);};this.bma=k.Cb(-this.pha.qa(k.Ma));}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(38);k=a(7);a=a(43);b.prototype.lb=function(a){this.K4=a;this.hx=this.hx||this.Xa(this.Hw);};b.prototype.Ov=function(){this.hx&&this.hx.cancel();this.hx=void 0;};b.prototype.Pbb=function(a){var b,c;b=this.app.oe();if(this.K4){c=a.ie(b.ie(this.bma));0>=c.Gk(k.cl)?(a=this.K4,this.K4=void 0,this.bma=b,a()):this.hx=this.hx||this.ha.Af(c,this.Hw.bind(this,a));}};b.prototype.Xa=function(a){return this.ha.Af(k.cl,a);};g=b;g=f.__decorate([d.N(),f.__param(0,d.j(h.eg)),f.__param(1,d.j(a.xh))],g);c.lFa=g;},function(f,c,a){var d,h,k,g,m,p,n,q,v;function b(a,b){this.gb=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);k=a(38);g=a(48);m=a(2);p=a(46);n=a(7);q=a(5);a=a(379);b.prototype.nTa=function(a){var b,c,f,h,k,l,r,q,u;b=this;k=a.pc.value;l=a.Bl.value;r=a.Tb.value;q=a.state.value;h={segmentId:a.W_(),mediaTime:k,segmentTime:a.Ts(),bufferingState:d.ZNa[l],presentingState:d.d6a[r],playbackState:d.y5a[q],mseBuffersBusy:this.FYa(a),intBuffersBusy:this.FXa(a),tabVisible:this.Dab(),decodedFrameCount:this.ySa(a),videoElementInDom:this.Jcb(a),lastVideoSync:this.gb.oe().ie(n.Cb(a.Vra)).qa(n.Ma)};u=r===p.fm.hD?a.Pb.Qf?this.config.toa:this.config.soa:this.config.Bna;l!==p.RI.D$?(c=m.u.Eva,this.nga(h.mseBuffersBusy,h.intBuffersBusy)&&(f=d.Y6)):r!==p.fm.nf&&(c=m.u.Fva,(a=a.bf)&&a.Sb.sourceBuffers.forEach(function(a){var c,g;c=d.n2a[a.O];h[c+"Ranges"]=a.WN();a=a.buffered();if(0===a.length)h[c+"Undecoded"]=0,f=d.jua;else{g=1E3*a.end(0)-k;h[c+"Undecoded"]=g;1<a.length&&(f=d.kua);k<1E3*a.start(0)||k>1E3*a.end(0)?f=d.lua:g<u.qa(n.Ma)?f=d.mua:b.nga(h.mseBuffersBusy,h.intBuffersBusy)&&(f=d.Y6);}}));a="";try{a=JSON.stringify(h);}catch(Z){a="Cannot stringify details: "+Z;}return new g.nb(m.v.V$,c,f,void 0,void 0,void 0,a,void 0);};b.prototype.FYa=function(a){var b;if(a.Sb){b={};a.Sb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.FXa=function(a){var b;if(a.Sb){b={};a.Sb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.Nj()};});return b;}};b.prototype.Dab=function(){return!q.cd.hidden;};b.prototype.ySa=function(a){return(a=a.bf)&&(a=a.Sb.Ba)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.Jcb=function(a){if(a=a.bf)if(a=a.Sb.Ba)return q.cd.body.contains(a);return!1;};b.prototype.nga=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};v=d=b;v.jua="1";v.kua="2";v.lua="3";v.Y6="4";v.mua="5";v.n2a=["Audio","Video"];v.ZNa=["","NORMAL","BUFFERING","STALLED"];v.d6a=["","WAITING","PLAYING ","PAUSED","ENDED"];v.y5a=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];v=d=f.__decorate([h.N(),f.__param(0,h.j(k.eg)),f.__param(1,h.j(a.v$))],v);c.xwa=v;},function(f,c,a){var d,h;function b(a){this.Wd=a;this.status=!0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(85);b.prototype.get=function(){return this.status;};b.prototype.set=function(a){this.status=a;this.Wd.Ek.mq({kind:this.status?"playerDownloadsAvailability":"playerDownloadsAvailabilityError",status:this.status});};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.Wq))],h);c.Nwa=h;},function(f,c,a){var d,h,k,g;function b(a,b){this.gb=a;this.entries=[];this.ca=b.Bb("TimingApi");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(38);k=a(7);a=a(12);b.prototype.mark=function(a,b){a={name:a,aa:b,Xab:this.gb.oe()};this.entries.push(a);return a;};b.prototype.TXa=function(){return this.entries.slice();};b.prototype.Yja=function(){var a;a={};try{a=this.TXa().filter(function(a){return!a.aa;}).reduce(function(a,b){a[b.name]=b.Xab.qa(k.Ma);return a;},{});}catch(p){this.ca.error(" getMapOfCommonMarks exception",p);}return a;};g=b;g=f.__decorate([d.N(),f.__param(0,d.j(h.eg)),f.__param(1,d.j(a.Jb))],g);c.vFa=g;},function(f,c,a){var d,h,k,g;function b(a){a=h.NI.call(this,a)||this;a.Hj="ClockConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(54);h=a(53);k=a(0);a=a(39);oa(b,h.NI);pa.Object.defineProperties(b.prototype,{Wsa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});g=b;f.__decorate([d.config(d.We,"usePerformanceApi")],g.prototype,"Wsa",null);g=f.__decorate([k.N(),f.__param(0,k.j(a.rS))],g);c.nva=g;},function(f,c,a){var d,h,k,g;function b(a){a=h.NI.call(this,a)||this;a.xmb=function(){debugger;};a.Hj="DebugConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(54);h=a(53);k=a(0);a=a(39);oa(b,h.NI);pa.Object.defineProperties(b.prototype,{RNa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});g=b;f.__decorate([d.config(d.We,"breakOnError")],g.prototype,"RNa",null);g=f.__decorate([k.N(),f.__param(0,k.j(a.rS))],g);c.vwa=g;},function(f,c,a){var d,h,k,g;function b(a,b,c){this.config=a;this.Oa=b;this.ca=c.Bb("General");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(20);k=a(128);a=a(12);b.prototype.assert=function(){};b.prototype.LMa=function(a,b){this.assert(this.Oa.ah(a),b);};b.prototype.MMa=function(a,b){this.assert(this.Oa.uf(a),b);};b.prototype.RMa=function(a,b){this.assert(this.Oa.Xg(a),b);};b.prototype.UMa=function(a,b){this.assert(this.Oa.Eh(a),b);};b.prototype.SMa=function(a,b){this.assert(this.Oa.Xg(a)||null===a||void 0===a,b);};b.prototype.PMa=function(a,b){this.assert(this.Oa.ye(a),b);};b.prototype.OMa=function(a,b){this.assert(this.Oa.rX(a),b);};b.prototype.TMa=function(a,b){this.assert(this.Oa.Hn(a),b);};b.prototype.QMa=function(a,b){this.assert(this.Oa.Xy(a),b);};b.prototype.JMa=function(a,b){this.assert(this.Oa.Vy(a),b);};b.prototype.NMa=function(a,b){this.assert(this.Oa.Wy(a),b);};b.prototype.z_a=function(){this.assert(!1,"invalid operation, this method should not be called");};b.iob=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(r){return r.stack;}};};g=b;g=f.__decorate([d.N(),f.__param(0,d.j(k.O7)),f.__param(1,d.j(h.rd)),f.__param(2,d.j(a.Jb))],g);c.wwa=g;},function(f,c,a){var d,h,k,g;function b(a,b){this.is=a;this.bg=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);k=a(20);a=a(26);b.prototype.encode=function(a){var b,c;b=this;c="";this.bg.Ls(a,function(a,d){a=b.yia(a)+"="+b.yia(d);c=c?c+(","+a):a;});return c;};b.prototype.yia=function(a){return this.is.ah(a)?this.is.ye(a)?""+a:this.is.Xg(a)?(a=a.replace(d.Ypa,this.L1a.bind(this)),!d.K6a.test(a)&&d.W2a.test(a)&&(a='"'+a+'"'),a):this.is.Vy(a)?""+a:isNaN(a)?"NaN":"":"";};b.prototype.L1a=function(a){return d.map[a];};g=d=b;g.map={'"':'""',"\r":"","\n":" "};g.Ypa=/(?!^.+)["\r\n](?=.+$)/g;g.K6a=/["].*["]/g;g.W2a=/[", ]/;g=d=f.__decorate([h.N(),f.__param(0,h.j(k.rd)),f.__param(1,h.j(a.Re))],g);c.wva=g;},function(f,c,a){var d,h,k,g;function b(a,b){this.Na=a;this.SN=this.Na.Eg.qa(k.Ma)-1;this.m1a=this.RO=0;this.id=""+b.As();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(52);k=a(7);a=a(37);b.prototype.oe=function(){var a,b;a=this.Na.Eg.qa(k.Ma)-this.SN;if(a<this.RO){b=this.RO+1;this.SN-=b-a;a=b;}this.RO=a;return k.Cb(this.RO);};b.prototype.Xja=function(){return this.m1a++;};pa.Object.defineProperties(b.prototype,{VO:{configurable:!0,enumerable:!0,get:function(){return k.Cb(this.SN);}}});g=b;g=f.__decorate([d.N(),f.__param(0,d.j(h.mj)),f.__param(1,d.j(a.Rg))],g);c.Pta=g;},function(f,c,a){var d,h;function b(){this.Mk={};this.id="$es$"+d.TPa++;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.addListener=function(a,b,c){var d,f;d="$netflix$player$order"+this.id+"$"+a;if(this.Mk){f=this.Mk[a]?this.Mk[a].slice():[];c&&(b[d]=c);0>f.indexOf(b)&&(f.push(b),f.sort(function(a,b){return(a[d]||0)-(b[d]||0);}));this.Mk[a]=f;}};b.prototype.removeListener=function(a,b){if(this.Mk&&this.Mk[a]){for(var c=this.Mk[a].slice(),d;0<=(d=c.indexOf(b));)c.splice(d,1);this.Mk[a]=c;}};b.prototype.mc=function(a,b,c){var d;if(this.Mk){d=this.M_(a);for(a={Mh:0};a.Mh<d.length;a={Mh:a.Mh},a.Mh++)c?function(a){return function(){var c;c=d[a.Mh];setTimeout(function(){c(b);},0);};}(a)():d[a.Mh].call(this,b);}};b.prototype.Ov=function(){this.Mk=void 0;};b.prototype.on=function(a,b,c){this.addListener(a,b,c);};b.prototype.M_=function(a){return this.Mk&&(this.Mk[a]||(this.Mk[a]=[]));};h=d=b;h.TPa=0;h=d=f.__decorate([a.N()],h);c.Ci=h;},function(f,c,a){var d,h,k;function b(a){this.ha=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(43);k=a(125);b.prototype.dx=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ha.Af(a,function(){f(new k.ly(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(h.xh))],a);c.QDa=a;},function(f,c,a){var d,h,k,g,m,p,n,q;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);h=Array.prototype.slice;k=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");g={};m={};p={};n={};q=/\s+/g;[k,h].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];g[c]=b<<18;m[c]=b<<12;p[c]=b<<6;n[c]=b;}});b.prototype.encode=function(a){return d.SZ(a,k,"=");};b.prototype.decode=function(a){return d.uZ(a);};b.uZ=function(a){var b,c,d;a=a.replace(q,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);d=0;switch(b%4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+d),f=0,h=0,k;h<c;){k=g[a[f++]]+m[a[f++]]+p[a[f++]]+n[a[f++]];if(!(0<=k&&16777215>=k))throw Error("bad base64");b[h++]=k>>>16;b[h++]=k>>>8&255;b[h++]=k&255;}if(0<d&&(k=g[a[f++]]+m[a[f++]],b[h++]=k>>>16,1<d&&(k+=p[a[f++]],b[h++]=k>>>8&255),!(0<=k&&16776960>=k&&0===(k&(1<d?255:65535)))))throw Error("bad base64");return b;};b.SZ=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};h=d=b;h=d=f.__decorate([a.N()],h);c.oua=h;},function(f,c,a){var d,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.encode=function(a){return d.SZ(a);};b.prototype.decode=function(a){return d.uZ(a);};b.SZ=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,f="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");f+=String.fromCharCode(c);}return f;};b.uZ=function(a){var b,c,d,f,h;b=a.length;c=0;f=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)h=a.charCodeAt(d),128>h?c++:c=2048>h?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)h=a.charCodeAt(d),128>h?c[f++]=h:(2048>h?c[f++]=192|h>>>6:(c[f++]=224|h>>>12,c[f++]=128|h>>>6&63),c[f++]=128|h&63);return c;};h=d=b;h=d=f.__decorate([a.N()],h);c.LFa=h;},function(f,c,a){var d,h,k,g,m;function b(a,b,c){this.config=a;this.oSa=b;this.performance=c;d.$i(this,"date");d.$i(this,"performance");this.qMa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(49);h=a(7);k=a(0);g=a(50);a=a(383);pa.Object.defineProperties(b.prototype,{Eg:{configurable:!0,enumerable:!0,get:function(){return this.Dna?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.Cb(this.oSa.now());}},Dna:{configurable:!0,enumerable:!0,get:function(){return this.config.Wsa&&this.qMa;}}});m=b;m=f.__decorate([k.N(),f.__param(0,k.j(a.u7)),f.__param(1,k.j(g.N7)),f.__param(2,k.j(g.tU)),f.__param(2,k.optional())],m);c.ova=m;},function(f,c,a){var d,h;function b(a){this.Cab=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(110);b.prototype.random=function(){return this.Cab.random();};b.prototype.X3=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=f.__decorate([d.N(),f.__param(0,d.j(a.zba))],h);c.dEa=h;},function(f,c,a){var d,h,k,g,m;function b(a,b){this.Na=a;this.random=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);k=a(7);g=a(52);a=a(110);b.prototype.As=function(){return this.Na.Eg.qa(k.Zo)*d.i7+Math.floor(this.random.random()*d.i7);};m=d=b;m.i7=1E4;m=d=f.__decorate([h.N(),f.__param(0,h.j(g.mj)),f.__param(1,h.j(a.XC))],m);c.Oya=m;},function(f,c,a){var h,k,g,m;function b(a){this.MB=a;k.$i(this,"timers");}function d(a,b){this.MB=a;this.HOa=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);k=a(49);g=a(50);m=a(7);d.prototype.cancel=function(){this.HOa(this.MB);};b.prototype.lb=function(a){return this.Af(m.cl,a);};b.prototype.Af=function(a,b){var c;c=this.MB.setTimeout(b,a.qa(m.Ma));return new d(this.MB,function(a){a.clearTimeout(c);});};b.prototype.EQ=function(a,b){var c;c=this.MB.setInterval(b,a.qa(m.Ma));return new d(this.MB,function(a){a.clearInterval(c);});};a=b;a=f.__decorate([h.N(),f.__param(0,h.j(g.eca))],a);c.REa=a;},function(f,c,a){var b,d,h,k,g,m,p,n,q,v,z,w,G,x,y,C,F,A,H,ca,Z,O,B,P,V,D,S,Y,X,U,aa,ba,ea,ia,ka,ua,la,fa,ga,ma,oa,pa,na,ra,sa,ta;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(50);d=a(52);h=a(43);k=a(37);g=a(110);m=a(750);p=a(749);n=a(748);q=a(747);v=a(152);z=a(153);w=a(62);G=a(26);x=a(20);y=a(109);C=a(125);F=a(746);A=a(221);H=a(745);ca=a(382);Z=a(744);O=a(108);B=a(743);P=a(220);V=a(96);D=a(742);S=a(38);Y=a(381);X=a(741);U=a(740);aa=a(128);ba=a(739);ea=a(12);ia=a(383);ka=a(738);ua=a(95);la=a(737);fa=a(736);ga=a(151);ma=a(380);oa=a(735);pa=a(734);na=a(378);ra=a(5);sa=a(377);ta=a(733);c.nPa=new f.dc(function(a){a(b.hr).th(JSON);a(b.eca).th(t);a(g.zba).th(Math);a(b.Q9).th(ra.KJ);a(b.tU).th(ra.cm);a(b.N7).th(Date);a(b.LC).th(ra.Tg);a(b.q$).th(ra.JC);a(ia.u7).to(ka.nva).Y();a(S.eg).to(D.Pta).Y();a(d.mj).to(q.ova).Y();a(h.xh).to(m.REa).Y();a(k.Rg).to(p.Oya).Y();a(C.aK).to(Z.QDa).Y();a(g.XC).to(n.dEa).Y();a(aa.gJ).to(U.wwa).Y();a(aa.O7).to(ba.vwa).Y();a(v.mK).to(F.LFa).Y();a(z.MI).to(A.hS).Y();a(w.fl).to(H.oua).Y();a(G.Re).to(ca.Tba).Y();a(x.rd).th(O.nn);a(y.nJ).to(B.Ci).I0();a(y.CS).to(B.Ci).Y();a(P.OU).to(V.Cu).Y();a(Y.D7).to(X.wva).Y();a(ua.xr).to(la.vFa).Y();a(ga.jJ).to(fa.Nwa).Y();a("Factory<LoggerFactory>").cbb(ea.Jb);a(ma.Q7).to(oa.xwa).Y();a(na.Iba).Yl(function(a){return function(b){return new pa.lFa(a.kc.get(S.eg),a.kc.get(h.xh),b);};});a(sa.EU).lsa(ta.MDa);a(sa.LDa).Yl(function(a){var b;b=a.kc.get(sa.EU);return function(){return new b(!1);};});a(sa.Oaa).Yl(function(a){var b;b=a.kc.get(sa.EU);return function(){return new b(!0);};});});},function(f,c,a){var b,d,h,k,g,m,p,n,q,t,z,w,G,x,y,C,F,A,H,ca,Z,O,B,P,V,D,S,Y,X;Object.defineProperty(c,"__esModule",{value:!0});b=a(751);d=a(732);h=a(721);k=a(716);g=a(710);m=a(707);p=a(703);n=a(691);q=a(679);t=a(676);z=a(672);w=a(235);G=a(669);x=a(664);y=a(650);C=a(643);F=a(636);A=a(628);H=a(615);ca=a(234);Z=a(607);O=a(605);B=a(597);P=a(593);V=a(591);D=a(589);S=a(584);Y=a(564);X=a(560);c.O0a=function(a){a.load(b.nPa,m.Pab,d.w1a,p.VM,q.wM,h.FG,k.bk,g.Lcb,n.storage,t.HNa,z.Tk,w.Yg,G.Bg,x.t1a,y.d3a,C.eWa,F.R3,A.Qh,H.YTa,ca.eme,Z.crypto,O.bg,B.Mcb,P.DMa,V.O2a,D.c5a,S.mPa,Y.Hbb,X.r0a);};},function(f,c,a){var d,h,k,g,m,p,n;function b(a,b){this.U2a=a;this.is=b;k.$i(this,"nav");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);k=a(49);g=a(2);m=a(50);p=a(20);n=a(113);b.prototype.Wn=function(){if(this.ka)return this.ka.sessionId;};b.prototype.S7a=function(a,b){return this.U2a.requestMediaKeySystemAccess(a,b);};b.prototype.NE=function(a,b){return b.createMediaKeys();};b.prototype.Cs=function(a,b){this.ka=a.createSession(b);};b.prototype.M9a=function(a,b){return this.is.Wy(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.kWa=function(a){return this.ka?this.ka.generateRequest("cenc",a):Promise.reject(new n.mf(g.v.NS,g.u.fC,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.ka?this.ka.update(a):Promise.reject(new n.mf(g.v.gC,g.u.fC,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.ka?this.ka.load(a):Promise.reject(new n.mf(g.v.$wa,g.u.fC,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.ka)return Promise.reject(new n.mf(g.v.Vwa,g.u.fC,void 0,"Unable to close a key session, key session is not valid"));a=this.ka.close();this.ka=void 0;return a;};b.prototype.remove=function(){return this.ka?this.ka.remove():Promise.reject(new n.mf(g.v.j8,g.u.fC,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.SLa=function(a){if(!this.ka)throw ReferenceError("Unable to add message handler, key session is not valid");this.ka.addEventListener(d.n8,a);};b.prototype.OLa=function(a){if(!this.ka)throw ReferenceError("Unable to add key status handler, key session is not valid");this.ka.addEventListener(d.m8,a);};b.prototype.ILa=function(a){if(!this.ka)throw ReferenceError("Unable to add error handler, key session is not valid");this.ka.addEventListener(d.l8,a);};b.prototype.F7a=function(a){if(!this.ka)throw ReferenceError("Unable to remove message handler, key session is not valid");this.ka.removeEventListener(d.n8,a);};b.prototype.D7a=function(a){if(!this.ka)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.ka.removeEventListener(d.m8,a);};b.prototype.B7a=function(a){if(!this.ka)throw ReferenceError("Unable to remove error handler, key session is not valid");this.ka.removeEventListener(d.l8,a);};a=d=b;a.n8="message";a.m8="keystatuseschange";a.l8="error";a=d=f.__decorate([h.N(),f.__param(0,h.j(m.LC)),f.__param(1,h.j(p.rd))],a);c.PDa=a;},function(f,c,a){var d,h,k,g,m,p;function b(a,b){this.bg=a;this.Ak=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(2);k=a(26);g=a(153);m=a(154);p=a(113);b.prototype.sYa=function(){return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:m.Vx,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:m.qn,robustness:"HW_SECURE_DECODE"},{contentType:m.qn,robustness:"SW_SECURE_DECODE"}]},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.lA=function(a){return this.bg.ws(a.message,new Uint8Array([8,4]));};b.prototype.OPa=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),pP:a.messageType};};b.prototype.NPa=function(a){return{type:a.type,sessionId:a.target.sessionId,d0a:a.target.keyStatuses.entries()};};b.prototype.Pp=function(a){var b,c,d;b=new p.mf(h.v.TJ);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.tb=1<=c&&9>=c?h.u.eu+c:h.u.eu):b.tb=h.u.te;try{d=a.message.match(/\((\d*)\)/)[1];b.Sc=this.Ak.yF(d,4);}catch(w){}b.bF(a);return b;};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(k.Re)),f.__param(1,d.j(g.MI))],a);c.lva=a;},function(f,c,a){var h,k;function b(a,b,c,d,f){this.gb=a;this.config=b;this.ha=c;this.Hw=d;this.name=f;}function d(a,b,c,d){var f;f=this;this.gb=a;this.ha=b;this.timeout=c;this.$ab=d;this.tZa=function(){f.vs=!0;f.bo.cancel();f.$ab();};this.startTime=this.gb.oe();this.bo=this.ha.Af(this.timeout,function(){f.tZa();});this.vs=!1;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);k=a(113);d.prototype.stop=function(){this.vs||(this.pR=this.gb.oe(),this.bo.cancel());};pa.Object.defineProperties(d.prototype,{qia:{configurable:!0,enumerable:!0,get:function(){if(this.pR&&this.startTime)return this.pR.ie(this.startTime);}}});b.prototype.NOa=function(){var a;a=this;this.jz=new d(this.gb,this.ha,this.config.H0,function(){a.Hw(new k.mf(h.v.dba,h.u.cxa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.H0+"ms"));});};b.prototype.MOa=function(){this.jz&&this.jz.stop();};b.prototype.k9a=function(){this.qB=this.gb.oe();};b.prototype.OOa=function(){var a;a=this;this.OR=new d(this.gb,this.ha,this.config.N4,function(){a.Hw(new k.mf(h.v.dba,h.u.bxa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.N4+"ms"));});};b.prototype.Ega=function(){this.OR&&this.OR.stop();};pa.Object.defineProperties(b.prototype,{de:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.jz){b=this.jz.qia;b&&(a.z2=b);this.qB&&this.jz.pR&&(a.qB=this.qB.ie(this.jz.pR));}this.OR&&(b=this.OR.qia)&&(a.HY=b);return a;}}});c.fxa=b;},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.IZ=function(a,c){for(var b=a.next(),d;b&&!b.done&&b.value;)d=b.value[0],b=b.value[1],c&&c(d,b),b=a.next();};c.hxa=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.Lo||(c.Lo={});f[f.Psa=0]="usable";f[f.RUa=1]="expired";f[f.A7a=2]="released";f[f.woa=3]="outputRestricted";f[f.E4a=4]="outputDownscaled";f[f.B$a=5]="statusPending";f[f.w_a=6]="internalError";},function(f,c,a){var d,h,k,g,m,p,n,q,t,z,w,G,x,y,C,F,A,H,ca;function b(a,b,c,d,f,g,l,m){var p;p=this;this.gb=b;this.Ep=c;this.config=d;this.xc=f;this.ek=g;this.ii=l;this.ha=m;this.onMessage=function(a){var b,c,d,f;b=p.ek.OPa(a);c=b.message;d=b.pP;f=b.sessionId;p.lA=p.ek.lA(b);p.log.trace("Received "+a.type+" event",{sessionId:f,messageType:d,isIntermediateChallenge:p.lA});p.sessionId||(p.sessionId=f);"license-renewal"===d&&(p.log.trace("Received a renewal request"),p.Rf=t.Oo.vr,p.fe=H.Zw);p.fe!==H.kd||p.lA||(p.hma={ii:p.ii,data:b.message,aa:p.KF()},p.xp(z.jn.Qpa));p.fe===H.Zw&&p.xp(z.jn.Rpa);p.jG&&(p.jG.next({Dk:c,Gga:d,Rf:p.Rf}),p.Rf!==t.Oo.vr||p.lA||(p.jG.complete(),p.jG=void 0));p.fe===H.stop&&(p.Og.MOa(),p.config.Sh&&p.BH&&(p.BH.next({Dk:c}),p.BH.complete(),p.BH=void 0));};this.loa=function(a){var b,c;b=p.ek.NPa(a).d0a;p.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem,sessionId:a.target.sessionId});try{F.hxa.IZ(b,function(a,b){p.log.trace("key status: "+b);b=ca[b];p.Zla.next({NO:new Uint8Array(a),value:b.status});b.error&&(c=new C.mf(b.error),p.Ula(c));});}catch(ea){c=new C.mf(k.v.oCa);c.bF(ea);}c?p.h1(c):p.Wla();};this.fj=function(a){var b;b=p.ek.Pp(a);p.log.error("Received event: "+a.type,b);p.lq(b);p.h1(b);p.eh||p.Tj||p.Ula(b);};this.lq=function(a){p.eh&&p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.ek.Pp(b));p.eh&&(p.eh.error(a),p.eh=void 0);},function(){p.log.trace("Issuing a generate challenge error");p.eh&&(p.eh.error(a),p.eh=void 0);});};this.Vla=function(){p.eh&&(p.eh.complete(),p.eh=void 0);};this.h1=function(a){p.Tj&&(p.log.error("Failed to add license",a),p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.ek.Pp(b));p.fe===H.Zw&&p.xp(z.jn.Dfa);p.eh=void 0;p.Tj&&(p.Tj.error(a),p.Tj=void 0);},function(){p.log.trace("Issuing a license error");p.eh=void 0;p.Tj&&(p.Tj.error(a),p.Tj=void 0);}));};this.Wla=function(){p.Tj&&(p.log.info("Successfully added license"),p.fe===H.kd?p.xp(z.jn.yfa):p.fe===H.Zw&&p.xp(z.jn.Cfa),p.Tj.complete(),p.Tj=void 0);};this.Ula=function(a){p.Up&&p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.ek.Pp(b));p.eh=void 0;p.Tj=void 0;p.Up&&(p.Up.next(a),p.Up.complete(),p.Up=void 0);},function(){p.log.trace("Issuing a CDM error");p.eh=void 0;p.Tj=void 0;p.Up&&(p.Up.next(a),p.Up.complete());});};this.xp=function(a){p.de.push({time:p.gb.oe(),B2a:a});};this.log=a.Bb("EmeSession");this.jG=new h.yh();this.config.Sh&&(this.BH=new h.yh());this.Zla=new h.YC();this.Up=new h.yh();this.fe=H.Zbb;this.de=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(77);k=a(2);g=a(38);m=a(12);p=a(62);n=a(43);q=a(131);t=a(126);z=a(384);w=a(757);G=a(223);x=a(154);y=a(222);C=a(113);F=a(756);A=a(755);(function(a){a[a.Zbb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.kd=3]="license";a[a.Zw=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(H||(H={})));ca={usable:{status:w.Lo.Psa},expired:{status:w.Lo.RUa,error:k.v.jU},released:{status:w.Lo.A7a},"output-not-allowed":{status:w.Lo.woa,error:k.v.kU},"output-restricted":{status:w.Lo.woa},"output-downscaled":{status:w.Lo.E4a},"status-pending":{status:w.Lo.B$a},"internal-error":{status:w.Lo.w_a,error:k.v.W$}};b.prototype.KF=function(){return this.context.aa;};b.prototype.Wn=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.fe=H.closed;this.de=[];return this.xc.Wn()?(this.log.trace("Closing the session",{sessionId:this.xc.Wn()}),this.xc.F7a(this.onMessage),this.xc.D7a(this.loa),this.xc.B7a(this.fj),this.Oh=void 0,h.pa.create(function(b){a.xc.close().then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.ek.Pp(c);c.code=k.v.rCa;b.error(c);});})):h.pa.empty();};b.prototype.oF=function(){return this.Up;};b.prototype.Tz=function(){return this.ii;};b.prototype.qO=function(){return void 0!==this.kd;};b.prototype.Cs=function(a,b){var c;c=this;this.fe=H.create;this.context=a;this.xp(z.jn.kma);return h.pa.create(function(d){c.xc.NE(a,b).then(function(a){c.log.trace("Created media keys");c.Oh=a;a=c.Ep.decode("Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=");return c.xc.M9a(c.Oh,a);}).then(function(a){c.log.trace("Set the server certificate",{result:a});try{c.xc.Cs(c.Oh,c.config.Sh?"persistent-license":"temporary");c.xc.SLa(c.onMessage);c.xc.OLa(c.loa);c.xc.ILa(c.fj);c.sessionId=c.xc.Wn();d.next(c);d.complete();}catch(D){d.error(new C.mf(k.v.f8,k.u.te,void 0,"Unable to create a persisted key session",D));}})["catch"](function(a){a.code&&a.tb?d.error(a):d.error(new C.mf(k.v.KS,k.u.te,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.iWa=function(a,b){var c;c=this;this.fe=H.kd;this.log.trace("Generating a license challenge");this.Rf=a;this.eh=new h.yh();if(!b)return this.AY(new C.mf(k.v.g8,k.u.OS));if(0===b.length)return this.AY(new C.mf(k.v.g8,k.u.MS));this.xc.kWa(b).then(function(){})["catch"](function(a){var b;b=new C.mf(k.v.NS,k.u.te);b.message="Unable to generate request.";b.bF(a);c.log.error("Unable to generate a license request",b);c.lq(b);});this.log.trace("Returning the challenge subject");return this.eh;};b.prototype.xfa=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.lq(new C.mf(k.v.h8,k.u.MS))):this.lA?this.xc.update(a).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.ek.Pp(a);a.code=k.v.gC;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.lq(a);}):(this.fe===H.kd&&(this.xp(z.jn.Ppa),this.kd=a,this.Vla()),this.fe===H.Zw&&(this.xp(z.jn.Spa),this.kd=a,this.iM())):(this.fe===H.Zw&&this.xp(z.jn.Tpa),this.lq(a));};b.prototype.iM=function(){var a,b;a=this;if(!this.kd)return this.AY(new C.mf(k.v.h8,k.u.OS));this.Tj=new h.yh();b=this.kd;this.kd=void 0;this.xc.update(b).then(function(){a.Wla();})["catch"](function(b){b=a.ek.Pp(b);b.code=k.v.gC;b.message="Unable to update the EME";a.log.error(b.message,b);a.h1(b);});return this.Tj;};b.prototype.WO=function(){return this.jG;};b.prototype.lWa=function(){var a;a=this;if(this.fe===H.kd&&this.Rf===t.Oo.vC)return h.pa.empty();this.fe=H.stop;this.log.trace("Generating a secure stop challenge");this.log.trace("Calling 'remove' on key session",{sessionId:this.xc.Wn()});this.eh=new h.yh();this.Og=new A.fxa(this.gb,this.config,this.ha,function(){a.log.error("got a timeout error");},"non-persisted");this.Og.NOa();this.xc.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.ek.Pp(b);c.code=k.v.j8;c.tb=k.u.te;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{sessionId:a.xc.Wn(),error:b});a.lq(c);});return this.eh;};b.prototype.Efa=function(a){a&&a.constructor!==Uint8Array?this.lq(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.lq(new C.mf(k.v.i8,k.u.MS))):(this.log.trace("Secure stop is ready to apply"),this.JQ=a,this.Og.k9a(),this.Vla()):(this.log.error("The secure stop buffer is undefined"),this.lq(new C.mf(k.v.i8,k.u.OS)));};b.prototype.yMa=function(){var a;a=this;if(!this.JQ)return h.pa.from([this]);this.log.trace("Setting the secure stop data",{sessionId:this.Wn()});return h.pa.create(function(b){a.Og.OOa();a.xc.update(a.JQ).then(function(){a.Og.Ega();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var d;a.Og.Ega();d=a.ek.Pp(c);d.code=k.v.gC;d.tb=k.u.te;d.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{sessionId:a.xc.Wn(),error:c});b.error(d);});});};b.prototype.cqa=function(){this.log.trace("Initiating a renewal request");this.Rf=t.Oo.vr;this.fe=H.Zw;};b.prototype.AY=function(a){var b;b=this;return h.pa.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};pa.Object.defineProperties(b.prototype,{pd:{configurable:!0,enumerable:!0,get:function(){return this.context.ce;}}});a=b;a=f.__decorate([d.N(),f.__param(0,d.j(m.Jb)),f.__param(1,d.j(g.eg)),f.__param(2,d.j(p.fl)),f.__param(3,d.j(q.iC)),f.__param(4,d.j(y.SS)),f.__param(5,d.j(x.HS)),f.__param(6,d.j(G.a8)),f.__param(7,d.j(n.xh))],a);c.gxa=a;},function(f,c,a){var d,h,k,g,m,p,n,q,t,z,w,G,x;function b(a,b,c,d,f,g,k,m){var l;l=this;this.ha=b;this.gj=c;this.config=d;this.Lj=f;this.xc=g;this.ek=k;this.hz=m;this.eab=function(a,b){b.WO().GB(1).subscribe(function(c){l.ima.next({aa:a.aa,ii:b.Tz(),data:c.Dk});});b.WO().map(function(c){return l.$v(a,b,c);}).pt().eF(function(a){b.Ob=a.Ob[0];b.XO=a.LZ;return b.xfa(a.eo[0].data);}).subscribe(void 0,function(a){b.xfa(a);},function(){l.fOa(b);});};this.fab=function(a){a.BH.map(function(b){return l.ika(a,b);}).pt().eF(function(b){return a.Efa(b.response);}).subscribe(void 0,function(b){a.Efa(b);});};this.log=a.Bb("DrmServices");this.$la={};this.ima=new h.yh();this.hz.Epa().then(function(){l.E$a();})["catch"](function(a){l.log.error("Unable to load the persisted DRM data",a);});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(77);k=a(2);g=a(12);m=a(43);p=a(386);a(126);n=a(131);q=a(222);t=a(154);z=a(159);w=a(233);G=a(385);x=a(113);b.prototype.Dt=function(a){var b;b=this;return new Promise(function(c,d){b.kd(a).subscribe(function(a){c(a);},function(a){d(a);});});};b.prototype.kd=function(a){var b;b=this;this.log.info("Licensing content");return this.Uja(a.context.ce).tF(function(c){return b.MRa(c,a.context).tF(function(c){b.eab(a.context,c);return c.iWa(a.type,a.dla).concat(h.pa.of(c)).Sj();});});};b.prototype.J$a=function(a){var b,c;b=this;this.config.Sh?(this.log.info("Releasing server license and EME license"),this.fab(a),c=a.lWa()):(this.log.info("Releasing server license"),c=this.ika(a));return h.pa.concat(c,h.pa.of(a)).Sj().eF(function(){b.hz.o4(Object.assign({ce:a.context.ce,Ob:[]},a.context));});};b.prototype.WO=function(){return this.ima.CMa();};b.prototype.$v=function(a,b,c){return h.pa.Yv(this.gj.kd({aa:a.aa,Dc:a.Dc,cN:[a.Is],Fj:[{sessionId:b.Wn()||"session",data:c.Dk}],Rf:c.Rf,ii:b.Tz(),Gga:c.Gga,wG:a.wG}));};b.prototype.ika=function(a,b){return b?h.pa.Yv(this.gj.release({aa:a.KF(),Ob:[a.Ob],Dk:b.Dk})):h.pa.Yv(this.gj.release({aa:a.KF(),Ob:[a.Ob]}));};b.prototype.Uja=function(a){var b;b=this.$la[a];b||(b=this.NRa(a),this.$la[a]=b);return h.pa.Yv(b);};b.prototype.NRa=function(a){var b;b=this;return new Promise(function(c,d){b.xc.S7a(a,b.ek.sYa()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new x.mf(k.v.LS,k.u.te,void 0,"Unable to create media keys system access. "+c.message,c));});});};b.prototype.MRa=function(a,b){return this.Lj(b).Cs(b,a);};b.prototype.D$a=function(a){var b;b=this;return this.config.Sh?h.pa.empty():h.pa.Yv(this.gj.release({aa:a.aa,Ob:a.Ob}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.pa.empty();}).map(function(){return a;});};b.prototype.E$a=function(){var a;a=this;this.ha.Af(this.config.u3,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.hz.dN.length});b=a.hz.dN.filter(function(a){return!a.active;}).map(function(b){return a.D$a(b);});h.pa.concat.apply(h.pa,[].concat(Xc(b))).subscribe(function(b){a.hz.o4(b);});});};b.prototype.fOa=function(a){var b;if(a.Wn()){b=new w.GS();b.ce=a.context.ce;b.Ob=[a.Ob];b.profileId=a.context.profileId;b.aa=a.context.aa;b.M=a.context.M;this.hz.wfa(b);}};a=b;a=f.__decorate([d.N(),f.__param(0,d.j(g.Jb)),f.__param(1,d.j(m.xh)),f.__param(2,d.j(p.X7)),f.__param(3,d.j(n.iC)),f.__param(4,d.j(G.o8)),f.__param(5,d.j(q.SS)),f.__param(6,d.j(t.HS)),f.__param(7,d.j(z.mS))],a);c.Qwa=a;},function(f,c,a){var b,d,h,k,g,m,p,n,q;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(223);d=a(114);h=a(759);k=a(385);g=a(758);m=a(154);p=a(754);n=a(222);q=a(753);c.dUa=new f.dc(function(a){a(d.Y7).to(h.Qwa).Y();a(k.p8).to(g.gxa);a(m.HS).to(p.lva).Y();a(n.SS).to(q.PDa);a(b.a8).th(b.IS.Ucb);a(k.o8).Yl(function(a){return function(b){var c;c=a.kc.get(k.p8);c.context=b;return c;};});});},function(f,c,a){var d,h,k,g;function b(a,b,c,d,f,g){this.platform=a;this.Tk=b;this.config=c;this.md=f;this.Wd=g;this.log=d.Bb("AccountManager");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);k=a(48);g=a(2);b.prototype.Xn=function(a){return this.profile.id===a?this.profile:this.profiles[a];};b.prototype.load=function(){var a;a=this;this.log.trace("Loading accounts from storage");return new Promise(function(b,c){a.uI().then(function(b){return b?a.storage.load("accounts"):Promise.resolve(void 0);}).then(function(c){c&&(a.log.trace("Persisted account data",JSON.stringify(c.value,null,"  ")),a.YVa(c.value),a.Wd.Ek.Uj("DebugEvent",{kind:"playerAccountManagerLoad",profile:a.profile&&a.profile.id}));b();})["catch"](function(f){a.log.debug("Unable to load persisted account data",{code:f.R,cause:f.cause});a.Wd.Ek.Uj("DebugEvent",{kind:"playerAccountManagerLoadError",errorCode:f.R,cause:f.cause});f.R===g.u.sj?(a.log.trace("No persisted account data, creating default profile"),a.reset(),b()):c(d.kI(g.v.DJ,f,"Unable to read IDB for account information."));});});};b.prototype.save=function(){var a;a=this;this.log.trace("Saving account data");return new Promise(function(b,c){var d;d=a.dbb();a.log.trace("Account data to persist",JSON.stringify(d,null,"  "));a.storage.save("accounts",d,!1).then(function(){b();})["catch"](function(b){a.log.error("Unable to save account information",b);c(b);});});};b.prototype.dbb=function(){var a;a=this;return{version:"1.0",account:this.profile.Yg.ER(),profile:this.profile.ER(),profiles:Object.keys(this.profiles).map(function(b){return a.profiles[b].ER();})};};b.prototype.YVa=function(a){var b,c,d;b=this;c=a.account;if(c){d=this.GM(c);if(c=a.profile)this.profile=this.Hv(d,c),this.ela(),(a=a.profiles)&&Array.isArray(a)&&a.forEach(function(a){a=b.Hv(d,a);b.profile&&a.id!==b.profile.id&&b.Bfa(a);});}};b.prototype.Bfa=function(a){this.profiles[a.id]=a;};b.prototype.q4=function(a){delete this.profiles[a.id];};b.prototype.ela=function(){this.profiles={};};b.prototype.reset=function(a){(void 0===a?0:a)&&this.Tk.Le.clearUserIdTokens();this.profile=this.Hv(this.GM());this.ela();};b.kI=function(a,b,c){return b.R&&b.cause?new k.nb(a,b.R,void 0,void 0,void 0,c,void 0,b.cause):void 0!==b.tb?(c=(b.message?b.message+" ":"")+(c?c:""),b.code=a,b.message=""===c?void 0:c,b):b instanceof Error?new k.nb(a,g.u.te,void 0,void 0,void 0,c,b.stack,b):new k.nb(a,g.u.Vg,void 0,void 0,void 0,c,void 0,b);};a=d=b;a=d=f.__decorate([h.N()],a);c.cS=a;},function(f,c,a){var d;function b(a,b,c,f,k){f=void 0===f?d.Cb(0):f;this.config=a;this.Yg=b;this.hG=f;this.k4=void 0===k?!1:k;this.id=void 0!==c?c:this.bXa();this.languages=(a=a())&&a.Dg&&a.Dg.Sw||["en-US"];}Object.defineProperty(c,"__esModule",{value:!0});d=a(7);b.prototype.ER=function(){return{id:this.id,lastAccessTime:this.hG?this.hG.qa(d.Ma):0,languages:this.languages};};b.prototype.v_=function(a){this.id=a.id.toString();this.hG=d.Cb(a.lastAccessTime||0);this.languages=a.languages||this.config().Dg.Sw;this.k4=!0;};c.Paa=b;},function(f,c,a){var d;function b(a,b,c,f,k){return d.Paa.call(this,a,b,c,f,k)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(762);oa(b,d.Paa);b.prototype.F_a=function(){var a;a=this.config();return a&&a.Jl?"browsertest"===this.id:"browser"===this.id;};b.prototype.bXa=function(){var a;a=this.config();return a&&a.Jl?"browsertest":"browser";};c.Kaa=b;},function(f,c){function a(a,c){this.id=void 0===a?"browser":a;this.Rj=void 0===c?!0:c;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.ER=function(){return{id:this.id,isNonMember:this.Rj};};a.prototype.v_=function(a){this.id=a.id.toString();this.Rj=a.isNonMember;};c.I6=a;},function(f,c,a){var d,h,k,g,m,p,n,q,t,z,w,G,x,y,C,F;function b(a,b,c,d,f,g,h){a=C.cS.call(this,a,b,c,d,f,h)||this;a.gj=g;a.log=d.Bb("AccountManager");a.zA=new k.YC(1);return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);k=a(77);g=a(111);m=a(24);p=a(29);n=a(12);q=a(48);t=a(2);z=a(7);w=a(56);G=a(387);x=a(764);y=a(763);C=a(761);a=a(85);oa(b,C.cS);b.prototype.Xc=function(){var a,b;a=this;b=this.config();if(!b||void 0===b.Jl)return Promise.reject(new q.nb(t.v.DJ,t.u.G6));this.Ig||(this.reset(),this.Ig=new Promise(function(b,c){a.md.create().then(function(b){a.storage=b;return a.load();}).then(function(){a.zA.next(a.profile.Yg);b();})["catch"](function(b){a.Ig=void 0;c(b);});}));return this.Ig;};b.prototype.lw=function(a,b){var c;c=this;if(this.Bv)return Promise.reject(new q.nb(t.v.xC,t.u.E6));this.Bv=!0;this.log.info("Logging in account",{authType:a?"Email/Password":"Cookies"});a&&this.reset(!0);return new Promise(function(d,f){c.gj.ping(c.profile,void 0===a?!0:{Tv:a,password:b}).then(function(){return c.gj.lw(c.profile,void 0);}).then(function(a){c.e8a(a);return c.save();}).then(function(){c.Bv=!1;c.zA.next(c.profile.Yg);d(c.profile);})["catch"](function(a){c.Bv=!1;c.log.error("Unable to login user",a);c.reset(!0);f(C.cS.kI(t.v.xC,a));});});};b.prototype.x1a=function(){this.log.info("logout");this.Wd.Ek.mq({kind:"playerAccountManagerLogout"});this.profile=this.Hv(this.GM());this.profiles={};this.Tk.Le.clearUserIdTokens();this.zA.next(this.profile.Yg);return this.save();};b.prototype.zab=function(a){var b;b=this;if(this.Bv)return Promise.reject(new q.nb(t.v.fK,t.u.E6));this.Bv=!0;this.log.info("Switching profiles",{old:this.profile.id,"new":a});return this.gj.ping(this.profile,a).then(function(){var c;c=b.Hv(b.profile.Yg,{id:a});return b.gj.lw(c,void 0);}).then(function(c){b.Bv=!1;if(c.ds!=b.profile.Yg.id)throw b.zA.next(b.profile.Yg),new q.nb(t.v.fK,t.u.ota,void 0,void 0,void 0,"The incoming server account GUID does not match the current account GUID");(c=b.profiles[c.Kg])?(b.profile=c,b.q4(b.profile)):(b.Bfa(b.profile),b.profile=b.Hv(b.profile.Yg,{ds:b.profile.Yg.id,Kg:a,Rj:b.profile.Yg.Rj}));return b.save();}).then(function(){b.Wd.Ek.Uj("DebugEvent",{kind:"playerAccountManagerSwitchProfile",profile:b.profile.id});return b.profile;})["catch"](function(a){b.Wd.Ek.mq({kind:"playerAccountManagerSwitchProfileError",code:a.code,data:a.data,details:a.Nv,detailsFromException:a.bF,edgeCode:a.Jj,extCode:a.Sc,message:a.message,mslErrorCode:a.sq,subCode:a.tb});b.Bv=!1;b.log.error("Unable to switch profiles",a);b.reset(!0);b.save();throw d.kI(t.v.fK,a);});};b.prototype.Y_=function(){var a;a=this;return Object.keys(this.profiles).map(function(b){return a.profiles[b];});};b.prototype.kSa=function(){return k.pa.from(this.zA);};b.prototype.fG=function(){return"windows_app"===this.platform.WM?k.pa.from(this.zA).map(function(a){return!(a.Rj||"browser"===a.id);}):k.pa.of(!0);};b.prototype.e8a=function(a){var b,c;b=this;this.profile&&a.Kg&&a.Kg!==this.profile.id&&this.Tk.Le.rekeyUserIdToken(this.profile.id,a.Kg);this.profile.Yg.id!==a.ds&&this.reset();c=this.Xn(a.Kg);c?(this.profile=c,this.q4(c)):this.profile.id!==a.Kg&&(this.profile=this.Hv(this.GM(a),a));(a=Object.keys(this.profiles).filter(function(a){return b.profiles[a].F_a();}).pop())&&this.q4(this.profiles[a]);};b.prototype.Hv=function(a,b){if(b&&void 0!==b.ds)return new y.Kaa(this.config,a,b.Kg,z.Cb(0),!1);a=new y.Kaa(this.config,a);b&&a.v_(b);return a;};b.prototype.GM=function(a){var b;if(a&&void 0!==a.ds)return new x.I6(a.ds,a.Rj);b=new x.I6();a&&b.v_(a);return b;};b.prototype.uI=function(){return Promise.resolve(!0);};F=d=b;F=d=f.__decorate([h.N(),f.__param(0,h.j(m.Pe)),f.__param(1,h.j(g.Wx)),f.__param(2,h.j(p.Ef)),f.__param(3,h.j(n.Jb)),f.__param(4,h.j(w.fk)),f.__param(5,h.j(G.x9)),f.__param(6,h.j(a.Wq))],F);c.GDa=F;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(63);d=a(765);c.Yg=new f.dc(function(a){a(b.J6).to(d.GDa).Y();});},function(f,c,a){var d,h,k,g,m;function b(a){a=h.we.call(this,a)||this;a.Hj="EmeConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(53);k=a(39);g=a(7);a=a(54);oa(b,h.we);pa.Object.defineProperties(b.prototype,{iH:{configurable:!0,enumerable:!0,get:function(){return!1;}},Sh:{configurable:!0,enumerable:!0,get:function(){return!1;}},uA:{configurable:!0,enumerable:!0,get:function(){return g.cl;}},u3:{configurable:!0,enumerable:!0,get:function(){return g.ij(10);}},H0:{configurable:!0,enumerable:!0,get:function(){return g.Cb(2E3);}},N4:{configurable:!0,enumerable:!0,get:function(){return g.Cb(1E3);}},j5a:{configurable:!0,enumerable:!0,get:function(){return g.Cb(2500);}},Iz:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},t0a:{configurable:!0,enumerable:!0,get:function(){return g.cl;}},s0a:{configurable:!0,enumerable:!0,get:function(){return 0;}}});m=b;f.__decorate([a.config(a.We,"promiseBasedEme")],m.prototype,"iH",null);f.__decorate([a.config(a.We,"secureStopEnabled")],m.prototype,"Sh",null);f.__decorate([a.config(a.cj,"licenseRenewalRequestDelay")],m.prototype,"uA",null);f.__decorate([a.config(a.cj,"persistedReleaseDelay")],m.prototype,"u3",null);f.__decorate([a.config(a.cj,"secureStopKeyMessageTimeoutMilliseconds")],m.prototype,"H0",null);f.__decorate([a.config(a.cj,"secureStopKeyAddedTimeoutMilliseconds")],m.prototype,"N4",null);f.__decorate([a.config(a.cj,"secureStopPersistedKeyMessageTimeoutMilliseconds")],m.prototype,"j5a",null);f.__decorate([a.config(a.string,"drmPersistKey")],m.prototype,"Iz",null);f.__decorate([a.config(a.cj,"licenseChallengeTimeoutMilliseconds")],m.prototype,"t0a",null);f.__decorate([a.config(a.rI,"licenseChallengeRetries")],m.prototype,"s0a",null);m=f.__decorate([d.N(),f.__param(0,d.j(k.nk))],m);c.exa=m;},function(f,c,a){var d,h,k,g,m,p,n;function b(a,b,c){a=g.we.call(this,a)||this;a.xc=b;a.Na=c;a.Hj="FtlProbeConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(52);h=a(0);k=a(7);g=a(53);m=a(27);p=a(54);a=a(39);oa(b,g.we);pa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.x_+(-1===this.x_.indexOf("?")?"?":"&")+"monotonic="+this.Na.Dna;}},Dra:{configurable:!0,enumerable:!0,get:function(){return k.cl;}},u_:{configurable:!0,enumerable:!0,get:function(){return"";}},x_:{configurable:!0,enumerable:!0,get:function(){return this.xc.endpoint+"/ftl/probe"+(this.u_?"?force="+this.u_:"");}}});n=b;f.__decorate([p.config(p.We,"ftlEnabled")],n.prototype,"enabled",null);f.__decorate([p.config(p.cj,"ftlStartDelay")],n.prototype,"Dra",null);f.__decorate([p.config(p.string,"ftlEndpointForceParam")],n.prototype,"u_",null);f.__decorate([p.config(p.url,"ftlEndpoint")],n.prototype,"x_",null);n=f.__decorate([h.N(),f.__param(0,h.j(a.nk)),f.__param(1,h.j(m.lf)),f.__param(2,h.j(d.mj))],n);c.yxa=n;},function(f,c,a){var d,h,k,g;function b(a){a=k.we.call(this,a)||this;a.Hj="NetworkMonitorConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);h=a(54);k=a(53);a=a(39);oa(b,k.we);pa.Object.defineProperties(b.prototype,{Tsa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});g=b;f.__decorate([h.config(h.We,"useNetworkMonitor")],g.prototype,"Tsa",null);g=f.__decorate([d.N(),f.__param(0,d.j(a.nk))],g);c.YAa=g;},function(f,c,a){var d,h,k,g,m,p,n;function b(a){a=g.we.call(this,a)||this;a.Hj="GeneralConfigImpl";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(7);h=a(0);k=a(54);g=a(53);m=a(47);a=a(39);p={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};c.nF=function(a,b){return a.Fpa(p[b]||b,m.er);};oa(b,g.we);pa.Object.defineProperties(b.prototype,{nF:{configurable:!0,enumerable:!0,get:function(){return m.er.ODa;}},E5:{configurable:!0,enumerable:!0,get:function(){return d.ij(8);}},Zn:{configurable:!0,enumerable:!0,get:function(){return"";}},Kp:{configurable:!0,enumerable:!0,get:function(){return"";}},Tq:{configurable:!0,enumerable:!0,get:function(){return"";}},Xra:{configurable:!0,enumerable:!0,get:function(){return!1;}},RE:{configurable:!0,enumerable:!0,get:function(){return"netflix.player ";}},hM:{configurable:!0,enumerable:!0,get:function(){return!0;}},F0:{configurable:!0,enumerable:!0,get:function(){return!0;}},PUa:{configurable:!0,enumerable:!0,get:function(){return!1;}},fi:{configurable:!0,enumerable:!0,get:function(){return{};}},C4:{configurable:!0,enumerable:!0,get:function(){return!1;}},gG:{configurable:!0,enumerable:!0,get:function(){return!1;}},vI:{configurable:!0,enumerable:!0,get:function(){return!0;}},XR:{configurable:!0,enumerable:!0,get:function(){return!1;}},zo:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Jl:{configurable:!0,enumerable:!0,get:function(){return 0<=[m.er.Gba,m.er.A9].indexOf(this.nF);}}});n=b;f.__decorate([k.config(c.nF,"environment")],n.prototype,"nF",null);f.__decorate([k.config(k.cj,"storageTimeout")],n.prototype,"E5",null);f.__decorate([k.config(k.string,"groupName")],n.prototype,"Zn",null);f.__decorate([k.config(k.string,"canaryGroupName")],n.prototype,"Kp",null);f.__decorate([k.config(k.string,"uiGroupName")],n.prototype,"Tq",null);f.__decorate([k.config(k.We,"testIndexDBForCorruptedDatabase")],n.prototype,"Xra",null);f.__decorate([k.config(k.string,"cruftyDatabaseName")],n.prototype,"RE",null);f.__decorate([k.config(k.We,"applyIndexedDbOpenWorkaround")],n.prototype,"hM",null);f.__decorate([k.config(k.We,"ignoreIdbOpenError")],n.prototype,"F0",null);f.__decorate([k.config(k.We,"executeStorageMigration")],n.prototype,"PUa",null);f.__decorate([k.config(k.object(),"browserInfo")],n.prototype,"fi",null);f.__decorate([k.config(k.We,"retryAllMslRequestsOnError")],n.prototype,"C4",null);f.__decorate([k.config(k.We,"isTestAccount")],n.prototype,"gG",null);f.__decorate([k.config(k.We,"useEventSourceSetOfLists")],n.prototype,"vI",null);f.__decorate([k.config(k.We,"vuiCommandLogging")],n.prototype,"XR",null);f.__decorate([k.config(k.object,"storageRules")],n.prototype,"zo",null);n=f.__decorate([h.N(),f.__param(0,h.j(a.nk))],n);c.Bxa=n;},function(f,c,a){var k,g,m,p,n;function b(){this.Ds={};this.vqa=0;}function d(a,b,c,d,f){this.debug=a;this.jq=b;this.OG=c;this.si=d;this.dQ=f;}function h(a,b,c){this.jq=a;this.OG=b;this.dQ=c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);g=a(128);m=a(12);p=a(127);n=a(389);a=a(39);h=f.__decorate([k.N(),f.__param(0,k.j(a.uC)),f.__param(1,k.j(p.NU)),f.__param(2,k.j(n.FU))],h);c.sva=h;d=f.__decorate([k.N(),f.__param(0,k.j(g.gJ)),f.__param(1,k.j(a.uC)),f.__param(2,k.j(p.NU)),f.__param(3,k.j(m.Jb)),f.__param(4,k.j(n.FU))],d);c.NFa=d;pa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Ds;},set:function(a){this.Ds=a;this.vqa++;}},uqa:{configurable:!0,enumerable:!0,get:function(){return this.vqa;}}});a=b;a=f.__decorate([k.N()],a);c.Vya=a;},function(f,c,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(11);d=a(74);a=a(75);f=function(a){function c(b){a.call(this);this.N3a=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.Ve=function(a){return new h(a,this.N3a);};return c;}(f.pa);c.zwa=f;h=function(a){function c(b,c){a.call(this,b);this.Lj=c;this.Obb();}b(c,a);c.prototype.Obb=function(){try{this.JGa();}catch(m){this.Yb(m);}};c.prototype.JGa=function(){var a;a=this.Lj();a&&this.add(d.Oq(this,a));};return c;}(a.So);},function(f,c,a){f=a(772);c.defer=f.zwa.create;},function(f,c,a){f=a(11);a=a(773);f.pa.defer=a.defer;},function(f,c,a){f=a(11);a=a(397);f.pa.from=a.from;},function(f,c,a){var d,h,k,g,m,p,n,q,t,z,w;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.$t(a).af(new n(b));}d=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(97);k=a(98);f=a(55);g=a(75);m=a(74);p=a(157);c.D6=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.af.call(b.apply(void 0,[c].concat(a)));};};c.jdb=b;n=function(){function a(a){this.zf=a;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.zf));};return a;}();c.ckb=n;q=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.i1=[];this.active=0;this.zf="function"===typeof c?c:null;this.values=d;}d(b,a);b.prototype.tg=function(a){var b;b=this.i1;k.isArray(a)?b.push(new z(a)):"function"===typeof a[p.iterator]?b.push(new t(a[p.iterator]())):b.push(new w(this.destination,this,a));};b.prototype.qf=function(){var a,b,d;a=this.i1;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.C$a?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.u3a=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.UOa=function(){var f,k;for(var a=this.i1,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.Cm&&!f.Cm())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];k=f.next();f.bA()&&(g=!0);if(k.done){c.complete();return;}h.push(k.value);}this.zf?this.MW(h):c.next(h);g&&c.complete();};b.prototype.MW=function(a){var b;try{b=this.zf.apply(this,a);}catch(F){this.destination.error(F);return;}this.destination.next(b);};return b;}(f.zh);c.dkb=q;t=function(){function a(a){this.iterator=a;this.T2=a.next();}a.prototype.Cm=function(){return!0;};a.prototype.next=function(){var a;a=this.T2;this.T2=this.iterator.next();return a;};a.prototype.bA=function(){var a;a=this.T2;return a&&a.done;};return a;}();z=function(){function a(a){this.Jn=a;this.length=this.index=0;this.length=a.length;}a.prototype[p.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.Jn;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.Cm=function(){return this.Jn.length>this.index;};a.prototype.bA=function(){return this.Jn.length===this.index;};return a;}();w=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.C$a=!0;this.buffer=[];this.T0=!1;}d(b,a);b.prototype[p.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.T0?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.Cm=function(){return 0<this.buffer.length;};b.prototype.bA=function(){return 0===this.buffer.length&&this.T0;};b.prototype.vi=function(){0<this.buffer.length?(this.T0=!0,this.parent.u3a()):this.destination.complete();};b.prototype.Ew=function(a,b){this.buffer.push(b);this.parent.UOa();};b.prototype.subscribe=function(a,b){return m.Oq(this,this.observable,this,b);};return b;}(g.So);},function(f,c,a){f=a(776);c.D6=f.jdb;},function(f,c,a){f=a(11);a=a(777);f.pa.D6=a.D6;},function(f,c,a){var b,d,h,k,g,m,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(97);h=a(98);f=a(75);k=a(74);g={};c.EY=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.af.call(new d.$t([b].concat(a)),new m(c));};};m=function(){function a(a){this.zf=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.zf));};return a;}();c.qva=m;p=function(a){function c(b,c){a.call(this,b);this.zf=c;this.active=0;this.values=[];this.foa=[];}b(c,a);c.prototype.tg=function(a){this.values.push(g);this.foa.push(a);};c.prototype.qf=function(){var a,b,d;a=this.foa;b=a.length;if(0===b)this.destination.complete();else{this.Z5=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(k.Oq(this,d,d,c));}}};c.prototype.vi=function(){0===--this.active&&this.destination.complete();};c.prototype.Ew=function(a,b,c){var d;a=this.values;d=a[c];d=this.Z5?d===g?--this.Z5:this.Z5:0;a[c]=b;0===d&&(this.zf?this.MW(a):this.destination.next(a.slice()));};c.prototype.MW=function(a){var b;try{b=this.zf.apply(this,a);}catch(w){this.destination.error(w);return;}this.destination.next(b);};return c;}(f.So);c.qeb=p;},function(f,c,a){var b,d,h,k;b=a(112);d=a(98);h=a(97);k=a(779);c.EY=function(){var f;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];f=c=null;b.hw(a[a.length-1])&&(f=a.pop());"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&d.isArray(a[0])&&(a=a[0]);return new h.$t(a,f).af(new k.qva(c));};},function(f,c,a){f=a(11);a=a(780);f.pa.EY=a.EY;},function(f,c,a){var b,d,h,k,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(390);f=a(11);h=a(156);k=a(112);g=a(392);a=function(a){function c(b,c,f){void 0===b&&(b=0);a.call(this);this.yq=-1;this.mia=0;d.Dla(c)?this.yq=1>Number(c)&&1||Number(c):k.hw(c)&&(f=c);k.hw(f)||(f=h.async);this.ha=f;this.mia=g.cG(b)?+b-this.ha.now():b;}b(c,a);c.create=function(a,b,d){void 0===a&&(a=0);return new c(a,b,d);};c.Xa=function(a){var b,c,d;b=a.index;c=a.yq;d=a.Ce;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.lb(a,c);}};c.prototype.Ve=function(a){return this.ha.lb(c.Xa,this.mia,{index:0,yq:this.yq,Ce:a});};return c;}(f.pa);c.uFa=a;},function(f,c,a){f=a(782);c.Rq=f.uFa.create;},function(f,c,a){f=a(11);a=a(783);f.pa.Rq=a.Rq;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.error=b;this.ha=c;}b(c,a);c.create=function(a,b){return new c(a,b);};c.Xa=function(a){a.Ce.error(a.error);};c.prototype.Ve=function(a){var b,d;b=this.error;d=this.ha;a.kj=!0;if(d)return d.lb(c.Xa,0,{error:b,Ce:a});a.error(b);};return c;}(a(11).pa);c.lxa=f;},function(f,c,a){f=a(785);c.PKa=f.lxa.create;},function(f,c,a){f=a(11);a=a(786);f.pa["throw"]=a.PKa;},function(f,c,a){f=a(391);c.Gw=f.g4a;},function(f,c,a){f=a(11);a=a(788);f.pa.Gw=a.Gw;},function(f,c,a){f=a(11);a=a(398);f.pa.of=a.of;},function(f,c,a){var b,d,h,k;b=a(11);d=a(97);h=a(112);k=a(224);c.y2=function(){var c,f,l;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=Number.POSITIVE_INFINITY;f=null;l=a[a.length-1];h.hw(l)?(f=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(c=a.pop())):"number"===typeof l&&(c=a.pop());return null===f&&1===a.length&&a[0]instanceof b.pa?a[0]:k.pt(c)(new d.$t(a,f));};},function(f,c,a){f=a(11);a=a(791);f.pa.y2=a.y2;},function(f,c,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(390);f=a(11);h=a(156);a=function(a){function c(b,c){void 0===b&&(b=0);void 0===c&&(c=h.async);a.call(this);this.yq=b;this.ha=c;if(!d.Dla(b)||0>b)this.yq=0;c&&"function"===typeof c.lb||(this.ha=h.async);}b(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new c(a,b);};c.Xa=function(a){var b,c;b=a.Ce;c=a.yq;b.next(a.index);b.closed||(a.index+=1,this.lb(a,c));};c.prototype.Ve=function(a){var b;b=this.yq;a.add(this.ha.lb(c.Xa,b,{index:0,Ce:a,yq:b}));};return c;}(f.pa);c.Xya=a;},function(f,c,a){f=a(793);c.interval=f.Xya.create;},function(f,c,a){f=a(11);a=a(794);f.pa.interval=a.interval;},function(f,c,a){f=a(395);c.Yv=f.Qaa.create;},function(f,c,a){f=a(11);a=a(796);f.pa.Yv=a.Yv;},function(f,c,a){f=a(129);c.empty=f.jC.create;},function(f,c,a){f=a(11);a=a(798);f.pa.empty=a.empty;},function(f,c,a){f=a(11);a=a(130);f.pa.concat=a.concat;},function(f,c,a){var b,d,h,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(75);d=a(74);c.xR=function(a,b){return function(c){return c.af(new h(a,b));};};h=function(){function a(a,b){this.zf=a;this.hj=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.zf,this.hj));};return a;}();k=function(a){function c(b,c,d){a.call(this,b);this.zf=c;this.hj=d;this.index=0;}b(c,a);c.prototype.tg=function(a){var b,c;c=this.index++;try{b=this.zf(a,c);}catch(v){this.destination.error(v);return;}this.NV(b,a,c);};c.prototype.NV=function(a,b,c){var f;f=this.DO;f&&f.unsubscribe();this.add(this.DO=d.Oq(this,a,b,c));};c.prototype.qf=function(){var b;b=this.DO;b&&!b.closed||a.prototype.qf.call(this);};c.prototype.rp=function(){this.DO=null;};c.prototype.vi=function(b){this.remove(b);this.DO=null;this.Ze&&a.prototype.qf.call(this);};c.prototype.Ew=function(a,b,c,d){this.hj?this.WKa(a,b,c,d):this.destination.next(b);};c.prototype.WKa=function(a,b,c,d){var f;try{f=this.hj(a,b,c,d);}catch(w){this.destination.error(w);return;}this.destination.next(f);};return c;}(f.So);},function(f,c,a){var b;b=a(801);c.xR=function(a,c){return b.xR(a,c)(this);};},function(f,c,a){f=a(11);a=a(802);f.pa.prototype.xR=a.xR;},function(f,c,a){var b,d;b=a(404);c.S2a=function(a,c){return function(f){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof c)return f.af(new d(g,c));h=Object.create(f,b.BPa);h.source=f;h.vR=g;return h;};};d=function(){function a(a,b){this.vR=a;this.Mt=b;}a.prototype.call=function(a,b){var c,d;c=this.Mt;d=this.vR();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();c.khb=d;},function(f,c,a){var b,d;b=a(406);d=a(804);c.aQ=function(a,c,f,k){var g,h;f&&"function"!==typeof f&&(k=f);g="function"===typeof f?f:void 0;h=new b.YC(a,c,k);return function(a){return d.S2a(function(){return h;},g)(a);};};},function(f,c,a){var b;b=a(805);c.aQ=function(a,c,f,g){return b.aQ(a,c,f,g)(this);};},function(f,c,a){f=a(11);a=a(806);f.pa.prototype.aQ=a.aQ;},function(f,c,a){var b,d,h,k,g;b=a(97);d=a(225);h=a(129);k=a(130);g=a(112);c.nR=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){var f,l;f=a[a.length-1];g.hw(f)?a.pop():f=null;l=a.length;return 1===l?k.concat(new d.JU(a[0],f),c):1<l?k.concat(new b.$t(a,f),c):k.concat(new h.jC(f),c);};};},function(f,c,a){var b;b=a(808);c.nR=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.nR.apply(void 0,a)(this);};},function(f,c,a){f=a(11);a=a(809);f.pa.prototype.nR=a.nR;},function(){},function(f,c,a){var b,d,h,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(75);d=a(74);c.gI=function(a){return function(b){return b.af(new h(a));};};h=function(){function a(a){this.Vna=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Vna));};return a;}();k=function(a){function c(b,c){a.call(this,b);this.Vna=c;this.add(d.Oq(this,c));}b(c,a);c.prototype.Ew=function(){this.complete();};c.prototype.vi=function(){};return c;}(f.So);},function(f,c,a){var b;b=a(812);c.gI=function(a){return b.gI(a)(this);};},function(f,c,a){f=a(11);a=a(813);f.pa.prototype.gI=a.gI;},function(f,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.Rta=f;},function(f,c,a){var b,d,h,k,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(55);d=a(815);h=a(129);c.GB=function(a){return function(b){return 0===a?new h.jC():b.af(new k(a));};};k=function(){function a(a){this.total=a;if(0>this.total)throw new d.Rta();}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.total));};return a;}();g=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.tg=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(f.zh);},function(f,c,a){var b;b=a(816);c.GB=function(a){return b.GB(a)(this);};},function(f,c,a){f=a(11);a=a(817);f.pa.prototype.GB=a.GB;},function(f,c,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(55);c.QH=function(a){return function(b){return b.af(new d(a));};};d=function(){function a(a){this.Ct=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Ct));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Ct=c;this.v5=!0;this.index=0;}b(c,a);c.prototype.tg=function(a){var b;b=this.destination;this.v5&&this.Nbb(a);this.v5||b.next(a);};c.prototype.Nbb=function(a){try{this.v5=!!this.Ct(a,this.index++);}catch(p){this.destination.error(p);}};return c;}(f.zh);},function(f,c,a){var b;b=a(819);c.QH=function(a){return b.QH(a)(this);};},function(f,c,a){f=a(11);a=a(820);f.pa.prototype.QH=a.QH;},function(f,c,a){var b;b=a(391);c.Gw=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.Gw.apply(void 0,a)(this);};},function(f,c,a){f=a(11);a=a(822);f.pa.prototype.Gw=a.Gw;},function(f,c,a){var b;b=a(393);c.HA=function(a,c,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return b.HA(a,c,f)(this);};},function(f,c,a){f=a(11);a=a(824);f.pa.prototype.HA=a.HA;f.pa.prototype.tF=a.HA;},function(f,c,a){var b;b=a(224);c.pt=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.pt(a)(this);};},function(f,c,a){f=a(11);a=a(826);f.pa.prototype.pt=a.pt;},function(f,c,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(55);c.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.af(new d(a,b));};};d=function(){function a(a,b){this.zf=a;this.P5=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.zf,this.P5));};return a;}();c.ahb=d;h=function(a){function c(b,c,d){a.call(this,b);this.zf=c;this.count=0;this.P5=d||this;}b(c,a);c.prototype.tg=function(a){var b;try{b=this.zf.call(this.P5,a,this.count++);}catch(r){this.destination.error(r);return;}this.destination.next(b);};return c;}(f.zh);},function(f,c,a){var b;b=a(828);c.map=function(a,c){return b.map(a,c)(this);};},function(f,c,a){f=a(11);a=a(829);f.pa.prototype.map=a.map;},function(f,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.ixa=f;},function(f,c,a){var b,d,h,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(55);d=a(831);c.Sj=function(a,b,c){return function(d){return d.af(new h(a,b,c,d));};};h=function(){function a(a,b,c,d){this.Ct=a;this.hj=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Ct,this.hj,this.defaultValue,this.source));};return a;}();k=function(a){function c(b,c,d,f,g){a.call(this,b);this.Ct=c;this.hj=d;this.defaultValue=f;this.source=g;this.Cm=!1;this.index=0;"undefined"!==typeof f&&(this.TO=f,this.Cm=!0);}b(c,a);c.prototype.tg=function(a){var b;b=this.index++;this.Ct?this.XKa(a,b):this.hj?this.ifa(a,b):(this.TO=a,this.Cm=!0);};c.prototype.XKa=function(a,b){var c;try{c=this.Ct(a,b,this.source);}catch(v){this.destination.error(v);return;}c&&(this.hj?this.ifa(a,b):(this.TO=a,this.Cm=!0));};c.prototype.ifa=function(a,b){var c;try{c=this.hj(a,b);}catch(v){this.destination.error(v);return;}this.TO=c;this.Cm=!0;};c.prototype.qf=function(){var a;a=this.destination;this.Cm?(a.next(this.TO),a.complete()):a.error(new d.ixa());};return c;}(f.zh);},function(f,c,a){var b;b=a(832);c.Sj=function(a,c,f){return b.Sj(a,c,f)(this);};},function(f,c,a){f=a(11);a=a(833);f.pa.prototype.Sj=a.Sj;},function(f,c,a){var b,d,h,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(55);c.Eab=function(a,b,c){return function(d){return d.af(new h(a,b,c));};};h=function(){function a(a,b,c){this.f3a=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.f3a,this.error,this.complete));};return a;}();k=function(a){function c(b,c,f,g){a.call(this,b);b=new d.zh(c,f,g);b.kj=!0;this.add(b);this.G4=b;}b(c,a);c.prototype.tg=function(a){var b;b=this.G4;b.next(a);b.ox?this.destination.error(b.px):this.destination.next(a);};c.prototype.Yb=function(a){var b;b=this.G4;b.error(a);b.ox?this.destination.error(b.px):this.destination.error(a);};c.prototype.qf=function(){var a;a=this.G4;a.complete();a.ox?this.destination.error(a.px):this.destination.complete();};return c;}(d.zh);},function(f,c,a){var b;b=a(835);c.wV=function(a,c,f){return b.Eab(a,c,f)(this);};},function(f,c,a){f=a(11);a=a(836);f.pa.prototype.eF=a.wV;f.pa.prototype.wV=a.wV;},function(f,c,a){function b(){return function(){function a(){this.Bj=[];}a.prototype.add=function(a){this.has(a)||this.Bj.push(a);};a.prototype.has=function(a){return-1!==this.Bj.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Bj.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Bj.length=0;};return a;}();}f=a(76);c.cqb=b;c.Set=f.root.Set||b();},function(f,c,a){var b,d,h,k,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(75);d=a(74);h=a(838);c.aN=function(a,b){return function(c){return c.af(new k(a,b));};};k=function(){function a(a,b){this.OO=a;this.OVa=b;}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.OO,this.OVa));};return a;}();g=function(a){function c(b,c,f){a.call(this,b);this.OO=c;this.values=new h.Set();f&&this.add(d.Oq(this,f));}b(c,a);c.prototype.Ew=function(){this.values.clear();};c.prototype.b3=function(a){this.Yb(a);};c.prototype.tg=function(a){this.OO?this.fLa(a):this.nda(a,a);};c.prototype.fLa=function(a){var b,c;c=this.destination;try{b=this.OO(a);}catch(z){c.error(z);return;}this.nda(b,a);};c.prototype.nda=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(f.So);c.Reb=g;},function(f,c,a){var b;b=a(839);c.aN=function(a,c){return b.aN(a,c)(this);};},function(f,c,a){f=a(11);a=a(840);f.pa.prototype.aN=a.aN;},function(f,c,a){var b,d,h,k,g,m,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(156);h=a(392);f=a(55);k=a(226);c.Rc=function(a,b){var c;void 0===b&&(b=d.async);c=h.cG(a)?+a-b.now():Math.abs(a);return function(a){return a.af(new g(c,b));};};g=function(){function a(a,b){this.Rc=a;this.ha=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Rc,this.ha));};return a;}();m=function(a){function c(b,c,d){a.call(this,b);this.Rc=c;this.ha=d;this.Eq=[];this.Gia=this.active=!1;}b(c,a);c.Xa=function(a){for(var b=a.source,c=b.Eq,d=a.ha,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.lb(a,b)):b.active=!1;};c.prototype.kKa=function(a){this.active=!0;this.add(a.lb(c.Xa,this.Rc,{source:this,destination:this.destination,ha:a}));};c.prototype.Jqa=function(a){var b;if(!0!==this.Gia){b=this.ha;a=new p(b.now()+this.Rc,a);this.Eq.push(a);!1===this.active&&this.kKa(b);}};c.prototype.tg=function(a){this.Jqa(k.Notification.$Y(a));};c.prototype.Yb=function(a){this.Gia=!0;this.Eq=[];this.destination.error(a);};c.prototype.qf=function(){this.Jqa(k.Notification.WY());};return c;}(f.zh);p=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(f,c,a){var b,d;b=a(156);d=a(842);c.Rc=function(a,c){void 0===c&&(c=b.async);return d.Rc(a,c)(this);};},function(f,c,a){f=a(11);a=a(843);f.pa.prototype.Rc=a.Rc;},function(f,c,a){var b;b=a(394);c.IE=function(){return b.IE()(this);};},function(f,c,a){f=a(11);a=a(845);f.pa.prototype.IE=a.IE;},function(f,c){c.c_a=function(a){return a;};},function(f,c,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(11);d=a(225);h=a(129);a=function(a){function c(b,c){a.call(this);this.zX=b;(this.ha=c)||1!==b.length||(this.hp=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var f;f=a.length;return 0===f?new h.jC():1===f?new d.JU(a[0],b):new c(a,b);};c.Xa=function(a){var b,c,d;b=a.zX;c=a.index;d=a.Ce;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.lb(a)));};c.prototype.Ve=function(a){var b,d,f;b=this.zX;d=this.ha;f=b.length;if(d)return d.lb(c.Xa,0,{zX:b,index:0,length:f,Ce:a});for(d=0;d<f&&!a.closed;d++)a.next(b[d]);a.complete();};return c;}(f.pa);c.Sta=a;},function(f,c,a){var b,d,h,k,g,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(76);f=a(11);h=a(157);a=function(a){function c(b,c){a.call(this);this.ha=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[h.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new g(b);else b=new k(b);this.iterator=b;}b(c,a);c.create=function(a,b){return new c(a,b);};c.Xa=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.Ce;if(a.NF)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.lb(a));}};c.prototype.Ve=function(a){var b,d;b=this.iterator;d=this.ha;if(d)return d.lb(c.Xa,0,{index:0,iterator:b,Ce:a});do{d=b.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return c;}(f.pa);c.$ya=a;k=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.St=a;this.RF=b;this.u1=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.RF<this.u1?{done:!1,value:this.St.charAt(this.RF++)}:{done:!0,value:void 0};};return a;}();g=function(){function a(a,b,c){var f;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&d.root.isFinite(c)){f=+c;c=(0===f||isNaN(f)?f:0>f?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>m?m:c;}this.zMa=a;this.RF=b;this.u1=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.RF<this.u1?{done:!1,value:this.zMa[this.RF++]}:{done:!0,value:void 0};};return a;}();m=Math.pow(2,53)-1;},function(f,c,a){var b;b=a(130);f=a(130);c.uPa=f.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.af.call(b.concat.apply(void 0,[c].concat(a)));};};},function(f,c,a){var b;b=a(850);f=a(130);c.uPa=f.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.concat.apply(void 0,a)(this);};},function(f,c,a){f=a(11);a=a(851);f.pa.prototype.concat=a.concat;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c,d){a.call(this);this.parent=b;this.D4a=c;this.C4a=d;this.index=0;}b(c,a);c.prototype.tg=function(a){this.parent.Ew(this.D4a,a,this.C4a,this.index++,this);};c.prototype.Yb=function(a){this.parent.b3(a,this);this.unsubscribe();};c.prototype.qf=function(){this.parent.vi(this);this.unsubscribe();};return c;}(a(55).zh);c.z9=f;},function(f,c,a){var b,d,h,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(75);d=a(74);c.LOa=function(a){return function(b){var c;c=new h(a);b=b.af(c);return c.nY=b;};};h=function(){function a(a){this.Mt=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Mt,this.nY));};return a;}();k=function(a){function c(b,c,d){a.call(this,b);this.Mt=c;this.nY=d;}b(c,a);c.prototype.error=function(b){var c;if(!this.Ze){c=void 0;try{c=this.Mt(b,this.nY);}catch(u){a.prototype.error.call(this,u);return;}this.$Ka();this.add(d.Oq(this,c));}};return c;}(f.So);},function(f,c,a){var b;b=a(854);c.mV=function(a){return b.LOa(a)(this);};},function(f,c,a){f=a(11);a=a(855);f.pa.prototype["catch"]=a.mV;f.pa.prototype.mV=a.mV;},function(f,c,a){var b,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(228);a=function(a){function c(b,c){var f;f=this;void 0===b&&(b=d);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b,function(){return f.frame;});this.T1a=c;this.frame=0;this.index=-1;}b(c,a);c.prototype.flush=function(){for(var a=this.Ni,b=this.T1a,c,d;(d=a.shift())&&(this.frame=d.Rc)<=b&&!(c=d.Pf(d.state,d.Rc)););if(c){for(;d=a.shift();)d.unsubscribe();throw c;}};c.PN=10;return c;}(a(227).fS);c.VFa=a;d=function(a){function c(b,c,d){void 0===d&&(d=b.index+=1);a.call(this,b,c);this.ha=b;this.HI=c;this.index=d;this.active=!0;this.index=b.index=d;}b(c,a);c.prototype.lb=function(b,d){var f;void 0===d&&(d=0);if(!this.id)return a.prototype.lb.call(this,b,d);this.active=!1;f=new c(this.ha,this.HI);this.add(f);return f.lb(b,d);};c.prototype.pQ=function(a,b,d){void 0===d&&(d=0);this.Rc=a.frame+d;a=a.Ni;a.push(this);a.sort(c.n$a);return!0;};c.prototype.iQ=function(){};c.prototype.SK=function(b,c){if(!0===this.active)return a.prototype.SK.call(this,b,c);};c.n$a=function(a,b){return a.Rc===b.Rc?a.index===b.index?0:a.index>b.index?1:-1:a.Rc>b.Rc?1:-1;};return c;}(f.eS);c.UFa=d;},function(f,c,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(158);h=a(70);f=a(403);a=a(401);d=function(a){function c(b,c){a.call(this);this.ld=b;this.XH=[];this.ha=c;}b(c,a);c.prototype.Ve=function(b){var c,d;c=this;d=c.Bma();b.add(new h.tj(function(){c.Cma(d);}));return a.prototype.Ve.call(this,b);};c.prototype.V9a=function(){for(var a=this,b=a.ld.length,c=0;c<b;c++)(function(){var b;b=a.ld[c];a.ha.lb(function(){b.notification.observe(a);},b.frame);}());};return c;}(d.yh);c.Ffb=d;a.Pfa(d,[f.yba]);},function(f,c,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(11);h=a(70);f=a(403);a=a(401);d=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.Bma();a.add(new h.tj(function(){b.Cma(c);}));b.y8a(a);return a;});this.ld=b;this.XH=[];this.ha=c;}b(c,a);c.prototype.y8a=function(a){var d;for(var b=this.ld.length,c=0;c<b;c++){d=this.ld[c];a.add(this.ha.lb(function(a){a.message.notification.observe(a.Ce);},d.frame,{message:d,Ce:a}));}};return c;}(d.pa);c.pva=d;a.Pfa(d,[f.yba]);},function(f,c,a){var b,d,h,k,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(11);d=a(226);h=a(859);a(858);k=a(402);g=a(857);f=function(a){function c(b){a.call(this,g.UFa,750);this.KMa=b;this.SZa=[];this.MVa=[];}b(c,a);c.prototype.bSa=function(a){a=a.indexOf("|");if(-1===a)throw Error('marble diagram for time should have a completion marker "|"');return a*c.PN;};c.prototype.flush=function(){var c;for(var b=this.SZa;0<b.length;)b.shift().V9a();a.prototype.flush.call(this);for(b=this.MVa.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.KMa(c.jv,c.Kl);}};c.Sqb=function(a){var h,l;if("string"!==typeof a)return new k.bD(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.PN;l=a[g];switch(l){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+l+"'.");}}return 0>f?new k.bD(d):new k.bD(d,f);};c.Rqb=function(a,b,c,f){var q,r,u;void 0===f&&(f=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],l=a.indexOf("^"),l=-1===l?0:l*-this.PN,m="object"!==typeof b?function(a){return a;}:function(a){return f&&b[a]instanceof h.pva?b[a].ld:b[a];},n=-1,p=0;p<g;p++){q=p*this.PN+l;r=void 0;u=a[p];switch(u){case"-":case" ":break;case"(":n=q;break;case")":n=-1;break;case"|":r=d.Notification.WY();break;case"^":break;case"#":r=d.Notification.tha(c||"error");break;default:r=d.Notification.$Y(m(u));}r&&k.push({frame:-1<n?n:q,notification:r});}return k;};return c;}(g.VFa);c.Hba=f;},function(f,c,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(55);c.jQ=function(){return function(a){return a.af(new d(a));};};d=function(){function a(a){this.Hk=a;}a.prototype.call=function(a,b){var c;c=this.Hk;c.Tr++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.wm=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Hk=c;}b(c,a);c.prototype.rp=function(){var a,b;a=this.Hk;if(a){this.Hk=null;b=a.Tr;0>=b?this.wm=null:(a.Tr=b-1,1<b?this.wm=null:(b=this.wm,a=a.Br,this.wm=null,!a||b&&a!==b||a.unsubscribe()));}else this.wm=null;};return c;}(f.zh);},function(f,c){f=function(){function a(b,c){void 0===c&&(c=a.now);this.QEa=b;this.now=c;}a.prototype.lb=function(a,c,f){void 0===c&&(c=0);return new this.QEa(this,a).lb(f,c);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();c.PEa=f;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);}b(c,a);return c;}(a(227).fS);c.WDa=f;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.call(this);}b(c,a);c.prototype.lb=function(){return this;};return c;}(a(70).tj);c.Jta=f;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this,b,c);this.ha=b;this.HI=c;}b(c,a);c.prototype.lb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.lb.call(this,b,c);this.Rc=c;this.state=b;this.ha.flush(this);return this;};c.prototype.Pf=function(b,c){return 0<c||this.closed?a.prototype.Pf.call(this,b,c):this.SK(b,c);};c.prototype.pQ=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.Rc?a.prototype.pQ.call(this,b,c,d):b.flush(this);};return c;}(a(228).eS);c.VDa=f;},function(f,c,a){f=a(865);a=a(863);c.Eq=new a.WDa(f.VDa);},function(f,c){c.l3a=function(){};},function(f,c,a){var d;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:d.l3a;}d=a(867);c.l5a=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b(a);};c.m5a=b;},function(f,c,a){var b,d,h;b=a(55);d=a(230);h=a(231);c.gbb=function(a,c,f){if(a){if(a instanceof b.zh)return a;if(a[d.fx])return a[d.fx]();}return a||c||f?new b.zh(a,c,f):new b.zh(h.empty);};},function(f,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(a){b.call(this);this.oF=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.lK=f;},function(f,c,a){var d,h;function b(){try{return h.apply(this,arguments);}catch(l){return d.Ns.e=l,d.Ns;}}d=a(409);c.xsa=function(a){h=a;return b;};},function(f,c,a){var d,h,k,g;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(412);h=a(77);k=a(0);a=a(29);pa.Object.defineProperties(b.prototype,{Fm:{configurable:!0,enumerable:!0,get:function(){return d.PC.of(this.config().Vq).map(function(a){return h.pa.from(a.isInOfflineMode);}).UG(h.pa.of(!1));}},Ek:{configurable:!0,enumerable:!0,get:function(){return d.PC.of(this.config().Vq).map(function(a){var b;b=a.logger;if(b)return{y$a:b.startSession,xUa:b.endSession,Uj:b.logEvent,mq:function(a){a&&a.code&&(a.code=String(a.code));return b.logEvent("DebugEvent",a);}};}).UG({y$a:function(){return-1;},xUa:function(){},Uj:function(){return-1;},mq:function(){return-1;}});}},md:{configurable:!0,enumerable:!0,get:function(){return d.PC.of(this.config().Vq).map(function(a){return a.storageFactory;}).UG({});}}});g=b;g=f.__decorate([k.N(),f.__param(0,k.j(a.Ef))],g);c.Qta=g;},function(f,c,a){var b,d,h,k,g,m,n,q,u,v,z,w,A;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(872);d=a(29);h=a(85);k=a(771);g=a(39);m=a(47);n=a(770);q=a(388);u=a(769);v=a(155);z=a(768);w=a(131);A=a(767);c.config=new f.dc(function(a){a(d.Ef).Yl(function(){return function(){return t._cad_global.config;};});a(h.Wq).to(b.Qta).Y();a(g.rS).to(k.sva).Y();a(g.nk).to(k.NFa).Y();a(g.uC).to(k.Vya).Y();a(m.oj).to(n.Bxa).Y();a(q.G$).to(u.YAa).Y();a(v.C8).to(z.yxa).Y();a(w.iC).to(A.exa).Y();});},function(f,c,a){var b,d,h,k,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);d=a(113);h=a(114);k=a(234);c.v6a=function(a){k.NZ.parent=a.kc;return function(){g||(g=new Promise(function(a,c){try{a(k.NZ.get(h.Y7));}catch(u){c(new d.mf(b.v.lya,b.u.Gya,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return g;};};},function(f,c,a){var k,g,m,n,q,u,t,z;function b(a,b,c){var f;f=this;this.is=a;this.md=b;this.config=c;this.Gd=function(){return{version:f.version,drmData:f.dN.map(function(a){return a.Gd();})};};this.ni=function(a){var b;f.is.Eh(a)&&(a=d(a));1===a.version&&(a=h(f.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new z.GS(a);});}catch(N){throw new q.nb(m.v.Qx,m.u.hn,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",N);}}else{if(!a.version||!f.is.ye(a.version))throw new q.nb(m.v.Qx,m.u.hn,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new q.nb(m.v.Qx,m.u.kS,void 0,void 0,void 0,"Version number is not supported. Version: "+f.getVersion);}return b;};this.Ng=new u.BT(2,this.config.Iz,this.is.Eh(this.config.Iz),this.md,this.Gd);}function d(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new q.nb(m.v.Qx,m.u.hn);return{version:1,drmData:[a]};}function h(a,b){if(a.Gn(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new z.GS({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).Gd();})};throw new q.nb(m.v.Qx,m.u.hn);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);g=a(131);m=a(2);n=a(20);q=a(48);u=a(232);t=a(56);z=a(233);b.prototype.Epa=function(){return this.x$a();};b.prototype.wfa=function(a){return this.Ng.add(a);};b.prototype.o4=function(a){return this.Ng.remove(a,function(a,b){return a.aa===b.aa;});};b.prototype.toString=function(){return JSON.stringify(this.Gd(),null,"  ");};b.prototype.x$a=function(){var a;a=this;this.Jpa||(this.Jpa=new Promise(function(b,c){a.Ng.load(a.ni).then(function(){b();})["catch"](function(a){a.R&&a.cause?c(new q.nb(m.v.Qx,a.R,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.Jpa;};pa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Ng.version;}},dN:{configurable:!0,enumerable:!0,get:function(){return this.Ng.um;}}});a=b;a=f.__decorate([k.N(),f.__param(0,k.j(n.rd)),f.__param(1,k.j(t.fk)),f.__param(2,k.j(g.iC))],a);c.$ua=a;},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(63);d=a(235);c.u6a=function(a){return function(){var c;if(!h){d.$W.parent=a.kc;c=d.$W.get(b.J6);h=new Promise(function(a,b){c.Xc().then(function(){a(c);})["catch"](function(a){b(a);});});}return h;};};},function(f,c,a){var h,k,g,m,n,q,u,t,z,d,b;function b(a,b){a=/CrOS/.test(a.userAgent);this.jNa=this.jE=u.LI.E9;this.a5=!0;this.kM=[t.gk.wJ];this.DI=[t.$.fr,t.$.ju,t.$.Cxa,t.$.Dxa];a&&this.DI.push(t.$.lC,t.$.Exa);this.LB=[t.uj.vS,t.uj.sEa,t.uj.Xx];this.ce=z.Eb.ZFa;this.UZ=!0;this.pN=!1;this.Wma=m.Cb(232E3);this.c2=n.ga(0);this.AX=n.ga(288E4);this.DX=n.ga(335544320);this.e2=m.Cb(15E3);this.U1a=n.ga(6291456);this.vA=1E3;this.IR=!0;this.z6=!1;this.kY=!!b;this.yY=!0;this.Pga=!b;this.qR="idb";this.D5=n.ga(0);this.bta=!1;this.r4=!0;this.X5={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};this.DR=n.ga(0);this.kQ=!1;this.HR=m.Cb(0);}function d(a){var b,c;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);this.version="6.0011.853.011";this.Tk=!0;this.HUa=b?"C":c?"O":"M";this.zm=/OPR/.test(a)?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":/CrOS/.test(a)?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":"NFCDCH-LX-";this.z_=!0;this.BZ=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.WM="browser";this.Dma="";this.Zha="cadmium";this.e0a=!0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);k=a(50);g=a(24);m=a(7);n=a(42);q=a(161);u=a(414);t=a(64);z=a(160);d=f.__decorate([h.N(),f.__param(0,h.j(k.LC))],d);b=f.__decorate([h.N(),f.__param(0,h.j(k.LC)),f.__param(1,h.j(k.q$))],b);c.platform=new h.dc(function(a){a(g.Pe).to(d);a(q.WJ).to(b);});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jna=function(a){return function(b){return function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return c.forEach(function(c){return a.bind(c).fbb(b);});};};};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(59);d=a(40);h=a(66);c.bpa=function(){return function(a,c){c=new h.Metadata(d.RC,c);if(Reflect.m0(d.RC,a.constructor))throw Error(b.Wza);Reflect.yZ(d.RC,c,a.constructor);};};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);d=a(66);h=a(86);c.hI=function(a){return function(c,f,k){var g;g=new d.Metadata(b.IJ,a);h.qx(c,f,k,g);};};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);d=a(66);h=a(86);c.tt=function(a){return function(c,f,k){var g;g=new d.Metadata(b.qu,a);"number"===typeof k?h.qx(c,f,k,g):h.fI(c,f,g);};};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);d=a(66);h=a(86);c.Uh=function(){return function(a,c,f){var g;g=new d.Metadata(b.eD,!0);h.qx(a,c,f,g);};};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);d=a(66);h=a(86);c.optional=function(){return function(a,c,f){var g;g=new d.Metadata(b.N$,!0);"number"===typeof f?h.qx(a,c,f,g):h.fI(a,c,g);};};},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);d=a(66);h=a(86);c.Kna=function(a){return function(c,f,k){var g;g=new d.Metadata(b.kr,a);"number"===typeof k?h.qx(c,f,k,g):h.fI(c,f,g);};};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(66);d=a(86);c.yR=function(a,c){return function(f,h,k){var g;g=new b.Metadata(a,c);"number"===typeof k?d.qx(f,h,k,g):d.fI(f,h,g);};};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(59);d=a(40);c.N=function(){return function(a){var c;if(Reflect.m0(d.iU,a))throw Error(b.rwa);c=Reflect.getMetadata(d.Kva,a)||[];Reflect.yZ(d.iU,c,a);return a;};};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(99);c.dc=function(){return function(a){this.id=b.id();this.l4=a;};}();c.S6=function(){return function(a){this.id=b.id();this.l4=a;};}();},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(59);f=function(){function a(){this.Bh=new Map();}a.prototype.add=function(a,c){var d;if(null===a||void 0===a)throw Error(b.KC);if(null===c||void 0===c)throw Error(b.KC);d=this.Bh.get(a);void 0!==d?(d.push(c),this.Bh.set(a,d)):this.Bh.set(a,[c]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.KC);a=this.Bh.get(a);if(void 0!==a)return a;throw Error(b.G9);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.KC);if(!this.Bh["delete"](a))throw Error(b.G9);};a.prototype.Cka=function(a){if(null===a||void 0===a)throw Error(b.KC);return this.Bh.has(a);};a.prototype.clone=function(){var b;b=new a();this.Bh.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.Ibb=function(a){this.Bh.forEach(function(b,c){a(c,b);});};return a;}();c.Aza=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(){}a.of=function(b,c){var d;d=new a();d.nE=b;d.y2a=c;return d;};return a;}();c.reb=f;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(78);d=a(417);f=function(){function a(a){this.ob=a;}a.prototype.Y=function(){this.ob.scope=b.am.LU;return new d.bu(this.ob);};a.prototype.I0=function(){this.ob.scope=b.am.iK;return new d.bu(this.ob);};return a;}();c.qua=f;},function(f,c,a){var b,d,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(890);d=a(238);h=a(237);f=function(){function a(a){this.ob=a;this.kD=new h.jS(this.ob);this.hV=new d.OI(this.ob);this.uca=new b.qua(a);}a.prototype.Y=function(){return this.uca.Y();};a.prototype.I0=function(){return this.uca.I0();};a.prototype.GI=function(){return this.kD.GI();};a.prototype.ZB=function(a,b){return this.kD.ZB(a,b);};a.prototype.mo=function(a){return this.hV.mo(a);};return a;}();c.a7=f;},function(f,c,a){var b,d,h,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(59);d=a(78);h=a(891);k=a(417);f=function(){function a(a){this.ob=a;}a.prototype.to=function(a){this.ob.type=d.Pg.ET;this.ob.ri=a;return new h.a7(this.ob);};a.prototype.msa=function(){if("function"!==typeof this.ob.Td)throw Error(""+b.Jya);this.to(this.ob.Td);};a.prototype.th=function(a){this.ob.type=d.Pg.w7;this.ob.cache=a;this.ob.Jz=null;this.ob.ri=null;new k.bu(this.ob);};a.prototype.NB=function(a){this.ob.type=d.Pg.e8;this.ob.cache=null;this.ob.Jz=a;this.ob.ri=null;new h.a7(this.ob);};a.prototype.lsa=function(a){this.ob.type=d.Pg.x7;this.ob.ri=a;new k.bu(this.ob);};a.prototype.Yl=function(a){this.ob.type=d.Pg.TS;this.ob.Lj=a;new k.bu(this.ob);};a.prototype.cbb=function(a){this.ob.type=d.Pg.TS;this.ob.Lj=function(b){return function(){return b.kc.get(a);};};new k.bu(this.ob);};a.prototype.OB=function(a){this.ob.type=d.Pg.Raa;this.ob.gj=a;new k.bu(this.ob);};a.prototype.fbb=function(a){this.NB(function(b){return b.kc.get(a);});};return a;}();c.rua=f;},function(f,c,a){var h,k,g;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===k.$o.t7;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function d(a,b){var c;if(Reflect.vZa(g.RC,a)){c=Reflect.getMetadata(g.RC,a);try{b[c.value]();}catch(u){throw Error(h.ECa(a.name,u.message));}}}Object.defineProperty(c,"__esModule",{value:!0});h=a(59);k=a(78);g=a(40);c.c8a=function(a,c,f){var g;g=null;0<c.length?(g=c.filter(function(a){return null!==a.target&&a.target.type===k.$o.y7;}).map(f),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,c,f)):g=new a();d(a,g);return g;};},function(f,c,a){var h,k,g,m,n;function b(a){return function(c){var f,g,l,p,q;f=c.nE;g=c.rY;l=c.target&&c.target.isArray();p=!c.xq||!c.xq.target||!c.target||!c.xq.target.M1a(c.target.Td);if(l&&p)return g.map(function(c){return b(a)(c);});l=null;if(!c.target.Ela()||0!==f.length){q=f[0];f=q.scope===k.am.LU;p=q.scope===k.am.Request;if(f&&q.bX)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===k.Pg.w7)l=q.cache;else if(q.type===k.Pg.Function)l=q.cache;else if(q.type===k.Pg.x7)l=q.ri;else if(q.type===k.Pg.e8&&null!==q.Jz)l=d("toDynamicValue",q.Td,function(){return q.Jz(c.PA);});else if(q.type===k.Pg.TS&&null!==q.Lj)l=d("toFactory",q.Td,function(){return q.Lj(c.PA);});else if(q.type===k.Pg.Raa&&null!==q.gj)l=d("toProvider",q.Td,function(){return q.gj(c.PA);});else if(q.type===k.Pg.ET&&null!==q.ri)l=n.c8a(q.ri,g,b(a));else throw g=m.$z(c.Td),Error(h.Eya+" "+g);"function"===typeof q.mo&&(l=q.mo(c.PA,l));f&&(q.cache=l,q.bX=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,l);return l;}};}function d(a,b,c){try{return c();}catch(z){if(g.Nla(z))throw Error(h.Hua(a,b.toString()));throw z;}}Object.defineProperty(c,"__esModule",{value:!0});h=a(59);k=a(78);g=a(420);m=a(132);n=a(893);c.resolve=function(a){return b(a.RA.E4.U7a)(a.RA.E4);};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(99);f=function(){function a(a,c,d,f,k){this.id=b.id();this.Td=a;this.PA=c;this.xq=d;this.target=k;this.rY=[];this.nE=Array.isArray(f)?f:[f];this.U7a=null===d?new Map():null;}a.prototype.ufa=function(b,c,d){b=new a(b,this.PA,this,c,d);this.rY.push(b);return b;};return a;}();c.Request=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(a){this.St=a;}a.prototype.startsWith=function(a){return 0===this.St.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.St.split("").reverse().join("");return this.startsWith.call({St:a},b);};a.prototype.contains=function(a){return-1!==this.St.indexOf(a);};a.prototype.equals=function(a){return this.St===a;};a.prototype.value=function(){return this.St;};return a;}();c.UDa=f;},function(f,c,a){var g,m,n,q,u,t;function b(a,b,c,f){var h,l,u,v,x,w,z,A,G,H;h=a.Gja(c);l=h.bha;if(void 0===l)throw Error(m.Lza+" "+b+".");for(var h=h.vcb,p=Object.keys(h),q=0===c.length&&0<p.length?p.length:c.length,p=[],r=0;r<q;r++){v=r;x=f;w=b;z=l;u=h[v.toString()]||[];A=k(u);G=!0!==A.Uh;z=z[v];H=A.j||A.tt;z=H?H:z;z instanceof g.HT&&(z=z.acb());if(G){G=z===Function;G=z===Object||G||void 0===z;if(!x&&G)throw Error(m.Mza+" argument "+v+" in class "+w+".");v=new t.hK(n.$o.y7,A.hI,z);v.Uc=u;u=v;}else u=null;null!==u&&p.push(u);}a=d(a,c);return p.concat(a);}function d(a,b){var l,m,p;for(var c=a.oYa(b),f=[],g=0,h=Object.keys(c);g<h.length;g++){l=h[g];m=c[l];p=k(c[l]);l=new t.hK(n.$o.t7,p.hI||l,p.j||p.tt);l.Uc=m;f.push(l);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=d(a,b),f=f.concat(a));return f;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=u.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.Uc.filter(function(a){return a.key===q.eD;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function k(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{j:b[q.tC],tt:b[q.qu],hI:b[q.IJ],Uh:b[q.eD]};}Object.defineProperty(c,"__esModule",{value:!0});g=a(419);m=a(59);n=a(78);q=a(40);u=a(132);c.getFunctionName=u.getFunctionName;t=a(418);c.dXa=function(a,c){var d;d=u.getFunctionName(c);return b(a,d,c,!1);};c.CWa=h;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.eDa=function(){return function(a,b){this.PA=a;this.E4=b;};}();},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(99);f=function(){function a(a){this.id=b.id();this.kc=a;}a.prototype.VLa=function(a){this.RA=a;};return a;}();c.z7=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.iS={lhb:2,J$:0,nBa:1};},function(f,c,a){var g,m,n,q,u,t,z,w,A,x,y,C;function b(a,b,c,f,h){var l,m;l=k(c.kc,h.Td);m=[];l.length===g.iS.J$&&c.kc.options.lE&&"function"===typeof h.Td&&a.Gja(h.Td).bha&&(c.kc.bind(h.Td).msa(),l=k(c.kc,h.Td));m=b?l:l.filter(function(a){var b;b=new y.Request(a.Td,c,f,a,h);return a.Fv(b);});d(h.Td,m,h,c.kc);return m;}function d(a,b,c,d){switch(b.length){case g.iS.J$:if(c.Ela())break;a=t.$z(a);b=m.IAa;b+=t.w0a(a,c);b+=t.oma(d,a,k);throw Error(b);case g.iS.nBa:if(!c.isArray())break;default:if(!c.isArray())throw a=t.$z(a),b=m.rta+" "+a,b+=t.oma(d,a,k),Error(b);}}function h(a,c,d,f,g,k){var l;null===g?(c=b(a,c,f,null,k),l=new y.Request(d,f,null,c,k),d=new A.eDa(f,l),f.VLa(d)):(c=b(a,c,f,g,k),l=g.ufa(k.Td,c,k));c.forEach(function(b){var c,d,g;c=null;if(k.isArray())c=l.ufa(b.Td,b,k);else{if(b.cache)return;c=l;}if(b.type===n.Pg.ET&&null!==b.ri){d=x.dXa(a,b.ri);if(!f.kc.options.PH){g=x.CWa(a,b.ri);if(d.length<g)throw b=m.wta(x.getFunctionName(b.ri)),Error(b);}d.forEach(function(b){h(a,!1,b.Td,f,c,b);});}});}function k(a,b){var c,d;c=[];d=a.py;d.Cka(b)?c=d.get(b):null!==a.parent&&(c=k(a.parent,b));return c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(900);m=a(59);n=a(78);q=a(40);u=a(420);t=a(132);z=a(899);w=a(66);A=a(898);x=a(897);y=a(895);C=a(418);c.D_=function(a){return a.py;};c.RA=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new z.z7(b);c=new w.Metadata(c?q.qu:q.tC,f);d=new C.hK(d,"",f,c);void 0!==g&&(g=new w.Metadata(g,k),d.Uc.push(g));try{return h(a,l,f,b,null,d),b;}catch(V){throw u.Nla(V)&&b.RA&&t.aPa(b.RA.E4),V;}};c.jmb=function(a,b,c,d){c=new C.hK(n.$o.ZU,"",b,new w.Metadata(c,d));a=new z.z7(a);return new y.Request(b,a,null,[],c);};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(78);d=a(99);f=function(){function a(a,c){this.id=d.id();this.bX=!1;this.Td=a;this.scope=c;this.type=b.Pg.Yya;this.Fv=function(){return!0;};this.Jz=this.mo=this.gj=this.Lj=this.cache=this.ri=null;}a.prototype.clone=function(){var b;b=new a(this.Td,this.scope);b.bX=!1;b.ri=this.ri;b.Jz=this.Jz;b.scope=this.scope;b.type=this.type;b.Lj=this.Lj;b.gj=this.gj;b.Fv=this.Fv;b.mo=this.mo;b.cache=this.cache;return b;};return a;}();c.pua=f;},function(f,c,a){var b,d,h,k,g,m,n,q,u,t,z,w;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(B){g(B);}}function k(a){try{l(d["throw"](a));}catch(B){g(B);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};d=this&&this.jkb||function(a,b){var f,g,h,k,l;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,h&&(k=h[c[0]&2?"return":c[0]?"throw":"next"])&&!(k=k.call(h,c[1])).done)return k;if(h=0,k)c=[0,k.value];switch(c[0]){case 0:case 1:k=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;h=c[1];c=[0];continue;case 7:c=f.Kw.pop();f.wx.pop();continue;default:if(!(k=f.wx,k=0<k.length&&k[k.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!k||c[1]>k[0]&&c[1]<k[3]))f.label=c[1];else if(6===c[0]&&f.label<k[1])f.label=k[1],k=c;else if(k&&f.label<k[2])f.label=k[2],f.Kw.push(c);else{k[2]&&f.Kw.pop();f.wx.pop();continue;}}c=b.call(a,f);}catch(B){c=[6,B];h=0;}finally{g=k=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,ara:function(){if(k[0]&1)throw k[1];return k[1];},wx:[],Kw:[]};Ua();Ua();Za();return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this;}),l;};Object.defineProperty(c,"__esModule",{value:!0});h=a(902);k=a(59);g=a(78);a(40);m=a(421);n=a(901);q=a(894);u=a(892);t=a(99);z=a(132);a(889);w=a(888);f=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+k.Vua);if(void 0===a.Kv)a.Kv=g.am.iK;else if(a.Kv!==g.am.LU&&a.Kv!==g.am.iK&&a.Kv!==g.am.Request)throw Error(""+k.Tua);if(void 0===a.lE)a.lE=!1;else if("boolean"!==typeof a.lE)throw Error(""+k.Sua);if(void 0===a.PH)a.PH=!1;else if("boolean"!==typeof a.PH)throw Error(""+k.Uua);this.options={lE:a.lE,Kv:a.Kv,PH:a.PH};this.id=t.id();this.py=new w.Aza();this.CKa=[];this.parent=this.$V=null;this.qIa=new m.UT();}a.y2=function(b,c){var f,g;function d(a,b){a.Ibb(function(a,c){c.forEach(function(a){b.add(a.Td,a.clone());});});}f=new a();g=n.D_(f);b=n.D_(b);c=n.D_(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.uda(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.l4(f.fga,f.Asa,f.Tla,f.Mpa);}};a.prototype.kG=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,f,g,h;return d(this,function(d){switch(d.label){case 0:b=this.uda(),c=0,f=a,d.label=1;case 1:if(!(c<f.length))return[3,4];g=f[c];h=b(g.id);return[4,g.l4(h.fga,h.Asa,h.Tla,h.Mpa)];case 2:d.ara(),d.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new h.pua(a,this.options.Kv||g.am.iK);this.py.add(a,b);return new u.rua(b);};a.prototype.V6a=function(a){this.zsa(a);return this.bind(a);};a.prototype.zsa=function(a){try{this.py.remove(a);}catch(y){throw Error(k.Eua+" "+z.$z(a));}};a.prototype.vla=function(a){var b;b=this.py.Cka(a);!b&&this.parent&&(b=this.parent.vla(a));return b;};a.prototype.restore=function(){var a;a=this.CKa.pop();if(void 0===a)throw Error(k.JAa);this.py=a.nE;this.$V=a.y2a;};a.prototype.yRa=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.sda(!1,!1,g.$o.ZU,a);};a.prototype.getAll=function(a){return this.sda(!0,!0,g.$o.ZU,a);};a.prototype.resolve=function(a){var b;b=this.yRa();b.bind(a).msa();return b.get(a);};a.prototype.uda=function(){var f;function a(a){return function(b){b=f.V6a.bind(f)(b);b.ob.M2a=a;return b;};}function b(){return function(a){return f.vla.bind(f)(a);};}function c(){return function(a){f.zsa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.ob.M2a=a;return b;};}f=this;return function(f){return{fga:d(f),Tla:b(),Mpa:a(f),Asa:c()};};};a.prototype.sda=function(a,b,c,d){var f;f=null;a={rNa:a,IPa:function(a){return a;},K_a:b,key:void 0,Td:d,Fab:c,value:void 0};if(this.$V){if(f=this.$V(a),void 0===f||null===f)throw Error(k.Hya);}else f=this.JJa()(a);return f;};a.prototype.JJa=function(){var a;a=this;return function(b){var c;c=n.RA(a.qIa,a,b.K_a,b.Fab,b.Td,b.key,b.value,b.rNa);c=b.IPa(c);return q.resolve(c);};};return a;}();c.eC=f;},function(f,c,a){(function(a){var b;(function(b){var aa,V,D,S,da,X,U,fa,ba;function c(a,b,c){var d;d=ba.get(a);if(!d){if(!c)return;d=new U();ba.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new U();d.set(b,a);}return a;}function d(a,b,c){if(f(a,b,c))return!0;b=y(b);return null!==b?d(a,b,c):!1;}function f(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function h(a,b,c){if(f(a,b,c))return k(a,b,c);b=y(b);return null!==b?h(a,b,c):void 0;}function k(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function n(a,b){var c,f;c=q(a,b);a=y(a);if(null===a)return c;b=n(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new fa();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return H(a);}function q(a,b){var d;a=c(a,b,!1);d=[];a&&F(a,function(a,b){return d.push(b);});return d;}function z(a){return void 0===a;}function w(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function A(a){return"object"===typeof a?null!==a:"function"===typeof a;}function x(a){return"symbol"===typeof a?a:String(a);}function y(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===X||b!==X)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function C(a){a=a.next();return a.done?void 0:a;}function F(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=C(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function H(a){var b;b=[];F(a,function(a,c){b.push(c);});return b;}function P(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function Y(){var a;a={};return function(){function b(){this.im=[];this.Bj=[];this.CK=a;this.BK=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.im.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.WK(a,!1);};b.prototype.get=function(a){a=this.WK(a,!1);return 0<=a?this.Bj[a]:void 0;};b.prototype.set=function(a,b){a=this.WK(a,!0);this.Bj[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.WK(b,!1);if(0<=c){b=this.im.length;for(c+=1;c<b;c++)this.im[c-1]=this.im[c],this.Bj[c-1]=this.Bj[c];this.im.length--;this.Bj.length--;this.CK=a;this.BK=-2;return!0;}return!1;};b.prototype.clear=function(){this.im.length=0;this.Bj.length=0;this.CK=a;this.BK=-2;};b.prototype.keys=function(){return P(this.im,void 0,"key");};b.prototype.values=function(){return P(void 0,this.Bj,"value");};b.prototype.entries=function(){return P(this.im,this.Bj,"key+value");};b.prototype.WK=function(a,b){var c;if(this.CK===a)return this.BK;c=this.im.indexOf(a);0>c&&b&&(c=this.im.length,this.im.push(a),this.Bj.push(void 0));return this.CK=a,this.BK=c;};return b;}();}function Z(){return function(){function a(){this.Bh=new U();}Object.defineProperty(a.prototype,"size",{get:function(){return this.Bh.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.Bh.has(a);};a.prototype.add=function(a){return this.Bh.set(a,a),this;};a.prototype["delete"]=function(a){return this.Bh["delete"](a);};a.prototype.clear=function(){this.Bh.clear();};a.prototype.keys=function(){return this.Bh.keys();};a.prototype.values=function(){return this.Bh.values();};a.prototype.entries=function(){return this.Bh.entries();};return a;}();}function O(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(da.has(d,b));d[b]=!0;return b;}function c(a,b){if(!aa.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:S()});}return a[f];}d=S();f=b();return function(){function a(){this.Ru=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?da.has(a,this.Ru):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?da.get(a,this.Ru):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.Ru]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.Ru]:!1;};a.prototype.clear=function(){this.Ru=b();};return a;}();}function B(a){a.hkb=1;delete a.ikb;return a;}aa=Object.prototype.hasOwnProperty;V="function"===typeof Object.create;D=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();S=V?function(){return B(Object.create(null));}:D?function(){return B({__proto__:null});}:function(){return B({});};(function(a){var b;b=!V&&!D;a.has=b?function(a,b){return aa.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return aa.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(da||(da={})));X=Object.getPrototypeOf(Function);U="function"===typeof Map?Map:Y();fa="function"===typeof Set?Set:Z();ba=new("function"===typeof WeakMap?WeakMap:(O()))();b.Fs=function(a,b,c,d){var g;if(z(d)){if(z(c)){if(!w(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!z(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!w(a))throw new TypeError();if(!A(b))throw new TypeError();c=x(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!w(a))throw new TypeError();if(!A(b))throw new TypeError();if(z(c))throw new TypeError();if(!A(d))throw new TypeError();c=x(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!z(g)){if(!A(g))throw new TypeError();d=g;}}return d;}};b.Uc=function(a,b){return function(d,f){if(z(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!A(d))throw new TypeError();f=x(f);c(d,f,!0).set(a,b);}};};b.yZ=function(a,b,d){var f;if(!A(d))throw new TypeError();z(f)||(f=x(f));c(d,f,!0).set(a,b);};b.vZa=function(a,b){var c;if(!A(b))throw new TypeError();z(c)||(c=x(c));return d(a,b,c);};b.m0=function(a,b){var c;if(!A(b))throw new TypeError();z(c)||(c=x(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!A(b))throw new TypeError();z(c)||(c=x(c));return h(a,b,c);};b.aob=function(a,b,c){if(!A(b))throw new TypeError();z(c)||(c=x(c));return k(a,b,c);};b.Ynb=function(a,b){if(!A(a))throw new TypeError();z(b)||(b=x(b));return n(a,b);};b.bob=function(a,b){if(!A(a))throw new TypeError();z(b)||(b=x(b));return q(a,b);};b.Jmb=function(a,b,d){var f;if(!A(b))throw new TypeError();z(d)||(d=x(d));f=c(b,d,!1);if(z(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ba.get(b);a["delete"](d);if(0<a.size)return!0;ba["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)aa.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof t?t:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(162)));},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(904);t._cad_global={};t.DEBUG=!1;a(6);a(5);a(15);a(19);a(36);a(25);a(80);a(307);a(196);a(32);a(17);a(8);a(91);a(57);a(60);a(550);a(306);a(305);a(103);a(549);a(138);a(51);a(18);a(548);a(547);a(195);a(546);a(304);a(545);a(194);a(193);a(303);a(302);a(301);a(300);a(299);a(298);a(192);a(297);a(296);a(295);a(293);a(120);a(136);a(544);a(543);a(4);a(292);a(542);a(90);a(28);a(541);a(291);a(191);a(122);a(330);a(329);a(143);a(540);a(190);a(331);a(290);a(539);a(89);a(189);a(102);a(538);a(535);a(288);a(187);a(184);a(92);a(119);a(183);a(285);a(182);a(247);a(255);a(134);a(246);a(141);a(135);a(281);a(118);a(284);a(450);a(282);a(87);a(449);a(448);a(447);a(446);a(445);a(244);a(248);a(16);a(242);a(444);a(245);a(251);a(254);a(73);a(443);a(283);a(186);a(253);a(249);a(442);a(250);a(252);a(185);a(441);a(243);a(188);a(440);a(439);a(289);a(286);a(165);a(241);a(115);a(438);a(437);a(436);a(435);a(434);a(427);a(424);a(81);a(167);},function(f,c,a){f.P=a(905);}]));}(window));